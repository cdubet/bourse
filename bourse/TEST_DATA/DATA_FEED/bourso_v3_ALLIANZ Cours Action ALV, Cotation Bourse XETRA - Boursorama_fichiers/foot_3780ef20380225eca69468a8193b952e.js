!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Tether=e()}(this,function(){"use strict";var e=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var M=void 0;void 0===M&&(M={modules:[]});var i=null;function o(t){var e=t.getBoundingClientRect(),i={};for(var n in e)i[n]=e[n];if(t.ownerDocument!==document){var a=t.ownerDocument.defaultView.frameElement;if(a){var s=o(a);i.top+=s.top,i.bottom+=s.top,i.left+=s.left,i.right+=s.left}}return i}function r(t){var e=(getComputedStyle(t)||{}).position,i=[];if("fixed"===e)return[t];for(var n=t;(n=n.parentNode)&&n&&1===n.nodeType;){var a=void 0;try{a=getComputedStyle(n)}catch(t){}if(null==a)return i.push(n),i;var s=a,o=s.overflow,r=s.overflowX,l=s.overflowY;/(auto|scroll|overlay)/.test(o+l+r)&&("absolute"!==e||0<=["relative","absolute","fixed"].indexOf(a.position))&&i.push(n)}return i.push(t.ownerDocument.body),t.ownerDocument!==document&&i.push(t.ownerDocument.defaultView),i}var t,a=(t=0,function(){return++t}),s={},l=function(){var t=i;t&&document.body.contains(t)||((t=document.createElement("div")).setAttribute("data-tether-id",a()),P(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),i=t);var e=t.getAttribute("data-tether-id");return void 0===s[e]&&(s[e]=o(t),_(function(){delete s[e]})),s[e]};function h(){i&&document.body.removeChild(i),i=null}function A(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var i=e.documentElement,n=o(t),a=l();return n.top-=a.top,n.left-=a.left,void 0===n.width&&(n.width=document.body.scrollWidth-n.left-n.right),void 0===n.height&&(n.height=document.body.scrollHeight-n.top-n.bottom),n.top=n.top-i.clientTop,n.left=n.left-i.clientLeft,n.right=e.body.clientWidth-n.width-n.left,n.bottom=e.body.clientHeight-n.height-n.top,n}function k(t){return t.offsetParent||document.documentElement}var c=null;function D(){if(c)return c;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");P(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;i===n&&(n=e.clientWidth),document.body.removeChild(e);var a=i-n;return c={width:a,height:a}}function P(){var i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var e in t)({}).hasOwnProperty.call(t,e)&&(i[e]=t[e])}),i}function d(e,t){if(void 0!==e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var i=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),n=f(e).replace(i," ");m(e,n)}}function u(e,t){if(void 0!==e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{d(e,t);var i=f(e)+" "+t;m(e,i)}}function p(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=f(t);return new RegExp("(^| )"+e+"( |$)","gi").test(i)}function f(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function m(t,e){t.setAttribute("class",e)}function E(e,i,t){t.forEach(function(t){-1===i.indexOf(t)&&p(e,t)&&d(e,t)}),i.forEach(function(t){p(e,t)||u(e,t)})}var g=[],_=function(t){g.push(t)},N=function(){for(var t=void 0;t=g.pop();)t()},v=function(){function t(){n(this,t)}return e(t,[{key:"on",value:function(t,e,i){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:i,once:n})}},{key:"once",value:function(t,e,i){this.on(t,e,i,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var i=0;i<this.bindings[t].length;)this.bindings[t][i].handler===e?this.bindings[t].splice(i,1):++i}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,i=arguments.length,n=Array(1<i?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];for(;e<this.bindings[t].length;){var s=this.bindings[t][e],o=s.handler,r=s.ctx,l=s.once,h=r;void 0===h&&(h=this),o.apply(h,n),l?this.bindings[t].splice(e,1):++e}}}}]),t}();M.Utils={getActualBoundingClientRect:o,getScrollParents:r,getBounds:A,getOffsetParent:k,extend:P,addClass:u,removeClass:d,hasClass:p,updateClasses:E,defer:_,flush:N,uniqueId:a,Evented:v,getScrollBarSize:D,removeUtilElements:h};var L=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,a=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){a=!0,s=t}finally{try{!n&&r.return&&r.return()}finally{if(a)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};e=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}if(void 0===M)throw new Error("You must include the utils.js file before tether.js");var r=(X=M.Utils).getScrollParents,k=(A=X.getBounds,X.getOffsetParent),u=(P=X.extend,X.addClass),d=X.removeClass,D=(E=X.updateClasses,_=X.defer,N=X.flush,X.getScrollBarSize),h=X.removeUtilElements;function b(t,e){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e<=t+i&&t-i<=e}var y,x,w,T,C=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],i=0;i<e.length;++i){var n=e[i];if(void 0!==t.style[n])return n}}(),S=[],O=function(){S.forEach(function(t){t.position(!1)}),N()};function I(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():+new Date}w=x=y=null,T=function t(){if(void 0!==x&&16<x)return x=Math.min(x-16,250),void(w=setTimeout(t,250));void 0!==y&&I()-y<10||(null!=w&&(clearTimeout(w),w=null),y=I(),O(),x=I()-y)},"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,T)});var B={center:"center",left:"right",right:"left"},R={middle:"middle",top:"bottom",bottom:"top"},H={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},$=function(t){var e=t.left,i=t.top;return void 0!==H[t.left]&&(e=H[t.left]),void 0!==H[t.top]&&(i=H[t.top]),{left:e,top:i}};function V(){for(var n={top:0,left:0},t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.forEach(function(t){var e=t.top,i=t.left;"string"==typeof e&&(e=parseFloat(e,10)),"string"==typeof i&&(i=parseFloat(i,10)),n.top+=e,n.left+=i}),n}function G(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}var F=function(t){var e=t.split(" "),i=L(e,2);return{top:i[0],left:i[1]}},Y=F,W=function(t){function i(t){var e=this;n(this,i),function(t,e,i){for(var n=!0;n;){var a=t,s=e,o=i;n=!1,null===a&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,s);if(void 0!==r){if("value"in r)return r.value;var l=r.get;if(void 0===l)return;return l.call(o)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=s,i=o,n=!0,r=h=void 0}}(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.position=this.position.bind(this),S.push(this),this.history=[],this.setOptions(t,!1),M.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(e)}),this.position()}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,v),e(i,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,i=arguments.length<=1||void 0===arguments[1]||arguments[1];this.options=P({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},t);var n=this.options,a=n.element,s=n.target,o=n.targetModifier;if(this.element=a,this.target=s,this.targetModifier=o,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),u(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&u(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=Y(this.options.targetAttachment),this.attachment=Y(this.options.attachment),this.offset=F(this.options.offset),this.targetOffset=F(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=r(this.target),!1!==this.options.enabled&&this.enable(i)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return A(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((s={height:(t=A(this.target)).height,width:t.width,top:t.top,left:t.left}).height=Math.min(s.height,t.height-(pageYOffset-t.top)),s.height=Math.min(s.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),s.height=Math.min(innerHeight,s.height),s.height-=2,s.width=Math.min(s.width,t.width-(pageXOffset-t.left)),s.width=Math.min(s.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),s.width=Math.min(innerWidth,s.width),s.width-=2,s.top<pageYOffset&&(s.top=pageYOffset),s.left<pageXOffset&&(s.left=pageXOffset),s);if("scroll-handle"===this.targetModifier){var t=void 0,e=this.target;e===document.body?(e=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=A(e);var i=getComputedStyle(e),n=0;(e.scrollWidth>e.clientWidth||0<=[i.overflow,i.overflowX].indexOf("scroll")||this.target!==document.body)&&(n=15);var a=t.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-n,s={width:15,height:.975*a*(a/e.scrollHeight),left:t.left+t.width-parseFloat(i.borderLeftWidth)-15},o=0;a<408&&this.target===document.body&&(o=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(s.height=Math.max(s.height,24));var r=this.target.scrollTop/(e.scrollHeight-a);return s.top=r*(a-s.height-o)+t.top+parseFloat(i.borderTopWidth),this.target===document.body&&(s.height=Math.max(s.height,24)),s}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&u(this.target,this.getClass("enabled")),u(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var i=this;this.disable(),S.forEach(function(t,e){t===i&&S.splice(e,1)}),0===S.length&&h()}},{key:"updateAttachClasses",value:function(t,e){var i=this;t=t||this.attachment,e=e||this.targetAttachment;void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var n=this._addAttachClasses;t.top&&n.push(this.getClass("element-attached")+"-"+t.top),t.left&&n.push(this.getClass("element-attached")+"-"+t.left),e.top&&n.push(this.getClass("target-attached")+"-"+e.top),e.left&&n.push(this.getClass("target-attached")+"-"+e.left);var a=[];["left","top","bottom","right","middle","center"].forEach(function(t){a.push(i.getClass("element-attached")+"-"+t),a.push(i.getClass("target-attached")+"-"+t)}),_(function(){void 0!==i._addAttachClasses&&(E(i.element,i._addAttachClasses,a),!1!==i.options.addTargetClasses&&E(i.target,i._addAttachClasses,a),delete i._addAttachClasses)})}},{key:"position",value:function(){var r=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var e,i,n,a,s=(e=this.targetAttachment,i=this.attachment,n=e.left,a=e.top,"auto"===n&&(n=B[i.left]),"auto"===a&&(a=R[i.top]),{left:n,top:a});this.updateAttachClasses(this.attachment,s);var o=this.cache("element-bounds",function(){return A(r.element)}),l=o.width,h=o.height;if(0===l&&0===h&&void 0!==this.lastSize){var c=this.lastSize;l=c.width,h=c.height}else this.lastSize={width:l,height:h};var d=this.cache("target-bounds",function(){return r.getTargetBounds()}),u=d,p=G($(this.attachment),{width:l,height:h}),f=G($(s),u),m=G(this.offset,{width:l,height:h}),g=G(this.targetOffset,u);p=V(p,m),f=V(f,g);for(var v=d.left+f.left-p.left,b=d.top+f.top-p.top,y=0;y<M.modules.length;++y){var x=M.modules[y].position.call(this,{left:v,top:b,targetAttachment:s,targetPos:d,elementPos:o,offset:p,targetOffset:f,manualOffset:m,manualTargetOffset:g,scrollbarSize:S,attachment:this.attachment});if(!1===x)return!1;void 0!==x&&"object"==typeof x&&(b=x.top,v=x.left)}var w={page:{top:b,left:v},viewport:{top:b-pageYOffset,bottom:pageYOffset-b-h+innerHeight,left:v-pageXOffset,right:pageXOffset-v-l+innerWidth}},T=this.target.ownerDocument,C=T.defaultView,S=void 0;return C.innerHeight>T.documentElement.clientHeight&&(S=this.cache("scrollbar-size",D),w.viewport.bottom-=S.height),C.innerWidth>T.documentElement.clientWidth&&(S=this.cache("scrollbar-size",D),w.viewport.right-=S.width),-1!==["","static"].indexOf(T.body.style.position)&&-1!==["","static"].indexOf(T.body.parentElement.style.position)||(w.page.bottom=T.body.scrollHeight-b-h,w.page.right=T.body.scrollWidth-v-l),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var t=r.cache("target-offsetparent",function(){return k(r.target)}),e=r.cache("target-offsetparent-bounds",function(){return A(t)}),i=getComputedStyle(t),n=e,a={};if(["Top","Left","Bottom","Right"].forEach(function(t){a[t.toLowerCase()]=parseFloat(i["border"+t+"Width"])}),e.right=T.body.scrollWidth-e.left-n.width+a.right,e.bottom=T.body.scrollHeight-e.top-n.height+a.bottom,w.page.top>=e.top+a.top&&w.page.bottom>=e.bottom&&w.page.left>=e.left+a.left&&w.page.right>=e.right){var s=t.scrollTop,o=t.scrollLeft;w.offset={top:w.page.top-e.top+s-a.top,left:w.page.left-e.left+o-a.left}}}(),this.move(w),this.history.unshift(w),3<this.history.length&&this.history.pop(),t&&N(),!0}}},{key:"move",value:function(e){var a=this;if(void 0!==this.element.parentNode){var i={};for(var t in e)for(var n in i[t]={},e[t]){for(var s=!1,o=0;o<this.history.length;++o){var r=this.history[o];if(void 0!==r[t]&&!b(r[t][n],e[t][n])){s=!0;break}}s||(i[t][n]=!0)}var l={top:"",left:"",right:"",bottom:""},h=function(t,e){if(!1!==(void 0!==a.options.optimizations?a.options.optimizations.gpu:null)){var i=void 0,n=void 0;if(t.top?(l.top=0,i=e.top):(l.bottom=0,i=-e.bottom),t.left?(l.left=0,n=e.left):(l.right=0,n=-e.right),window.matchMedia)window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(n=Math.round(n),i=Math.round(i));l[C]="translateX("+n+"px) translateY("+i+"px)","msTransform"!==C&&(l[C]+=" translateZ(0)")}else t.top?l.top=e.top+"px":l.bottom=e.bottom+"px",t.left?l.left=e.left+"px":l.right=e.right+"px"},c=!1;if((i.page.top||i.page.bottom)&&(i.page.left||i.page.right)?(l.position="absolute",h(i.page,e.page)):(i.viewport.top||i.viewport.bottom)&&(i.viewport.left||i.viewport.right)?(l.position="fixed",h(i.viewport,e.viewport)):void 0!==i.offset&&i.offset.top&&i.offset.left?function(){l.position="absolute";var t=a.cache("target-offsetparent",function(){return k(a.target)});k(a.element)!==t&&_(function(){a.element.parentNode.removeChild(a.element),t.appendChild(a.element)}),h(i.offset,e.offset),c=!0}():(l.position="absolute",h({top:!0,left:!0},e.page)),!c)if(this.options.bodyElement)this.element.parentNode!==this.options.bodyElement&&this.options.bodyElement.appendChild(this.element);else{for(var d=!0,u=this.element.parentNode;u&&1===u.nodeType&&"BODY"!==u.tagName;){if("static"!==getComputedStyle(u).position){d=!1;break}u=u.parentNode}d||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var p={},f=!1;for(var n in l){var m=l[n];this.element.style[n]!==m&&(f=!0,p[n]=m)}f&&_(function(){P(a.element.style,p),a.trigger("repositioned")})}}}]),i}();W.modules=[],M.position=O;var j=P(W,M),P=(L=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,a=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){a=!0,s=t}finally{try{!n&&r.return&&r.return()}finally{if(a)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=(X=M.Utils).getBounds,X.extend),z=(E=X.updateClasses,_=X.defer,["left","top","right","bottom"]);M.modules.push({position:function(t){var m=this,g=t.top,v=t.left,b=t.targetAttachment;if(!this.options.constraints)return!0;var e=this.cache("element-bounds",function(){return A(m.element)}),y=e.height,x=e.width;if(0===x&&0===y&&void 0!==this.lastSize){var i=this.lastSize;x=i.width,y=i.height}var n=this.cache("target-bounds",function(){return m.getTargetBounds()}),w=n.height,T=n.width,a=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,i=t.pinnedClass;e&&a.push(e),i&&a.push(i)}),a.forEach(function(e){["left","top","right","bottom"].forEach(function(t){a.push(e+"-"+t)})});var C=[],S=P({},b),M=P({},this.attachment);return this.options.constraints.forEach(function(t){var e=t.to,i=t.attachment,n=t.pin;void 0===i&&(i="");var a=void 0,s=void 0;if(0<=i.indexOf(" ")){var o=i.split(" "),r=L(o,2);s=r[0],a=r[1]}else a=s=i;var l,h,c=(l=m,"scrollParent"===(h=e)?h=l.scrollParents[0]:"window"===h&&(h=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),h===document&&(h=h.documentElement),void 0!==h.nodeType&&function(){var t=h,e=A(h),i=e,n=getComputedStyle(h);if(h=[i.left,i.top,e.width+i.left,e.height+i.top],t.ownerDocument!==document){var a=t.ownerDocument.defaultView;h[0]+=a.pageXOffset,h[1]+=a.pageYOffset,h[2]+=a.pageXOffset,h[3]+=a.pageYOffset}z.forEach(function(t,e){"Top"===(t=t[0].toUpperCase()+t.substr(1))||"Left"===t?h[e]+=parseFloat(n["border"+t+"Width"]):h[e]-=parseFloat(n["border"+t+"Width"])})}(),h);"target"!==s&&"both"!==s||(g<c[1]&&"top"===S.top&&(g+=w,S.top="bottom"),g+y>c[3]&&"bottom"===S.top&&(g-=w,S.top="top")),"together"===s&&("top"===S.top&&("bottom"===M.top&&g<c[1]?(g+=w,S.top="bottom",g+=y,M.top="top"):"top"===M.top&&g+y>c[3]&&g-(y-w)>=c[1]&&(g-=y-w,S.top="bottom",M.top="bottom")),"bottom"===S.top&&("top"===M.top&&g+y>c[3]?(g-=w,S.top="top",g-=y,M.top="bottom"):"bottom"===M.top&&g<c[1]&&g+(2*y-w)<=c[3]&&(g+=y-w,S.top="top",M.top="top")),"middle"===S.top&&(g+y>c[3]&&"top"===M.top?(g-=y,M.top="bottom"):g<c[1]&&"bottom"===M.top&&(g+=y,M.top="top"))),"target"!==a&&"both"!==a||(v<c[0]&&"left"===S.left&&(v+=T,S.left="right"),v+x>c[2]&&"right"===S.left&&(v-=T,S.left="left")),"together"===a&&(v<c[0]&&"left"===S.left?"right"===M.left?(v+=T,S.left="right",v+=x,M.left="left"):"left"===M.left&&(v+=T,S.left="right",v-=x,M.left="right"):v+x>c[2]&&"right"===S.left?"left"===M.left?(v-=T,S.left="left",v-=x,M.left="right"):"right"===M.left&&(v-=T,S.left="left",v+=x,M.left="left"):"center"===S.left&&(v+x>c[2]&&"left"===M.left?(v-=x,M.left="right"):v<c[0]&&"right"===M.left&&(v+=x,M.left="left"))),"element"!==s&&"both"!==s||(g<c[1]&&"bottom"===M.top&&(g+=y,M.top="top"),g+y>c[3]&&"top"===M.top&&(g-=y,M.top="bottom")),"element"!==a&&"both"!==a||(v<c[0]&&("right"===M.left?(v+=x,M.left="left"):"center"===M.left&&(v+=x/2,M.left="left")),v+x>c[2]&&("left"===M.left?(v-=x,M.left="right"):"center"===M.left&&(v-=x/2,M.left="right"))),"string"==typeof n?n=n.split(",").map(function(t){return t.trim()}):!0===n&&(n=["top","left","right","bottom"]),n=n||[];var d,u,p=[],f=[];g<c[1]&&(0<=n.indexOf("top")?(g=c[1],p.push("top")):f.push("top")),g+y>c[3]&&(0<=n.indexOf("bottom")?(g=c[3]-y,p.push("bottom")):f.push("bottom")),v<c[0]&&(0<=n.indexOf("left")?(v=c[0],p.push("left")):f.push("left")),v+x>c[2]&&(0<=n.indexOf("right")?(v=c[2]-x,p.push("right")):f.push("right")),p.length&&(d=(d=void 0)!==m.options.pinnedClass?m.options.pinnedClass:m.getClass("pinned"),C.push(d),p.forEach(function(t){C.push(d+"-"+t)})),f.length&&(u=(u=void 0)!==m.options.outOfBoundsClass?m.options.outOfBoundsClass:m.getClass("out-of-bounds"),C.push(u),f.forEach(function(t){C.push(u+"-"+t)})),(0<=p.indexOf("left")||0<=p.indexOf("right"))&&(M.left=S.left=!1),(0<=p.indexOf("top")||0<=p.indexOf("bottom"))&&(M.top=S.top=!1),S.top===b.top&&S.left===b.left&&M.top===m.attachment.top&&M.left===m.attachment.left||(m.updateAttachClasses(M,S),m.trigger("update",{attachment:M,targetAttachment:S}))}),_(function(){!1!==m.options.addTargetClasses&&E(m.target,C,a),E(m.element,C,a)}),{top:g,left:v}}});var X,A=(X=M.Utils).getBounds,E=X.updateClasses;_=X.defer;M.modules.push({position:function(t){var e=this,i=t.top,n=t.left,a=this.cache("element-bounds",function(){return A(e.element)}),s=a.height,o=a.width,r=this.getTargetBounds(),l=i+s,h=n+o,c=[];i<=r.bottom&&l>=r.top&&["left","right"].forEach(function(t){var e=r[t];e!==n&&e!==h||c.push(t)}),n<=r.right&&h>=r.left&&["top","bottom"].forEach(function(t){var e=r[t];e!==i&&e!==l||c.push(t)});var d=[],u=[];return d.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(t){d.push(e.getClass("abutted")+"-"+t)}),c.length&&u.push(this.getClass("abutted")),c.forEach(function(t){u.push(e.getClass("abutted")+"-"+t)}),_(function(){!1!==e.options.addTargetClasses&&E(e.target,u,d),E(e.element,u,d)}),!0}});L=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,a=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){a=!0,s=t}finally{try{!n&&r.return&&r.return()}finally{if(a)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};return M.modules.push({position:function(t){var e=t.top,i=t.left;if(this.options.shift){var n=this.options.shift;"function"==typeof this.options.shift&&(n=this.options.shift.call(this,{top:e,left:i}));var a=void 0,s=void 0;if("string"==typeof n){(n=n.split(" "))[1]=n[1]||n[0];var o=L(n,2);a=o[0],s=o[1],a=parseFloat(a,10),s=parseFloat(s,10)}else a=n.top,s=n.left;return{top:e+=a,left:i+=s}}}}),j}),function(t,e){"function"==typeof define&&define.amd?define(["tether"],e):"object"==typeof exports?module.exports=e(require("tether")):t.Shepherd=e(t.Tether)}(this,function(n){"use strict";var a=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),s=function(t,e,i){for(var n=!0;n;){var a=t,s=e,o=i;n=!1,null===a&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,s);if(void 0!==r){if("value"in r)return r.value;var l=r.get;if(void 0===l)return;return l.call(o)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=s,i=o,n=!0,r=h=void 0}};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var t=n.Utils,l=t.Evented,h=t.addClass,c=t.extend,e=t.hasClass,d=t.removeClass,u=t.uniqueId,p=new l;function f(t){return void 0===t}function m(t){return"object"==typeof t}var g={"top right":"bottom left","top left":"bottom right","top center":"bottom center","middle right":"middle left","middle left":"middle right","middle center":"middle center","bottom left":"top right","bottom right":"top left","bottom center":"top center",top:"bottom center",left:"middle right",right:"middle left",bottom:"top center",center:"middle center",middle:"middle center"};function v(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}var b=/^(.+) (top|left|right|bottom|center|\[[a-z ]+\])$/;var i=function(t){function i(t,e){return o(this,i),s(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,t,e),this.tour=t,this.bindMethods(),this.setOptions(e),this}return r(i,l),a(i,[{key:"bindMethods",value:function(){var e=this;["_show","show","hide","isOpen","cancel","complete","scrollTo","destroy","render"].map(function(t){e[t]=e[t].bind(e)})}},{key:"setOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t,this.destroy(),this.id=this.options.id||this.id||"step-"+u();var e=this.options.when;if(e)for(var i in e)if({}.hasOwnProperty.call(e,i)){var n=e[i];this.on(i,n,this)}var a,s,o=JSON.stringify(this.options.buttons),r=f(o)||"true"===o,l="{}"===o||"[]"===o||"null"===o||"false"===o,h=!r&&((a=this.options.buttons)&&a.constructor===Array),c=!r&&((s=this.options.buttons)&&s.constructor===Object);r?this.options.buttons=[{text:"Next",action:this.tour.next,classes:"btn"}]:!l&&c?this.options.buttons=[this.options.buttons]:!l&&h||(this.options.buttons=!1)}},{key:"getTour",value:function(){return this.tour}},{key:"bindAdvance",value:function(){var a=this,t=function(t,e){if(null===t||f(t))return t;if(m(t))return t;for(var i=t.split(" "),n={},a=e.length-1,s=i.length-1;0<=s;s--){if(0===a){n[e[a]]=i.slice(0,s+1).join(" ");break}n[e[a]]=i[s],a--}return n}(this.options.advanceOn,["selector","event"]),e=t.event,s=t.selector,i=function(t){var e,i,n;a.isOpen()&&(f(s)?a.el&&t.target===a.el&&a.tour.next():(e=t.target,i=s,n=void 0,f(e.matches)?f(e.matchesSelector)?f(e.msMatchesSelector)?f(e.webkitMatchesSelector)?f(e.mozMatchesSelector)?f(e.oMatchesSelector)||(n=e.oMatchesSelector):n=e.mozMatchesSelector:n=e.webkitMatchesSelector:n=e.msMatchesSelector:n=e.matchesSelector:n=e.matches,n.call(e,i)&&a.tour.next()))};document.body.addEventListener(e,i),this.on("destroy",function(){return document.body.removeEventListener(e,i)})}},{key:"getAttachTo",value:function(){var t=function(t){if(m(t))return t.hasOwnProperty("element")&&t.hasOwnProperty("on")?t:null;var e=b.exec(t);if(!e)return null;var i=e[2];return"["===i[0]&&(i=i.substring(1,i.length-1)),{element:e[1],on:i}}(this.options.attachTo)||{},e=c({},t);return"string"==typeof t.element&&(e.element=document.querySelector(t.element),e.element||console.error("The element for this Shepherd step was not found "+t.element)),e}},{key:"setupTether",value:function(){if(f(n))throw new Error("Using the attachment feature of Shepherd requires the Tether library");var t=this.getAttachTo(),e=g[t.on]||g.right;f(t.element)&&(t.element="viewport",e="middle center");var i={classPrefix:"shepherd",element:this.el,constraints:[{to:"window",pin:!0,attachment:"together"}],target:t.element,offset:t.offset||"0 0",attachment:e};this.tether&&this.tether.destroy(),this.tether=new n(c(i,this.options.tetherOptions))}},{key:"show",value:function(){var t=this;if(!f(this.options.beforeShowPromise)){var e=this.options.beforeShowPromise();if(!f(e))return e.then(function(){return t._show()})}this._show()}},{key:"_show",value:function(){var t=this;this.trigger("before-show"),this.el||this.render(),h(this.el,"shepherd-open"),document.body.setAttribute("data-shepherd-step",this.id),this.setupTether(),this.options.scrollTo&&setTimeout(function(){t.scrollTo()}),this.trigger("show")}},{key:"hide",value:function(){this.trigger("before-hide"),d(this.el,"shepherd-open"),document.body.removeAttribute("data-shepherd-step"),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("hide")}},{key:"isOpen",value:function(){return this.el&&e(this.el,"shepherd-open")}},{key:"cancel",value:function(){this.tour.cancel(),this.trigger("cancel")}},{key:"complete",value:function(){this.tour.complete(),this.trigger("complete")}},{key:"scrollTo",value:function(){var t=this.getAttachTo().element;f(this.options.scrollToHandler)?f(t)||t.scrollIntoView():this.options.scrollToHandler(t)}},{key:"destroy",value:function(){!f(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),delete this.el),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("destroy")}},{key:"render",value:function(){var i=this;f(this.el)||this.destroy(),this.el=v("<div class='shepherd-step "+(this.options.classes||"")+"' data-id='"+this.id+"' "+(this.options.idAttribute?'id="'+this.options.idAttribute+'"':"")+"></div>");var t=document.createElement("div");t.className="shepherd-content",this.el.appendChild(t);var e,n,a,s,o=document.createElement("header");if(t.appendChild(o),this.options.title&&(o.innerHTML+="<h3 class='shepherd-title'>"+this.options.title+"</h3>",this.el.className+=" shepherd-has-title"),this.options.showCancelLink){var r=v("<a href class='shepherd-cancel-link'>✕</a>");o.appendChild(r),this.el.className+=" shepherd-has-cancel-link",this.bindCancelLink(r)}f(this.options.text)||(e=v("<div class='shepherd-text'></div>"),"function"==typeof(n=i.options.text)&&(n=n.call(i,e)),n instanceof HTMLElement?e.appendChild(n):("string"==typeof n&&(n=[n]),n.map(function(t){e.innerHTML+="<p>"+t+"</p>"})),t.appendChild(e)),this.options.buttons&&(a=document.createElement("footer"),s=v("<ul class='shepherd-buttons'></ul>"),i.options.buttons.map(function(t){var e=v("<li><a class='shepherd-button "+(t.classes||"")+"'>"+t.text+"</a>");s.appendChild(e),i.bindButtonEvents(t,e.querySelector("a"))}),a.appendChild(s),t.appendChild(a)),document.body.appendChild(this.el),this.setupTether(),this.options.advanceOn&&this.bindAdvance()}},{key:"bindCancelLink",value:function(t){var e=this;t.addEventListener("click",function(t){t.preventDefault(),e.cancel()})}},{key:"bindButtonEvents",value:function(i,n){var e=this;for(var t in i.events=i.events||{},f(i.action)||(i.events.click=i.action),i.events)if({}.hasOwnProperty.call(i.events,t)){var a=i.events[t];"string"==typeof a&&function(){var t=a;a=function(){return e.tour.show(t)}}(),n.addEventListener(t,a)}this.on("destroy",function(){for(var t in i.events)if({}.hasOwnProperty.call(i.events,t)){var e=i.events[t];n.removeEventListener(t,e)}})}}]),i}(),y=function(t){function e(){var i=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.bindMethods(),this.options=t,this.steps=this.options.steps||[];return["complete","cancel","hide","start","show","active","inactive"].map(function(t){var e;e=t,i.on(e,function(t){(t=t||{}).tour=i,p.trigger(e,t)})}),this}return r(e,l),a(e,[{key:"bindMethods",value:function(){var e=this;["next","back","cancel","complete","hide"].map(function(t){e[t]=e[t].bind(e)})}},{key:"addStep",value:function(t,e){return f(e)&&(e=t),e instanceof i?e.tour=this:("string"!=typeof t&&"number"!=typeof t||(e.id=t.toString()),e=c({},this.options.defaults,e),e=new i(this,e)),this.steps.push(e),this}},{key:"removeStep",value:function(t){for(var e=this.getCurrentStep(),i=0;i<this.steps.length;++i){var n=this.steps[i];if(n.id===t){n.isOpen()&&n.hide(),n.destroy(),this.steps.splice(i,1);break}}e&&e.id===t&&(this.currentStep=void 0,this.steps.length?this.show(0):this.hide())}},{key:"getById",value:function(t){for(var e=0;e<this.steps.length;++e){var i=this.steps[e];if(i.id===t)return i}}},{key:"getCurrentStep",value:function(){return this.currentStep}},{key:"next",value:function(){var t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?(this.hide(t),this.trigger("complete"),this.done()):this.show(t+1,!0)}},{key:"back",value:function(){var t=this.steps.indexOf(this.currentStep);this.show(t-1,!1)}},{key:"cancel",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("cancel"),this.done()}},{key:"complete",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("complete"),this.done()}},{key:"hide",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("hide"),this.done()}},{key:"done",value:function(){p.activeTour=null,d(document.body,"shepherd-active"),this.trigger("inactive",{tour:this})}},{key:"show",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]||arguments[1];this.currentStep?this.currentStep.hide():(h(document.body,"shepherd-active"),this.trigger("active",{tour:this})),p.activeTour=this;var i=void 0;if(i="string"==typeof t?this.getById(t):this.steps[t])if(f(i.options.showOn)||i.options.showOn())this.trigger("show",{step:i,previous:this.currentStep}),this.currentStep&&this.currentStep.hide(),(this.currentStep=i).show();else{var n=this.steps.indexOf(i),a=e?n+1:n-1;this.show(a,e)}}},{key:"start",value:function(){this.trigger("start"),this.currentStep=null,this.next()}}]),e}();return c(p,{Tour:y,Step:i,Evented:l}),p}),Date.now||(Date.now=function(){return(new Date).getTime()}),function(){"use strict";for(var t=["webkit","moz"],e=0;e<t.length&&!window.requestAnimationFrame;++e){var i=t[e];window.requestAnimationFrame=window[i+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var n=0;window.requestAnimationFrame=function(t){var e=Date.now(),i=Math.max(n+16,e);return setTimeout(function(){t(n=i)},i-e)},window.cancelAnimationFrame=clearTimeout}}(),"function"!=typeof Object.assign&&(Object.assign=function(t,e){"use strict";if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var a=arguments[n];if(null!==a)for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])}return i}),function(){var t="undefined"!=typeof exports?exports:"undefined"!=typeof self?self:$.global,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function l(t){this.message=t}(l.prototype=new Error).name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var e,i,n=String(t),a=0,s=r,o="";n.charAt(0|a)||(s="=",a%1);o+=s.charAt(63&e>>8-a%1*8)){if(255<(i=n.charCodeAt(a+=.75)))throw new l("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|i}return o}),t.atob||(t.atob=function(t){var e=String(t).replace(/[=]+$/,"");if(e.length%4==1)throw new l("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,n,a=0,s=0,o="";n=e.charAt(s++);~n&&(i=a%4?64*i+n:n,a++%4)?o+=String.fromCharCode(255&i>>(-2*a&6)):0)n=r.indexOf(n);return o})}(),window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var i,n=document.createElement("style"),t=document.getElementsByTagName("script")[0];n.type="text/css",n.id="matchmediajs-test",t.parentNode.insertBefore(n,t),i="getComputedStyle"in window&&window.getComputedStyle(n,null)||n.currentStyle,e={matchMedium:function(t){var e="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=e:n.textContent=e,"1px"===i.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(){var i=[];function t(){for(var t=i.length-1;0<=t;t--)i[t]()}window.addEventListener("scroll",n),window.addEventListener("resize",n);var e=null;function n(){e&&(e=clearTimeout(e)),e=setTimeout(t,100)}n(),window.elementInViewport=function(t){var e={top:0,bottom:0};try{e=t.getBoundingClientRect()}catch(t){}var i=window.innerHeight||document.documentElement.clientHeight;return e.top<=i&&0<=e.bottom},window.registerScrollCallback=function(t){i.push(t),n()},window.unregisterScrollCallback=function(t){for(var e=0;e<i.length;e++)t===i[e]&&i.splice(e,1)}}();var _createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Decoder=function(){function i(t,e){_classCallCheck(this,i),this.BLOCK_SIZE=t||16,this.coefficients=e||4,this.DCTMatrix=[],this.initDCTMatrix(),this.imgCanvas=document.createElement("canvas"),this.imgCtx=this.imgCanvas.getContext("2d"),this.tmpCanvas=document.createElement("canvas"),this.tmpCtx=this.tmpCanvas.getContext("2d")}return _createClass(i,[{key:"initDCTMatrix",value:function(){for(var t=0;t<this.BLOCK_SIZE;t++){var e=t*Math.PI/this.BLOCK_SIZE;this.DCTMatrix[t]=[];for(var i=0;i<this.BLOCK_SIZE;i++)this.DCTMatrix[t][i]=Math.cos(e*(i+.5))}}},{key:"decode",value:function(t){this.imgCanvas.width=t.width,this.imgCanvas.height=t.height,this.tmpCanvas.width=this.tmpCanvas.height=this.BLOCK_SIZE,this.imgCtx.drawImage(t,0,0);var e=this.imgCtx.getImageData(0,0,this.BLOCK_SIZE,this.coefficients),i=this.tmpCtx.createImageData(this.BLOCK_SIZE,this.BLOCK_SIZE);this.inverseDCT(e.data,i.data,this.BLOCK_SIZE,this.BLOCK_SIZE,this.coefficients),this.tmpCtx.putImageData(i,0,0)}},{key:"inverseDCT",value:function(t,e,i,n,a){for(var s=[],o=[],r=0;r<n;r+=this.BLOCK_SIZE)for(var l=0;l<i;l+=this.BLOCK_SIZE){for(var h=0;h<this.BLOCK_SIZE;h++)for(var c=0;c<this.BLOCK_SIZE;c++){s[(f=4*((r+c)*i+l+h))+0]=0,s[f+1]=0;for(var d=s[f+2]=0;d<a;d++){var u=4*((r+d)*i+l+h),p=this.DCTMatrix[d][c];s[f+0]+=(t[u+0]-128)*p,s[f+1]+=(t[u+1]-128)*p,s[f+2]+=(t[u+2]-128)*p}}for(d=0;d<this.BLOCK_SIZE;d++)for(c=0;c<this.BLOCK_SIZE;c++){var f=4*((r+d)*i+l+c);o[0]=0,o[1]=0;for(h=o[2]=0;h<a;h++){u=4*((r+d)*i+l+h),p=this.DCTMatrix[h][c];o[0]+=s[u+0]*p,o[1]+=s[u+1]*p,o[2]+=s[u+2]*p}e[f+0]=o[0]+128,e[f+1]=o[1]+128,e[f+2]=o[2]+128,e[f+3]=255}}}}]),i}();function dctThumb(t){var d=[];function u(t,e,i,n,a){var s=new Image;s.className=i,s.alt=n,e.appendChild(s),s.onload=function(){requestAnimationFrame(function(){s.style.opacity=1,a.style.opacity=0})},s.src=t}[].forEach.call(t,function(t){var e=new Decoder,i=t.querySelector("[data-ratio-filler]");i.appendChild(e.tmpCanvas),e.tmpCanvas.className="c-thumb-lazy__canvas",e.tmpCanvas.style.width="100%",e.tmpCanvas.style.height="100%";var n=null!==t.getAttribute("data-thumb-lazy"),a=null!==i.getAttribute("data-ratio-auto"),s=new Image,o=t.getAttribute("data-image-class");s.crossOrigin="Anonymous",s.alt=t.getAttribute("data-image-alt"),s.className=o;var r=t.getAttribute("data-original-src");if(a){var l=/(\d*)x(\d*)/.exec(r),h=l[1],c=l[2];i.style.paddingBottom=c/h*100+"%"}s.onload=function(){try{e.decode(s)}catch(t){console.log(t)}requestAnimationFrame(function(){e.tmpCanvas.style.opacity=1}),n||u(r,i,o,s.alt,e.tmpCanvas)},n&&d.push({src:r,element:i,alt:s.alt,canvas:e.tmpCanvas,className:s.className}),s.src=t.getAttribute("data-thumb-src")||r.replace(/(\d*x\d*)/,"16x4")}),registerScrollCallback(function(){for(var t=d.length-1;0<=t;t--)elementInViewport(d[t].element)&&(u(d[t].src,d[t].element,d[t].className,d[t].alt,d[t].canvas),d.splice(t,1))})}dctThumb(document.querySelectorAll("[data-thumb-lazy]")),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function v(){return Wt.apply(null,arguments)}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function g(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var i in e)g(e,i)&&(t[i]=e[i]);return g(e,"toString")&&(t.toString=e.toString),g(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,i,n){return lt(t,e,i,n,!0).utc()}function b(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),t._pf}function u(t){if(null==t._isValid){var e=b(t),i=jt.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function p(t){var e=d(NaN);return null!=t?c(b(e),t):b(e).userInvalidated=!0,e}function s(t){return void 0===t}function f(t,e){var i,n,a;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=b(e)),s(e._locale)||(t._locale=e._locale),0<Xt.length)for(i in Xt)s(a=e[n=Xt[i]])||(t[n]=a);return t}function m(t){f(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===Ut&&(Ut=!0,v.updateOffset(this),Ut=!1)}function y(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function x(t){return t<0?Math.ceil(t):Math.floor(t)}function w(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=x(e)),i}function o(t,e,i){var n,a=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;n<a;n++)(i&&t[n]!==e[n]||!i&&w(t[n])!==w(e[n]))&&o++;return o+s}function n(t){!1===v.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function t(t,e){var i=!0;return c(function(){return null!=v.deprecationHandler&&v.deprecationHandler(null,t),i&&(n(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),e.apply(this,arguments)},e)}function T(t,e){null!=v.deprecationHandler&&v.deprecationHandler(t,e),qt[t]||(n(e),qt[t]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function a(t){return"[object Object]"===Object.prototype.toString.call(t)}function S(t,e){var i,n=c({},t);for(i in e)g(e,i)&&(a(t[i])&&a(e[i])?(n[i]={},c(n[i],t[i]),c(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);return n}function M(t){null!=t&&this.set(t)}function A(t){return t?t.toLowerCase().replace("_","-"):t}function k(t){var e=null;if(!Kt[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Qt._abbr,require("./locale/"+t),D(e)}catch(t){}return Kt[t]}function D(t,e){var i;return t&&((i=s(e)?E(t):P(t,e))&&(Qt=i)),Qt._abbr}function P(t,e){return null!==e?(e.abbr=t,null!=Kt[t]?(T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=S(Kt[t]._config,e)):null!=e.parentLocale&&(null!=Kt[e.parentLocale]?e=S(Kt[e.parentLocale]._config,e):T("parentLocaleUndefined","specified parentLocale is not defined yet")),Kt[t]=new M(e),D(t),Kt[t]):(delete Kt[t],null)}function E(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Qt;if(!r(t)){if(e=k(t))return e;t=[t]}return function(t){for(var e,i,n,a,s=0;s<t.length;){for(e=(a=A(t[s]).split("-")).length,i=(i=A(t[s+1]))?i.split("-"):null;0<e;){if(n=k(a.slice(0,e).join("-")))return n;if(i&&i.length>=e&&o(a,i,!0)>=e-1)break;e--}s++}return null}(t)}function e(t,e){var i=t.toLowerCase();Jt[i]=Jt[i+"s"]=Jt[e]=t}function _(t){return"string"==typeof t?Jt[t]||Jt[t.toLowerCase()]:void 0}function N(t){var e,i,n={};for(i in t)g(t,i)&&((e=_(i))&&(n[e]=t[i]));return n}function i(e,i){return function(t){return null!=t?(O(this,e,t),v.updateOffset(this,i),this):L(this,e)}}function L(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function O(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function I(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(C(this[t=_(t)]))return this[t](e);return this}function B(t,e,i){var n=""+Math.abs(t),a=e-n.length;return(0<=t?i?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}function R(t,e,i,n){var a=n;"string"==typeof n&&(a=function(){return this[n]()}),t&&(ne[t]=a),e&&(ne[e[0]]=function(){return B(a.apply(this,arguments),e[1],e[2])}),i&&(ne[i]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function H(t,e){return t.isValid()?(e=$(e,t.localeData()),ie[e]=ie[e]||function(n){var t,a,e,s=n.match(te);for(t=0,a=s.length;t<a;t++)ne[s[t]]?s[t]=ne[s[t]]:s[t]=(e=s[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,i="";for(e=0;e<a;e++)i+=s[e]instanceof Function?s[e].call(t,n):s[e];return i}}(e),ie[e](t)):t.localeData().invalidDate()}function $(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(ee.lastIndex=0;0<=n&&ee.test(t);)t=t.replace(ee,i),ee.lastIndex=0,n-=1;return t}function V(t,i,n){xe[t]=C(i)?i:function(t,e){return t&&n?n:i}}function G(t,e){return g(xe,t)?xe[t](e._strict,e._locale):new RegExp(F(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,a){return e||i||n||a})))}function F(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Y(t,i){var e,n=i;for("string"==typeof t&&(t=[t]),"number"==typeof i&&(n=function(t,e){e[i]=w(t)}),e=0;e<t.length;e++)we[t[e]]=n}function W(t,a){Y(t,function(t,e,i,n){i._w=i._w||{},a(t,i._w,i,n)})}function j(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function z(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if("number"!=typeof(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),j(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function X(t){return null!=t?(z(this,t),v.updateOffset(this,!0),this):L(this,"Month")}function U(){function t(t,e){return e.length-t.length}var e,i,n=[],a=[],s=[];for(e=0;e<12;e++)i=d([2e3,e]),n.push(this.monthsShort(i,"")),a.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),a.sort(t),s.sort(t),e=0;e<12;e++)n[e]=F(n[e]),a[e]=F(a[e]),s[e]=F(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function q(t){var e,i=t._a;return i&&-2===b(t).overflow&&(e=i[Ce]<0||11<i[Ce]?Ce:i[Se]<1||i[Se]>j(i[Te],i[Ce])?Se:i[Me]<0||24<i[Me]||24===i[Me]&&(0!==i[Ae]||0!==i[ke]||0!==i[De])?Me:i[Ae]<0||59<i[Ae]?Ae:i[ke]<0||59<i[ke]?ke:i[De]<0||999<i[De]?De:-1,b(t)._overflowDayOfYear&&(e<Te||Se<e)&&(e=Se),b(t)._overflowWeeks&&-1===e&&(e=Pe),b(t)._overflowWeekday&&-1===e&&(e=Ee),b(t).overflow=e),t}function Q(t){var e,i,n,a,s,o,r=t._i,l=Be.exec(r)||Re.exec(r);if(l){for(b(t).iso=!0,e=0,i=$e.length;e<i;e++)if($e[e][1].exec(l[1])){a=$e[e][0],n=!1!==$e[e][2];break}if(null==a)return void(t._isValid=!1);if(l[3]){for(e=0,i=Ve.length;e<i;e++)if(Ve[e][1].exec(l[3])){s=(l[2]||" ")+Ve[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(l[4]){if(!He.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=a+(s||"")+(o||""),ot(t)}else t._isValid=!1}function Z(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function K(t){return J(t)?366:365}function J(t){return t%4==0&&t%100!=0||t%400==0}function tt(t,e,i){var n=7+e-i;return-((7+Z(t,0,n).getUTCDay()-e)%7)+n-1}function et(t,e,i,n,a){var s,o,r=1+7*(e-1)+(7+i-n)%7+tt(t,n,a);return r<=0?o=K(s=t-1)+r:r>K(t)?(s=t+1,o=r-K(t)):(s=t,o=r),{year:s,dayOfYear:o}}function it(t,e,i){var n,a,s=tt(t.year(),e,i),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?n=o+nt(a=t.year()-1,e,i):o>nt(t.year(),e,i)?(n=o-nt(t.year(),e,i),a=t.year()+1):(a=t.year(),n=o),{week:n,year:a}}function nt(t,e,i){var n=tt(t,e,i),a=tt(t+1,e,i);return(K(t)-n+a)/7}function at(t,e,i){return null!=t?t:null!=e?e:i}function st(t){var e,i,n,a,s,o,r,l,h,c,d,u,p,f,m,g=[];if(!t._d){for(f=t,m=void 0,m=new Date(v.now()),n=f._useUTC?[m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()]:[m.getFullYear(),m.getMonth(),m.getDate()],t._w&&null==t._a[Se]&&null==t._a[Ce]&&(p=u=d=c=h=l=r=o=void 0,null!=(o=(s=t)._w).GG||null!=o.W||null!=o.E?(c=1,d=4,r=at(o.GG,s._a[Te],it(ht(),1,4).year),l=at(o.W,1),((h=at(o.E,1))<1||7<h)&&(p=!0)):(c=s._locale._week.dow,d=s._locale._week.doy,r=at(o.gg,s._a[Te],it(ht(),c,d).year),l=at(o.w,1),null!=o.d?((h=o.d)<0||6<h)&&(p=!0):null!=o.e?(h=o.e+c,(o.e<0||6<o.e)&&(p=!0)):h=c),l<1||l>nt(r,c,d)?b(s)._overflowWeeks=!0:null!=p?b(s)._overflowWeekday=!0:(u=et(r,l,h,c,d),s._a[Te]=u.year,s._dayOfYear=u.dayOfYear)),t._dayOfYear&&(a=at(t._a[Te],n[Te]),t._dayOfYear>K(a)&&(b(t)._overflowDayOfYear=!0),i=Z(a,0,t._dayOfYear),t._a[Ce]=i.getUTCMonth(),t._a[Se]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=g[e]=n[e];for(;e<7;e++)t._a[e]=g[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Me]&&0===t._a[Ae]&&0===t._a[ke]&&0===t._a[De]&&(t._nextDay=!0,t._a[Me]=0),t._d=(t._useUTC?Z:function(t,e,i,n,a,s,o){var r=new Date(t,e,i,n,a,s,o);return t<100&&0<=t&&isFinite(r.getFullYear())&&r.setFullYear(t),r}).apply(null,g),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Me]=24)}}function ot(t){if(t._f!==v.ISO_8601){t._a=[],b(t).empty=!0;var e,i,n,a,s,o,r,l,h,c,d,u,p=""+t._i,f=p.length,m=0;for(n=$(t._f,t._locale).match(te)||[],e=0;e<n.length;e++)a=n[e],(i=(p.match(G(a,t))||[])[0])&&(0<(s=p.substr(0,p.indexOf(i))).length&&b(t).unusedInput.push(s),p=p.slice(p.indexOf(i)+i.length),m+=i.length),ne[a]?(i?b(t).empty=!1:b(t).unusedTokens.push(a),o=a,l=t,null!=(r=i)&&g(we,o)&&we[o](r,l._a,l,o)):t._strict&&!i&&b(t).unusedTokens.push(a);b(t).charsLeftOver=f-m,0<p.length&&b(t).unusedInput.push(p),!0===b(t).bigHour&&t._a[Me]<=12&&0<t._a[Me]&&(b(t).bigHour=void 0),b(t).parsedDateParts=t._a.slice(0),b(t).meridiem=t._meridiem,t._a[Me]=(h=t._locale,c=t._a[Me],null==(d=t._meridiem)?c:null!=h.meridiemHour?h.meridiemHour(c,d):(null!=h.isPM&&((u=h.isPM(d))&&c<12&&(c+=12),u||12!==c||(c=0)),c)),st(t),q(t)}else Q(t)}function rt(t){var e,i,n,a,s=t._i,o=t._f;return t._locale=t._locale||E(t._l),null===s||void 0===o&&""===s?p({nullInput:!0}):("string"==typeof s&&(t._i=s=t._locale.preparse(s)),y(s)?new m(q(s)):(r(o)?function(t){var e,i,n,a,s;if(0===t._f.length)return b(t).invalidFormat=!0,t._d=new Date(NaN);for(a=0;a<t._f.length;a++)s=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[a],ot(e),u(e)&&(s+=b(e).charsLeftOver,s+=10*b(e).unusedTokens.length,b(e).score=s,(null==n||s<n)&&(n=s,i=e));c(t,i||e)}(t):o?ot(t):l(s)?t._d=s:void 0===(i=(e=t)._i)?e._d=new Date(v.now()):l(i)?e._d=new Date(i.valueOf()):"string"==typeof i?(n=e,null!==(a=Ge.exec(n._i))?n._d=new Date(+a[1]):(Q(n),!1===n._isValid&&(delete n._isValid,v.createFromInputFallback(n)))):r(i)?(e._a=h(i.slice(0),function(t){return parseInt(t,10)}),st(e)):"object"==typeof i?function(t){if(!t._d){var e=N(t._i);t._a=h([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),st(t)}}(e):"number"==typeof i?e._d=new Date(i):v.createFromInputFallback(e),u(t)||(t._d=null),t))}function lt(t,e,i,n,a){var s,o={};return"boolean"==typeof i&&(n=i,i=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=a,o._l=i,o._i=t,o._f=e,o._strict=n,(s=new m(q(rt(o))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function ht(t,e,i,n){return lt(t,e,i,n,!1)}function ct(t,e){var i,n;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return ht();for(i=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](i))&&(i=e[n]);return i}function dt(t){var e=N(t),i=e.year||0,n=e.quarter||0,a=e.month||0,s=e.week||0,o=e.day||0,r=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*h+6e4*l+1e3*r*60*60,this._days=+o+7*s,this._months=+a+3*n+12*i,this._data={},this._locale=E(),this._bubble()}function ut(t){return t instanceof dt}function pt(t,i){R(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+B(~~(t/60),2)+i+B(~~t%60,2)})}function ft(t,e){var i=(e||"").match(t)||[],n=((i[i.length-1]||[])+"").match(je)||["-",0,0],a=60*n[1]+w(n[2]);return"+"===n[0]?a:-a}function mt(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(y(t)||l(t)?t.valueOf():ht(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),v.updateOffset(i,!1),i):ht(t).local()}function gt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function vt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function bt(t,e){var i,n,a,s,o,r,l=t,h=null;return ut(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(l={},e?l[e]=t:l.milliseconds=t):(h=ze.exec(t))?(i="-"===h[1]?-1:1,l={y:0,d:w(h[Se])*i,h:w(h[Me])*i,m:w(h[Ae])*i,s:w(h[ke])*i,ms:w(h[De])*i}):(h=Xe.exec(t))?(i="-"===h[1]?-1:1,l={y:yt(h[2],i),M:yt(h[3],i),w:yt(h[4],i),d:yt(h[5],i),h:yt(h[6],i),m:yt(h[7],i),s:yt(h[8],i)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(s=ht(l.from),o=ht(l.to),a=s.isValid()&&o.isValid()?(o=mt(o,s),s.isBefore(o)?r=xt(s,o):((r=xt(o,s)).milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0},(l={}).ms=a.milliseconds,l.M=a.months),n=new dt(l),ut(t)&&g(t,"_locale")&&(n._locale=t._locale),n}function yt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function xt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function wt(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Tt(n,a){return function(t,e){var i;return null===e||isNaN(+e)||(T(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period)."),i=t,t=e,e=i),Ct(this,bt(t="string"==typeof t?+t:t,e),n),this}}function Ct(t,e,i,n){var a=e._milliseconds,s=wt(e._days),o=wt(e._months);t.isValid()&&(n=null==n||n,a&&t._d.setTime(t._d.valueOf()+a*i),s&&O(t,"Date",L(t,"Date")+s*i),o&&z(t,L(t,"Month")+o*i),n&&v.updateOffset(t,s||o))}function St(t){var e;return void 0===t?this._locale._abbr:(null!=(e=E(t))&&(this._locale=e),this)}function Mt(){return this._locale}function At(t,e){R(0,[t,t.length],0,e)}function kt(t,e,i,n,a){var s;return null==t?it(this,n,a).year:((s=nt(t,n,a))<e&&(e=s),function(t,e,i,n,a){var s=et(t,e,i,n,a),o=Z(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,t,e,i,n,a))}function Dt(){function t(t,e){return e.length-t.length}var e,i,n,a,s,o=[],r=[],l=[],h=[];for(e=0;e<7;e++)i=d([2e3,1]).day(e),n=this.weekdaysMin(i,""),a=this.weekdaysShort(i,""),s=this.weekdays(i,""),o.push(n),r.push(a),l.push(s),h.push(n),h.push(a),h.push(s);for(o.sort(t),r.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)r[e]=F(r[e]),l[e]=F(l[e]),h[e]=F(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Pt(){return this.hours()%12||12}function Et(t,e){R(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function _t(t,e){return e._meridiemParse}function Nt(t,e){e[De]=w(1e3*("0."+t))}function Lt(t){return t}function Ot(t,e,i,n){var a=E(),s=d().set(n,e);return a[i](s,t)}function It(t,e,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Ot(t,e,i,"month");var n,a=[];for(n=0;n<12;n++)a[n]=Ot(t,n,i,"month");return a}function Bt(t,e,i,n){"boolean"==typeof t||(i=e=t,t=!1),"number"==typeof e&&(i=e,e=void 0),e=e||"";var a=E(),s=t?a._week.dow:0;if(null!=i)return Ot(e,(i+s)%7,n,"day");var o,r=[];for(o=0;o<7;o++)r[o]=Ot(e,(o+s)%7,n,"day");return r}function Rt(t,e,i,n){var a=bt(e,i);return t._milliseconds+=n*a._milliseconds,t._days+=n*a._days,t._months+=n*a._months,t._bubble()}function Ht(t){return t<0?Math.floor(t):Math.ceil(t)}function $t(t){return 4800*t/146097}function Vt(t){return 146097*t/4800}function Gt(t){return function(){return this.as(t)}}function Ft(t){return function(){return this._data[t]}}function Yt(){var t,e,i=Ei(this._milliseconds)/1e3,n=Ei(this._days),a=Ei(this._months);e=x((t=x(i/60))/60),i%=60,t%=60;var s=x(a/12),o=a%=12,r=n,l=e,h=t,c=i,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(s?s+"Y":"")+(o?o+"M":"")+(r?r+"D":"")+(l||h||c?"T":"")+(l?l+"H":"")+(h?h+"M":"")+(c?c+"S":""):"P0D"}var Wt,jt;jt=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var zt,Xt=v.momentProperties=[],Ut=!1,qt={};v.suppressDeprecationWarnings=!1,v.deprecationHandler=null,zt=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)g(t,e)&&i.push(e);return i};var Qt,Zt,Kt={},Jt={},te=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ee=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ie={},ne={},ae=/\d/,se=/\d\d/,oe=/\d{3}/,re=/\d{4}/,le=/[+-]?\d{6}/,he=/\d\d?/,ce=/\d\d\d\d?/,de=/\d\d\d\d\d\d?/,ue=/\d{1,3}/,pe=/\d{1,4}/,fe=/[+-]?\d{1,6}/,me=/\d+/,ge=/[+-]?\d+/,ve=/Z|[+-]\d\d:?\d\d/gi,be=/Z|[+-]\d\d(?::?\d\d)?/gi,ye=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,xe={},we={},Te=0,Ce=1,Se=2,Me=3,Ae=4,ke=5,De=6,Pe=7,Ee=8;Zt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),R("MMMM",0,0,function(t){return this.localeData().months(this,t)}),e("month","M"),V("M",he),V("MM",he,se),V("MMM",function(t,e){return e.monthsShortRegex(t)}),V("MMMM",function(t,e){return e.monthsRegex(t)}),Y(["M","MM"],function(t,e){e[Ce]=w(t)-1}),Y(["MMM","MMMM"],function(t,e,i,n){var a=i._locale.monthsParse(t,n,i._strict);null!=a?e[Ce]=a:b(i).invalidMonth=t});var _e=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Ne="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Le="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Oe=ye,Ie=ye,Be=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Re=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,He=/Z|[+-]\d\d(?::?\d\d)?/,$e=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ve=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ge=/^\/?Date\((\-?\d+)/i;v.createFromInputFallback=t("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),R("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),e("year","y"),V("Y",ge),V("YY",he,se),V("YYYY",pe,re),V("YYYYY",fe,le),V("YYYYYY",fe,le),Y(["YYYYY","YYYYYY"],Te),Y("YYYY",function(t,e){e[Te]=2===t.length?v.parseTwoDigitYear(t):w(t)}),Y("YY",function(t,e){e[Te]=v.parseTwoDigitYear(t)}),Y("Y",function(t,e){e[Te]=parseInt(t,10)}),v.parseTwoDigitYear=function(t){return w(t)+(68<w(t)?1900:2e3)};var Fe=i("FullYear",!0);v.ISO_8601=function(){};var Ye=t("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=ht.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:p()}),We=t("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=ht.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:p()});pt("Z",":"),pt("ZZ",""),V("Z",be),V("ZZ",be),Y(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=ft(be,t)});var je=/([\+\-]|\d\d)/gi;v.updateOffset=function(){};var ze=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Xe=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;bt.fn=dt.prototype;var Ue=Tt(1,"add"),qe=Tt(-1,"subtract");v.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",v.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qe=t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),At("gggg","weekYear"),At("ggggg","weekYear"),At("GGGG","isoWeekYear"),At("GGGGG","isoWeekYear"),e("weekYear","gg"),e("isoWeekYear","GG"),V("G",ge),V("g",ge),V("GG",he,se),V("gg",he,se),V("GGGG",pe,re),V("gggg",pe,re),V("GGGGG",fe,le),V("ggggg",fe,le),W(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=w(t)}),W(["gg","GG"],function(t,e,i,n){e[n]=v.parseTwoDigitYear(t)}),R("Q",0,"Qo","quarter"),e("quarter","Q"),V("Q",ae),Y("Q",function(t,e){e[Ce]=3*(w(t)-1)}),R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),e("week","w"),e("isoWeek","W"),V("w",he),V("ww",he,se),V("W",he),V("WW",he,se),W(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=w(t)});R("D",["DD",2],"Do","date"),e("date","D"),V("D",he),V("DD",he,se),V("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),Y(["D","DD"],Se),Y("Do",function(t,e){e[Se]=w(t.match(he)[0])});var Ze=i("Date",!0);R("d",0,"do","day"),R("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),R("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),R("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),e("day","d"),e("weekday","e"),e("isoWeekday","E"),V("d",he),V("e",he),V("E",he),V("dd",function(t,e){return e.weekdaysMinRegex(t)}),V("ddd",function(t,e){return e.weekdaysShortRegex(t)}),V("dddd",function(t,e){return e.weekdaysRegex(t)}),W(["dd","ddd","dddd"],function(t,e,i,n){var a=i._locale.weekdaysParse(t,n,i._strict);null!=a?e.d=a:b(i).invalidWeekday=t}),W(["d","e","E"],function(t,e,i,n){e[n]=w(t)});var Ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ti="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ei=ye,ii=ye,ni=ye;R("DDD",["DDDD",3],"DDDo","dayOfYear"),e("dayOfYear","DDD"),V("DDD",ue),V("DDDD",oe),Y(["DDD","DDDD"],function(t,e,i){i._dayOfYear=w(t)}),R("H",["HH",2],0,"hour"),R("h",["hh",2],0,Pt),R("k",["kk",2],0,function(){return this.hours()||24}),R("hmm",0,0,function(){return""+Pt.apply(this)+B(this.minutes(),2)}),R("hmmss",0,0,function(){return""+Pt.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),R("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),R("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),Et("a",!0),Et("A",!1),e("hour","h"),V("a",_t),V("A",_t),V("H",he),V("h",he),V("HH",he,se),V("hh",he,se),V("hmm",ce),V("hmmss",de),V("Hmm",ce),V("Hmmss",de),Y(["H","HH"],Me),Y(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),Y(["h","hh"],function(t,e,i){e[Me]=w(t),b(i).bigHour=!0}),Y("hmm",function(t,e,i){var n=t.length-2;e[Me]=w(t.substr(0,n)),e[Ae]=w(t.substr(n)),b(i).bigHour=!0}),Y("hmmss",function(t,e,i){var n=t.length-4,a=t.length-2;e[Me]=w(t.substr(0,n)),e[Ae]=w(t.substr(n,2)),e[ke]=w(t.substr(a)),b(i).bigHour=!0}),Y("Hmm",function(t,e,i){var n=t.length-2;e[Me]=w(t.substr(0,n)),e[Ae]=w(t.substr(n))}),Y("Hmmss",function(t,e,i){var n=t.length-4,a=t.length-2;e[Me]=w(t.substr(0,n)),e[Ae]=w(t.substr(n,2)),e[ke]=w(t.substr(a))});var ai=i("Hours",!0);R("m",["mm",2],0,"minute"),e("minute","m"),V("m",he),V("mm",he,se),Y(["m","mm"],Ae);var si=i("Minutes",!1);R("s",["ss",2],0,"second"),e("second","s"),V("s",he),V("ss",he,se),Y(["s","ss"],ke);var oi,ri=i("Seconds",!1);for(R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return 10*this.millisecond()}),R(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),R(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),R(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),R(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),R(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),e("millisecond","ms"),V("S",ue,ae),V("SS",ue,se),V("SSS",ue,oe),oi="SSSS";oi.length<=9;oi+="S")V(oi,me);for(oi="S";oi.length<=9;oi+="S")Y(oi,Nt);var li=i("Milliseconds",!1);R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var hi=m.prototype;hi.add=Ue,hi.calendar=function(t,e){var i=t||ht(),n=mt(i,this).startOf("day"),a=this.diff(n,"days",!0),s=a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse",o=e&&(C(e[s])?e[s]():e[s]);return this.format(o||this.localeData().calendar(s,this,ht(i)))},hi.clone=function(){return new m(this)},hi.diff=function(t,e,i){var n,a,s,o,r,l,h,c,d,u;return this.isValid()&&(n=mt(t,this)).isValid()?(a=6e4*(n.utcOffset()-this.utcOffset()),"year"===(e=_(e))||"month"===e||"quarter"===e?(r=this,d=12*((l=n).year()-r.year())+(l.month()-r.month()),u=r.clone().add(d,"months"),l-u<0?(h=r.clone().add(d-1,"months"),c=(l-u)/(u-h)):(h=r.clone().add(d+1,"months"),c=(l-u)/(h-u)),o=-(d+c)||0,"quarter"===e?o/=3:"year"===e&&(o/=12)):(s=this-n,o="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-a)/864e5:"week"===e?(s-a)/6048e5:s),i?o:x(o)):NaN},hi.endOf=function(t){return void 0===(t=_(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},hi.format=function(t){t||(t=this.isUtc()?v.defaultFormatUtc:v.defaultFormat);var e=H(this,t);return this.localeData().postformat(e)},hi.from=function(t,e){return this.isValid()&&(y(t)&&t.isValid()||ht(t).isValid())?bt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hi.fromNow=function(t){return this.from(ht(),t)},hi.to=function(t,e){return this.isValid()&&(y(t)&&t.isValid()||ht(t).isValid())?bt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hi.toNow=function(t){return this.to(ht(),t)},hi.get=I,hi.invalidAt=function(){return b(this).overflow},hi.isAfter=function(t,e){var i=y(t)?t:ht(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=_(s(e)?"millisecond":e))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},hi.isBefore=function(t,e){var i=y(t)?t:ht(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=_(s(e)?"millisecond":e))?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},hi.isBetween=function(t,e,i,n){return("("===(n=n||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))},hi.isSame=function(t,e){var i,n=y(t)?t:ht(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=_(e||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},hi.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},hi.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},hi.isValid=function(){return u(this)},hi.lang=Qe,hi.locale=St,hi.localeData=Mt,hi.max=We,hi.min=Ye,hi.parsingFlags=function(){return c({},b(this))},hi.set=I,hi.startOf=function(t){switch(t=_(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},hi.subtract=qe,hi.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},hi.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},hi.toDate=function(){return this._offset?new Date(this.valueOf()):this._d},hi.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():H(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},hi.toJSON=function(){return this.isValid()?this.toISOString():null},hi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},hi.unix=function(){return Math.floor(this.valueOf()/1e3)},hi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},hi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},hi.year=Fe,hi.isLeapYear=function(){return J(this.year())},hi.weekYear=function(t){return kt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},hi.isoWeekYear=function(t){return kt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},hi.quarter=hi.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},hi.month=X,hi.daysInMonth=function(){return j(this.year(),this.month())},hi.week=hi.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},hi.isoWeek=hi.isoWeeks=function(t){var e=it(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},hi.weeksInYear=function(){var t=this.localeData()._week;return nt(this.year(),t.dow,t.doy)},hi.isoWeeksInYear=function(){return nt(this.year(),1,4)},hi.date=Ze,hi.day=hi.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,i,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,i=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=i.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-n,"d")):n},hi.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},hi.isoWeekday=function(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN},hi.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},hi.hour=hi.hours=ai,hi.minute=hi.minutes=si,hi.second=hi.seconds=ri,hi.millisecond=hi.milliseconds=li,hi.utcOffset=function(t,e){var i,n=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=ft(be,t):Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(i=gt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?Ct(this,bt(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,v.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:gt(this):null!=t?this:NaN},hi.utc=function(t){return this.utcOffset(0,t)},hi.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(gt(this),"m")),this},hi.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(ft(ve,this._i)),this},hi.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?ht(t).utcOffset():0,(this.utcOffset()-t)%60==0)},hi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},hi.isDSTShifted=function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(f(t,this),(t=rt(t))._a){var e=t._isUTC?d(t._a):ht(t._a);this._isDSTShifted=this.isValid()&&0<o(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted},hi.isLocal=function(){return!!this.isValid()&&!this._isUTC},hi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},hi.isUtc=vt,hi.isUTC=vt,hi.zoneAbbr=function(){return this._isUTC?"UTC":""},hi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},hi.dates=t("dates accessor is deprecated. Use date instead.",Ze),hi.months=t("months accessor is deprecated. Use month instead",X),hi.years=t("years accessor is deprecated. Use year instead",Fe),hi.zone=t("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()});var ci=hi,di=M.prototype;di._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},di.calendar=function(t,e,i){var n=this._calendar[t];return C(n)?n.call(e,i):n},di._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},di.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},di._invalidDate="Invalid date",di.invalidDate=function(){return this._invalidDate},di._ordinal="%d",di.ordinal=function(t){return this._ordinal.replace("%d",t)},di._ordinalParse=/\d{1,2}/,di.preparse=Lt,di.postformat=Lt,di._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},di.relativeTime=function(t,e,i,n){var a=this._relativeTime[i];return C(a)?a(t,e,i,n):a.replace(/%d/i,t)},di.pastFuture=function(t,e){var i=this._relativeTime[0<t?"future":"past"];return C(i)?i(e):i.replace(/%s/i,e)},di.set=function(t){var e,i;for(i in t)C(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},di.months=function(t,e){return r(this._months)?this._months[t.month()]:this._months[_e.test(e)?"format":"standalone"][t.month()]},di._months=Ne,di.monthsShort=function(t,e){return r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[_e.test(e)?"format":"standalone"][t.month()]},di._monthsShort=Le,di.monthsParse=function(t,e,i){var n,a,s;if(this._monthsParseExact)return function(t,e,i){var n,a,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?-1!==(a="MMM"===e?Zt.call(this._shortMonthsParse,o):Zt.call(this._longMonthsParse,o))?a:null:"MMM"===e?-1!==(a=Zt.call(this._shortMonthsParse,o))?a:-1!==(a=Zt.call(this._longMonthsParse,o))?a:null:-1!==(a=Zt.call(this._longMonthsParse,o))?a:-1!==(a=Zt.call(this._shortMonthsParse,o))?a:null}.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=d([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},di._monthsRegex=Ie,di.monthsRegex=function(t){return this._monthsParseExact?(g(this,"_monthsRegex")||U.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex},di._monthsShortRegex=Oe,di.monthsShortRegex=function(t){return this._monthsParseExact?(g(this,"_monthsRegex")||U.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex},di.week=function(t){return it(t,this._week.dow,this._week.doy).week},di._week={dow:0,doy:6},di.firstDayOfYear=function(){return this._week.doy},di.firstDayOfWeek=function(){return this._week.dow},di.weekdays=function(t,e){return r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]},di._weekdays=Ke,di.weekdaysMin=function(t){return this._weekdaysMin[t.day()]},di._weekdaysMin=ti,di.weekdaysShort=function(t){return this._weekdaysShort[t.day()]},di._weekdaysShort=Je,di.weekdaysParse=function(t,e,i){var n,a,s;if(this._weekdaysParseExact)return function(t,e,i){var n,a,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?-1!==(a="dddd"===e?Zt.call(this._weekdaysParse,o):"ddd"===e?Zt.call(this._shortWeekdaysParse,o):Zt.call(this._minWeekdaysParse,o))?a:null:"dddd"===e?-1!==(a=Zt.call(this._weekdaysParse,o))?a:-1!==(a=Zt.call(this._shortWeekdaysParse,o))?a:-1!==(a=Zt.call(this._minWeekdaysParse,o))?a:null:"ddd"===e?-1!==(a=Zt.call(this._shortWeekdaysParse,o))?a:-1!==(a=Zt.call(this._weekdaysParse,o))?a:-1!==(a=Zt.call(this._minWeekdaysParse,o))?a:null:-1!==(a=Zt.call(this._minWeekdaysParse,o))?a:-1!==(a=Zt.call(this._weekdaysParse,o))?a:-1!==(a=Zt.call(this._shortWeekdaysParse,o))?a:null}.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=d([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},di._weekdaysRegex=ei,di.weekdaysRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Dt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex},di._weekdaysShortRegex=ii,di.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Dt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex},di._weekdaysMinRegex=ni,di.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Dt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex},di.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},di._meridiemParse=/[ap]\.?m?\.?/i,di.meridiem=function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},D("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),v.lang=t("moment.lang is deprecated. Use moment.locale instead.",D),v.langData=t("moment.langData is deprecated. Use moment.localeData instead.",E);var ui=Math.abs,pi=Gt("ms"),fi=Gt("s"),mi=Gt("m"),gi=Gt("h"),vi=Gt("d"),bi=Gt("w"),yi=Gt("M"),xi=Gt("y"),wi=Ft("milliseconds"),Ti=Ft("seconds"),Ci=Ft("minutes"),Si=Ft("hours"),Mi=Ft("days"),Ai=Ft("months"),ki=Ft("years"),Di=Math.round,Pi={s:45,m:45,h:22,d:26,M:11},Ei=Math.abs,_i=dt.prototype;return _i.abs=function(){var t=this._data;return this._milliseconds=ui(this._milliseconds),this._days=ui(this._days),this._months=ui(this._months),t.milliseconds=ui(t.milliseconds),t.seconds=ui(t.seconds),t.minutes=ui(t.minutes),t.hours=ui(t.hours),t.months=ui(t.months),t.years=ui(t.years),this},_i.add=function(t,e){return Rt(this,t,e,1)},_i.subtract=function(t,e){return Rt(this,t,e,-1)},_i.as=function(t){var e,i,n=this._milliseconds;if("month"===(t=_(t))||"year"===t)return e=this._days+n/864e5,i=this._months+$t(e),"month"===t?i:i/12;switch(e=this._days+Math.round(Vt(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},_i.asMilliseconds=pi,_i.asSeconds=fi,_i.asMinutes=mi,_i.asHours=gi,_i.asDays=vi,_i.asWeeks=bi,_i.asMonths=yi,_i.asYears=xi,_i.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)},_i._bubble=function(){var t,e,i,n,a,s=this._milliseconds,o=this._days,r=this._months,l=this._data;return 0<=s&&0<=o&&0<=r||s<=0&&o<=0&&r<=0||(s+=864e5*Ht(Vt(r)+o),r=o=0),l.milliseconds=s%1e3,t=x(s/1e3),l.seconds=t%60,e=x(t/60),l.minutes=e%60,i=x(e/60),l.hours=i%24,r+=a=x($t(o+=x(i/24))),o-=Ht(Vt(a)),n=x(r/12),r%=12,l.days=o,l.months=r,l.years=n,this},_i.get=function(t){return this[(t=_(t))+"s"]()},_i.milliseconds=wi,_i.seconds=Ti,_i.minutes=Ci,_i.hours=Si,_i.days=Mi,_i.weeks=function(){return x(this.days()/7)},_i.months=Ai,_i.years=ki,_i.humanize=function(t){var e,i,n,a,s,o,r,l,h,c,d,u=this.localeData(),p=(i=!t,n=u,a=bt(e=this).abs(),s=Di(a.as("s")),o=Di(a.as("m")),r=Di(a.as("h")),l=Di(a.as("d")),h=Di(a.as("M")),c=Di(a.as("y")),(d=s<Pi.s&&["s",s]||o<=1&&["m"]||o<Pi.m&&["mm",o]||r<=1&&["h"]||r<Pi.h&&["hh",r]||l<=1&&["d"]||l<Pi.d&&["dd",l]||h<=1&&["M"]||h<Pi.M&&["MM",h]||c<=1&&["y"]||["yy",c])[2]=i,d[3]=0<+e,d[4]=n,function(t,e,i,n,a){return a.relativeTime(e||1,!!i,t,n)}.apply(null,d));return t&&(p=u.pastFuture(+this,p)),u.postformat(p)},_i.toISOString=Yt,_i.toString=Yt,_i.toJSON=Yt,_i.locale=St,_i.localeData=Mt,_i.toIsoString=t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yt),_i.lang=Qe,R("X",0,0,"unix"),R("x",0,0,"valueOf"),V("x",ge),V("X",/[+-]?\d+(\.\d{1,3})?/),Y("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),Y("x",function(t,e,i){i._d=new Date(w(t))}),v.version="2.13.0",Wt=ht,v.fn=ci,v.min=function(){return ct("isBefore",[].slice.call(arguments,0))},v.max=function(){return ct("isAfter",[].slice.call(arguments,0))},v.now=function(){return Date.now?Date.now():+new Date},v.utc=d,v.unix=function(t){return ht(1e3*t)},v.months=function(t,e){return It(t,e,"months")},v.isDate=l,v.locale=D,v.invalid=p,v.duration=bt,v.isMoment=y,v.weekdays=function(t,e,i){return Bt(t,e,i,"weekdays")},v.parseZone=function(){return ht.apply(null,arguments).parseZone()},v.localeData=E,v.isDuration=ut,v.monthsShort=function(t,e){return It(t,e,"monthsShort")},v.weekdaysMin=function(t,e,i){return Bt(t,e,i,"weekdaysMin")},v.defineLocale=P,v.updateLocale=function(t,e){var i;return null!=e?(null!=Kt[t]&&(e=S(Kt[t]._config,e)),(i=new M(e)).parentLocale=Kt[t],Kt[t]=i,D(t)):null!=Kt[t]&&(null!=Kt[t].parentLocale?Kt[t]=Kt[t].parentLocale:null!=Kt[t]&&delete Kt[t]),Kt[t]},v.locales=function(){return zt(Kt)},v.weekdaysShort=function(t,e,i){return Bt(t,e,i,"weekdaysShort")},v.normalizeUnits=_,v.relativeTimeThreshold=function(t,e){return void 0!==Pi[t]&&(void 0===e?Pi[t]:(Pi[t]=e,!0))},v.prototype=ci,v}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports=e():t.numeral=e()}(this,function(){function s(t,e){this._input=t,this._value=e}var b,o,l,h,t,r={},y={},e={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:e.currentLocale,zeroFormat:e.zeroFormat,nullFormat:e.nullFormat,defaultFormat:e.defaultFormat,scalePercentBy100:e.scalePercentBy100};return(b=function(t){var e,i,n,a;if(b.isNumeral(t))e=t.value();else if(0===t||void 0===t)e=0;else if(null===t||o.isNaN(t))e=null;else if("string"==typeof t)if(c.zeroFormat&&t===c.zeroFormat)e=0;else if(c.nullFormat&&t===c.nullFormat||!t.replace(/[^0-9]+/g,"").length)e=null;else{for(i in r)if((a="function"==typeof r[i].regexps.unformat?r[i].regexps.unformat():r[i].regexps.unformat)&&t.match(a)){n=r[i].unformat;break}e=(n=n||b._.stringToNumber)(t)}else e=Number(t)||null;return new s(t,e)}).version="2.0.6",b.isNumeral=function(t){return t instanceof s},b._=o={numberToFormat:function(t,e,i){var n,a,s,o,r,l,h,c,d=y[b.options.currentLocale],u=!1,p=!1,f="",m="",g=!1;if(t=t||0,a=Math.abs(t),b._.includes(e,"(")?(u=!0,e=e.replace(/[\(|\)]/g,"")):(b._.includes(e,"+")||b._.includes(e,"-"))&&(r=b._.includes(e,"+")?e.indexOf("+"):t<0?e.indexOf("-"):-1,e=e.replace(/[\+|\-]/g,"")),b._.includes(e,"a")&&(n=!!(n=e.match(/a(k|m|b|t)?/))&&n[1],b._.includes(e," a")&&(f=" "),e=e.replace(new RegExp(f+"a[kmbt]?"),""),1e12<=a&&!n||"t"===n?(f+=d.abbreviations.trillion,t/=1e12):a<1e12&&1e9<=a&&!n||"b"===n?(f+=d.abbreviations.billion,t/=1e9):a<1e9&&1e6<=a&&!n||"m"===n?(f+=d.abbreviations.million,t/=1e6):(a<1e6&&1e3<=a&&!n||"k"===n)&&(f+=d.abbreviations.thousand,t/=1e3)),b._.includes(e,"[.]")&&(p=!0,e=e.replace("[.]",".")),s=t.toString().split(".")[0],o=e.split(".")[1],l=e.indexOf(","),c=(e.split(".")[0].split(",")[0].match(/0/g)||[]).length,o?(b._.includes(o,"[")?(o=(o=o.replace("]","")).split("["),m=b._.toFixed(t,o[0].length+o[1].length,i,o[1].length)):m=b._.toFixed(t,o.length,i),s=m.split(".")[0],m=b._.includes(m,".")?d.delimiters.decimal+m.split(".")[1]:"",p&&0===Number(m.slice(1))&&(m="")):s=b._.toFixed(t,0,i),f&&!n&&1e3<=Number(s)&&f!==d.abbreviations.trillion)switch(s=String(Number(s)/1e3),f){case d.abbreviations.thousand:f=d.abbreviations.million;break;case d.abbreviations.million:f=d.abbreviations.billion;break;case d.abbreviations.billion:f=d.abbreviations.trillion}if(b._.includes(s,"-")&&(s=s.slice(1),g=!0),s.length<c)for(var v=c-s.length;0<v;v--)s="0"+s;return-1<l&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d.delimiters.thousands)),0===e.indexOf(".")&&(s=""),h=s+m+(f||""),u?h=(u&&g?"(":"")+h+(u&&g?")":""):0<=r?h=0===r?(g?"-":"+")+h:h+(g?"-":"+"):g&&(h="-"+h),h},stringToNumber:function(t){var e,i,n,a=y[c.currentLocale],s=t,o={thousand:3,million:6,billion:9,trillion:12};if(c.zeroFormat&&t===c.zeroFormat)i=0;else if(c.nullFormat&&t===c.nullFormat||!t.replace(/[^0-9]+/g,"").length)i=null;else{for(e in i=1,"."!==a.delimiters.decimal&&(t=t.replace(/\./g,"").replace(a.delimiters.decimal,".")),o)if(n=new RegExp("[^a-zA-Z]"+a.abbreviations[e]+"(?:\\)|(\\"+a.currency.symbol+")?(?:\\))?)?$"),s.match(n)){i*=Math.pow(10,o[e]);break}i*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),i*=Number(t)}return i},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,i){return t.slice(0,i)+e+t.slice(i)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var i,n=Object(t),a=n.length>>>0,s=0;if(3===arguments.length)i=arguments[2];else{for(;s<a&&!(s in n);)s++;if(a<=s)throw new TypeError("Reduce of empty array with no initial value");i=n[s++]}for(;s<a;s++)s in n&&(i=e(i,n[s],s,n));return i},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(t,e){var i=o.multiplier(e);return i<t?t:i},1)},toFixed:function(t,e,i,n){var a,s,o,r,l=t.toString().split("."),h=e-(n||0);return a=2===l.length?Math.min(Math.max(l[1].length,h),e):h,o=Math.pow(10,a),r=(i(t+"e+"+a)/o).toFixed(a),e-a<n&&(s=new RegExp("\\.?0{1,"+(n-(e-a))+"}$"),r=r.replace(s,"")),r}},b.options=c,b.formats=r,b.locales=y,b.locale=function(t){return t&&(c.currentLocale=t.toLowerCase()),c.currentLocale},b.localeData=function(t){if(!t)return y[c.currentLocale];if(t=t.toLowerCase(),!y[t])throw new Error("Unknown locale : "+t);return y[t]},b.reset=function(){for(var t in e)c[t]=e[t]},b.zeroFormat=function(t){c.zeroFormat="string"==typeof t?t:null},b.nullFormat=function(t){c.nullFormat="string"==typeof t?t:null},b.defaultFormat=function(t){c.defaultFormat="string"==typeof t?t:"0.0"},b.register=function(t,e,i){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=i},b.validate=function(t,e){var i,n,a,s,o,r,l,h;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{l=b.localeData(e)}catch(t){l=b.localeData(b.locale())}return a=l.currency.symbol,o=l.abbreviations,i=l.delimiters.decimal,n="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(h=t.match(/^[^\d]+/))||(t=t.substr(1),h[0]===a))&&((null===(h=t.match(/[^\d]+$/))||(t=t.slice(0,-1),h[0]===o.thousand||h[0]===o.million||h[0]===o.billion||h[0]===o.trillion))&&(r=new RegExp(n+"{2}"),!t.match(/[^\d.,]/g)&&(!(2<(s=t.split(i)).length)&&(s.length<2?!!s[0].match(/^\d+.*\d$/)&&!s[0].match(r):1===s[0].length?!!s[0].match(/^\d+$/)&&!s[0].match(r)&&!!s[1].match(/^\d+$/):!!s[0].match(/^\d+.*\d$/)&&!s[0].match(r)&&!!s[1].match(/^\d+$/)))))},b.fn=s.prototype={clone:function(){return b(this)},format:function(t,e){var i,n,a,s=this._value,o=t||c.defaultFormat;if(e=e||Math.round,0===s&&null!==c.zeroFormat)n=c.zeroFormat;else if(null===s&&null!==c.nullFormat)n=c.nullFormat;else{for(i in r)if(o.match(r[i].regexps.format)){a=r[i].format;break}n=(a=a||b._.numberToFormat)(s,o,e)}return n},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var a=o.correctionFactor.call(null,this._value,t);return this._value=o.reduce([this._value,t],function(t,e,i,n){return t+Math.round(a*e)},0)/a,this},subtract:function(t){var a=o.correctionFactor.call(null,this._value,t);return this._value=o.reduce([t],function(t,e,i,n){return t-Math.round(a*e)},Math.round(this._value*a))/a,this},multiply:function(t){return this._value=o.reduce([this._value,t],function(t,e,i,n){var a=o.correctionFactor(t,e);return Math.round(t*a)*Math.round(e*a)/Math.round(a*a)},1),this},divide:function(t){return this._value=o.reduce([this._value,t],function(t,e,i,n){var a=o.correctionFactor(t,e);return Math.round(t*a)/Math.round(e*a)}),this},difference:function(t){return Math.abs(b(this._value).subtract(t).value())}},b.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),b.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,e,i){var n,a=b._.includes(e," BPS")?" ":"";return t*=1e4,e=e.replace(/\s?BPS/,""),n=b._.numberToFormat(t,e,i),b._.includes(n,")")?((n=n.split("")).splice(-1,0,a+"BPS"),n=n.join("")):n=n+a+"BPS",n},unformat:function(t){return+(1e-4*b._.stringToNumber(t)).toFixed(15)}}),h={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},t="("+(t=(l={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(h.suffixes.filter(function(t){return l.suffixes.indexOf(t)<0})).join("|")).replace("B","B(?!PS)")+")",b.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(t)},format:function(t,e,i){var n,a,s,o=b._.includes(e,"ib")?h:l,r=b._.includes(e," b")||b._.includes(e," ib")?" ":"";for(e=e.replace(/\s?i?b/,""),n=0;n<=o.suffixes.length;n++)if(a=Math.pow(o.base,n),s=Math.pow(o.base,n+1),null===t||0===t||a<=t&&t<s){r+=o.suffixes[n],0<a&&(t/=a);break}return b._.numberToFormat(t,e,i)+r},unformat:function(t){var e,i,n=b._.stringToNumber(t);if(n){for(e=l.suffixes.length-1;0<=e;e--){if(b._.includes(t,l.suffixes[e])){i=Math.pow(l.base,e);break}if(b._.includes(t,h.suffixes[e])){i=Math.pow(h.base,e);break}}n*=i||1}return n}}),b.register("format","currency",{regexps:{format:/(\$)/},format:function(t,e,i){var n,a,s=b.locales[b.options.currentLocale],o={before:e.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:e.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(e=e.replace(/\s?\$\s?/,""),n=b._.numberToFormat(t,e,i),0<=t?(o.before=o.before.replace(/[\-\(]/,""),o.after=o.after.replace(/[\-\)]/,"")):t<0&&!b._.includes(o.before,"-")&&!b._.includes(o.before,"(")&&(o.before="-"+o.before),a=0;a<o.before.length;a++)switch(o.before[a]){case"$":n=b._.insert(n,s.currency.symbol,a);break;case" ":n=b._.insert(n," ",a+s.currency.symbol.length-1)}for(a=o.after.length-1;0<=a;a--)switch(o.after[a]){case"$":n=a===o.after.length-1?n+s.currency.symbol:b._.insert(n,s.currency.symbol,-(o.after.length-(1+a)));break;case" ":n=a===o.after.length-1?n+" ":b._.insert(n," ",-(o.after.length-(1+a)+s.currency.symbol.length-1))}return n}}),b.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,e,i){var n=("number"!=typeof t||b._.isNaN(t)?"0e+0":t.toExponential()).split("e");return e=e.replace(/e[\+|\-]{1}0/,""),b._.numberToFormat(Number(n[0]),e,i)+"e"+n[1]},unformat:function(t){var e=b._.includes(t,"e+")?t.split("e+"):t.split("e-"),i=Number(e[0]),n=Number(e[1]);return n=b._.includes(t,"e-")?n*=-1:n,b._.reduce([i,Math.pow(10,n)],function(t,e,i,n){var a=b._.correctionFactor(t,e);return t*a*(e*a)/(a*a)},1)}}),b.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,e,i){var n=b.locales[b.options.currentLocale],a=b._.includes(e," o")?" ":"";return e=e.replace(/\s?o/,""),a+=n.ordinal(t),b._.numberToFormat(t,e,i)+a}}),b.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,e,i){var n,a=b._.includes(e," %")?" ":"";return b.options.scalePercentBy100&&(t*=100),e=e.replace(/\s?\%/,""),n=b._.numberToFormat(t,e,i),b._.includes(n,")")?((n=n.split("")).splice(-1,0,a+"%"),n=n.join("")):n=n+a+"%",n},unformat:function(t){var e=b._.stringToNumber(t);return b.options.scalePercentBy100?.01*e:e}}),b.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,i){var n=Math.floor(t/60/60),a=Math.floor((t-60*n*60)/60),s=Math.round(t-60*n*60-60*a);return n+":"+(a<10?"0"+a:a)+":"+(s<10?"0"+s:s)},unformat:function(t){var e=t.split(":"),i=0;return 3===e.length?(i+=60*Number(e[0])*60,i+=60*Number(e[1]),i+=Number(e[2])):2===e.length&&(i+=60*Number(e[0]),i+=Number(e[1])),Number(i)}}),b}),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(C,t){"use strict";var e=[],S=C.document,n=Object.getPrototypeOf,r=e.slice,m=e.concat,l=e.push,a=e.indexOf,i={},s=i.toString,f=i.hasOwnProperty,o=f.toString,h=o.call(Object),g={};function v(t,e){var i=(e=e||S).createElement("script");i.text=t,e.head.appendChild(i).parentNode.removeChild(i)}var M=function(t,e){return new M.fn.init(t,e)},c=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,d=/^-ms-/,u=/-([a-z])/g,p=function(t,e){return e.toUpperCase()};function b(t){var e=!!t&&"length"in t&&t.length,i=M.type(t);return"function"!==i&&!M.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}M.fn=M.prototype={jquery:"3.1.1",constructor:M,length:0,toArray:function(){return r.call(this)},get:function(t){return null==t?r.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=M.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return M.each(this,t)},map:function(i){return this.pushStack(M.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(0<=i&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:e.sort,splice:e.splice},M.extend=M.fn.extend=function(){var t,e,i,n,a,s,o=arguments[0]||{},r=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[r]||{},r++),"object"==typeof o||M.isFunction(o)||(o={}),r===l&&(o=this,r--);r<l;r++)if(null!=(t=arguments[r]))for(e in t)i=o[e],o!==(n=t[e])&&(h&&n&&(M.isPlainObject(n)||(a=M.isArray(n)))?(a?(a=!1,s=i&&M.isArray(i)?i:[]):s=i&&M.isPlainObject(i)?i:{},o[e]=M.extend(h,s,n)):void 0!==n&&(o[e]=n));return o},M.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===M.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=M.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==s.call(t))&&(!(e=n(t))||"function"==typeof(i=f.call(e,"constructor")&&e.constructor)&&o.call(i)===h)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[s.call(t)]||"object":typeof t},globalEval:function(t){v(t)},camelCase:function(t){return t.replace(d,"ms-").replace(u,p)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,n=0;if(b(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(c,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(b(Object(t))?M.merge(i,"string"==typeof t?[t]:t):l.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:a.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,a=t.length;n<i;n++)t[a++]=e[n];return t.length=a,t},grep:function(t,e,i){for(var n=[],a=0,s=t.length,o=!i;a<s;a++)!e(t[a],a)!==o&&n.push(t[a]);return n},map:function(t,e,i){var n,a,s=0,o=[];if(b(t))for(n=t.length;s<n;s++)null!=(a=e(t[s],s,i))&&o.push(a);else for(s in t)null!=(a=e(t[s],s,i))&&o.push(a);return m.apply([],o)},guid:1,proxy:function(t,e){var i,n,a;if("string"==typeof e&&(i=t[e],e=t,t=i),M.isFunction(t))return n=r.call(arguments,2),(a=function(){return t.apply(e||this,n.concat(r.call(arguments)))}).guid=t.guid=t.guid||M.guid++,a},now:Date.now,support:g}),"function"==typeof Symbol&&(M.fn[Symbol.iterator]=e[Symbol.iterator]),M.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){i["[object "+e+"]"]=e.toLowerCase()});var y=function(i){var t,p,x,s,a,f,d,m,w,l,h,T,C,o,S,g,r,c,v,M="sizzle"+1*new Date,b=i.document,A=0,n=0,u=ot(),y=ot(),k=ot(),D=function(t,e){return t===e&&(h=!0),0},P={}.hasOwnProperty,e=[],E=e.pop,_=e.push,N=e.push,L=e.slice,O=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",H="\\["+B+"*("+R+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+B+"*\\]",$=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",V=new RegExp(B+"+","g"),G=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),F=new RegExp("^"+B+"*,"+B+"*"),Y=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),W=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),j=new RegExp($),z=new RegExp("^"+R+"$"),X={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},U=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),tt=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){T()},at=bt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{N.apply(e=L.call(b.childNodes),b.childNodes),e[b.childNodes.length].nodeType}catch(t){N={apply:e.length?function(t,e){_.apply(t,L.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function st(t,e,i,n){var a,s,o,r,l,h,c,d=e&&e.ownerDocument,u=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==u&&9!==u&&11!==u)return i;if(!n&&((e?e.ownerDocument||e:b)!==C&&T(e),e=e||C,S)){if(11!==u&&(l=Z.exec(t)))if(a=l[1]){if(9===u){if(!(o=e.getElementById(a)))return i;if(o.id===a)return i.push(o),i}else if(d&&(o=d.getElementById(a))&&v(e,o)&&o.id===a)return i.push(o),i}else{if(l[2])return N.apply(i,e.getElementsByTagName(t)),i;if((a=l[3])&&p.getElementsByClassName&&e.getElementsByClassName)return N.apply(i,e.getElementsByClassName(a)),i}if(p.qsa&&!k[t+" "]&&(!g||!g.test(t))){if(1!==u)d=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((r=e.getAttribute("id"))?r=r.replace(et,it):e.setAttribute("id",r=M),s=(h=f(t)).length;s--;)h[s]="#"+r+" "+vt(h[s]);c=h.join(","),d=K.test(t)&&mt(e.parentNode)||e}if(c)try{return N.apply(i,d.querySelectorAll(c)),i}catch(t){}finally{r===M&&e.removeAttribute("id")}}}return m(t.replace(G,"$1"),e,i,n)}function ot(){var n=[];return function t(e,i){return n.push(e+" ")>x.cacheLength&&delete t[n.shift()],t[e+" "]=i}}function rt(t){return t[M]=!0,t}function lt(t){var e=C.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var i=t.split("|"),n=i.length;n--;)x.attrHandle[i[n]]=e}function ct(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function dt(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ut(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}function pt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&at(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ft(o){return rt(function(s){return s=+s,rt(function(t,e){for(var i,n=o([],t.length,s),a=n.length;a--;)t[i=n[a]]&&(t[i]=!(e[i]=t[i]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in p=st.support={},a=st.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},T=st.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:b;return n!==C&&9===n.nodeType&&n.documentElement&&(o=(C=n).documentElement,S=!a(C),b!==C&&(i=C.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",nt,!1):i.attachEvent&&i.attachEvent("onunload",nt)),p.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=lt(function(t){return t.appendChild(C.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=Q.test(C.getElementsByClassName),p.getById=lt(function(t){return o.appendChild(t).id=M,!C.getElementsByName||!C.getElementsByName(M).length}),p.getById?(x.filter.ID=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&S){var i=e.getElementById(t);return i?[i]:[]}}):(x.filter.ID=function(t){var i=t.replace(J,tt);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===i}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&S){var i,n,a,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(a=e.getElementsByName(t),n=0;s=a[n++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),x.find.TAG=p.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):p.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],a=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[a++];)1===i.nodeType&&n.push(i);return n}return s},x.find.CLASS=p.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&S)return e.getElementsByClassName(t)},r=[],g=[],(p.qsa=Q.test(C.querySelectorAll))&&(lt(function(t){o.appendChild(t).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+B+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+B+"*(?:value|"+I+")"),t.querySelectorAll("[id~="+M+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+M+"+*").length||g.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=C.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+B+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),o.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(p.matchesSelector=Q.test(c=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&lt(function(t){p.disconnectedMatch=c.call(t,"*"),c.call(t,"[s!='']:x"),r.push("!=",$)}),g=g.length&&new RegExp(g.join("|")),r=r.length&&new RegExp(r.join("|")),e=Q.test(o.compareDocumentPosition),v=e||Q.test(o.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},D=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===i?t===C||t.ownerDocument===b&&v(b,t)?-1:e===C||e.ownerDocument===b&&v(b,e)?1:l?O(l,t)-O(l,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var i,n=0,a=t.parentNode,s=e.parentNode,o=[t],r=[e];if(!a||!s)return t===C?-1:e===C?1:a?-1:s?1:l?O(l,t)-O(l,e):0;if(a===s)return ct(t,e);for(i=t;i=i.parentNode;)o.unshift(i);for(i=e;i=i.parentNode;)r.unshift(i);for(;o[n]===r[n];)n++;return n?ct(o[n],r[n]):o[n]===b?-1:r[n]===b?1:0}),C},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if((t.ownerDocument||t)!==C&&T(t),e=e.replace(W,"='$1']"),p.matchesSelector&&S&&!k[e+" "]&&(!r||!r.test(e))&&(!g||!g.test(e)))try{var i=c.call(t,e);if(i||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return 0<st(e,C,null,[t]).length},st.contains=function(t,e){return(t.ownerDocument||t)!==C&&T(t),v(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!==C&&T(t);var i=x.attrHandle[e.toLowerCase()],n=i&&P.call(x.attrHandle,e.toLowerCase())?i(t,e,!S):void 0;return void 0!==n?n:p.attributes||!S?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},st.escape=function(t){return(t+"").replace(et,it)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,i=[],n=0,a=0;if(h=!p.detectDuplicates,l=!p.sortStable&&t.slice(0),t.sort(D),h){for(;e=t[a++];)e===t[a]&&(n=i.push(a));for(;n--;)t.splice(i[n],1)}return l=null,t},s=st.getText=function(t){var e,i="",n=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=s(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[n++];)i+=s(e);return i},(x=st.selectors={cacheLength:50,createPseudo:rt,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&j.test(i)&&(e=f(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=u[t+" "];return e||(e=new RegExp("(^|"+B+")"+t+"("+B+"|$)"))&&u(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(i,n,a){return function(t){var e=st.attr(t,i);return null==e?"!="===n:!n||(e+="","="===n?e===a:"!="===n?e!==a:"^="===n?a&&0===e.indexOf(a):"*="===n?a&&-1<e.indexOf(a):"$="===n?a&&e.slice(-a.length)===a:"~="===n?-1<(" "+e.replace(V," ")+" ").indexOf(a):"|="===n&&(e===a||e.slice(0,a.length+1)===a+"-"))}},CHILD:function(f,t,e,m,g){var v="nth"!==f.slice(0,3),b="last"!==f.slice(-4),y="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,i){var n,a,s,o,r,l,h=v!==b?"nextSibling":"previousSibling",c=t.parentNode,d=y&&t.nodeName.toLowerCase(),u=!i&&!y,p=!1;if(c){if(v){for(;h;){for(o=t;o=o[h];)if(y?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=h="only"===f&&!l&&"nextSibling"}return!0}if(l=[b?c.firstChild:c.lastChild],b&&u){for(p=(r=(n=(a=(s=(o=c)[M]||(o[M]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]||[])[0]===A&&n[1])&&n[2],o=r&&c.childNodes[r];o=++r&&o&&o[h]||(p=r=0)||l.pop();)if(1===o.nodeType&&++p&&o===t){a[f]=[A,r,p];break}}else if(u&&(p=r=(n=(a=(s=(o=t)[M]||(o[M]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]||[])[0]===A&&n[1]),!1===p)for(;(o=++r&&o&&o[h]||(p=r=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++p||(u&&((a=(s=o[M]||(o[M]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]=[A,p]),o!==t)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(t,s){var e,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return o[M]?o(s):1<o.length?(e=[t,t,"",s],x.setFilters.hasOwnProperty(t.toLowerCase())?rt(function(t,e){for(var i,n=o(t,s),a=n.length;a--;)t[i=O(t,n[a])]=!(e[i]=n[a])}):function(t){return o(t,0,e)}):o}},pseudos:{not:rt(function(t){var n=[],a=[],r=d(t.replace(G,"$1"));return r[M]?rt(function(t,e,i,n){for(var a,s=r(t,null,n,[]),o=t.length;o--;)(a=s[o])&&(t[o]=!(e[o]=a))}):function(t,e,i){return n[0]=t,r(n,null,i,a),n[0]=null,!a.pop()}}),has:rt(function(e){return function(t){return 0<st(e,t).length}}),contains:rt(function(e){return e=e.replace(J,tt),function(t){return-1<(t.textContent||t.innerText||s(t)).indexOf(e)}}),lang:rt(function(i){return z.test(i||"")||st.error("unsupported lang: "+i),i=i.replace(J,tt).toLowerCase(),function(t){var e;do{if(e=S?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===o},focus:function(t){return t===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return q.test(t.nodeName)},input:function(t){return U.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,i){return[i<0?i+e:i]}),even:ft(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:ft(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:ft(function(t,e,i){for(var n=i<0?i+e:i;0<=--n;)t.push(n);return t}),gt:ft(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[t]=dt(t);for(t in{submit:!0,reset:!0})x.pseudos[t]=ut(t);function gt(){}function vt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function bt(r,t,e){var l=t.dir,h=t.next,c=h||l,d=e&&"parentNode"===c,u=n++;return t.first?function(t,e,i){for(;t=t[l];)if(1===t.nodeType||d)return r(t,e,i);return!1}:function(t,e,i){var n,a,s,o=[A,u];if(i){for(;t=t[l];)if((1===t.nodeType||d)&&r(t,e,i))return!0}else for(;t=t[l];)if(1===t.nodeType||d)if(a=(s=t[M]||(t[M]={}))[t.uniqueID]||(s[t.uniqueID]={}),h&&h===t.nodeName.toLowerCase())t=t[l]||t;else{if((n=a[c])&&n[0]===A&&n[1]===u)return o[2]=n[2];if((a[c]=o)[2]=r(t,e,i))return!0}return!1}}function yt(a){return 1<a.length?function(t,e,i){for(var n=a.length;n--;)if(!a[n](t,e,i))return!1;return!0}:a[0]}function xt(t,e,i,n,a){for(var s,o=[],r=0,l=t.length,h=null!=e;r<l;r++)(s=t[r])&&(i&&!i(s,n,a)||(o.push(s),h&&e.push(r)));return o}function wt(p,f,m,g,v,t){return g&&!g[M]&&(g=wt(g)),v&&!v[M]&&(v=wt(v,t)),rt(function(t,e,i,n){var a,s,o,r=[],l=[],h=e.length,c=t||function(t,e,i){for(var n=0,a=e.length;n<a;n++)st(t,e[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),d=!p||!t&&f?c:xt(c,r,p,i,n),u=m?v||(t?p:h||g)?[]:e:d;if(m&&m(d,u,i,n),g)for(a=xt(u,l),g(a,[],i,n),s=a.length;s--;)(o=a[s])&&(u[l[s]]=!(d[l[s]]=o));if(t){if(v||p){if(v){for(a=[],s=u.length;s--;)(o=u[s])&&a.push(d[s]=o);v(null,u=[],a,n)}for(s=u.length;s--;)(o=u[s])&&-1<(a=v?O(t,o):r[s])&&(t[a]=!(e[a]=o))}}else u=xt(u===e?u.splice(h,u.length):u),v?v(null,e,u,n):N.apply(e,u)})}function Tt(t){for(var a,e,i,n=t.length,s=x.relative[t[0].type],o=s||x.relative[" "],r=s?1:0,l=bt(function(t){return t===a},o,!0),h=bt(function(t){return-1<O(a,t)},o,!0),c=[function(t,e,i){var n=!s&&(i||e!==w)||((a=e).nodeType?l(t,e,i):h(t,e,i));return a=null,n}];r<n;r++)if(e=x.relative[t[r].type])c=[bt(yt(c),e)];else{if((e=x.filter[t[r].type].apply(null,t[r].matches))[M]){for(i=++r;i<n&&!x.relative[t[i].type];i++);return wt(1<r&&yt(c),1<r&&vt(t.slice(0,r-1).concat({value:" "===t[r-2].type?"*":""})).replace(G,"$1"),e,r<i&&Tt(t.slice(r,i)),i<n&&Tt(t=t.slice(i)),i<n&&vt(t))}c.push(e)}return yt(c)}return gt.prototype=x.filters=x.pseudos,x.setFilters=new gt,f=st.tokenize=function(t,e){var i,n,a,s,o,r,l,h=y[t+" "];if(h)return e?0:h.slice(0);for(o=t,r=[],l=x.preFilter;o;){for(s in i&&!(n=F.exec(o))||(n&&(o=o.slice(n[0].length)||o),r.push(a=[])),i=!1,(n=Y.exec(o))&&(i=n.shift(),a.push({value:i,type:n[0].replace(G," ")}),o=o.slice(i.length)),x.filter)!(n=X[s].exec(o))||l[s]&&!(n=l[s](n))||(i=n.shift(),a.push({value:i,type:s,matches:n}),o=o.slice(i.length));if(!i)break}return e?o.length:o?st.error(t):y(t,r).slice(0)},d=st.compile=function(t,e){var i,g,v,b,y,n,a=[],s=[],o=k[t+" "];if(!o){for(e||(e=f(t)),i=e.length;i--;)(o=Tt(e[i]))[M]?a.push(o):s.push(o);(o=k(t,(g=s,b=0<(v=a).length,y=0<g.length,n=function(t,e,i,n,a){var s,o,r,l=0,h="0",c=t&&[],d=[],u=w,p=t||y&&x.find.TAG("*",a),f=A+=null==u?1:Math.random()||.1,m=p.length;for(a&&(w=e===C||e||a);h!==m&&null!=(s=p[h]);h++){if(y&&s){for(o=0,e||s.ownerDocument===C||(T(s),i=!S);r=g[o++];)if(r(s,e||C,i)){n.push(s);break}a&&(A=f)}b&&((s=!r&&s)&&l--,t&&c.push(s))}if(l+=h,b&&h!==l){for(o=0;r=v[o++];)r(c,d,e,i);if(t){if(0<l)for(;h--;)c[h]||d[h]||(d[h]=E.call(n));d=xt(d)}N.apply(n,d),a&&!t&&0<d.length&&1<l+v.length&&st.uniqueSort(n)}return a&&(A=f,w=u),c},b?rt(n):n))).selector=t}return o},m=st.select=function(t,e,i,n){var a,s,o,r,l,h="function"==typeof t&&t,c=!n&&f(t=h.selector||t);if(i=i||[],1===c.length){if(2<(s=c[0]=c[0].slice(0)).length&&"ID"===(o=s[0]).type&&9===e.nodeType&&S&&x.relative[s[1].type]){if(!(e=(x.find.ID(o.matches[0].replace(J,tt),e)||[])[0]))return i;h&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(a=X.needsContext.test(t)?0:s.length;a--&&(o=s[a],!x.relative[r=o.type]);)if((l=x.find[r])&&(n=l(o.matches[0].replace(J,tt),K.test(s[0].type)&&mt(e.parentNode)||e))){if(s.splice(a,1),!(t=n.length&&vt(s)))return N.apply(i,n),i;break}}return(h||d(t,c))(n,e,!S,i,!e||K.test(t)&&mt(e.parentNode)||e),i},p.sortStable=M.split("").sort(D).join("")===M,p.detectDuplicates=!!h,T(),p.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(C.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ht("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ht("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ht(I,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),st}(C);M.find=y,M.expr=y.selectors,M.expr[":"]=M.expr.pseudos,M.uniqueSort=M.unique=y.uniqueSort,M.text=y.getText,M.isXMLDoc=y.isXML,M.contains=y.contains,M.escapeSelector=y.escape;var x=function(t,e,i){for(var n=[],a=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(a&&M(t).is(i))break;n.push(t)}return n},w=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},T=M.expr.match.needsContext,A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,k=/^.[^:#\[\.,]*$/;function D(t,i,n){return M.isFunction(i)?M.grep(t,function(t,e){return!!i.call(t,e,t)!==n}):i.nodeType?M.grep(t,function(t){return t===i!==n}):"string"!=typeof i?M.grep(t,function(t){return-1<a.call(i,t)!==n}):k.test(i)?M.filter(i,t,n):(i=M.filter(i,t),M.grep(t,function(t){return-1<a.call(i,t)!==n&&1===t.nodeType}))}M.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?M.find.matchesSelector(n,t)?[n]:[]:M.find.matches(t,M.grep(e,function(t){return 1===t.nodeType}))},M.fn.extend({find:function(t){var e,i,n=this.length,a=this;if("string"!=typeof t)return this.pushStack(M(t).filter(function(){for(e=0;e<n;e++)if(M.contains(a[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)M.find(t,a[e],i);return 1<n?M.uniqueSort(i):i},filter:function(t){return this.pushStack(D(this,t||[],!1))},not:function(t){return this.pushStack(D(this,t||[],!0))},is:function(t){return!!D(this,"string"==typeof t&&T.test(t)?M(t):t||[],!1).length}});var P,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(M.fn.init=function(t,e,i){var n,a;if(!t)return this;if(i=i||P,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:E.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof M?e[0]:e,M.merge(this,M.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:S,!0)),A.test(n[1])&&M.isPlainObject(e))for(n in e)M.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(a=S.getElementById(n[2]))&&(this[0]=a,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):M.isFunction(t)?void 0!==i.ready?i.ready(t):t(M):M.makeArray(t,this)}).prototype=M.fn,P=M(S);var _=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}M.fn.extend({has:function(t){var e=M(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(M.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,a=this.length,s=[],o="string"!=typeof t&&M(t);if(!T.test(t))for(;n<a;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?-1<o.index(i):1===i.nodeType&&M.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(1<s.length?M.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?a.call(M(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(M.uniqueSort(M.merge(this.get(),M(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),M.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return x(t,"parentNode")},parentsUntil:function(t,e,i){return x(t,"parentNode",i)},next:function(t){return L(t,"nextSibling")},prev:function(t){return L(t,"previousSibling")},nextAll:function(t){return x(t,"nextSibling")},prevAll:function(t){return x(t,"previousSibling")},nextUntil:function(t,e,i){return x(t,"nextSibling",i)},prevUntil:function(t,e,i){return x(t,"previousSibling",i)},siblings:function(t){return w((t.parentNode||{}).firstChild,t)},children:function(t){return w(t.firstChild)},contents:function(t){return t.contentDocument||M.merge([],t.childNodes)}},function(n,a){M.fn[n]=function(t,e){var i=M.map(this,a,t);return"Until"!==n.slice(-5)&&(e=t),e&&"string"==typeof e&&(i=M.filter(e,i)),1<this.length&&(N[n]||M.uniqueSort(i),_.test(n)&&i.reverse()),this.pushStack(i)}});var O=/[^\x20\t\r\n\f]+/g;function I(t){return t}function B(t){throw t}function R(t,e,i){var n;try{t&&M.isFunction(n=t.promise)?n.call(t).done(e).fail(i):t&&M.isFunction(n=t.then)?n.call(t,e,i):e.call(void 0,t)}catch(t){i.call(void 0,t)}}M.Callbacks=function(n){var t,i;n="string"==typeof n?(t=n,i={},M.each(t.match(O)||[],function(t,e){i[e]=!0}),i):M.extend({},n);var a,e,s,o,r=[],l=[],h=-1,c=function(){for(o=n.once,s=a=!0;l.length;h=-1)for(e=l.shift();++h<r.length;)!1===r[h].apply(e[0],e[1])&&n.stopOnFalse&&(h=r.length,e=!1);n.memory||(e=!1),a=!1,o&&(r=e?[]:"")},d={add:function(){return r&&(e&&!a&&(h=r.length-1,l.push(e)),function i(t){M.each(t,function(t,e){M.isFunction(e)?n.unique&&d.has(e)||r.push(e):e&&e.length&&"string"!==M.type(e)&&i(e)})}(arguments),e&&!a&&c()),this},remove:function(){return M.each(arguments,function(t,e){for(var i;-1<(i=M.inArray(e,r,i));)r.splice(i,1),i<=h&&h--}),this},has:function(t){return t?-1<M.inArray(t,r):0<r.length},empty:function(){return r&&(r=[]),this},disable:function(){return o=l=[],r=e="",this},disabled:function(){return!r},lock:function(){return o=l=[],e||a||(r=e=""),this},locked:function(){return!!o},fireWith:function(t,e){return o||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),a||c()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!s}};return d},M.extend({Deferred:function(t){var s=[["notify","progress",M.Callbacks("memory"),M.Callbacks("memory"),2],["resolve","done",M.Callbacks("once memory"),M.Callbacks("once memory"),0,"resolved"],["reject","fail",M.Callbacks("once memory"),M.Callbacks("once memory"),1,"rejected"]],a="pending",o={state:function(){return a},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var a=arguments;return M.Deferred(function(n){M.each(s,function(t,e){var i=M.isFunction(a[e[4]])&&a[e[4]];r[e[1]](function(){var t=i&&i.apply(this,arguments);t&&M.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[e[0]+"With"](this,i?[t]:arguments)})}),a=null}).promise()},then:function(e,i,n){var l=0;function h(a,s,o,r){return function(){var i=this,n=arguments,t=function(){var t,e;if(!(a<l)){if((t=o.apply(i,n))===s.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,M.isFunction(e)?r?e.call(t,h(l,s,I,r),h(l,s,B,r)):(l++,e.call(t,h(l,s,I,r),h(l,s,B,r),h(l,s,I,s.notifyWith))):(o!==I&&(i=void 0,n=[t]),(r||s.resolveWith)(i,n))}},e=r?t:function(){try{t()}catch(t){M.Deferred.exceptionHook&&M.Deferred.exceptionHook(t,e.stackTrace),l<=a+1&&(o!==B&&(i=void 0,n=[t]),s.rejectWith(i,n))}};a?e():(M.Deferred.getStackHook&&(e.stackTrace=M.Deferred.getStackHook()),C.setTimeout(e))}}return M.Deferred(function(t){s[0][3].add(h(0,t,M.isFunction(n)?n:I,t.notifyWith)),s[1][3].add(h(0,t,M.isFunction(e)?e:I)),s[2][3].add(h(0,t,M.isFunction(i)?i:B))}).promise()},promise:function(t){return null!=t?M.extend(t,o):o}},r={};return M.each(s,function(t,e){var i=e[2],n=e[5];o[e[1]]=i.add,n&&i.add(function(){a=n},s[3-t][2].disable,s[0][2].lock),i.add(e[3].fire),r[e[0]]=function(){return r[e[0]+"With"](this===r?void 0:this,arguments),this},r[e[0]+"With"]=i.fireWith}),o.promise(r),t&&t.call(r,r),r},when:function(t){var i=arguments.length,e=i,n=Array(e),a=r.call(arguments),s=M.Deferred(),o=function(e){return function(t){n[e]=this,a[e]=1<arguments.length?r.call(arguments):t,--i||s.resolveWith(n,a)}};if(i<=1&&(R(t,s.done(o(e)).resolve,s.reject),"pending"===s.state()||M.isFunction(a[e]&&a[e].then)))return s.then();for(;e--;)R(a[e],o(e),s.reject);return s.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;M.Deferred.exceptionHook=function(t,e){C.console&&C.console.warn&&t&&H.test(t.name)&&C.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},M.readyException=function(t){C.setTimeout(function(){throw t})};var $=M.Deferred();function V(){S.removeEventListener("DOMContentLoaded",V),C.removeEventListener("load",V),M.ready()}M.fn.ready=function(t){return $.then(t).catch(function(t){M.readyException(t)}),this},M.extend({isReady:!1,readyWait:1,holdReady:function(t){t?M.readyWait++:M.ready(!0)},ready:function(t){(!0===t?--M.readyWait:M.isReady)||(M.isReady=!0)!==t&&0<--M.readyWait||$.resolveWith(S,[M])}}),M.ready.then=$.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?C.setTimeout(M.ready):(S.addEventListener("DOMContentLoaded",V),C.addEventListener("load",V));var G=function(t,e,i,n,a,s,o){var r=0,l=t.length,h=null==i;if("object"===M.type(i))for(r in a=!0,i)G(t,e,r,i[r],!0,s,o);else if(void 0!==n&&(a=!0,M.isFunction(n)||(o=!0),h&&(o?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(M(t),i)})),e))for(;r<l;r++)e(t[r],i,o?n:n.call(t[r],r,e(t[r],i)));return a?t:h?e.call(t):l?e(t[0],i):s},F=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Y(){this.expando=M.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},F(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,a=this.cache(t);if("string"==typeof e)a[M.camelCase(e)]=i;else for(n in e)a[M.camelCase(n)]=e[n];return a},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][M.camelCase(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=M.isArray(e)?e.map(M.camelCase):(e=M.camelCase(e))in n?[e]:e.match(O)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||M.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!M.isEmptyObject(e)}};var W=new Y,j=new Y,z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,X=/[A-Z]/g;function U(t,e,i){var n,a;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(X,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===(a=i)||"false"!==a&&("null"===a?null:a===+a+""?+a:z.test(a)?JSON.parse(a):a)}catch(t){}j.set(t,e,i)}else i=void 0;return i}M.extend({hasData:function(t){return j.hasData(t)||W.hasData(t)},data:function(t,e,i){return j.access(t,e,i)},removeData:function(t,e){j.remove(t,e)},_data:function(t,e,i){return W.access(t,e,i)},_removeData:function(t,e){W.remove(t,e)}}),M.fn.extend({data:function(i,t){var e,n,a,s=this[0],o=s&&s.attributes;if(void 0===i){if(this.length&&(a=j.get(s),1===s.nodeType&&!W.get(s,"hasDataAttrs"))){for(e=o.length;e--;)o[e]&&0===(n=o[e].name).indexOf("data-")&&(n=M.camelCase(n.slice(5)),U(s,n,a[n]));W.set(s,"hasDataAttrs",!0)}return a}return"object"==typeof i?this.each(function(){j.set(this,i)}):G(this,function(t){var e;if(s&&void 0===t)return void 0!==(e=j.get(s,i))?e:void 0!==(e=U(s,i))?e:void 0;this.each(function(){j.set(this,i,t)})},null,t,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){j.remove(this,t)})}}),M.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=W.get(t,e),i&&(!n||M.isArray(i)?n=W.access(t,e,M.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=M.queue(t,e),n=i.length,a=i.shift(),s=M._queueHooks(t,e);"inprogress"===a&&(a=i.shift(),n--),a&&("fx"===e&&i.unshift("inprogress"),delete s.stop,a.call(t,function(){M.dequeue(t,e)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return W.get(t,i)||W.access(t,i,{empty:M.Callbacks("once memory").add(function(){W.remove(t,[e+"queue",i])})})}}),M.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?M.queue(this[0],e):void 0===i?this:this.each(function(){var t=M.queue(this,e,i);M._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&M.dequeue(this,e)})},dequeue:function(t){return this.each(function(){M.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,a=M.Deferred(),s=this,o=this.length,r=function(){--n||a.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=W.get(s[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(r));return r(),a.promise(e)}});var q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Q=new RegExp("^(?:([+-])=|)("+q+")([a-z%]*)$","i"),Z=["Top","Right","Bottom","Left"],K=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&M.contains(t.ownerDocument,t)&&"none"===M.css(t,"display")},J=function(t,e,i,n){var a,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];for(s in a=i.apply(t,n||[]),e)t.style[s]=o[s];return a};function tt(t,e,i,n){var a,s=1,o=20,r=n?function(){return n.cur()}:function(){return M.css(t,e,"")},l=r(),h=i&&i[3]||(M.cssNumber[e]?"":"px"),c=(M.cssNumber[e]||"px"!==h&&+l)&&Q.exec(M.css(t,e));if(c&&c[3]!==h)for(h=h||c[3],i=i||[],c=+l||1;c/=s=s||".5",M.style(t,e,c+h),s!==(s=r()/l)&&1!==s&&--o;);return i&&(c=+c||+l||0,a=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=c,n.end=a)),a}var et={};function it(t,e){for(var i,n,a,s,o,r,l,h=[],c=0,d=t.length;c<d;c++)(n=t[c]).style&&(i=n.style.display,e?("none"===i&&(h[c]=W.get(n,"display")||null,h[c]||(n.style.display="")),""===n.style.display&&K(n)&&(h[c]=(l=o=s=void 0,o=(a=n).ownerDocument,r=a.nodeName,(l=et[r])||(s=o.body.appendChild(o.createElement(r)),l=M.css(s,"display"),s.parentNode.removeChild(s),"none"===l&&(l="block"),et[r]=l)))):"none"!==i&&(h[c]="none",W.set(n,"display",i)));for(c=0;c<d;c++)null!=h[c]&&(t[c].style.display=h[c]);return t}M.fn.extend({show:function(){return it(this,!0)},hide:function(){return it(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){K(this)?M(this).show():M(this).hide()})}});var nt=/^(?:checkbox|radio)$/i,at=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,st=/^$|\/(?:java|ecma)script/i,ot={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function rt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&M.nodeName(t,e)?M.merge([t],i):i}function lt(t,e){for(var i=0,n=t.length;i<n;i++)W.set(t[i],"globalEval",!e||W.get(e[i],"globalEval"))}ot.optgroup=ot.option,ot.tbody=ot.tfoot=ot.colgroup=ot.caption=ot.thead,ot.th=ot.td;var ht,ct,dt=/<|&#?\w+;/;function ut(t,e,i,n,a){for(var s,o,r,l,h,c,d=e.createDocumentFragment(),u=[],p=0,f=t.length;p<f;p++)if((s=t[p])||0===s)if("object"===M.type(s))M.merge(u,s.nodeType?[s]:s);else if(dt.test(s)){for(o=o||d.appendChild(e.createElement("div")),r=(at.exec(s)||["",""])[1].toLowerCase(),l=ot[r]||ot._default,o.innerHTML=l[1]+M.htmlPrefilter(s)+l[2],c=l[0];c--;)o=o.lastChild;M.merge(u,o.childNodes),(o=d.firstChild).textContent=""}else u.push(e.createTextNode(s));for(d.textContent="",p=0;s=u[p++];)if(n&&-1<M.inArray(s,n))a&&a.push(s);else if(h=M.contains(s.ownerDocument,s),o=rt(d.appendChild(s),"script"),h&&lt(o),i)for(c=0;s=o[c++];)st.test(s.type||"")&&i.push(s);return d}ht=S.createDocumentFragment().appendChild(S.createElement("div")),(ct=S.createElement("input")).setAttribute("type","radio"),ct.setAttribute("checked","checked"),ct.setAttribute("name","t"),ht.appendChild(ct),g.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue;var pt=S.documentElement,ft=/^key/,mt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,gt=/^([^.]*)(?:\.(.+)|)/;function vt(){return!0}function bt(){return!1}function yt(){try{return S.activeElement}catch(t){}}function xt(t,e,i,n,a,s){var o,r;if("object"==typeof e){for(r in"string"!=typeof i&&(n=n||i,i=void 0),e)xt(t,r,i,n,e[r],s);return t}if(null==n&&null==a?(a=i,n=i=void 0):null==a&&("string"==typeof i?(a=n,n=void 0):(a=n,n=i,i=void 0)),!1===a)a=bt;else if(!a)return t;return 1===s&&(o=a,(a=function(t){return M().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=M.guid++)),t.each(function(){M.event.add(this,e,a,n,i)})}M.event={global:{},add:function(e,t,i,n,a){var s,o,r,l,h,c,d,u,p,f,m,g=W.get(e);if(g)for(i.handler&&(i=(s=i).handler,a=s.selector),a&&M.find.matchesSelector(pt,a),i.guid||(i.guid=M.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(t){return void 0!==M&&M.event.triggered!==t.type?M.event.dispatch.apply(e,arguments):void 0}),h=(t=(t||"").match(O)||[""]).length;h--;)p=m=(r=gt.exec(t[h])||[])[1],f=(r[2]||"").split(".").sort(),p&&(d=M.event.special[p]||{},p=(a?d.delegateType:d.bindType)||p,d=M.event.special[p]||{},c=M.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:a,needsContext:a&&M.expr.match.needsContext.test(a),namespace:f.join(".")},s),(u=l[p])||((u=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,o)||e.addEventListener&&e.addEventListener(p,o)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),a?u.splice(u.delegateCount++,0,c):u.push(c),M.event.global[p]=!0)},remove:function(t,e,i,n,a){var s,o,r,l,h,c,d,u,p,f,m,g=W.hasData(t)&&W.get(t);if(g&&(l=g.events)){for(h=(e=(e||"").match(O)||[""]).length;h--;)if(p=m=(r=gt.exec(e[h])||[])[1],f=(r[2]||"").split(".").sort(),p){for(d=M.event.special[p]||{},u=l[p=(n?d.delegateType:d.bindType)||p]||[],r=r[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=u.length;s--;)c=u[s],!a&&m!==c.origType||i&&i.guid!==c.guid||r&&!r.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(u.splice(s,1),c.selector&&u.delegateCount--,d.remove&&d.remove.call(t,c));o&&!u.length&&(d.teardown&&!1!==d.teardown.call(t,f,g.handle)||M.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)M.event.remove(t,p+e[h],i,n,!0);M.isEmptyObject(l)&&W.remove(t,"handle events")}},dispatch:function(t){var e,i,n,a,s,o,r=M.event.fix(t),l=new Array(arguments.length),h=(W.get(this,"events")||{})[r.type]||[],c=M.event.special[r.type]||{};for(l[0]=r,e=1;e<arguments.length;e++)l[e]=arguments[e];if(r.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,r)){for(o=M.event.handlers.call(this,r,h),e=0;(a=o[e++])&&!r.isPropagationStopped();)for(r.currentTarget=a.elem,i=0;(s=a.handlers[i++])&&!r.isImmediatePropagationStopped();)r.rnamespace&&!r.rnamespace.test(s.namespace)||(r.handleObj=s,r.data=s.data,void 0!==(n=((M.event.special[s.origType]||{}).handle||s.handler).apply(a.elem,l))&&!1===(r.result=n)&&(r.preventDefault(),r.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,r),r.result}},handlers:function(t,e){var i,n,a,s,o,r=[],l=e.delegateCount,h=t.target;if(l&&h.nodeType&&!("click"===t.type&&1<=t.button))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(s=[],o={},i=0;i<l;i++)void 0===o[a=(n=e[i]).selector+" "]&&(o[a]=n.needsContext?-1<M(a,this).index(h):M.find(a,this,null,[h]).length),o[a]&&s.push(n);s.length&&r.push({elem:h,handlers:s})}return h=this,l<e.length&&r.push({elem:h,handlers:e.slice(l)}),r},addProp:function(e,t){Object.defineProperty(M.Event.prototype,e,{enumerable:!0,configurable:!0,get:M.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[M.expando]?t:new M.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==yt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===yt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&M.nodeName(this,"input"))return this.click(),!1},_default:function(t){return M.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},M.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},M.Event=function(t,e){if(!(this instanceof M.Event))return new M.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?vt:bt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&M.extend(this,e),this.timeStamp=t&&t.timeStamp||M.now(),this[M.expando]=!0},M.Event.prototype={constructor:M.Event,isDefaultPrevented:bt,isPropagationStopped:bt,isImmediatePropagationStopped:bt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=vt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=vt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=vt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},M.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&ft.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&mt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},M.event.addProp),M.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,a){M.event.special[t]={delegateType:a,bindType:a,handle:function(t){var e,i=t.relatedTarget,n=t.handleObj;return i&&(i===this||M.contains(this,i))||(t.type=n.origType,e=n.handler.apply(this,arguments),t.type=a),e}}}),M.fn.extend({on:function(t,e,i,n){return xt(this,t,e,i,n)},one:function(t,e,i,n){return xt(this,t,e,i,n,1)},off:function(t,e,i){var n,a;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,M(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(a in t)this.off(a,e,t[a]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=bt),this.each(function(){M.event.remove(this,t,i,e)})}});var wt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Tt=/<script|<style|<link/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,St=/^true\/(.*)/,Mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function At(t,e){return M.nodeName(t,"table")&&M.nodeName(11!==e.nodeType?e:e.firstChild,"tr")&&t.getElementsByTagName("tbody")[0]||t}function kt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Dt(t){var e=St.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function Pt(t,e){var i,n,a,s,o,r,l,h;if(1===e.nodeType){if(W.hasData(t)&&(s=W.access(t),o=W.set(e,s),h=s.events))for(a in delete o.handle,o.events={},h)for(i=0,n=h[a].length;i<n;i++)M.event.add(e,a,h[a][i]);j.hasData(t)&&(r=j.access(t),l=M.extend({},r),j.set(e,l))}}function Et(i,n,a,s){n=m.apply([],n);var t,e,o,r,l,h,c=0,d=i.length,u=d-1,p=n[0],f=M.isFunction(p);if(f||1<d&&"string"==typeof p&&!g.checkClone&&Ct.test(p))return i.each(function(t){var e=i.eq(t);f&&(n[0]=p.call(this,t,e.html())),Et(e,n,a,s)});if(d&&(e=(t=ut(n,i[0].ownerDocument,!1,i,s)).firstChild,1===t.childNodes.length&&(t=e),e||s)){for(r=(o=M.map(rt(t,"script"),kt)).length;c<d;c++)l=t,c!==u&&(l=M.clone(l,!0,!0),r&&M.merge(o,rt(l,"script"))),a.call(i[c],l,c);if(r)for(h=o[o.length-1].ownerDocument,M.map(o,Dt),c=0;c<r;c++)l=o[c],st.test(l.type||"")&&!W.access(l,"globalEval")&&M.contains(h,l)&&(l.src?M._evalUrl&&M._evalUrl(l.src):v(l.textContent.replace(Mt,""),h))}return i}function _t(t,e,i){for(var n,a=e?M.filter(e,t):t,s=0;null!=(n=a[s]);s++)i||1!==n.nodeType||M.cleanData(rt(n)),n.parentNode&&(i&&M.contains(n.ownerDocument,n)&&lt(rt(n,"script")),n.parentNode.removeChild(n));return t}M.extend({htmlPrefilter:function(t){return t.replace(wt,"<$1></$2>")},clone:function(t,e,i){var n,a,s,o,r,l,h,c=t.cloneNode(!0),d=M.contains(t.ownerDocument,t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||M.isXMLDoc(t)))for(o=rt(c),n=0,a=(s=rt(t)).length;n<a;n++)r=s[n],l=o[n],void 0,"input"===(h=l.nodeName.toLowerCase())&&nt.test(r.type)?l.checked=r.checked:"input"!==h&&"textarea"!==h||(l.defaultValue=r.defaultValue);if(e)if(i)for(s=s||rt(t),o=o||rt(c),n=0,a=s.length;n<a;n++)Pt(s[n],o[n]);else Pt(t,c);return 0<(o=rt(c,"script")).length&&lt(o,!d&&rt(t,"script")),c},cleanData:function(t){for(var e,i,n,a=M.event.special,s=0;void 0!==(i=t[s]);s++)if(F(i)){if(e=i[W.expando]){if(e.events)for(n in e.events)a[n]?M.event.remove(i,n):M.removeEvent(i,n,e.handle);i[W.expando]=void 0}i[j.expando]&&(i[j.expando]=void 0)}}}),M.fn.extend({detach:function(t){return _t(this,t,!0)},remove:function(t){return _t(this,t)},text:function(t){return G(this,function(t){return void 0===t?M.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Et(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||At(this,t).appendChild(t)})},prepend:function(){return Et(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=At(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Et(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Et(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(M.cleanData(rt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return M.clone(this,t,e)})},html:function(t){return G(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Tt.test(t)&&!ot[(at.exec(t)||["",""])[1].toLowerCase()]){t=M.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(M.cleanData(rt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=[];return Et(this,arguments,function(t){var e=this.parentNode;M.inArray(this,i)<0&&(M.cleanData(rt(this)),e&&e.replaceChild(t,this))},i)}}),M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,o){M.fn[t]=function(t){for(var e,i=[],n=M(t),a=n.length-1,s=0;s<=a;s++)e=s===a?this:this.clone(!0),M(n[s])[o](e),l.apply(i,e.get());return this.pushStack(i)}});var Nt=/^margin/,Lt=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),Ot=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=C),e.getComputedStyle(t)};function It(t,e,i){var n,a,s,o,r=t.style;return(i=i||Ot(t))&&(""!==(o=i.getPropertyValue(e)||i[e])||M.contains(t.ownerDocument,t)||(o=M.style(t,e)),!g.pixelMarginRight()&&Lt.test(o)&&Nt.test(e)&&(n=r.width,a=r.minWidth,s=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=i.width,r.width=n,r.minWidth=a,r.maxWidth=s)),void 0!==o?o+"":o}function Bt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(o){o.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",o.innerHTML="",pt.appendChild(s);var t=C.getComputedStyle(o);e="1%"!==t.top,a="2px"===t.marginLeft,i="4px"===t.width,o.style.marginRight="50%",n="4px"===t.marginRight,pt.removeChild(s),o=null}}var e,i,n,a,s=S.createElement("div"),o=S.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===o.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(o),M.extend(g,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),n},reliableMarginLeft:function(){return t(),a}}))}();var Rt=/^(none|table(?!-c[ea]).+)/,Ht={position:"absolute",visibility:"hidden",display:"block"},$t={letterSpacing:"0",fontWeight:"400"},Vt=["Webkit","Moz","ms"],Gt=S.createElement("div").style;function Ft(t){if(t in Gt)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=Vt.length;i--;)if((t=Vt[i]+e)in Gt)return t}function Yt(t,e,i){var n=Q.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function Wt(t,e,i,n,a){var s,o=0;for(s=i===(n?"border":"content")?4:"width"===e?1:0;s<4;s+=2)"margin"===i&&(o+=M.css(t,i+Z[s],!0,a)),n?("content"===i&&(o-=M.css(t,"padding"+Z[s],!0,a)),"margin"!==i&&(o-=M.css(t,"border"+Z[s]+"Width",!0,a))):(o+=M.css(t,"padding"+Z[s],!0,a),"padding"!==i&&(o+=M.css(t,"border"+Z[s]+"Width",!0,a)));return o}function jt(t,e,i){var n,a=!0,s=Ot(t),o="border-box"===M.css(t,"boxSizing",!1,s);if(t.getClientRects().length&&(n=t.getBoundingClientRect()[e]),n<=0||null==n){if(((n=It(t,e,s))<0||null==n)&&(n=t.style[e]),Lt.test(n))return n;a=o&&(g.boxSizingReliable()||n===t.style[e]),n=parseFloat(n)||0}return n+Wt(t,e,i||(o?"border":"content"),a,s)+"px"}function zt(t,e,i,n,a){return new zt.prototype.init(t,e,i,n,a)}M.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=It(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,s,o,r=M.camelCase(e),l=t.style;if(e=M.cssProps[r]||(M.cssProps[r]=Ft(r)||r),o=M.cssHooks[e]||M.cssHooks[r],void 0===i)return o&&"get"in o&&void 0!==(a=o.get(t,!1,n))?a:l[e];"string"===(s=typeof i)&&(a=Q.exec(i))&&a[1]&&(i=tt(t,e,a),s="number"),null!=i&&i==i&&("number"===s&&(i+=a&&a[3]||(M.cssNumber[r]?"":"px")),g.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(l[e]=i))}},css:function(t,e,i,n){var a,s,o,r=M.camelCase(e);return e=M.cssProps[r]||(M.cssProps[r]=Ft(r)||r),(o=M.cssHooks[e]||M.cssHooks[r])&&"get"in o&&(a=o.get(t,!0,i)),void 0===a&&(a=It(t,e,n)),"normal"===a&&e in $t&&(a=$t[e]),""===i||i?(s=parseFloat(a),!0===i||isFinite(s)?s||0:a):a}}),M.each(["height","width"],function(t,o){M.cssHooks[o]={get:function(t,e,i){if(e)return!Rt.test(M.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?jt(t,o,i):J(t,Ht,function(){return jt(t,o,i)})},set:function(t,e,i){var n,a=i&&Ot(t),s=i&&Wt(t,o,i,"border-box"===M.css(t,"boxSizing",!1,a),a);return s&&(n=Q.exec(e))&&"px"!==(n[3]||"px")&&(t.style[o]=e,e=M.css(t,o)),Yt(0,e,s)}}}),M.cssHooks.marginLeft=Bt(g.reliableMarginLeft,function(t,e){if(e)return(parseFloat(It(t,"marginLeft"))||t.getBoundingClientRect().left-J(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),M.each({margin:"",padding:"",border:"Width"},function(a,s){M.cssHooks[a+s]={expand:function(t){for(var e=0,i={},n="string"==typeof t?t.split(" "):[t];e<4;e++)i[a+Z[e]+s]=n[e]||n[e-2]||n[0];return i}},Nt.test(a)||(M.cssHooks[a+s].set=Yt)}),M.fn.extend({css:function(t,e){return G(this,function(t,e,i){var n,a,s={},o=0;if(M.isArray(e)){for(n=Ot(t),a=e.length;o<a;o++)s[e[o]]=M.css(t,e[o],!1,n);return s}return void 0!==i?M.style(t,e,i):M.css(t,e)},t,e,1<arguments.length)}}),((M.Tween=zt).prototype={constructor:zt,init:function(t,e,i,n,a,s){this.elem=t,this.prop=i,this.easing=a||M.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(M.cssNumber[i]?"":"px")},cur:function(){var t=zt.propHooks[this.prop];return t&&t.get?t.get(this):zt.propHooks._default.get(this)},run:function(t){var e,i=zt.propHooks[this.prop];return this.options.duration?this.pos=e=M.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):zt.propHooks._default.set(this),this}}).init.prototype=zt.prototype,(zt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=M.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){M.fx.step[t.prop]?M.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[M.cssProps[t.prop]]&&!M.cssHooks[t.prop]?t.elem[t.prop]=t.now:M.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=zt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},M.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},M.fx=zt.prototype.init,M.fx.step={};var Xt,Ut,qt,Qt,Zt=/^(?:toggle|show|hide)$/,Kt=/queueHooks$/;function Jt(){Ut&&(C.requestAnimationFrame(Jt),M.fx.tick())}function te(){return C.setTimeout(function(){Xt=void 0}),Xt=M.now()}function ee(t,e){var i,n=0,a={height:t};for(e=e?1:0;n<4;n+=2-e)a["margin"+(i=Z[n])]=a["padding"+i]=t;return e&&(a.opacity=a.width=t),a}function ie(t,e,i){for(var n,a=(ne.tweeners[e]||[]).concat(ne.tweeners["*"]),s=0,o=a.length;s<o;s++)if(n=a[s].call(i,e,t))return n}function ne(s,t,e){var i,o,n=0,a=ne.prefilters.length,r=M.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Xt||te(),e=Math.max(0,h.startTime+h.duration-t),i=1-(e/h.duration||0),n=0,a=h.tweens.length;n<a;n++)h.tweens[n].run(i);return r.notifyWith(s,[h,i,e]),i<1&&a?e:(r.resolveWith(s,[h]),!1)},h=r.promise({elem:s,props:M.extend({},t),opts:M.extend(!0,{specialEasing:{},easing:M.easing._default},e),originalProperties:t,originalOptions:e,startTime:Xt||te(),duration:e.duration,tweens:[],createTween:function(t,e){var i=M.Tween(s,h.opts,t,e,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(i),i},stop:function(t){var e=0,i=t?h.tweens.length:0;if(o)return this;for(o=!0;e<i;e++)h.tweens[e].run(1);return t?(r.notifyWith(s,[h,1,0]),r.resolveWith(s,[h,t])):r.rejectWith(s,[h,t]),this}}),c=h.props;for(!function(t,e){var i,n,a,s,o;for(i in t)if(a=e[n=M.camelCase(i)],s=t[i],M.isArray(s)&&(a=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(o=M.cssHooks[n])&&"expand"in o)for(i in s=o.expand(s),delete t[n],s)i in t||(t[i]=s[i],e[i]=a);else e[n]=a}(c,h.opts.specialEasing);n<a;n++)if(i=ne.prefilters[n].call(h,s,c,h.opts))return M.isFunction(i.stop)&&(M._queueHooks(h.elem,h.opts.queue).stop=M.proxy(i.stop,i)),i;return M.map(c,ie,h),M.isFunction(h.opts.start)&&h.opts.start.call(s,h),M.fx.timer(M.extend(l,{elem:s,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}M.Animation=M.extend(ne,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return tt(i.elem,t,Q.exec(e),i),i}]},tweener:function(t,e){M.isFunction(t)?(e=t,t=["*"]):t=t.match(O);for(var i,n=0,a=t.length;n<a;n++)i=t[n],ne.tweeners[i]=ne.tweeners[i]||[],ne.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,a,s,o,r,l,h,c,d="width"in e||"height"in e,u=this,p={},f=t.style,m=t.nodeType&&K(t),g=W.get(t,"fxshow");for(n in i.queue||(null==(o=M._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,r=o.empty.fire,o.empty.fire=function(){o.unqueued||r()}),o.unqueued++,u.always(function(){u.always(function(){o.unqueued--,M.queue(t,"fx").length||o.empty.fire()})})),e)if(a=e[n],Zt.test(a)){if(delete e[n],s=s||"toggle"===a,a===(m?"hide":"show")){if("show"!==a||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||M.style(t,n)}if((l=!M.isEmptyObject(e))||!M.isEmptyObject(p))for(n in d&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(h=g&&g.display)&&(h=W.get(t,"display")),"none"===(c=M.css(t,"display"))&&(h?c=h:(it([t],!0),h=t.style.display||h,c=M.css(t,"display"),it([t]))),("inline"===c||"inline-block"===c&&null!=h)&&"none"===M.css(t,"float")&&(l||(u.done(function(){f.display=h}),null==h&&(c=f.display,h="none"===c?"":c)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=W.access(t,"fxshow",{display:h}),s&&(g.hidden=!m),m&&it([t],!0),u.done(function(){for(n in m||it([t]),W.remove(t,"fxshow"),p)M.style(t,n,p[n])})),l=ie(m?g[n]:0,n,u),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ne.prefilters.unshift(t):ne.prefilters.push(t)}}),M.speed=function(t,e,i){var n=t&&"object"==typeof t?M.extend({},t):{complete:i||!i&&e||M.isFunction(t)&&t,duration:t,easing:i&&e||e&&!M.isFunction(e)&&e};return M.fx.off||S.hidden?n.duration=0:"number"!=typeof n.duration&&(n.duration in M.fx.speeds?n.duration=M.fx.speeds[n.duration]:n.duration=M.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){M.isFunction(n.old)&&n.old.call(this),n.queue&&M.dequeue(this,n.queue)},n},M.fn.extend({fadeTo:function(t,e,i,n){return this.filter(K).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(e,t,i,n){var a=M.isEmptyObject(e),s=M.speed(t,i,n),o=function(){var t=ne(this,M.extend({},e),s);(a||W.get(this,"finish"))&&t.stop(!0)};return o.finish=o,a||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(a,t,s){var o=function(t){var e=t.stop;delete t.stop,e(s)};return"string"!=typeof a&&(s=t,t=a,a=void 0),t&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var t=!0,e=null!=a&&a+"queueHooks",i=M.timers,n=W.get(this);if(e)n[e]&&n[e].stop&&o(n[e]);else for(e in n)n[e]&&n[e].stop&&Kt.test(e)&&o(n[e]);for(e=i.length;e--;)i[e].elem!==this||null!=a&&i[e].queue!==a||(i[e].anim.stop(s),t=!1,i.splice(e,1));!t&&s||M.dequeue(this,a)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var t,e=W.get(this),i=e[o+"queue"],n=e[o+"queueHooks"],a=M.timers,s=i?i.length:0;for(e.finish=!0,M.queue(this,o,[]),n&&n.stop&&n.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===o&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),M.each(["toggle","show","hide"],function(t,n){var a=M.fn[n];M.fn[n]=function(t,e,i){return null==t||"boolean"==typeof t?a.apply(this,arguments):this.animate(ee(n,!0),t,e,i)}}),M.each({slideDown:ee("show"),slideUp:ee("hide"),slideToggle:ee("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){M.fn[t]=function(t,e,i){return this.animate(n,t,e,i)}}),M.timers=[],M.fx.tick=function(){var t,e=0,i=M.timers;for(Xt=M.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||M.fx.stop(),Xt=void 0},M.fx.timer=function(t){M.timers.push(t),t()?M.fx.start():M.timers.pop()},M.fx.interval=13,M.fx.start=function(){Ut||(Ut=C.requestAnimationFrame?C.requestAnimationFrame(Jt):C.setInterval(M.fx.tick,M.fx.interval))},M.fx.stop=function(){C.cancelAnimationFrame?C.cancelAnimationFrame(Ut):C.clearInterval(Ut),Ut=null},M.fx.speeds={slow:600,fast:200,_default:400},M.fn.delay=function(n,t){return n=M.fx&&M.fx.speeds[n]||n,t=t||"fx",this.queue(t,function(t,e){var i=C.setTimeout(t,n);e.stop=function(){C.clearTimeout(i)}})},qt=S.createElement("input"),Qt=S.createElement("select").appendChild(S.createElement("option")),qt.type="checkbox",g.checkOn=""!==qt.value,g.optSelected=Qt.selected,(qt=S.createElement("input")).value="t",qt.type="radio",g.radioValue="t"===qt.value;var ae,se=M.expr.attrHandle;M.fn.extend({attr:function(t,e){return G(this,M.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){M.removeAttr(this,t)})}}),M.extend({attr:function(t,e,i){var n,a,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?M.prop(t,e,i):(1===s&&M.isXMLDoc(t)||(a=M.attrHooks[e.toLowerCase()]||(M.expr.match.bool.test(e)?ae:void 0)),void 0!==i?null===i?void M.removeAttr(t,e):a&&"set"in a&&void 0!==(n=a.set(t,i,e))?n:(t.setAttribute(e,i+""),i):a&&"get"in a&&null!==(n=a.get(t,e))?n:null==(n=M.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&M.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,a=e&&e.match(O);if(a&&1===t.nodeType)for(;i=a[n++];)t.removeAttribute(i)}}),ae={set:function(t,e,i){return!1===e?M.removeAttr(t,i):t.setAttribute(i,i),i}},M.each(M.expr.match.bool.source.match(/\w+/g),function(t,e){var o=se[e]||M.find.attr;se[e]=function(t,e,i){var n,a,s=e.toLowerCase();return i||(a=se[s],se[s]=n,n=null!=o(t,e,i)?s:null,se[s]=a),n}});var oe=/^(?:input|select|textarea|button)$/i,re=/^(?:a|area)$/i;function le(t){return(t.match(O)||[]).join(" ")}function he(t){return t.getAttribute&&t.getAttribute("class")||""}M.fn.extend({prop:function(t,e){return G(this,M.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[M.propFix[t]||t]})}}),M.extend({prop:function(t,e,i){var n,a,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&M.isXMLDoc(t)||(e=M.propFix[e]||e,a=M.propHooks[e]),void 0!==i?a&&"set"in a&&void 0!==(n=a.set(t,i,e))?n:t[e]=i:a&&"get"in a&&null!==(n=a.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=M.find.attr(t,"tabindex");return e?parseInt(e,10):oe.test(t.nodeName)||re.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(M.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),M.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){M.propFix[this.toLowerCase()]=this}),M.fn.extend({addClass:function(e){var t,i,n,a,s,o,r,l=0;if(M.isFunction(e))return this.each(function(t){M(this).addClass(e.call(this,t,he(this)))});if("string"==typeof e&&e)for(t=e.match(O)||[];i=this[l++];)if(a=he(i),n=1===i.nodeType&&" "+le(a)+" "){for(o=0;s=t[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a!==(r=le(n))&&i.setAttribute("class",r)}return this},removeClass:function(e){var t,i,n,a,s,o,r,l=0;if(M.isFunction(e))return this.each(function(t){M(this).removeClass(e.call(this,t,he(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(O)||[];i=this[l++];)if(a=he(i),n=1===i.nodeType&&" "+le(a)+" "){for(o=0;s=t[o++];)for(;-1<n.indexOf(" "+s+" ");)n=n.replace(" "+s+" "," ");a!==(r=le(n))&&i.setAttribute("class",r)}return this},toggleClass:function(a,e){var s=typeof a;return"boolean"==typeof e&&"string"===s?e?this.addClass(a):this.removeClass(a):M.isFunction(a)?this.each(function(t){M(this).toggleClass(a.call(this,t,he(this),e),e)}):this.each(function(){var t,e,i,n;if("string"===s)for(e=0,i=M(this),n=a.match(O)||[];t=n[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==a&&"boolean"!==s||((t=he(this))&&W.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===a?"":W.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+le(he(i))+" ").indexOf(e))return!0;return!1}});var ce=/\r/g;M.fn.extend({val:function(i){var n,t,a,e=this[0];return arguments.length?(a=M.isFunction(i),this.each(function(t){var e;1===this.nodeType&&(null==(e=a?i.call(this,t,M(this).val()):i)?e="":"number"==typeof e?e+="":M.isArray(e)&&(e=M.map(e,function(t){return null==t?"":t+""})),(n=M.valHooks[this.type]||M.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):e?(n=M.valHooks[e.type]||M.valHooks[e.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(ce,""):null==t?"":t:void 0}}),M.extend({valHooks:{option:{get:function(t){var e=M.find.attr(t,"value");return null!=e?e:le(M.text(t))}},select:{get:function(t){var e,i,n,a=t.options,s=t.selectedIndex,o="select-one"===t.type,r=o?null:[],l=o?s+1:a.length;for(n=s<0?l:o?s:0;n<l;n++)if(((i=a[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!M.nodeName(i.parentNode,"optgroup"))){if(e=M(i).val(),o)return e;r.push(e)}return r},set:function(t,e){for(var i,n,a=t.options,s=M.makeArray(e),o=a.length;o--;)((n=a[o]).selected=-1<M.inArray(M.valHooks.option.get(n),s))&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]={set:function(t,e){if(M.isArray(e))return t.checked=-1<M.inArray(M(t).val(),e)}},g.checkOn||(M.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var de=/^(?:focusinfocus|focusoutblur)$/;M.extend(M.event,{trigger:function(t,e,i,n){var a,s,o,r,l,h,c,d=[i||S],u=f.call(t,"type")?t.type:t,p=f.call(t,"namespace")?t.namespace.split("."):[];if(s=o=i=i||S,3!==i.nodeType&&8!==i.nodeType&&!de.test(u+M.event.triggered)&&(-1<u.indexOf(".")&&(u=(p=u.split(".")).shift(),p.sort()),l=u.indexOf(":")<0&&"on"+u,(t=t[M.expando]?t:new M.Event(u,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:M.makeArray(e,[t]),c=M.event.special[u]||{},n||!c.trigger||!1!==c.trigger.apply(i,e))){if(!n&&!c.noBubble&&!M.isWindow(i)){for(r=c.delegateType||u,de.test(r+u)||(s=s.parentNode);s;s=s.parentNode)d.push(s),o=s;o===(i.ownerDocument||S)&&d.push(o.defaultView||o.parentWindow||C)}for(a=0;(s=d[a++])&&!t.isPropagationStopped();)t.type=1<a?r:c.bindType||u,(h=(W.get(s,"events")||{})[t.type]&&W.get(s,"handle"))&&h.apply(s,e),(h=l&&s[l])&&h.apply&&F(s)&&(t.result=h.apply(s,e),!1===t.result&&t.preventDefault());return t.type=u,n||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),e)||!F(i)||l&&M.isFunction(i[u])&&!M.isWindow(i)&&((o=i[l])&&(i[l]=null),i[M.event.triggered=u](),M.event.triggered=void 0,o&&(i[l]=o)),t.result}},simulate:function(t,e,i){var n=M.extend(new M.Event,i,{type:t,isSimulated:!0});M.event.trigger(n,null,e)}}),M.fn.extend({trigger:function(t,e){return this.each(function(){M.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return M.event.trigger(t,e,i,!0)}}),M.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){M.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}}),M.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),g.focusin="onfocusin"in C,g.focusin||M.each({focus:"focusin",blur:"focusout"},function(i,n){var a=function(t){M.event.simulate(n,t.target,M.event.fix(t))};M.event.special[n]={setup:function(){var t=this.ownerDocument||this,e=W.access(t,n);e||t.addEventListener(i,a,!0),W.access(t,n,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=W.access(t,n)-1;e?W.access(t,n,e):(t.removeEventListener(i,a,!0),W.remove(t,n))}}});var ue=C.location,pe=M.now(),fe=/\?/;M.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new C.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||M.error("Invalid XML: "+t),e};var me=/\[\]$/,ge=/\r?\n/g,ve=/^(?:submit|button|image|reset|file)$/i,be=/^(?:input|select|textarea|keygen)/i;function ye(i,t,n,a){var e;if(M.isArray(t))M.each(t,function(t,e){n||me.test(i)?a(i,e):ye(i+"["+("object"==typeof e&&null!=e?t:"")+"]",e,n,a)});else if(n||"object"!==M.type(t))a(i,t);else for(e in t)ye(i+"["+e+"]",t[e],n,a)}M.param=function(t,e){var i,n=[],a=function(t,e){var i=M.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(M.isArray(t)||t.jquery&&!M.isPlainObject(t))M.each(t,function(){a(this.name,this.value)});else for(i in t)ye(i,t[i],e,a);return n.join("&")},M.fn.extend({serialize:function(){return M.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=M.prop(this,"elements");return t?M.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!M(this).is(":disabled")&&be.test(this.nodeName)&&!ve.test(t)&&(this.checked||!nt.test(t))}).map(function(t,e){var i=M(this).val();return null==i?null:M.isArray(i)?M.map(i,function(t){return{name:e.name,value:t.replace(ge,"\r\n")}}):{name:e.name,value:i.replace(ge,"\r\n")}}).get()}});var xe=/%20/g,we=/#.*$/,Te=/([?&])_=[^&]*/,Ce=/^(.*?):[ \t]*([^\r\n]*)$/gm,Se=/^(?:GET|HEAD)$/,Me=/^\/\//,Ae={},ke={},De="*/".concat("*"),Pe=S.createElement("a");function Ee(s){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,n=0,a=t.toLowerCase().match(O)||[];if(M.isFunction(e))for(;i=a[n++];)"+"===i[0]?(i=i.slice(1)||"*",(s[i]=s[i]||[]).unshift(e)):(s[i]=s[i]||[]).push(e)}}function _e(e,a,s,o){var r={},l=e===ke;function h(t){var n;return r[t]=!0,M.each(e[t]||[],function(t,e){var i=e(a,s,o);return"string"!=typeof i||l||r[i]?l?!(n=i):void 0:(a.dataTypes.unshift(i),h(i),!1)}),n}return h(a.dataTypes[0])||!r["*"]&&h("*")}function Ne(t,e){var i,n,a=M.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((a[i]?t:n||(n={}))[i]=e[i]);return n&&M.extend(!0,t,n),t}Pe.href=ue.href,M.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ue.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ue.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":De,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":M.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ne(Ne(t,M.ajaxSettings),e):Ne(M.ajaxSettings,t)},ajaxPrefilter:Ee(Ae),ajaxTransport:Ee(ke),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var c,d,u,i,p,n,f,m,a,s,g=M.ajaxSetup({},e),v=g.context||g,b=g.context&&(v.nodeType||v.jquery)?M(v):M.event,y=M.Deferred(),x=M.Callbacks("once memory"),w=g.statusCode||{},o={},r={},l="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(f){if(!i)for(i={};e=Ce.exec(u);)i[e[1].toLowerCase()]=e[2];e=i[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return f?u:null},setRequestHeader:function(t,e){return null==f&&(t=r[t.toLowerCase()]=r[t.toLowerCase()]||t,o[t]=e),this},overrideMimeType:function(t){return null==f&&(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(f)T.always(t[T.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||l;return c&&c.abort(e),h(0,e),this}};if(y.promise(T),g.url=((t||g.url||ue.href)+"").replace(Me,ue.protocol+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(O)||[""],null==g.crossDomain){n=S.createElement("a");try{n.href=g.url,n.href=n.href,g.crossDomain=Pe.protocol+"//"+Pe.host!=n.protocol+"//"+n.host}catch(t){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=M.param(g.data,g.traditional)),_e(Ae,g,e,T),f)return T;for(a in(m=M.event&&g.global)&&0==M.active++&&M.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Se.test(g.type),d=g.url.replace(we,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(xe,"+")):(s=g.url.slice(d.length),g.data&&(d+=(fe.test(d)?"&":"?")+g.data,delete g.data),!1===g.cache&&(d=d.replace(Te,"$1"),s=(fe.test(d)?"&":"?")+"_="+pe+++s),g.url=d+s),g.ifModified&&(M.lastModified[d]&&T.setRequestHeader("If-Modified-Since",M.lastModified[d]),M.etag[d]&&T.setRequestHeader("If-None-Match",M.etag[d])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&T.setRequestHeader("Content-Type",g.contentType),T.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+De+"; q=0.01":""):g.accepts["*"]),g.headers)T.setRequestHeader(a,g.headers[a]);if(g.beforeSend&&(!1===g.beforeSend.call(v,T,g)||f))return T.abort();if(l="abort",x.add(g.complete),T.done(g.success),T.fail(g.error),c=_e(ke,g,e,T)){if(T.readyState=1,m&&b.trigger("ajaxSend",[T,g]),f)return T;g.async&&0<g.timeout&&(p=C.setTimeout(function(){T.abort("timeout")},g.timeout));try{f=!1,c.send(o,h)}catch(t){if(f)throw t;h(-1,t)}}else h(-1,"No Transport");function h(t,e,i,n){var a,s,o,r,l,h=e;f||(f=!0,p&&C.clearTimeout(p),c=void 0,u=n||"",T.readyState=0<t?4:0,a=200<=t&&t<300||304===t,i&&(r=function(t,e,i){for(var n,a,s,o,r=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(a in r)if(r[a]&&r[a].test(n)){l.unshift(a);break}if(l[0]in i)s=l[0];else{for(a in i){if(!l[0]||t.converters[a+" "+l[0]]){s=a;break}o||(o=a)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}(g,T,i)),r=function(t,e,i,n){var a,s,o,r,l,h={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)h[o.toLowerCase()]=t.converters[o];for(s=c.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=h[l+" "+s]||h["* "+s]))for(a in h)if((r=a.split(" "))[1]===s&&(o=h[l+" "+r[0]]||h["* "+r[0]])){!0===o?o=h[a]:!0!==h[a]&&(s=r[0],c.unshift(r[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(g,r,T,a),a?(g.ifModified&&((l=T.getResponseHeader("Last-Modified"))&&(M.lastModified[d]=l),(l=T.getResponseHeader("etag"))&&(M.etag[d]=l)),204===t||"HEAD"===g.type?h="nocontent":304===t?h="notmodified":(h=r.state,s=r.data,a=!(o=r.error))):(o=h,!t&&h||(h="error",t<0&&(t=0))),T.status=t,T.statusText=(e||h)+"",a?y.resolveWith(v,[s,h,T]):y.rejectWith(v,[T,h,o]),T.statusCode(w),w=void 0,m&&b.trigger(a?"ajaxSuccess":"ajaxError",[T,g,a?s:o]),x.fireWith(v,[T,h]),m&&(b.trigger("ajaxComplete",[T,g]),--M.active||M.event.trigger("ajaxStop")))}return T},getJSON:function(t,e,i){return M.get(t,e,i,"json")},getScript:function(t,e){return M.get(t,void 0,e,"script")}}),M.each(["get","post"],function(t,a){M[a]=function(t,e,i,n){return M.isFunction(e)&&(n=n||i,i=e,e=void 0),M.ajax(M.extend({url:t,type:a,dataType:n,data:e,success:i},M.isPlainObject(t)&&t))}}),M._evalUrl=function(t){return M.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},M.fn.extend({wrapAll:function(t){var e;return this[0]&&(M.isFunction(t)&&(t=t.call(this[0])),e=M(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(i){return M.isFunction(i)?this.each(function(t){M(this).wrapInner(i.call(this,t))}):this.each(function(){var t=M(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=M.isFunction(e);return this.each(function(t){M(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){M(this).replaceWith(this.childNodes)}),this}}),M.expr.pseudos.hidden=function(t){return!M.expr.pseudos.visible(t)},M.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},M.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(t){}};var Le={0:200,1223:204},Oe=M.ajaxSettings.xhr();g.cors=!!Oe&&"withCredentials"in Oe,g.ajax=Oe=!!Oe,M.ajaxTransport(function(a){var s,o;if(g.cors||Oe&&!a.crossDomain)return{send:function(t,e){var i,n=a.xhr();if(n.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(i in a.xhrFields)n[i]=a.xhrFields[i];for(i in a.mimeType&&n.overrideMimeType&&n.overrideMimeType(a.mimeType),a.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)n.setRequestHeader(i,t[i]);s=function(t){return function(){s&&(s=o=n.onload=n.onerror=n.onabort=n.onreadystatechange=null,"abort"===t?n.abort():"error"===t?"number"!=typeof n.status?e(0,"error"):e(n.status,n.statusText):e(Le[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=s(),o=n.onerror=s("error"),void 0!==n.onabort?n.onabort=o:n.onreadystatechange=function(){4===n.readyState&&C.setTimeout(function(){s&&o()})},s=s("abort");try{n.send(a.hasContent&&a.data||null)}catch(t){if(s)throw t}},abort:function(){s&&s()}}}),M.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return M.globalEval(t),t}}}),M.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),M.ajaxTransport("script",function(i){var n,a;if(i.crossDomain)return{send:function(t,e){n=M("<script>").prop({charset:i.scriptCharset,src:i.url}).on("load error",a=function(t){n.remove(),a=null,t&&e("error"===t.type?404:200,t.type)}),S.head.appendChild(n[0])},abort:function(){a&&a()}}});var Ie,Be=[],Re=/(=)\?(?=&|$)|\?\?/;function He(t){return M.isWindow(t)?t:9===t.nodeType&&t.defaultView}M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Be.pop()||M.expando+"_"+pe++;return this[t]=!0,t}}),M.ajaxPrefilter("json jsonp",function(t,e,i){var n,a,s,o=!1!==t.jsonp&&(Re.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Re.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=M.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Re,"$1"+n):!1!==t.jsonp&&(t.url+=(fe.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return s||M.error(n+" was not called"),s[0]},t.dataTypes[0]="json",a=C[n],C[n]=function(){s=arguments},i.always(function(){void 0===a?M(C).removeProp(n):C[n]=a,t[n]&&(t.jsonpCallback=e.jsonpCallback,Be.push(n)),s&&M.isFunction(a)&&a(s[0]),s=a=void 0}),"script"}),g.createHTMLDocument=((Ie=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ie.childNodes.length),M.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(g.createHTMLDocument?((n=(e=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,e.head.appendChild(n)):e=S),s=!i&&[],(a=A.exec(t))?[e.createElement(a[1])]:(a=ut([t],e,s),s&&s.length&&M(s).remove(),M.merge([],a.childNodes)));var n,a,s},M.fn.load=function(t,e,i){var n,a,s,o=this,r=t.indexOf(" ");return-1<r&&(n=le(t.slice(r)),t=t.slice(0,r)),M.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(a="POST"),0<o.length&&M.ajax({url:t,type:a||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(n?M("<div>").append(M.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},M.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){M.fn[e]=function(t){return this.on(e,t)}}),M.expr.pseudos.animated=function(e){return M.grep(M.timers,function(t){return e===t.elem}).length},M.offset={setOffset:function(t,e,i){var n,a,s,o,r,l,h=M.css(t,"position"),c=M(t),d={};"static"===h&&(t.style.position="relative"),r=c.offset(),s=M.css(t,"top"),l=M.css(t,"left"),("absolute"===h||"fixed"===h)&&-1<(s+l).indexOf("auto")?(o=(n=c.position()).top,a=n.left):(o=parseFloat(s)||0,a=parseFloat(l)||0),M.isFunction(e)&&(e=e.call(t,i,M.extend({},r))),null!=e.top&&(d.top=e.top-r.top+o),null!=e.left&&(d.left=e.left-r.left+a),"using"in e?e.using.call(t,d):c.css(d)}},M.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){M.offset.setOffset(this,e,t)});var t,i,n,a,s=this[0];return s?s.getClientRects().length?(n=s.getBoundingClientRect()).width||n.height?(i=He(a=s.ownerDocument),t=a.documentElement,{top:n.top+i.pageYOffset-t.clientTop,left:n.left+i.pageXOffset-t.clientLeft}):n:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===M.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),M.nodeName(t[0],"html")||(n=t.offset()),n={top:n.top+M.css(t[0],"borderTopWidth",!0),left:n.left+M.css(t[0],"borderLeftWidth",!0)}),{top:e.top-n.top-M.css(i,"marginTop",!0),left:e.left-n.left-M.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===M.css(t,"position");)t=t.offsetParent;return t||pt})}}),M.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,a){var s="pageYOffset"===a;M.fn[e]=function(t){return G(this,function(t,e,i){var n=He(t);if(void 0===i)return n?n[a]:t[e];n?n.scrollTo(s?n.pageXOffset:i,s?i:n.pageYOffset):t[e]=i},e,t,arguments.length)}}),M.each(["top","left"],function(t,i){M.cssHooks[i]=Bt(g.pixelPosition,function(t,e){if(e)return e=It(t,i),Lt.test(e)?M(t).position()[i]+"px":e})}),M.each({Height:"height",Width:"width"},function(o,r){M.each({padding:"inner"+o,content:r,"":"outer"+o},function(n,s){M.fn[s]=function(t,e){var i=arguments.length&&(n||"boolean"!=typeof t),a=n||(!0===t||!0===e?"margin":"border");return G(this,function(t,e,i){var n;return M.isWindow(t)?0===s.indexOf("outer")?t["inner"+o]:t.document.documentElement["client"+o]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+o],n["scroll"+o],t.body["offset"+o],n["offset"+o],n["client"+o])):void 0===i?M.css(t,e,a):M.style(t,e,i,a)},r,i?t:void 0,i)}})}),M.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),M.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return M});var $e=C.jQuery,Ve=C.$;return M.noConflict=function(t){return C.$===M&&(C.$=Ve),t&&C.jQuery===M&&(C.jQuery=$e),M},t||(C.jQuery=C.$=M),M}),function(r,i){"use strict";var t;r.migrateVersion="3.0.0",(t=i.console&&i.console.log&&function(){i.console.log.apply(i.console,arguments)})&&(r&&!/^[12]\./.test(r.fn.jquery)||t("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),r.migrateWarnings&&t("JQMIGRATE: Migrate plugin loaded multiple times"),t("JQMIGRATE: Migrate is installed"+(r.migrateMute?"":" with logging active")+", version "+r.migrateVersion));var n={};function l(t){var e=i.console;n[t]||(n[t]=!0,r.migrateWarnings.push(t),e&&e.warn&&!r.migrateMute&&(e.warn("JQMIGRATE: "+t),r.migrateTrace&&e.trace&&e.trace()))}function e(t,e,i,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return l(n),i}})}r.migrateWarnings=[],void 0===r.migrateTrace&&(r.migrateTrace=!0),r.migrateReset=function(){n={},r.migrateWarnings.length=0},"BackCompat"===document.compatMode&&l("jQuery is not compatible with Quirks Mode");var a,s=r.fn.init,o=r.isNumeric,h=r.find,c=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,d=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;for(a in r.fn.init=function(t){var e=Array.prototype.slice.call(arguments);return"string"==typeof t&&"#"===t&&(l("jQuery( '#' ) is not a valid selector"),e[0]=[]),s.apply(this,e)},r.fn.init.prototype=r.fn,r.find=function(e){var i=Array.prototype.slice.call(arguments);if("string"==typeof e&&c.test(e))try{document.querySelector(e)}catch(t){e=e.replace(d,function(t,e,i,n){return"["+e+i+'"'+n+'"]'});try{document.querySelector(e),l("Attribute selector with '#' must be quoted: "+i[0]),i[0]=e}catch(t){l("Attribute selector with '#' was not fixed: "+i[0])}}return h.apply(this,i)},h)Object.prototype.hasOwnProperty.call(h,a)&&(r.find[a]=h[a]);r.fn.size=function(){return l("jQuery.fn.size() is deprecated; use the .length property"),this.length},r.parseJSON=function(){return l("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},r.isNumeric=function(t){var e,i,n=o(t),a=(i=(e=t)&&e.toString(),!r.isArray(e)&&0<=i-parseFloat(i)+1);return n!==a&&l("jQuery.isNumeric() should not be called on constructed objects"),a},e(r,"unique",r.uniqueSort,"jQuery.unique is deprecated, use jQuery.uniqueSort"),e(r.expr,"filters",r.expr.pseudos,"jQuery.expr.filters is now jQuery.expr.pseudos"),e(r.expr,":",r.expr.pseudos,'jQuery.expr[":"] is now jQuery.expr.pseudos');var u=r.ajax;r.ajax=function(){var t=u.apply(this,arguments);return t.promise&&(e(t,"success",t.done,"jQXHR.success is deprecated and removed"),e(t,"error",t.fail,"jQXHR.error is deprecated and removed"),e(t,"complete",t.always,"jQXHR.complete is deprecated and removed")),t};var p=r.fn.removeAttr,f=r.fn.toggleClass,m=/\S+/g;r.fn.removeAttr=function(t){var i=this;return r.each(t.match(m),function(t,e){r.expr.match.bool.test(e)&&(l("jQuery.fn.removeAttr no longer sets boolean properties: "+e),i.prop(e,!1))}),p.apply(this,arguments)};var g=!(r.fn.toggleClass=function(e){return void 0!==e&&"boolean"!=typeof e?f.apply(this,arguments):(l("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var t=this.getAttribute&&this.getAttribute("class")||"";t&&r.data(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":r.data(this,"__className__")||"")}))});r.swap&&r.each(["height","width","reliableMarginRight"],function(t,e){var i=r.cssHooks[e]&&r.cssHooks[e].get;i&&(r.cssHooks[e].get=function(){var t;return g=!0,t=i.apply(this,arguments),g=!1,t})}),r.swap=function(t,e,i,n){var a,s,o={};for(s in g||l("jQuery.swap() is undocumented and deprecated"),e)o[s]=t.style[s],t.style[s]=e[s];for(s in a=i.apply(t,n||[]),e)t.style[s]=o[s];return a};var v=r.data;r.data=function(t,e,i){var n;if(e&&"object"==typeof e&&2===arguments.length){n=r.hasData(t)&&v.call(this,t);var a={};for(var s in e)s!==r.camelCase(s)?(l("jQuery.data() always sets/gets camelCased names: "+s),n[s]=e[s]):a[s]=e[s];return v.call(this,t,a),e}return e&&"string"==typeof e&&e!==r.camelCase(e)&&(n=r.hasData(t)&&v.call(this,t))&&e in n?(l("jQuery.data() always sets/gets camelCased names: "+e),2<arguments.length&&(n[e]=i),n[e]):v.apply(this,arguments)};var b=r.Tween.prototype.run;r.Tween.prototype.run=function(t){1<r.easing[this.easing].length&&(l('easing function "jQuery.easing.'+this.easing.toString()+'" should use only first argument'),r.easing[this.easing]=r.easing[this.easing].bind(r.easing,t,this.options.duration*t,0,1,this.options.duration)),b.apply(this,arguments)};var y=r.fn.load,x=r.event.fix;r.event.props=[],r.event.fixHooks={},r.event.fix=function(t){var e,i=t.type,n=this.fixHooks[i],a=r.event.props;if(a.length)for(l("jQuery.event.props are deprecated and removed: "+a.join());a.length;)r.event.addProp(a.pop());if(n&&!n._migrated_&&(n._migrated_=!0,l("jQuery.event.fixHooks are deprecated and removed: "+i),(a=n.props)&&a.length))for(;a.length;)r.event.addProp(a.pop());return e=x.call(this,t),n&&n.filter?n.filter(e,t):e},r.each(["load","unload","error"],function(t,e){r.fn[e]=function(){var t=Array.prototype.slice.call(arguments,0);return"load"===e&&"string"==typeof t[0]?y.apply(this,t):(l("jQuery.fn."+e+"() is deprecated"),t.splice(0,0,e),arguments.length?this.on.apply(this,t):(this.triggerHandler.apply(this,t),this))}}),r(function(){r(document).triggerHandler("ready")}),r.event.special.ready={setup:function(){this===document&&l("'ready' event is deprecated")}},r.fn.extend({bind:function(t,e,i){return l("jQuery.fn.bind() is deprecated"),this.on(t,null,e,i)},unbind:function(t,e){return l("jQuery.fn.unbind() is deprecated"),this.off(t,null,e)},delegate:function(t,e,i,n){return l("jQuery.fn.delegate() is deprecated"),this.on(e,t,i,n)},undelegate:function(t,e,i){return l("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var w=r.fn.offset;r.fn.offset=function(){var t,e=this[0],i={top:0,left:0};return e&&e.nodeType?(t=(e.ownerDocument||document).documentElement,r.contains(t,e)?w.apply(this,arguments):(l("jQuery.fn.offset() requires an element connected to a document"),i)):(l("jQuery.fn.offset() requires a valid DOM element"),i)};var T=r.param;r.param=function(t,e){var i=r.ajaxSettings&&r.ajaxSettings.traditional;return void 0===e&&i&&(l("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),e=i),T.call(this,t,e)};var C=r.fn.andSelf||r.fn.addBack;r.fn.andSelf=function(){return l("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),C.apply(this,arguments)};var S=r.Deferred,M=[["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),"rejected"],["notify","progress",r.Callbacks("memory"),r.Callbacks("memory")]];r.Deferred=function(t){var s=S(),o=s.promise();return s.pipe=o.pipe=function(){var a=arguments;return l("deferred.pipe() is deprecated"),r.Deferred(function(n){r.each(M,function(t,e){var i=r.isFunction(a[t])&&a[t];s[e[1]](function(){var t=i&&i.apply(this,arguments);t&&r.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[e[0]+"With"](this===o?n.promise():this,i?[t]:arguments)})}),a=null}).promise()},t&&t.call(s,s),s}}(jQuery,window),function(t,d,e){var u=["table","thead","tbody","tfoot","tr","col","colgroup","object","embed","param","ol","ul","dl","blockquote","select","optgroup","option","textarea","script","style"];function p(t){return t.replace(/\s*$/,"")}function f(t,e){if(t.innerText)t.innerText=e;else if(t.nodeValue)t.nodeValue=e;else{if(!t.textContent)return!1;t.textContent=e}}function m(t,e,i,n){var a,s=t.parent();t.remove();var o=i?i.length:0;if(s.contents().length>o)return g(a=s.contents().eq(-1-o),e,i,n);var r=s.prev();return!!(a=r.contents().eq(-1)).length&&(f(a[0],a.text()+n.ellipsis),s.remove(),i.length&&r.append(i),!0)}function g(t,e,i,n){return"end"===n.position?function(t,e,i,n){for(var a,s,o=t[0],r=t.text(),l="",h=0,c=r.length;h<=c;)a=h+(c-h>>1),f(o,s=p(r.substr(0,a+1))+n.ellipsis),e.height()>n.maxHeight?c=a-1:(h=a+1,l=l.length>s.length?l:s);return 0<l.length?(f(o,l),!0):m(t,e,i,n)}(t,e,i,n):"start"===n.position?function(t,e,i,n){for(var a,s,o=t[0],r=t.text(),l="",h=0,c=r.length;h<=c;)a=h+(c-h>>1),f(o,s=n.ellipsis+p(r.substr(a-1,r.length))),e.height()>n.maxHeight?h=a+1:(c=a-1,l=l.length>s.length?l:s);return 0<l.length?(f(o,l),!0):m(t,e,i,n)}(t,e,i,n):function(t,e,i,n){for(var a,s,o=t[0],r=t.text(),l="",h=0,c=r.length,d=c>>1;h<=d;)a=h+(d-h>>1),f(o,s=p(r.substr(0,a))+n.ellipsis+r.substr(c-a,c-a)),e.height()>n.maxHeight?d=a-1:(h=a+1,l=l.length>s.length?l:s);return 0<l.length?(f(o,l),!0):m(t,e,i,n)}(t,e,i,n)}function a(t,e,i,n){var a,s,o=t[0],r=t.contents(),l=0,h=r.length,c=!1;for(t.empty();l<h&&!c;l++)8!==(s=(a=r.eq(l))[0]).nodeType&&(o.appendChild(s),i.length&&(0<=d.inArray(o.tagName.toLowerCase(),u)?t.after(i):t.append(i)),e.height()>n.maxHeight&&(c=3===s.nodeType?g(a,e,i,n):v(a,e,i,n)),!c&&i.length&&i.remove());return c}function v(t,e,i,n){return"end"===n.position?a(t,e,i,n):"start"===n.position?function(t,e,i,n){var a,s,o=t[0],r=t.contents(),l=r.length-1,h=!1;for(t.empty();0<=l&&!h;l--)8!==(s=(a=r.eq(l))[0]).nodeType&&(o.insertBefore(s,o.firstChild),i.length&&(0<=d.inArray(o.tagName.toLowerCase(),u)?t.after(i):t.append(i)),e.height()>n.maxHeight&&(h=3===s.nodeType?g(a,e,i,n):v(a,e,i,n)),!h&&i.length&&i.remove());return h}(t,e,i,n):a(t,e,i,n)}function n(t,e){if(this.element=t,this.$element=d(t),this._name="truncate",this._defaults={lines:1,ellipsis:"…",showMore:"",showLess:"",position:"end",lineHeight:"auto"},this.options=d.extend({},this._defaults,e),"auto"===this.options.lineHeight){var i=this.$element.css("line-height"),n=18;"normal"!==i&&(n=parseInt(i,10)),this.options.lineHeight=n}void 0===this.options.maxHeight&&(this.options.maxHeight=parseInt(this.options.lines,10)*parseInt(this.options.lineHeight,10)),"start"!==this.options.position&&"middle"!==this.options.position&&"end"!==this.options.position&&(this.options.position="end"),this.$clipNode=d(d.parseHTML(this.options.showMore),this.$element),this.original=this.cached=t.innerHTML,this.isTruncated=!1,this.isCollapsed=!0,this.update()}n.prototype={update:function(t){var e=!this.isCollapsed;void 0!==t?this.original=this.element.innerHTML=t:this.isCollapsed&&this.element.innerHTML===this.cached&&(this.element.innerHTML=this.original);var i=this.$element.wrapInner("<div/>").children();i.css({border:"none",margin:0,padding:0,width:"auto",height:"auto","word-wrap":"break-word"}),this.isTruncated=!1,i.height()>this.options.maxHeight?(this.isTruncated=v(i,i,this.$clipNode,this.options),this.isExplicitlyCollapsed&&(e=!(this.isCollapsed=!0))):this.isCollapsed=!1,i.replaceWith(i.contents()),this.cached=this.element.innerHTML,e&&(this.element.innerHTML=this.original)},expand:function(){var t=!0;this.isExplicitlyCollapsed&&(t=this.isExplicitlyCollapsed=!1),this.isCollapsed&&(this.isCollapsed=!1,this.element.innerHTML=this.isTruncated?this.original+(t?this.options.showLess:""):this.original)},collapse:function(t){this.isExplicitlyCollapsed=!0,this.isCollapsed||(this.isCollapsed=!0,(t=t||!1)?this.update():this.element.innerHTML=this.cached)}},d.fn.truncate=function(e){var i=d.makeArray(arguments).slice(1);return this.each(function(){var t=d.data(this,"jquery-truncate");t?"function"==typeof t[e]&&t[e].apply(t,i):d.data(this,"jquery-truncate",new n(this,e))})},t.Truncate=n}(this,jQuery),function(g){function v(t){return(t=g(t)).selector?t.selector:t&&t.attr("id")?"#"+t.attr("id"):void 0}function t(t,i,n){var a=this;return this.on("click.pjax",t,function(t){var e=g.extend({},l(i,n));e.container||(e.container=g(this).attr("data-pjax")||a),s(t,e)})}function s(t,e,i){i=l(e,i);var n=t.currentTarget;if("A"!==n.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(1<t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==n.protocol||location.hostname!==n.hostname||-1<n.href.indexOf("#")&&r(n)==r(location)||t.isDefaultPrevented())){var a={url:n.href,container:g(n).attr("data-pjax"),target:n},s=g.extend({},a,i),o=g.Event("pjax:click");g(n).trigger(o,[s]),o.isDefaultPrevented()||(b(s),t.preventDefault(),g(n).trigger("pjax:clicked",[s]))}}function e(t,e,i){i=l(e,i);var n=t.currentTarget;if("FORM"!==n.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var a={type:n.method.toUpperCase(),url:n.action,container:g(n).attr("data-pjax"),target:n};if("GET"!==a.type&&void 0!==window.FormData)a.data=new FormData(n),a.processData=!1,a.contentType=!1;else{if(g(n).find(":file").length)return;a.data=g(n).serializeObject()}b(g.extend({},a,i)),t.preventDefault()}function b(u){u=g.extend(!0,{},g.ajaxSettings,b.defaults,u),g.isFunction(u.url)&&(u.url=u.url());var n,a=u.target,p=C(u.url).hash,f=u.context=S(u.container);function m(t,e,i){i||(i={}),i.relatedTarget=a;var n=g.Event(t,i);return f.trigger(n,e),!n.isDefaultPrevented()}u.data||(u.data={}),g.isArray(u.data)?u.data.push({name:"_pjax",value:v(f)}):u.data._pjax=v(f),u.beforeSend=function(t,e){if("GET"!==e.type&&(e.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",v(f)),!m("pjax:beforeSend",[t,e]))return!1;0<e.timeout&&(n=setTimeout(function(){m("pjax:timeout",[t,u])&&t.abort("timeout")},e.timeout),e.timeout=0);var i=C(e.url);p&&(i.hash=p),u.requestUrl=h(i)},u.complete=function(t,e){n&&clearTimeout(n),m("pjax:complete",[t,e,u]),m("pjax:end",[t,u])},u.error=function(t,e,i){var n=M("",t,u),a=m("pjax:error",[t,e,i,u]);"GET"==u.type&&"abort"!==e&&a&&y(n.url)},u.success=function(t,e,i){var n=b.state,a="function"==typeof g.pjax.defaults.version?g.pjax.defaults.version():g.pjax.defaults.version,s=i.getResponseHeader("X-PJAX-Version"),o=M(t,i,u),r=C(o.url);if(p&&(r.hash=p,o.url=r.href),a&&s&&a!==s)y(o.url);else if(o.contents){b.state={id:u.id||w(),url:o.url,title:o.title,container:v(f),fragment:u.fragment,timeout:u.timeout},(u.push||u.replace)&&window.history.replaceState(b.state,o.title,o.url);try{document.activeElement.blur()}catch(t){}o.title&&(document.title=o.title),m("pjax:beforeReplace",[o.contents,u],{state:b.state,previousState:n}),f.html(o.contents);var l=f.find("input[autofocus], textarea[autofocus]").last()[0];l&&document.activeElement!==l&&l.focus(),function(t){if(!t)return;var a=g("script[src]");t.each(function(){var t=this.src,e=a.filter(function(){return this.src===t});if(!e.length){var i=document.createElement("script"),n=g(this).attr("type");n&&(i.type=n),i.src=g(this).attr("src"),document.head.appendChild(i)}})}(o.scripts);var h=u.scrollTo;if(p){var c=decodeURIComponent(p.slice(1)),d=document.getElementById(c)||document.getElementsByName(c)[0];d&&(h=g(d).offset().top)}"number"==typeof h&&g(window).scrollTop(h),m("pjax:success",[t,e,i,u])}else y(o.url)},b.state||(b.state={id:w(),url:window.location.href,title:document.title,container:v(f),fragment:u.fragment,timeout:u.timeout},window.history.replaceState(b.state,document.title)),x(b.xhr),b.options=u;var t,e,i=b.xhr=g.ajax(u);return 0<i.readyState&&(u.push&&!u.replace&&(t=b.state.id,e=T(f),A[t]=e,D.push(t),P(k,0),P(D,b.defaults.maxCacheLength),window.history.pushState(null,"",u.requestUrl)),m("pjax:start",[i,u]),m("pjax:send",[i,u])),b.xhr}function i(t,e){var i={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return b(g.extend(i,l(t,e)))}function y(t){window.history.replaceState(null,"",b.state.url),window.location.replace(t)}var c=!0,d=window.location.href,n=window.history.state;function a(t){c||x(b.xhr);var e,i=b.state,n=t.state;if(n&&n.container){if(c&&d==n.url)return;if(i){if(i.id===n.id)return;e=i.id<n.id?"forward":"back"}var a=A[n.id]||[],s=g(a[0]||n.container),o=a[1];if(s.length){i&&function(t,e,i){var n,a;A[e]=i,"forward"===t?(n=D,a=k):(n=k,a=D);n.push(e),(e=a.pop())&&delete A[e];P(n,b.defaults.maxCacheLength)}(e,i.id,T(s));var r=g.Event("pjax:popstate",{state:n,direction:e});s.trigger(r);var l={id:n.id,url:n.url,container:s,push:!1,fragment:n.fragment,timeout:n.timeout,scrollTo:!1};if(o){s.trigger("pjax:start",[null,l]),(b.state=n).title&&(document.title=n.title);var h=g.Event("pjax:beforeReplace",{state:n,previousState:i});s.trigger(h,[o,l]),s.html(o),s.trigger("pjax:end",[null,l])}else b(l);s[0].offsetHeight}else y(location.href)}c=!1}function o(t){var e=g.isFunction(t.url)?t.url():t.url,i=t.type?t.type.toUpperCase():"GET",n=g("<form>",{method:"GET"===i?"GET":"POST",action:e,style:"display:none"});"GET"!==i&&"POST"!==i&&n.append(g("<input>",{type:"hidden",name:"_method",value:i.toLowerCase()}));var a=t.data;if("string"==typeof a)g.each(a.split("&"),function(t,e){var i=e.split("=");n.append(g("<input>",{type:"hidden",name:i[0],value:i[1]}))});else if(g.isArray(a))g.each(a,function(t,e){n.append(g("<input>",{type:"hidden",name:e.name,value:e.value}))});else if("object"==typeof a){var s;for(s in a)n.append(g("<input>",{type:"hidden",name:s,value:a[s]}))}g(document.body).append(n),n.submit()}function x(t){t&&t.readyState<4&&(t.onreadystatechange=g.noop,t.abort())}function w(){return(new Date).getTime()}function T(t){var e=t.clone();return e.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[v(t),e.contents()]}function h(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),t.href.replace(/\?($|#)/,"$1")}function C(t){var e=document.createElement("a");return e.href=t,e}function r(t){return t.href.replace(/#.*/,"")}function l(t,e){return t&&e?e.container=t:e=g.isPlainObject(t)?t:{container:t},e.container&&(e.container=S(e.container)),e}function S(t){if((t=g(t)).length){if(v(t)&&t.context===document)return t;if(t.attr("id"))return g("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+v(t)}function u(t,e){return t.filter(e).add(t.find(e))}function p(t){return g.parseHTML(t,document,!0)}function M(t,e,i){var n={},a=/<html/i.test(t),s=e.getResponseHeader("X-PJAX-URL");if(n.url=s?h(C(s)):i.requestUrl,a)var o=g(p(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),r=g(p(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else o=r=g(p(t));if(0===r.length)return n;if(n.title=u(o,"title").last().text(),i.fragment){if("body"===i.fragment)var l=r;else l=u(r,i.fragment).first();l.length&&(n.contents="body"===i.fragment?l:l.contents(),n.title||(n.title=l.attr("title")||l.data("title")))}else a||(n.contents=r);return n.contents&&(n.contents=n.contents.not(function(){return g(this).is("title")}),n.contents.find("title").remove(),n.scripts=u(n.contents,"script[src]").remove(),n.contents=n.contents.not(n.scripts)),n.title&&(n.title=g.trim(n.title)),n}n&&n.container&&(b.state=n),"state"in window.history&&(c=!1);var A={},k=[],D=[];function P(t,e){for(;t.length>e;)delete A[t.shift()]}function f(){return g("meta").filter(function(){var t=g(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()}).attr("content")}function m(){g.fn.pjax=t,g.pjax=b,g.pjax.enable=g.noop,g.pjax.disable=E,g.pjax.click=s,g.pjax.submit=e,g.pjax.reload=i,g.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:f},g(window).on("popstate.pjax",a)}function E(){g.fn.pjax=function(){return this},g.pjax=o,g.pjax.enable=m,g.pjax.disable=g.noop,g.pjax.click=g.noop,g.pjax.submit=g.noop,g.pjax.reload=function(){window.location.reload()},g(window).off("popstate.pjax",a)}g.inArray("state",g.event.props)<0&&g.event.props.push("state"),g.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),g.support.pjax?m():E()}(jQuery),function(r){var l={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};function t(n,i){var a={},s={};function o(t,e,i){return t[e]=i,t}function t(){return a}this.addPair=function(t){if(!l.validate.test(t.name))return this;var e=function(t,e){for(var i,n=t.match(l.key);void 0!==(i=n.pop());)l.push.test(i)?e=o([],(a=t.replace(/\[\]$/,""),void 0===s[a]&&(s[a]=0),s[a]++),e):l.fixed.test(i)?e=o([],i,e):l.named.test(i)&&(e=o({},i,e));var a;return e}(t.name,function(t){switch(r('[name="'+t.name+'"]',i).attr("type")){case"checkbox":return"on"===t.value||t.value;default:return t.value}}(t));return a=n.extend(!0,a,e),this},this.addPairs=function(t){if(!n.isArray(t))throw new Error("formSerializer.addPairs expects an Array");for(var e=0,i=t.length;e<i;e++)this.addPair(t[e]);return this},this.serialize=t,this.serializeJSON=function(){return JSON.stringify(t())}}t.patterns=l,t.serializeObject=function(){return new t(r,this).addPairs(this.serializeArray()).serialize()},t.serializeJSON=function(){return new t(r,this).addPairs(this.serializeArray()).serializeJSON()},void 0!==r.fn&&(r.fn.serializeObject=t.serializeObject,r.fn.serializeJSON=t.serializeJSON,r.fn.formSerializer=t)}(jQuery),function(){"use strict";var e,i=[];function t(){for(;i.length;)i[0](),i.shift()}function s(t){this.a=o,this.b=void 0,this.f=[];var e=this;try{t(function(t){!function e(i,t){if(i.a==o){if(t==i)throw new TypeError;var n=!1;try{var a=t&&t.then;if(null!=t&&"object"==typeof t&&"function"==typeof a)return void a.call(t,function(t){n||e(i,t),n=!0},function(t){n||l(i,t),n=!0})}catch(t){return void(n||l(i,t))}i.a=0,i.b=t,h(i)}}(e,t)},function(t){l(e,t)})}catch(t){l(e,t)}}e=function(){setTimeout(t)};var o=2;function r(e){return new s(function(t){t(e)})}function l(t,e){if(t.a==o){if(e==t)throw new TypeError;t.a=1,t.b=e,h(t)}}function h(a){var t;t=function(){if(a.a!=o)for(;a.f.length;){var t=(n=a.f.shift())[0],e=n[1],i=n[2],n=n[3];try{0==a.a?i("function"==typeof t?t.call(void 0,a.b):a.b):1==a.a&&("function"==typeof e?i(e.call(void 0,a.b)):n(a.b))}catch(t){n(t)}}},i.push(t),1==i.length&&e()}s.prototype.g=function(t){return this.c(void 0,t)},s.prototype.c=function(i,n){var a=this;return new s(function(t,e){a.f.push([i,n,t,e]),h(a)})},window.Promise||(window.Promise=s,window.Promise.resolve=r,window.Promise.reject=function(i){return new s(function(t,e){e(i)})},window.Promise.race=function(n){return new s(function(t,e){for(var i=0;i<n.length;i+=1)r(n[i]).c(t,e)})},window.Promise.all=function(o){return new s(function(i,t){function e(e){return function(t){a[e]=t,(n+=1)==o.length&&i(a)}}var n=0,a=[];0==o.length&&i(a);for(var s=0;s<o.length;s+=1)r(o[s]).c(e(s),t)})},window.Promise.prototype.then=s.prototype.c,window.Promise.prototype.catch=s.prototype.g)}(),function(){function a(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function y(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function x(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function s(t){var e=t.a.offsetWidth,i=e+100;return t.f.style.width=i+"px",t.c.scrollLeft=i,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function w(t,e){function i(){var t=n;s(t)&&t.a.parentNode&&e(t.g)}var n=t;a(t.b,i),a(t.c,i),s(t)}function t(t,e){var i=e||{};this.family=t,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"}var T=null,n=null,i=null,e=null;function o(){return null===e&&(e=!!document.fonts),e}function C(t,e){return[t.style,t.weight,function(){if(null===i){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}i=""!==t.style.font}return i}()?t.stretch:"","100px",e].join(" ")}t.prototype.load=function(t,e){var f=this,m=t||"BESbswy",g=0,v=e||3e3,b=(new Date).getTime();return new Promise(function(u,p){if(o()&&!function(){if(null===n)if(o()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);n=!!t&&parseInt(t[1],10)<603}else n=!1;return n}()){var t=new Promise(function(i,t){!function e(){(new Date).getTime()-b>=v?t():document.fonts.load(C(f,'"'+f.family+'"'),m).then(function(t){1<=t.length?i():setTimeout(e,25)},function(){t()})}()}),e=new Promise(function(t,e){g=setTimeout(e,v)});Promise.race([e,t]).then(function(){clearTimeout(g),u(f)},function(){p(f)})}else i=function(){function i(){var t;(t=-1!=o&&-1!=r||-1!=o&&-1!=l||-1!=r&&-1!=l)&&((t=o!=r&&o!=l&&r!=l)||(null===T&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),T=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)),t=T&&(o==e&&r==e&&l==e||o==h&&r==h&&l==h||o==c&&r==c&&l==c)),t=!t),t&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(g),u(f))}var n=new y(m),a=new y(m),s=new y(m),o=-1,r=-1,l=-1,e=-1,h=-1,c=-1,d=document.createElement("div");d.dir="ltr",x(n,C(f,"sans-serif")),x(a,C(f,"serif")),x(s,C(f,"monospace")),d.appendChild(n.a),d.appendChild(a.a),d.appendChild(s.a),document.body.appendChild(d),e=n.a.offsetWidth,h=a.a.offsetWidth,c=s.a.offsetWidth,function t(){if((new Date).getTime()-b>=v)d.parentNode&&d.parentNode.removeChild(d),p(f);else{var e=document.hidden;!0!==e&&void 0!==e||(o=n.a.offsetWidth,r=a.a.offsetWidth,l=s.a.offsetWidth,i()),g=setTimeout(t,50)}}(),w(n,function(t){o=t,i()}),x(n,C(f,'"'+f.family+'",sans-serif')),w(a,function(t){r=t,i()}),x(a,C(f,'"'+f.family+'",serif')),w(s,function(t){l=t,i()}),x(s,C(f,'"'+f.family+'",monospace'))},document.body?i():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),i()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),i())});var i})},"object"==typeof module?module.exports=t:(window.FontFaceObserver=t,window.FontFaceObserver.prototype.load=t.prototype.load)}(),function(n,g){function t(t,e,i){var n=t+":",a=document.createElement("test").style;return a.cssText=i?n+e:n+["-webkit-","-moz-","-ms-","-o-",""].join(e+";"+n)+e+";",-1!==a[t].indexOf(e)}function v(t){return parseInt(t,10)||0}var a=0,b={classes:{plugin:"fixedsticky",active:"fixedsticky-on",inactive:"fixedsticky-off",clone:"fixedsticky-dummy",withoutFixedFixed:"fixedsticky-withoutfixedfixed"},keys:{offset:"fixedStickyOffset",position:"fixedStickyPosition",id:"fixedStickyId"},tests:{sticky:t("position","sticky"),fixed:t("position","fixed",!0)},getScrollTop:function(){var t="pageYOffset";return n?t in n?n[t]:n.document.documentElement.scrollTop:n.document.body.scrollTop},bypass:function(){return b.tests.sticky&&!b.optOut||!b.tests.fixed||n.FixedFixed&&!g(n.document.documentElement).hasClass("fixed-supported")},update:function(t){if(t.offsetWidth){var e,i,n,a,s=g(t),o=s.outerHeight(),r=s.data(b.keys.offset),l=b.getScrollTop(),h=s.is("."+b.classes.active),c=function(t){s[t?"addClass":"removeClass"](b.classes.active)[t?"removeClass":"addClass"](b.classes.inactive)},d=g(window).height(),u=s.data(b.keys.position),p=s.parent(),f=p.offset().top,m=p.outerHeight();void 0===r?(r=s.offset().top,s.data(b.keys.offset,r),s.after(g("<div>").addClass(b.classes.clone).height(o))):s.next("."+b.classes.clone).height(o),u||((e="auto"!==s.css("top")||"auto"!==s.css("bottom"))||s.css("position","fixed"),u={top:"auto"!==s.css("top"),bottom:"auto"!==s.css("bottom")},e||s.css("position",""),s.data(b.keys.position,u)),i=v(s.css("top")),n=v(s.css("bottom")),u.top&&(r<(a=l+i)&&a+o<=f+m)||u.bottom&&l+d-n<r+(o||0)&&f+(o||0)<=l+d-n?h||c(!0):h&&c(!1)}},destroy:function(t){var e=g(t);return b.bypass()?e:e.each(function(){var t=g(this),e=t.data(b.keys.id);g(n).unbind(".fixedsticky"+e),t.removeData([b.keys.offset,b.keys.position,b.keys.id]).removeClass(b.classes.active).removeClass(b.classes.inactive).next("."+b.classes.clone).remove()})},init:function(t){var i=g(t);return b.bypass()?i:i.each(function(){var t=this,e=a++;g(this).data(b.keys.id,e),g(n).bind("scroll.fixedsticky"+e,function(){b.update(t)}).trigger("scroll.fixedsticky"+e),g(n).bind("resize.fixedsticky"+e,function(){i.is("."+b.classes.active)&&b.update(t)})})}};n.FixedSticky=b,g.fn.fixedsticky=function(t){if("function"==typeof b[t])return b[t].call(b,this);if("object"!=typeof t&&t)throw new Error("Method `"+t+"` does not exist on jQuery.fixedsticky");return b.init.call(b,this)},n.FixedFixed||g(n.document.documentElement).addClass(b.classes.withoutFixedFixed)}(window,jQuery);var Util=function(n){var e=!1,i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};function t(t){var e=this,i=!1;return n(this).one(a.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||a.triggerTransitionEnd(e)},t),this}var a={TRANSITION_END:"bsTransitionEnd",getUID:function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function(t){new Function("bs","return bs")(t.offsetHeight)},triggerTransitionEnd:function(t){n(t).trigger(e.end)},supportsTransitionEnd:function(){return Boolean(e)},typeCheckConfig:function(t,e,i){for(var n in i)if(i.hasOwnProperty(n)){var a=i[n],s=e[n],o=void 0;if(s&&((l=s)[0]||l).nodeType?o="element":(r=s,o={}.toString.call(r).match(/\s([a-zA-Z]+)/)[1].toLowerCase()),!new RegExp(a).test(o))throw new Error(t.toUpperCase()+': Option "'+n+'" provided type "'+o+'" but expected type "'+a+'".')}var r,l}};return e=function(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in i)if(void 0!==t.style[e])return{end:i[e]};return!1}(),n.fn.emulateTransitionEnd=t,a.supportsTransitionEnd()&&(n.event.special[a.TRANSITION_END]={bindType:e.end,delegateType:e.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}),a}(jQuery),_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Dropdown=function(l){var t="dropdown",i="bs.dropdown",e="."+i,n=l.fn[t],h={HIDE:"hide"+e,HIDDEN:"hidden"+e,SHOW:"show"+e,SHOWN:"shown"+e,CLICK:"click"+e,CLICK_DATA_API:"click"+e+".data-api",KEYDOWN_DATA_API:"keydown"+e+".data-api"},s="dropdown-backdrop",o="disabled",c="open",d=".dropdown-backdrop",u='[data-toggle="dropdown"]',a=".dropdown form",r='[role="menu"]',p='[role="listbox"]',f=".navbar-nav",m='[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a',g=function(){function r(t){_classCallCheck(this,r),this._element=t,this._addEventListeners()}return r.prototype.toggle=function(){if(this.disabled||l(this).hasClass(o))return!1;var t=r._getParentFromElement(this),e=l(t).hasClass(c);if(r._clearMenus(),e)return!1;if("ontouchstart"in document.documentElement&&!l(t).closest(f).length){var i=document.createElement("div");i.className=s,l(i).insertBefore(this),l(i).on("click",r._clearMenus)}var n={relatedTarget:this},a=l.Event(h.SHOW,n);return l(t).trigger(a),a.isDefaultPrevented()||(this.focus(),this.setAttribute("aria-expanded","true"),l(t).toggleClass(c),l(t).trigger(l.Event(h.SHOWN,n))),!1},r.prototype.dispose=function(){l.removeData(this._element,i),l(this._element).off(e),this._element=null},r.prototype._addEventListeners=function(){l(this._element).on(h.CLICK,this.toggle)},r._jQueryInterface=function(e){return this.each(function(){var t=l(this).data(i);if(t||l(this).data(i,t=new r(this)),"string"==typeof e){if(void 0===t[e])throw new Error('No method named "'+e+'"');t[e].call(this)}})},r._clearMenus=function(t){if(!t||3!==t.which){var e=l(d)[0];e&&e.parentNode.removeChild(e);for(var i=l.makeArray(l(u)),n=0;n<i.length;n++){var a=r._getParentFromElement(i[n]),s={relatedTarget:i[n]};if(l(a).hasClass(c)&&!(t&&"click"===t.type&&/input|textarea/i.test(t.target.tagName)&&l.contains(a,t.target))){var o=l.Event(h.HIDE,s);l(a).trigger(o),o.isDefaultPrevented()||(i[n].setAttribute("aria-expanded","false"),l(a).removeClass(c).trigger(l.Event(h.HIDDEN,s)))}}}},r._getParentFromElement=function(t){var e=void 0,i=Util.getSelectorFromElement(t);return i&&(e=l(i)[0]),e||t.parentNode},r._dataApiKeydownHandler=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!l(this).hasClass(o))){var e=r._getParentFromElement(this),i=l(e).hasClass(c);if(!i&&27!==t.which||i&&27===t.which){if(27===t.which){var n=l(e).find(u)[0];l(n).trigger("focus")}l(this).trigger("click")}else{var a=l.makeArray(l(m));if((a=a.filter(function(t){return t.offsetWidth||t.offsetHeight})).length){var s=a.indexOf(t.target);38===t.which&&0<s&&s--,40===t.which&&s<a.length-1&&s++,s<0&&(s=0),a[s].focus()}}}},_createClass(r,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}}]),r}();return l(document).on(h.KEYDOWN_DATA_API,u,g._dataApiKeydownHandler).on(h.KEYDOWN_DATA_API,r,g._dataApiKeydownHandler).on(h.KEYDOWN_DATA_API,p,g._dataApiKeydownHandler).on(h.CLICK_DATA_API,g._clearMenus).on(h.CLICK_DATA_API,u,g.prototype.toggle).on(h.CLICK_DATA_API,a,function(t){t.stopPropagation()}),l.fn[t]=g._jQueryInterface,l.fn[t].Constructor=g,l.fn[t].noConflict=function(){return l.fn[t]=n,g._jQueryInterface},g}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Tooltip=function(h){if(void 0===window.Tether)throw new Error("Bootstrap tooltips require Tether (http://tether.io/)");var e="tooltip",n="bs.tooltip",t="."+n,i=h.fn[e],a={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[]},s={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array"},o={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},r="in",c="out",d={HIDE:"hide"+t,HIDDEN:"hidden"+t,SHOW:"show"+t,SHOWN:"shown"+t,INSERTED:"inserted"+t,CLICK:"click"+t,FOCUSIN:"focusin"+t,FOCUSOUT:"focusout"+t,MOUSEENTER:"mouseenter"+t,MOUSELEAVE:"mouseleave"+t},u="fade",p="in",f=".tooltip-inner",m={element:!1,enabled:!1},g="hover",v="focus",b="manual",l=function(){function l(t,e){_classCallCheck(this,l),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._tether=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}return l.prototype.enable=function(){this._isEnabled=!0},l.prototype.disable=function(){this._isEnabled=!1},l.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},l.prototype.toggle=function(t){if(t){var e=this.constructor.DATA_KEY,i=h(t.currentTarget).data(e);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),h(t.currentTarget).data(e,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(h(this.getTipElement()).hasClass(p))return void this._leave(null,this);this._enter(null,this)}},l.prototype.dispose=function(){clearTimeout(this._timeout),this.cleanupTether(),h.removeData(this.element,this.constructor.DATA_KEY),h(this.element).off(this.constructor.EVENT_KEY),this.tip&&h(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null},l.prototype.show=function(){var e=this,t=h.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){h(this.element).trigger(t);var i=h.contains(this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!i)return;var n=this.getTipElement(),a=Util.getUID(this.constructor.NAME);n.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&h(n).addClass(u);var s="function"==typeof this.config.placement?this.config.placement.call(this,n,this.element):this.config.placement,o=this._getAttachment(s);h(n).data(this.constructor.DATA_KEY,this).appendTo(document.body),h(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:o,element:n,target:this.element,classes:m,classPrefix:"bs-tether",offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),Util.reflow(n),this._tether.position(),h(n).addClass(p);var r=function(){var t=e._hoverState;e._hoverState=null,h(e.element).trigger(e.constructor.Event.SHOWN),t===c&&e._leave(null,e)};if(Util.supportsTransitionEnd()&&h(this.tip).hasClass(u))return void h(this.tip).one(Util.TRANSITION_END,r).emulateTransitionEnd(l._TRANSITION_DURATION);r()}},l.prototype.hide=function(t){var e=this,i=this.getTipElement(),n=h.Event(this.constructor.Event.HIDE),a=function(){e._hoverState!==r&&i.parentNode&&i.parentNode.removeChild(i),e.element.removeAttribute("aria-describedby"),h(e.element).trigger(e.constructor.Event.HIDDEN),e.cleanupTether(),t&&t()};h(this.element).trigger(n),n.isDefaultPrevented()||(h(i).removeClass(p),Util.supportsTransitionEnd()&&h(this.tip).hasClass(u)?h(i).one(Util.TRANSITION_END,a).emulateTransitionEnd(150):a(),this._hoverState="")},l.prototype.isWithContent=function(){return Boolean(this.getTitle())},l.prototype.getTipElement=function(){return this.tip=this.tip||h(this.config.template)[0]},l.prototype.setContent=function(){var t=h(this.getTipElement());this.setElementContent(t.find(f),this.getTitle()),t.removeClass(u).removeClass(p),this.cleanupTether()},l.prototype.setElementContent=function(t,e){var i=this.config.html;"object"===(void 0===e?"undefined":_typeof(e))&&(e.nodeType||e.jquery)?i?h(e).parent().is(t)||t.empty().append(e):t.text(h(e).text()):t[i?"html":"text"](e)},l.prototype.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},l.prototype.cleanupTether=function(){this._tether&&this._tether.destroy()},l.prototype._getAttachment=function(t){return o[t.toUpperCase()]},l.prototype._setListeners=function(){var n=this;this.config.trigger.split(" ").forEach(function(t){if("click"===t)h(n.element).on(n.constructor.Event.CLICK,n.config.selector,h.proxy(n.toggle,n));else if(t!==b){var e=t===g?n.constructor.Event.MOUSEENTER:n.constructor.Event.FOCUSIN,i=t===g?n.constructor.Event.MOUSELEAVE:n.constructor.Event.FOCUSOUT;h(n.element).on(e,n.config.selector,h.proxy(n._enter,n)).on(i,n.config.selector,h.proxy(n._leave,n))}}),this.config.selector?this.config=h.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},l.prototype._fixTitle=function(){var t=_typeof(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},l.prototype._enter=function(t,e){var i=this.constructor.DATA_KEY;(e=e||h(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),h(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusin"===t.type?v:g]=!0),h(e.getTipElement()).hasClass(p)||e._hoverState===r?e._hoverState=r:(clearTimeout(e._timeout),e._hoverState=r,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===r&&e.show()},e.config.delay.show):e.show())},l.prototype._leave=function(t,e){var i=this.constructor.DATA_KEY;(e=e||h(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),h(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusout"===t.type?v:g]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=c,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){e._hoverState===c&&e.hide()},e.config.delay.hide):e.hide())},l.prototype._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},l.prototype._getConfig=function(t){return(t=h.extend({},this.constructor.Default,h(this.element).data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),Util.typeCheckConfig(e,t,this.constructor.DefaultType),t},l.prototype._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},l._jQueryInterface=function(i){return this.each(function(){var t=h(this).data(n),e="object"===(void 0===i?"undefined":_typeof(i))?i:null;if((t||!/dispose|hide/.test(i))&&(t||(t=new l(this,e),h(this).data(n,t)),"string"==typeof i)){if(void 0===t[i])throw new Error('No method named "'+i+'"');t[i]()}})},_createClass(l,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}},{key:"Default",get:function(){return a}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return n}},{key:"Event",get:function(){return d}},{key:"EVENT_KEY",get:function(){return t}},{key:"DefaultType",get:function(){return s}}]),l}();return h.fn[e]=l._jQueryInterface,h.fn[e].Constructor=l,h.fn[e].noConflict=function(){return h.fn[e]=i,l._jQueryInterface},l}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Popover=function(a){var e="popover",s="bs.popover",i="."+s,t=a.fn[e],o=a.extend({},Tooltip.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),r=a.extend({},Tooltip.DefaultType,{content:"(string|element|function)"}),l="fade",h="in",c=".popover-title",d=".popover-content",u={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},n=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(n,t),n.prototype.isWithContent=function(){return this.getTitle()||this._getContent()},n.prototype.getTipElement=function(){return this.tip=this.tip||a(this.config.template)[0]},n.prototype.setContent=function(){var t=a(this.getTipElement());this.setElementContent(t.find(c),this.getTitle()),this.setElementContent(t.find(d),this._getContent()),t.removeClass(l).removeClass(h),this.cleanupTether()},n.prototype._getContent=function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},n._jQueryInterface=function(i){return this.each(function(){var t=a(this).data(s),e="object"===(void 0===i?"undefined":_typeof(i))?i:null;if((t||!/destroy|hide/.test(i))&&(t||(t=new n(this,e),a(this).data(s,t)),"string"==typeof i)){if(void 0===t[i])throw new Error('No method named "'+i+'"');t[i]()}})},_createClass(n,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}},{key:"Default",get:function(){return o}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return s}},{key:"Event",get:function(){return u}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return r}}]),n}(Tooltip);return a.fn[e]=n._jQueryInterface,a.fn[e].Constructor=n,a.fn[e].noConflict=function(){return a.fn[e]=t,n._jQueryInterface},n}(jQuery),tc_vars,mydragg,RODTA;function isNumberKey(t){var e=t.which?t.which:t.keyCode;return 44==e||46==e||!(31<e&&(e<48||57<e))}function offset(t){return t.getClientRects().length?(e=t.getBoundingClientRect(),i=t.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0};var e,i}function pointerEventToXY(t){var e,i={x:0,y:0};return"touchstart"==t.type||"touchmove"==t.type||"touchend"==t.type?(e=t.touches[0]||t.changedTouches[0],i.x=e.pageX,i.y=e.pageY):(i.x=t.pageX,i.y=t.pageY),i}function isIntNumberKey(t){var e=t.which?t.which:t.keyCode;return!(31<e&&(e<48||57<e))}function isNumberLetterKey(t){var e=t.which?t.which:t.keyCode;return 44==e||46==e||45==e||!(31<e&&(e<48||57<e))}function rgb2hex(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4==t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}function GetOpacity(t){return t=t.replace(/^rgba?\(|\s+|\)$/g,"").split(","),parseFloat(t[3])}function hexToRgb(t,e){var i;return t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+","+e+")"}function padLeft(t,e){return t=""+t,e.substring(0,e.length-t.length)+t}function formatM(t,e){t=t.toFixed(e)+"";for(var i=/(\d+)(\d{3})/;i.test(t);)t=t.replace(i,"$1 $2");return t}function formatDecimales(t,e){if(e)return t.toFixed(1)+" %";var i=Math.abs(t);return 1e3<i?formatM(t,0):100<i?t.toFixed(1):2<i?t.toFixed(2):t.toFixed(3)}function formatMinutes(t,e){t+="";var i=parseInt(t.substr(6));return 1==e?padLeft(Math.floor(i/60),"00")+":"+padLeft(i%60,"00"):2==e?t.substring(4,6)+"/"+t.substring(2,4)+"/20"+t.substring(0,2):t.substring(4,6)+"/"+t.substring(2,4)+" "+padLeft(Math.floor(i/60),"00")+":"+padLeft(i%60,"00")}function formatMinHour(t){return t<60?t+" min":Math.floor(t/60)+"h "+t%60+"min"}function daysToDate(t,e){var i=new Date(864e5*t);switch(e){case 1:return padLeft(i.getDate(),"00")+"/"+padLeft(i.getMonth()+1,"00")+"/"+i.getFullYear().toString();case 2:return padLeft(i.getDate(),"00")+"/"+padLeft(i.getMonth()+1,"00")+"/"+i.getFullYear().toString().substring(2,4);case 3:return padLeft(i.getDate(),"00")+"/"+padLeft(i.getMonth()+1,"00");case 4:return padLeft(i.getMonth()+1,"00")+"/"+i.getFullYear().toString()}}function gs(t,e){switch(e){case"c":case"o":case"h":case"l":case"v1":return t[e];case"m":return(t.h+t.l)/2;case"m2":return(t.h+t.l+t.c)/3;case"m3":return(t.o+t.h+t.l+t.c)/4;default:return t.c}}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(l){var n=-1,a=-1,h=function(t){return parseFloat(t)||0},c=function(t){var e=l(t),n=null,a=[];return e.each(function(){var t=l(this),e=t.offset().top-h(t.css("margin-top")),i=0<a.length?a[a.length-1]:null;null===i?a.push(t):Math.floor(Math.abs(n-e))<=1?a[a.length-1]=i.add(t):a.push(t),n=e}),a},d=function(t){var e={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof t?l.extend(e,t):("boolean"==typeof t?e.byRow=t:"remove"===t&&(e.remove=!0),e)},u=l.fn.matchHeight=function(t){var e=d(t);if(e.remove){var i=this;return this.css(e.property,""),l.each(u._groups,function(t,e){e.elements=e.elements.not(i)}),this}return this.length<=1&&!e.target||(u._groups.push({elements:this,options:e}),u._apply(this,e)),this};u.version="0.7.2",u._groups=[],u._throttle=80,u._maintainScroll=!1,u._beforeUpdate=null,u._afterUpdate=null,u._rows=c,u._parse=h,u._parseOptions=d,u._apply=function(t,e){var s=d(e),i=l(t),n=[i],a=l(window).scrollTop(),o=l("html").outerHeight(!0),r=i.parents().filter(":hidden");return r.each(function(){var t=l(this);t.data("style-cache",t.attr("style"))}),r.css("display","block"),s.byRow&&!s.target&&(i.each(function(){var t=l(this),e=t.css("display");"inline-block"!==e&&"flex"!==e&&"inline-flex"!==e&&(e="block"),t.data("style-cache",t.attr("style")),t.css({display:e,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),n=c(i),i.each(function(){var t=l(this);t.attr("style",t.data("style-cache")||"")})),l.each(n,function(t,e){var i=l(e),a=0;if(s.target)a=s.target.outerHeight(!1);else{if(s.byRow&&i.length<=1)return void i.css(s.property,"");i.each(function(){var t=l(this),e=t.attr("style"),i=t.css("display");"inline-block"!==i&&"flex"!==i&&"inline-flex"!==i&&(i="block");var n={display:i};n[s.property]="",t.css(n),t.outerHeight(!1)>a&&(a=t.outerHeight(!1)),e?t.attr("style",e):t.css("display","")})}i.each(function(){var t=l(this),e=0;s.target&&t.is(s.target)||("border-box"!==t.css("box-sizing")&&(e+=h(t.css("border-top-width"))+h(t.css("border-bottom-width")),e+=h(t.css("padding-top"))+h(t.css("padding-bottom"))),t.css(s.property,a-e+"px"))})}),r.each(function(){var t=l(this);t.attr("style",t.data("style-cache")||null)}),u._maintainScroll&&l(window).scrollTop(a/o*l("html").outerHeight(!0)),this},u._applyDataApi=function(){var i={};l("[data-match-height], [data-mh]").each(function(){var t=l(this),e=t.attr("data-mh")||t.attr("data-match-height");i[e]=e in i?i[e].add(t):t}),l.each(i,function(){this.matchHeight(!0)})};var s=function(t){u._beforeUpdate&&u._beforeUpdate(t,u._groups),l.each(u._groups,function(){u._apply(this.elements,this.options)}),u._afterUpdate&&u._afterUpdate(t,u._groups)};u._update=function(t,e){if(e&&"resize"===e.type){var i=l(window).width();if(i===n)return;n=i}t?-1===a&&(a=setTimeout(function(){s(e),a=-1},u._throttle)):s(e)},l(u._applyDataApi);var t=l.fn.on?"on":"bind";l(window)[t]("load",function(t){u._update(!1,t)}),l(window)[t]("resize orientationchange",function(t){u._update(!0,t)})}),function(f){var e=[],c=/^url\(["']?([^"'\)]*)["']?\);?$/i,d=/\.png$/i,t=!!window.createPopup,u=t&&void 0===document.documentElement.currentStyle.minWidth,p=t&&!document.defaultView;f(window).resize(function(){f.each(e,function(){this.refresh(!0)})}),f.Poshytip=function(t,e){this.$elm=f(t),this.opts=f.extend({},f.fn.poshytip.defaults,e);var i=""!=this.opts.idName?"id="+this.opts.idName:"";this.$tip=f(["<div ",i,' class="',this.opts.className,'">','<div class="tip-inner tip-bg-image"></div>','<div class="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left"></div>',"</div>"].join("")).appendTo(document.body),this.$arrow=this.$tip.find("div.tip-arrow"),this.$inner=this.$tip.find("div.tip-inner"),this.disabled=!1,this.content=null,this.init()},f.Poshytip.hideAll=function(){f.each(e,function(){this.hide()})},f.Poshytip.prototype={init:function(){e.push(this);var t=this.$elm.attr("title");if(this.$elm.data("title.poshytip",void 0!==t?t:null).data("poshytip",this),"none"!=this.opts.showOn)switch(this.$elm.bind({"mouseenter.poshytip":f.proxy(this.mouseenter,this),"mouseleave.poshytip":f.proxy(this.mouseleave,this)}),this.opts.showOn){case"hover":"cursor"==this.opts.alignTo&&this.$elm.bind("mousemove.poshytip",f.proxy(this.mousemove,this)),this.opts.allowTipHover&&this.$tip.hover(f.proxy(this.clearTimeouts,this),f.proxy(this.mouseleave,this));break;case"focus":this.$elm.bind({"focus.poshytip":f.proxy(this.showDelayed,this),"blur.poshytip":f.proxy(this.hideDelayed,this)})}},mouseenter:function(t){return!!this.disabled||(this.updateCursorPos(t),this.$elm.attr("title",""),"focus"==this.opts.showOn||void this.showDelayed())},mouseleave:function(t){if(this.disabled||this.asyncAnimating&&(this.$tip[0]===t.relatedTarget||jQuery.contains(this.$tip[0],t.relatedTarget)))return!0;if(!this.$tip.data("active")){var e=this.$elm.data("title.poshytip");null!==e&&this.$elm.attr("title",e)}if("focus"==this.opts.showOn)return!0;this.hideDelayed()},mousemove:function(t){if(this.disabled)return!0;this.updateCursorPos(t),this.opts.followCursor&&this.$tip.data("active")&&(this.calcPos(),this.$tip.css({left:this.pos.l,top:this.pos.t}),this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow))},show:function(){this.disabled||this.$tip.data("active")||(this.reset(),this.update(),this.content&&(this.display(),this.opts.timeOnScreen&&this.hideDelayed(this.opts.timeOnScreen)))},showDelayed:function(t){this.clearTimeouts(),this.showTimeout=setTimeout(f.proxy(this.show,this),"number"==typeof t?t:this.opts.showTimeout)},hide:function(){!this.disabled&&this.$tip.data("active")&&this.display(!0)},hideDelayed:function(t){this.clearTimeouts(),this.hideTimeout=setTimeout(f.proxy(this.hide,this),"number"==typeof t?t:this.opts.hideTimeout)},reset:function(){this.$tip.queue([]).detach().css("visibility","hidden").data("active",!1),this.$inner.find("*").poshytip("hide"),this.opts.fade&&this.$tip.css("opacity",this.opacity),this.$arrow[0].className="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left",this.asyncAnimating=!1},update:function(t,e){if(!this.disabled){var i=void 0!==t;if(i){if(e||(this.opts.content=t),!this.$tip.data("active"))return}else t=this.opts.content;var n=this,a="function"==typeof t?t.call(this.$elm[0],function(t){n.update(t)}):"[title]"==t?this.$elm.data("title.poshytip"):t;this.content!==a&&(this.$inner.empty().append(a),this.content=a),this.refresh(i)}},refresh:function(t){if(!this.disabled){if(t){if(!this.$tip.data("active"))return;var e={left:this.$tip.css("left"),top:this.$tip.css("top")}}this.$tip.css({left:0,top:0}).appendTo(document.body),void 0===this.opacity&&(this.opacity=this.$tip.css("opacity"));var i=this.$tip.css("background-image").match(c),n=this.$arrow.css("background-image").match(c);if(i){var a=d.test(i[1]);u&&a?(this.$tip.css("background-image","none"),this.$inner.css({margin:0,border:0,padding:0}),i=a=!1):this.$tip.prepend('<table class="tip-table" border="0" cellpadding="0" cellspacing="0"><tr><td class="tip-top tip-bg-image" colspan="2"><span></span></td><td class="tip-right tip-bg-image" rowspan="2"><span></span></td></tr><tr><td class="tip-left tip-bg-image" rowspan="2"><span></span></td><td></td></tr><tr><td class="tip-bottom tip-bg-image" colspan="2"><span></span></td></tr></table>').css({border:0,padding:0,"background-image":"none","background-color":"transparent"}).find(".tip-bg-image").css("background-image",'url("'+i[1]+'")').end().find("td").eq(3).append(this.$inner),a&&p&&(this.opts.fade=!1)}n&&p&&(u&&d.test(n[1])&&(n=!1,this.$arrow.css("background-image","none")),this.opts.fade=!1);var s=this.$tip.find("> table.tip-table");if(u){this.$tip[0].style.width="",s.width("auto").find("td").eq(3).width("auto");var o=this.$tip.width(),r=parseInt(this.$tip.css("min-width")),l=parseInt(this.$tip.css("max-width"));!isNaN(r)&&o<r?o=r:!isNaN(l)&&l<o&&(o=l),this.$tip.add(s).width(o).eq(0).find("td").eq(3).width("100%")}else s[0]&&s.width("auto").find("td").eq(3).width("auto").end().end().width(document.defaultView&&document.defaultView.getComputedStyle&&parseFloat(document.defaultView.getComputedStyle(this.$tip[0],null).width)||this.$tip.width()).find("td").eq(3).width("100%");if(this.tipOuterW=this.$tip.outerWidth(),this.tipOuterH=this.$tip.outerHeight(),this.calcPos(),n&&this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow,this.$arrow.css("visibility","inherit")),t&&this.opts.refreshAniDuration){this.asyncAnimating=!0;var h=this;this.$tip.css(e).animate({left:this.pos.l,top:this.pos.t},this.opts.refreshAniDuration,function(){h.asyncAnimating=!1})}else this.$tip.css({left:this.pos.l,top:this.pos.t})}},display:function(t){var e=this.$tip.data("active");if(!(e&&!t||!e&&t)){if(this.$tip.stop(),(this.opts.slide&&this.pos.arrow||this.opts.fade)&&(t&&this.opts.hideAniDuration||!t&&this.opts.showAniDuration)){var i={},n={};if(this.opts.slide&&this.pos.arrow){var a,s;"bottom"==this.pos.arrow||"top"==this.pos.arrow?(a="top",s="bottom"):(a="left",s="right");var o=parseInt(this.$tip.css(a));i[a]=o+(t?0:this.pos.arrow==s?-this.opts.slideOffset:this.opts.slideOffset),n[a]=o+(t?this.pos.arrow==s?this.opts.slideOffset:-this.opts.slideOffset:0)+"px"}this.opts.fade&&(i.opacity=t?this.$tip.css("opacity"):0,n.opacity=t?0:this.opacity),this.$tip.css(i).animate(n,this.opts[t?"hideAniDuration":"showAniDuration"])}if(t?this.$tip.queue(f.proxy(this.reset,this)):this.$tip.css("visibility","inherit"),e){var r=this.$elm.data("title.poshytip");null!==r&&this.$elm.attr("title",r)}this.$tip.data("active",!e)}},disable:function(){this.reset(),this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.reset(),this.$tip.remove(),delete this.$tip,this.content=null,this.$elm.unbind(".poshytip").removeData("title.poshytip").removeData("poshytip"),e.splice(f.inArray(this,e),1)},clearTimeouts:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0),this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},updateCursorPos:function(t){this.eventX=t.pageX,this.eventY=t.pageY},calcPos:function(){var t,e,i,n,a,s,o={l:0,t:0,arrow:""},r=f(window),l={l:r.scrollLeft(),t:r.scrollTop(),w:r.width(),h:r.height()};if("cursor"==this.opts.alignTo)t=e=i=this.eventX,n=a=s=this.eventY;else{var h=this.$elm.offset(),c=h.left,d=h.top,u=this.$elm.outerWidth(),p=this.$elm.outerHeight();e=(t=c+("inner-right"!=this.opts.alignX?0:u))+Math.floor(u/2),i=t+("inner-left"!=this.opts.alignX?u:0),a=(n=d+("inner-bottom"!=this.opts.alignY?0:p))+Math.floor(p/2),s=n+("inner-top"!=this.opts.alignY?p:0)}switch(this.opts.alignX){case"right":case"inner-left":o.l=i+this.opts.offsetX,this.opts.keepInViewport&&o.l+this.tipOuterW>l.l+l.w&&(o.l=l.l+l.w-this.tipOuterW),"right"!=this.opts.alignX&&"center"!=this.opts.alignY||(o.arrow="left");break;case"center":o.l=e-Math.floor(this.tipOuterW/2),this.opts.keepInViewport&&(o.l+this.tipOuterW>l.l+l.w?o.l=l.l+l.w-this.tipOuterW:o.l<l.l&&(o.l=l.l));break;default:o.l=t-this.tipOuterW-this.opts.offsetX,this.opts.keepInViewport&&o.l<l.l&&(o.l=l.l),"left"!=this.opts.alignX&&"center"!=this.opts.alignY||(o.arrow="right")}switch(this.opts.alignY){case"bottom":case"inner-top":o.t=s+this.opts.offsetY,o.arrow&&"cursor"!=this.opts.alignTo||(o.arrow="top"),this.opts.keepInViewport&&o.t+this.tipOuterH>l.t+l.h&&(o.t=n-this.tipOuterH-this.opts.offsetY,"top"==o.arrow&&(o.arrow="bottom"));break;case"center":o.t=a-Math.floor(this.tipOuterH/2),this.opts.keepInViewport&&(o.t+this.tipOuterH>l.t+l.h?o.t=l.t+l.h-this.tipOuterH:o.t<l.t&&(o.t=l.t));break;default:o.t=n-this.tipOuterH-this.opts.offsetY,o.arrow&&"cursor"!=this.opts.alignTo||(o.arrow="bottom"),this.opts.keepInViewport&&o.t<l.t&&(o.t=s+this.opts.offsetY,"bottom"==o.arrow&&(o.arrow="top"))}this.pos=o}},f.fn.poshytip=function(t){if("string"==typeof t){var e=arguments,i=t;return Array.prototype.shift.call(e),"destroy"==i&&(this.die?this.die("mouseenter.poshytip").die("focus.poshytip"):f(document).undelegate(this.selector,"mouseenter.poshytip").undelegate(this.selector,"focus.poshytip")),this.each(function(){var t=f(this).data("poshytip");t&&t[i]&&t[i].apply(t,e)})}var n=f.extend({},f.fn.poshytip.defaults,t);if(f("#poshytip-css-"+n.className)[0]||f(['<style id="poshytip-css-',n.className,'" type="text/css">',"div.",n.className,"{visibility:hidden;position:absolute;top:0;left:0;}","div.",n.className," table.tip-table, div.",n.className," table.tip-table td{margin:0;font-family:inherit;font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;vertical-align:middle;}","div.",n.className," td.tip-bg-image span{display:block;font:1px/1px sans-serif;height:",n.bgImageFrameSize,"px;width:",n.bgImageFrameSize,"px;overflow:hidden;}","div.",n.className," td.tip-right{background-position:100% 0;}","div.",n.className," td.tip-bottom{background-position:100% 100%;}","div.",n.className," td.tip-left{background-position:0 100%;}","div.",n.className," div.tip-inner{background-position:-",n.bgImageFrameSize,"px -",n.bgImageFrameSize,"px;}","div.",n.className," div.tip-arrow{visibility:hidden;position:absolute;overflow:hidden;font:1px/1px sans-serif;}","</style>"].join("")).appendTo("head"),n.liveEvents&&"none"!=n.showOn){var a,s=f.extend({},n,{liveEvents:!1});switch(n.showOn){case"hover":a=function(){var t=f(this);t.data("poshytip")||t.poshytip(s).poshytip("mouseenter")},this.live?this.live("mouseenter.poshytip",a):f(document).delegate(this.selector,"mouseenter.poshytip",a);break;case"focus":a=function(){var t=f(this);t.data("poshytip")||t.poshytip(s).poshytip("showDelayed")},this.live?this.live("focus.poshytip",a):f(document).delegate(this.selector,"focus.poshytip",a)}return this}return this.each(function(){new f.Poshytip(this,n)})},f.fn.poshytip.defaults={content:"[title]",className:"tip-yellow",idName:"",bgImageFrameSize:10,showTimeout:500,hideTimeout:100,timeOnScreen:0,showOn:"hover",liveEvents:!1,alignTo:"cursor",alignX:"right",alignY:"top",offsetX:-22,offsetY:18,keepInViewport:!0,allowTipHover:!0,followCursor:!1,fade:!0,slide:!0,slideOffset:8,showAniDuration:300,hideAniDuration:300,refreshAniDuration:200}}(jQuery),function(s){"use strict";var o=function(t,e){this.options=s.extend({},s.fn.editableform.defaults,e),this.$div=s(t),this.options.scope||(this.options.scope=this)};o.prototype={constructor:o,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=s(s.fn.editableform.template)},initButtons:function(){var t=this.$form.find(".editable-buttons");t.append(s.fn.editableform.buttons),"bottom"===this.options.showbuttons&&t.addClass("editable-buttons-bottom")},render:function(){this.$loading=s(s.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),s.when(this.input.render()).then(s.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(s.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(t){t.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var t=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(t),this.$form.submit(s.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var t,e;this.$form?(t=this.$form.outerWidth(),e=this.$form.outerHeight(),t&&this.$loading.width(t),e&&this.$loading.height(e),this.$form.hide()):(t=this.$loading.parent().width())&&this.$loading.width(t),this.$loading.show()},showForm:function(t){this.$loading.hide(),this.$form.show(),!1!==t&&this.input.activate(),this.$div.triggerHandler("show")},error:function(t){var e,i=this.$form.find(".control-group"),n=this.$form.find(".editable-error-block");if(!1===t)i.removeClass(s.fn.editableform.errorGroupClass),n.removeClass(s.fn.editableform.errorBlockClass).empty().hide();else{if(t){e=(""+t).split("\n");for(var a=0;a<e.length;a++)e[a]=s("<div>").text(e[a]).html();t=e.join("<br>")}i.addClass(s.fn.editableform.errorGroupClass),n.addClass(s.fn.editableform.errorBlockClass).html(t).show()}},submit:function(t){t.stopPropagation(),t.preventDefault();var i=this.input.input2value(),e=this.validate(i);if("object"===s.type(e)&&void 0!==e.newValue){if(i=e.newValue,this.input.value2input(i),"string"==typeof e.msg)return this.error(e.msg),void this.showForm()}else if(e)return this.error(e),void this.showForm();if(this.options.savenochange||this.input.value2str(i)!=this.input.value2str(this.value)){var n=this.input.value2submit(i);this.isSaving=!0,s.when(this.save(n)).done(s.proxy(function(t){this.isSaving=!1;var e="function"==typeof this.options.success?this.options.success.call(this.options.scope,t,i):null;return!1===e?(this.error(!1),void this.showForm(!1)):"string"==typeof e?(this.error(e),void this.showForm()):(e&&"object"==typeof e&&e.hasOwnProperty("newValue")&&(i=e.newValue),this.error(!1),this.value=i,void this.$div.triggerHandler("save",{newValue:i,submitValue:n,response:t}))},this)).fail(s.proxy(function(t){var e;this.isSaving=!1,e="function"==typeof this.options.error?this.options.error.call(this.options.scope,t,i):"string"==typeof t?t:t.responseText||t.statusText||"Unknown error!",this.error(e),this.showForm()},this))}else this.$div.triggerHandler("nochange")},save:function(t){this.options.pk=s.fn.editableutils.tryParseJson(this.options.pk,!0);var e,i="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk;return!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!=i))?(this.showLoading(),e={name:this.options.name||"",value:t,pk:i},"function"==typeof this.options.params?e=this.options.params.call(this.options.scope,e):(this.options.params=s.fn.editableutils.tryParseJson(this.options.params,!0),s.extend(e,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,e):s.ajax(s.extend({url:this.options.url,data:e,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(t){return void 0===t&&(t=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,t):void 0},option:function(t,e){t in this.options&&(this.options[t]=e),"value"===t&&this.setValue(e)},setValue:function(t,e){this.value=e?this.input.str2value(t):t,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},s.fn.editableform=function(n){var a=arguments;return this.each(function(){var t=s(this),e=t.data("editableform"),i="object"==typeof n&&n;e||t.data("editableform",e=new o(this,i)),"string"==typeof n&&e[n].apply(e,Array.prototype.slice.call(a,1))})},s.fn.editableform.Constructor=o,s.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},s.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',s.fn.editableform.loading='<div class="editableform-loading"></div>',s.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',s.fn.editableform.errorGroupClass=null,s.fn.editableform.errorBlockClass="editable-error",s.fn.editableform.engine="jquery"}(window.jQuery),function(l){"use strict";l.fn.editableutils={inherit:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,(t.prototype.constructor=t).superclass=e.prototype},setCursorPosition:function(t,e){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},tryParseJson:function(t,e){if("string"==typeof t&&t.length&&t.match(/^[\{\[].*[\}\]]$/))if(e)try{t=new Function("return "+t)()}catch(t){}finally{return t}else t=new Function("return "+t)();return t},sliceObj:function(t,e,i){var n,a,s={};if(!l.isArray(e)||!e.length)return s;for(var o=0;o<e.length;o++)n=e[o],t.hasOwnProperty(n)&&(s[n]=t[n]),!0!==i&&(a=n.toLowerCase(),t.hasOwnProperty(a)&&(s[n]=t[a]));return s},getConfigData:function(t){var i={};return l.each(t.data(),function(t,e){("object"!=typeof e||e&&"object"==typeof e&&(e.constructor===Object||e.constructor===Array))&&(i[t]=e)}),i},objectKeys:function(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i},escape:function(t){return l("<div>").text(t).html()},itemsByValue:function(n,t,a){if(!t||null===n)return[];if("function"!=typeof a){var e=a||"value";a=function(t){return t[e]}}var s=l.isArray(n),o=[],r=this;return l.each(t,function(t,e){if(e.children)o=o.concat(r.itemsByValue(n,e.children,a));else if(s)l.grep(n,function(t){return t==(e&&"object"==typeof e?a(e):e)}).length&&o.push(e);else{var i=e&&"object"==typeof e?a(e):e;n==i&&o.push(e)}}),o},createInput:function(t){var e,i=t.type;return"date"===i&&("inline"===t.mode?l.fn.editabletypes.datefield?i="datefield":l.fn.editabletypes.dateuifield&&(i="dateuifield"):l.fn.editabletypes.date?i="date":l.fn.editabletypes.dateui&&(i="dateui"),"date"!==i||l.fn.editabletypes.date||(i="combodate")),"datetime"===i&&"inline"===t.mode&&(i="datetimefield"),"wysihtml5"!==i||l.fn.editabletypes[i]||(i="textarea"),"function"==typeof l.fn.editabletypes[i]?new(e=l.fn.editabletypes[i])(this.sliceObj(t,this.objectKeys(e.defaults))):(l.error("Unknown type: "+i),!1)},supportsTransitions:function(){var t=(document.body||document.documentElement).style,e="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var n=0;n<i.length;n++)if("string"==typeof t[i[n]+e])return!0;return!1}}}(window.jQuery),function(r){"use strict";var l=function(t,e){this.init(t,e)},h=function(t,e){this.init(t,e)};l.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(t,e){this.$element=r(t),this.options=r.extend({},r.fn.editableContainer.defaults,e),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",r.proxy(function(){this.destroy()},this)),r(document).data("editable-handlers-attached")||(r(document).on("keyup.editable",function(t){27===t.which&&r(".editable-open").editableContainer("hide")}),r(document).on("click.editable",function(t){var e,i=r(t.target),n=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(r.contains(document.documentElement,t.target)&&!i.is(document)){for(e=0;e<n.length;e++)if(i.is(n[e])||i.parents(n[e]).length)return;l.prototype.closeOthers(t.target)}}),r(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!r.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var t in this.options)t in this.defaults?this.containerOptions[t]=this.options[t]:this.formOptions[t]=this.options[t]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var t;return this.containerDataName&&(t=this.$element.data(this.containerDataName))?t:t=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:r.proxy(this.save,this),nochange:r.proxy(function(){this.hide("nochange")},this),cancel:r.proxy(function(){this.hide("cancel")},this),show:r.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:r.proxy(this.setPosition,this),resize:r.proxy(this.setPosition,this),rendered:r.proxy(function(){this.$element.triggerHandler("shown",r(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(t){this.$element.addClass("editable-open"),!1!==t&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=r("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(t){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:t});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",t||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(t){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(t)},setPosition:function(){},save:function(t,e){this.$element.triggerHandler("save",e),this.hide("save")},option:function(t,e){this.options[t]=e,t in this.containerOptions?(this.containerOptions[t]=e,this.setContainerOption(t,e)):(this.formOptions[t]=e,this.$form&&this.$form.editableform("option",t,e))},setContainerOption:function(t,e){this.call("option",t,e)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(a){r(".editable-open").each(function(t,e){if(e!==a&&!r(e).find(a).length){var i=r(e),n=i.data("editableContainer");n&&("cancel"===n.options.onblur?i.data("editableContainer").hide("onblur"):"submit"===n.options.onblur&&i.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},r.fn.editableContainer=function(s){var o=arguments;return this.each(function(){var t=r(this),e="editableContainer",i=t.data(e),n="object"==typeof s&&s,a="inline"===n.mode?h:l;i||t.data(e,i=new a(this,n)),"string"==typeof s&&i[s].apply(i,Array.prototype.slice.call(o,1))})},r.fn.editableContainer.Popup=l,r.fn.editableContainer.Inline=h,r.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Inline.prototype,t.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=t("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,t.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(d){"use strict";var u=function(t,e){this.$element=d(t),this.options=d.extend({},d.fn.editable.defaults,e,d.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!d.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};u.prototype={constructor:u,init:function(){var t,e=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=d.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(d.trim(this.$element.html())),e=!0):(this.options.value=d.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",d.proxy(function(t){if(this.options.disabled||t.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var e="click"!==this.options.toggle;this.toggle(e)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":t=!0;break;case"auto":t=!d.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!e;break;default:t=!1}d.when(!t||this.render()).then(d.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var t=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",t,d.proxy(function(t){var e=d(t.target);e.data("editable")||(e.hasClass(this.options.emptyclass)&&e.empty(),e.editable(this.options).trigger(t))},this))},render:function(t){return!1!==this.options.display?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,t):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,t):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(t,e){return t&&"object"==typeof t?void d.each(t,d.proxy(function(t,e){this.option(d.trim(t),e)},this)):(this.options[t]=e,"disabled"===t?e?this.disable():this.enable():("value"===t&&this.setValue(e),this.container&&this.container.option(t,e),void(this.input.option&&this.input.option(t,e))))},handleEmpty:function(t){!1!==this.options.display&&(this.isEmpty=void 0!==t?t:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===d.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(t){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var e=d.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(e),this.$element.on("save.internal",d.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(t)}},hide:function(){this.container&&this.container.hide()},toggle:function(t){this.container&&this.container.tip().is(":visible")?this.hide():this.show(t)},save:function(t,e){if(this.options.unsavedclass){var i=!1;(i=(i=(i=(i=i||"function"==typeof this.options.url)||!1===this.options.display)||void 0!==e.response)||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue))?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var n=this.$element,a=n.css("background-color");n.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===a&&(a=""),n.css("background-color",a),n.addClass("editable-bg-transition"),setTimeout(function(){n.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(t,e,i){this.value=e?this.input.str2value(t):t,this.container&&this.container.option("value",this.value),d.when(this.render(i)).then(d.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},d.fn.editable=function(n){var i={},a=arguments,s="editable";switch(n){case"validate":return this.each(function(){var t,e=d(this).data(s);e&&(t=e.validate())&&(i[e.options.name]=t)}),i;case"getValue":return 2===arguments.length&&!0===arguments[1]?i=this.eq(0).data(s).value:this.each(function(){var t=d(this).data(s);t&&void 0!==t.value&&null!==t.value&&(i[t.options.name]=t.input.value2submit(t.value))}),i;case"submit":var e=arguments[1]||{},o=this,t=this.editable("validate");if(d.isEmptyObject(t)){var r={};if(1===o.length){var l=o.data("editable"),h={name:l.options.name||"",value:l.input.value2submit(l.value),pk:"function"==typeof l.options.pk?l.options.pk.call(l.options.scope):l.options.pk};"function"==typeof l.options.params?h=l.options.params.call(l.options.scope,h):(l.options.params=d.fn.editableutils.tryParseJson(l.options.params,!0),d.extend(h,l.options.params)),r={url:l.options.url,data:h,type:"POST"},e.success=e.success||l.options.success,e.error=e.error||l.options.error}else{var c=this.editable("getValue");r={url:e.url,data:c,type:"POST"}}r.success="function"==typeof e.success?function(t){e.success.call(o,t,e)}:d.noop,r.error="function"==typeof e.error?function(){e.error.apply(o,arguments)}:d.noop,e.ajaxOptions&&d.extend(r,e.ajaxOptions),e.data&&d.extend(r.data,e.data),d.ajax(r)}else"function"==typeof e.error&&e.error.call(o,t);return this}return this.each(function(){var t=d(this),e=t.data(s),i="object"==typeof n&&n;return i&&i.selector?void(e=new u(this,i)):(e||t.data(s,e=new u(this,i)),void("string"==typeof n&&e[n].apply(e,Array.prototype.slice.call(a,1))))})},d.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(n){"use strict";n.fn.editabletypes={};var t=function(){};t.prototype={init:function(t,e,i){this.type=t,this.options=n.extend({},i,e)},prerender:function(){this.$tpl=n(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(t,e){n(e)[this.options.escape?"text":"html"](n.trim(t))},html2value:function(t){return n("<div>").html(t).text()},value2str:function(t){return t},str2value:function(t){return t},value2submit:function(t){return t},value2input:function(t){this.$input.val(t)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(t){return n("<div>").text(t).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(t){void 0!==this.options[t]&&null!==this.options[t]&&this.$input.attr(t,this.options[t])},option:function(t,e){this.options[t]=e}},t.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},n.extend(n.fn.editabletypes,{abstractinput:t})}(window.jQuery),function(r){"use strict";var t=function(){};r.fn.editableutils.inherit(t,r.fn.editabletypes.abstractinput),r.extend(t.prototype,{render:function(){var t=r.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),t.resolve()},function(){this.error=this.options.sourceError,t.resolve()}),t.promise()},html2value:function(){return null},value2html:function(t,e,i,n){var a=r.Deferred(),s=function(){"function"==typeof i?i.call(e,t,this.sourceData,n):this.value2htmlFinal(t,e),a.resolve()};return null===t?s.call(this):this.onSourceReady(s,function(){a.resolve()}),a.promise()},onSourceReady:function(e,i){var t;if(r.isFunction(this.options.source)?(t=this.options.source.call(this.options.scope),this.sourceData=null):t=this.options.source,this.options.sourceCache&&r.isArray(this.sourceData))e.call(this);else{try{t=r.fn.editableutils.tryParseJson(t,!1)}catch(t){return void i.call(this)}if("string"==typeof t){if(this.options.sourceCache){var n,a=t;if(r(document).data(a)||r(document).data(a,{}),!1===(n=r(document).data(a)).loading&&n.sourceData)return this.sourceData=n.sourceData,this.doPrepend(),void e.call(this);if(!0===n.loading)return n.callbacks.push(r.proxy(function(){this.sourceData=n.sourceData,this.doPrepend(),e.call(this)},this)),void n.err_callbacks.push(r.proxy(i,this));n.loading=!0,n.callbacks=[],n.err_callbacks=[]}var s=r.extend({url:t,type:"get",cache:!1,dataType:"json",success:r.proxy(function(t){n&&(n.loading=!1),this.sourceData=this.makeArray(t),r.isArray(this.sourceData)?(n&&(n.sourceData=this.sourceData,r.each(n.callbacks,function(){this.call()})),this.doPrepend(),e.call(this)):(i.call(this),n&&r.each(n.err_callbacks,function(){this.call()}))},this),error:r.proxy(function(){i.call(this),n&&(n.loading=!1,r.each(n.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);r.ajax(s)}else this.sourceData=this.makeArray(t),r.isArray(this.sourceData)?(this.doPrepend(),e.call(this)):i.call(this)}},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(r.isArray(this.prependData)||(r.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=r.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),r.isArray(this.prependData)&&r.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(t){var i,n,e,a,s=[];if(!t||"string"==typeof t)return null;if(r.isArray(t)){a=function(t,e){return n={value:t,text:e},!(2<=i++)&&void 0};for(var o=0;o<t.length;o++)"object"==typeof(e=t[o])?(i=0,r.each(e,a),1===i?s.push(n):1<i&&(e.children&&(e.children=this.makeArray(e.children)),s.push(e))):s.push({value:e,text:e})}else r.each(t,function(t,e){s.push({value:t,text:e})});return s},option:function(t,e){this.options[t]=e,"source"===t&&(this.sourceData=null),"prepend"===t&&(this.prependData=null)}}),t.defaults=r.extend({},r.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),r.fn.editabletypes.list=t}(window.jQuery),function(i){"use strict";var e=function(t){this.init("text",t,e.defaults)};i.fn.editableutils.inherit(e,i.fn.editabletypes.abstractinput),i.extend(e.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),i.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=i('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(i.proxy(function(t){if(!~i.inArray(t.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var e=this;this.t=setTimeout(function(){e.toggleClear(t)},100)}},this)).parent().css("position","relative"),this.$clear.click(i.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var t=this.$input.val().length,e=this.$clear.is(":visible");t&&!e&&this.$clear.show(),!t&&e&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),e.defaults=i.extend({},i.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),i.fn.editabletypes.text=e}(window.jQuery),function(e){"use strict";var i=function(t){this.init("textarea",t,i.defaults)};e.fn.editableutils.inherit(i,e.fn.editabletypes.abstractinput),e.extend(i.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(t){t.ctrlKey&&13===t.which&&e(this).closest("form").submit()})},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)}}),i.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),e.fn.editabletypes.textarea=i}(window.jQuery),function(s){"use strict";var e=function(t){this.init("select",t,e.defaults)};s.fn.editableutils.inherit(e,s.fn.editabletypes.list),s.extend(e.prototype,{renderList:function(){this.$input.empty();var a=function(t,e){var i;if(s.isArray(e))for(var n=0;n<e.length;n++)i={},e[n].children?(i.label=e[n].text,t.append(a(s("<optgroup>",i),e[n].children))):(i.value=e[n].value,e[n].disabled&&(i.disabled=!0),t.append(s("<option>",i).text(e[n].text)));return t};a(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(t){13===t.which&&s(this).closest("form").submit()})},value2htmlFinal:function(t,e){var i="",n=s.fn.editableutils.itemsByValue(t,this.sourceData);n.length&&(i=n[0].text),s.fn.editabletypes.abstractinput.prototype.value2html.call(this,i,e)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){s(this).closest("form").submit()})}}),e.defaults=s.extend({},s.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),s.fn.editabletypes.select=e}(window.jQuery),function(s){"use strict";var e=function(t){this.init("checklist",t,e.defaults)};s.fn.editableutils.inherit(e,s.fn.editabletypes.list),s.extend(e.prototype,{renderList:function(){var t;if(this.$tpl.empty(),s.isArray(this.sourceData)){for(var e=0;e<this.sourceData.length;e++)t=s("<label>").append(s("<input>",{type:"checkbox",value:this.sourceData[e].value})).append(s("<span>").text(" "+this.sourceData[e].text)),s("<div>").append(t).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(t){return s.isArray(t)?t.sort().join(s.trim(this.options.separator)):""},str2value:function(t){var e,i=null;return"string"==typeof t&&t.length?(e=new RegExp("\\s*"+s.trim(this.options.separator)+"\\s*"),i=t.split(e)):i=s.isArray(t)?t:[t],i},value2input:function(n){this.$input.prop("checked",!1),s.isArray(n)&&n.length&&this.$input.each(function(t,e){var i=s(e);s.each(n,function(t,e){i.val()==e&&i.prop("checked",!0)})})},input2value:function(){var i=[];return this.$input.filter(":checked").each(function(t,e){i.push(s(e).val())}),i},value2htmlFinal:function(t,e){var n=[],i=s.fn.editableutils.itemsByValue(t,this.sourceData),a=this.options.escape;i.length?(s.each(i,function(t,e){var i=a?s.fn.editableutils.escape(e.text):e.text;n.push(i)}),s(e).html(n.join("<br>"))):s(e).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(t){13===t.which&&s(this).closest("form").submit()})}}),e.defaults=s.extend({},s.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),s.fn.editabletypes.checklist=e}(window.jQuery),function(i){"use strict";var e=function(t){this.init("password",t,e.defaults)};i.fn.editableutils.inherit(e,i.fn.editabletypes.text),i.extend(e.prototype,{value2html:function(t,e){t?i(e).text("[hidden]"):i(e).empty()},html2value:function(){return null}}),e.defaults=i.extend({},i.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),i.fn.editabletypes.password=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("email",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),t.fn.editabletypes.email=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("url",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),t.fn.editabletypes.url=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("tel",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),t.fn.editabletypes.tel=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("number",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{render:function(){e.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),t.fn.editabletypes.number=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("range",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.number),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){t(this).siblings("output").text(t(this).val())})},activate:function(){this.$input.focus()}}),e.defaults=t.extend({},t.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),t.fn.editabletypes.range=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("time",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),t.fn.editabletypes.time=e}(window.jQuery),function(s){"use strict";var o=function(t){if(this.init("select2",t,o.defaults),t.select2=t.select2||{},this.sourceData=null,t.placeholder&&(t.select2.placeholder=t.placeholder),!t.select2.tags&&t.source){var e=t.source;s.isFunction(t.source)&&(e=t.source.call(t.scope)),"string"==typeof e?(t.select2.ajax=t.select2.ajax||{},t.select2.ajax.data||(t.select2.ajax.data=function(t){return{query:t}}),t.select2.ajax.results||(t.select2.ajax.results=function(t){return{results:t}}),t.select2.ajax.url=e):(this.sourceData=this.convertSource(e),t.select2.data=this.sourceData)}if(this.options.select2=s.extend({},o.defaults.select2,t.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var i=this.idFunc||"id";this.idFunc=function(t){return t[i]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(t){return t.text})};s.fn.editableutils.inherit(o,s.fn.editabletypes.abstractinput),s.extend(o.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",s.proxy(function(t){this.sourceData=t.items.results},this)),this.isMultiple&&this.$input.on("change",function(){s(this).closest("form").parent().triggerHandler("resize")})},value2html:function(t,e){var i,n="",a=this;this.options.select2.tags?i=t:this.sourceData&&(i=s.fn.editableutils.itemsByValue(t,this.sourceData,this.idFunc)),s.isArray(i)?(n=[],s.each(i,function(t,e){n.push(e&&"object"==typeof e?a.formatSelection(e):e)})):i&&(n=a.formatSelection(i)),n=s.isArray(n)?n.join(this.options.viewseparator):n,o.superclass.value2html.call(this,n,e)},html2value:function(t){return this.options.select2.tags?this.str2value(t,this.options.viewseparator):null},value2input:function(t){if(s.isArray(t)&&(t=t.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(t).trigger("change",!0):(this.$input.val(t),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var e=this.options.select2.id,i=this.options.select2.formatSelection;if(!e&&!i){var n=s(this.options.scope);if(!n.data("editable").isEmpty){var a={id:t,text:n.text()};this.$input.select2("data",a)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(t,e){if("string"!=typeof t||!this.isMultiple)return t;var i,n,a;if(e=e||this.getSeparator(),null===t||t.length<1)return null;for(n=0,a=(i=t.split(e)).length;n<a;n+=1)i[n]=s.trim(i[n]);return i},autosubmit:function(){this.$input.on("change",function(t,e){e||s(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||s.fn.select2.defaults.separator},convertSource:function(t){if(s.isArray(t)&&t.length&&void 0!==t[0].value)for(var e=0;e<t.length;e++)void 0!==t[e].value&&(t[e].id=t[e].value,delete t[e].value);return t},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),o.defaults=s.extend({},s.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),s.fn.editabletypes.select2=o}(window.jQuery),function(o){var s=function(t,e){return this.$element=o(t),this.$element.is("input")?(this.options=o.extend({},o.fn.combodate.defaults,e,this.$element.data()),void this.init()):void o.error("Combodate should be applied to INPUT element")};s.prototype={constructor:s,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=o('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",o.proxy(function(t){this.$element.val(this.getValue()).change(),this.options.smartDays&&(o(t.target).is(".month")||o(t.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var a=this.options.template;return o.each(this.map,function(t,e){e=e[0];var i=new RegExp(e+"+"),n=1<e.length?e.substring(1,2):e;a=a.replace(i,"{"+n+"}")}),a=a.replace(/ /g,"&nbsp;"),o.each(this.map,function(t,e){var i=1<(e=e[0]).length?e.substring(1,2):e;a=a.replace("{"+i+"}",'<select class="'+t+'"></select>')}),a},initCombos:function(){for(var t in this.map){var e=this.$widget.find("."+t);this["$"+t]=e.length?e:null,this.fillCombo(t)}},fillCombo:function(t){var e=this["$"+t];if(e){var i=this["fill"+t.charAt(0).toUpperCase()+t.slice(1)](),n=e.val();e.empty();for(var a=0;a<i.length;a++)e.append('<option value="'+i[a][0]+'">'+i[a][1]+"</option>");e.val(n)}},fillCommon:function(t){var e,i=[];if("name"===this.options.firstItem){var n="function"==typeof(e=moment.relativeTime||moment.langData()._relativeTime)[t]?e[t](1,!0,t,!1):e[t];n=n.split(" ").reverse()[0],i.push(["",n])}else"empty"===this.options.firstItem&&i.push(["",""]);return i},fillDay:function(){var t,e,i=this.fillCommon("d"),n=-1!==this.options.template.indexOf("DD"),a=31;if(this.options.smartDays&&this.$month&&this.$year){var s=parseInt(this.$month.val(),10),o=parseInt(this.$year.val(),10);isNaN(s)||isNaN(o)||(a=moment([o,s]).daysInMonth())}for(e=1;e<=a;e++)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillMonth:function(){var t,e,i=this.fillCommon("M"),n=-1!==this.options.template.indexOf("MMMM"),a=-1!==this.options.template.indexOf("MMM"),s=-1!==this.options.template.indexOf("MM");for(e=0;e<=11;e++)t=n?moment().date(1).month(e).format("MMMM"):a?moment().date(1).month(e).format("MMM"):s?this.leadZero(e+1):e+1,i.push([e,t]);return i},fillYear:function(){var t,e,i=[],n=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--)t=n?e:(e+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([e,t]);return this.fillCommon("y").concat(i)},fillHour:function(){var t,e,i=this.fillCommon("h"),n=-1!==this.options.template.indexOf("h"),a=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),s=n?12:23;for(e=n?1:0;e<=s;e++)t=a?this.leadZero(e):e,i.push([e,t]);return i},fillMinute:function(){var t,e,i=this.fillCommon("m"),n=-1!==this.options.template.indexOf("mm");for(e=0;e<=59;e+=this.options.minuteStep)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillSecond:function(){var t,e,i=this.fillCommon("s"),n=-1!==this.options.template.indexOf("ss");for(e=0;e<=59;e+=this.options.secondStep)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillAmpm:function(){var t=-1!==this.options.template.indexOf("a");return this.options.template.indexOf("A"),[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]},getValue:function(t){var e,i={},n=this,a=!1;return o.each(this.map,function(t){if("ampm"!==t){var e="day"===t?1:0;return i[t]=n["$"+t]?parseInt(n["$"+t].val(),10):e,isNaN(i[t])?!(a=!0):void 0}}),a?"":(this.$ampm&&(i.hour=12===i.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?i.hour:i.hour+12),e=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(e),null===(t=void 0===t?this.options.format:t)?e.isValid()?e:null:e.isValid()?e.format(t):"")},setValue:function(t){function i(t,a){var s={};return t.children("option").each(function(t,e){var i,n=o(e).attr("value");""!==n&&(i=Math.abs(n-a),(void 0===s.distance||i<s.distance)&&(s={value:n,distance:i}))}),s.value}if(t){var n="string"==typeof t?moment(t,this.options.format):moment(t),a=this,s={};n.isValid()&&(o.each(this.map,function(t,e){"ampm"!==t&&(s[t]=n[e[1]]())}),this.$ampm&&(12<=s.hour?(s.ampm="pm",12<s.hour&&(s.hour-=12)):(s.ampm="am",0===s.hour&&(s.hour=12))),o.each(s,function(t,e){a["$"+t]&&("minute"===t&&1<a.options.minuteStep&&a.options.roundTime&&(e=i(a["$"+t],e)),"second"===t&&1<a.options.secondStep&&a.options.roundTime&&(e=i(a["$"+t],e)),a["$"+t].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(n.format(this.options.format)).change())}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return t<=9?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},o.fn.combodate=function(n){var t,a=Array.apply(null,arguments);return a.shift(),"getValue"===n&&this.length&&(t=this.eq(0).data("combodate"))?t.getValue.apply(t,a):this.each(function(){var t=o(this),e=t.data("combodate"),i="object"==typeof n&&n;e||t.data("combodate",e=new s(this,i)),"string"==typeof n&&"function"==typeof e[n]&&e[n].apply(e,a)})},o.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(e){"use strict";var n=function(t){this.init("combodate",t,n.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),t.combodate=e.fn.editableutils.tryParseJson(t.combodate,!0),this.options.combodate=e.extend({},n.defaults.combodate,t.combodate,{format:this.options.format,template:this.options.template})};e.fn.editableutils.inherit(n,e.fn.editabletypes.abstractinput),e.extend(n.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===e.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(t,e){var i=t?t.format(this.options.viewformat):"";n.superclass.value2html.call(this,i,e)},html2value:function(t){return t?moment(t,this.options.viewformat):null},value2str:function(t){return t?t.format(this.options.format):""},str2value:function(t){return t?moment(t,this.options.format):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.combodate("setValue",t)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),n.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),e.fn.editabletypes.combodate=n}(window.jQuery),function(c){"use strict";if(c.extend(c.fn.editableContainer.Popup.prototype,{containerName:"poshytip",innerCss:"div.tip-inner",defaults:c.fn.poshytip.defaults,initContainer:function(){this.handlePlacement(),c.extend(this.containerOptions,{showOn:"none",content:"",alignTo:"target"}),this.call(this.containerOptions)},show:function(t){this.$element.addClass("editable-open"),!1!==t&&this.closeOthers(this.$element[0]),this.$form=c("<div>"),this.renderForm();var e=c("<label>").text(this.options.title||this.$element.data("title")||this.$element.data("originalTitle")),i=c("<div>").append(e).append(this.$form);this.call("update",i),this.call("show"),this.tip().addClass(this.containerClass),this.$form.data("editableform").input.activate()},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setPosition:function(){this.container().refresh(!1)},handlePlacement:function(){var t,e,i=0,n=0;switch(this.options.placement){case"top":t="center",e="top",n=5;break;case"right":t="right",e="center",i=10;break;case"bottom":t="center",e="bottom",n=5;break;case"left":t="left",e="center",i=10}c.extend(this.containerOptions,{alignX:t,offsetX:i,alignY:e,offsetY:n})}}),c.fn.editableContainer.defaults=c.extend({},c.fn.editableContainer.defaults,{className:"tip-yellowsimple"}),c.Poshytip){var d=/^url\(["']?([^"'\)]*)["']?\);?$/i,u=/\.png$/i,p=!!window.createPopup&&"undefined"==document.documentElement.currentStyle.minWidth;c.Poshytip.prototype.refresh=function(t){if(!this.disabled){var e;if(t){if(!this.$tip.data("active"))return;e={left:this.$tip.css("left"),top:this.$tip.css("top")}}this.$tip.css({left:0,top:0}).appendTo(document.body),void 0===this.opacity&&(this.opacity=this.$tip.css("opacity"));var i=this.$tip.css("background-image").match(d),n=this.$arrow.css("background-image").match(d);if(i){var a=u.test(i[1]);p&&a?(this.$tip.css("background-image","none"),this.$inner.css({margin:0,border:0,padding:0}),i=a=!1):this.$tip.prepend('<table class="fallback" border="0" cellpadding="0" cellspacing="0"><tr><td class="tip-top tip-bg-image" colspan="2"><span></span></td><td class="tip-right tip-bg-image" rowspan="2"><span></span></td></tr><tr><td class="tip-left tip-bg-image" rowspan="2"><span></span></td><td></td></tr><tr><td class="tip-bottom tip-bg-image" colspan="2"><span></span></td></tr></table>').css({border:0,padding:0,"background-image":"none","background-color":"transparent"}).find(".tip-bg-image").css("background-image",'url("'+i[1]+'")').end().find("td").eq(3).append(this.$inner),a&&!c.support.opacity&&(this.opts.fade=!1)}n&&!c.support.opacity&&(p&&u.test(n[1])&&(n=!1,this.$arrow.css("background-image","none")),this.opts.fade=!1);var s=this.$tip.find("table.fallback");if(p){this.$tip[0].style.width="",s.width("auto").find("td").eq(3).width("auto");var o=this.$tip.width(),r=parseInt(this.$tip.css("min-width"),10),l=parseInt(this.$tip.css("max-width"),10);!isNaN(r)&&o<r?o=r:!isNaN(l)&&l<o&&(o=l),this.$tip.add(s).width(o).eq(0).find("td").eq(3).width("100%")}else s[0]&&s.width("auto").find("td").eq(3).width("auto").end().end().width(document.defaultView&&document.defaultView.getComputedStyle&&parseFloat(document.defaultView.getComputedStyle(this.$tip[0],null).width)||this.$tip.width()).find("td").eq(3).width("100%");if(this.tipOuterW=this.$tip.outerWidth(),this.tipOuterH=this.$tip.outerHeight(),this.calcPos(),n&&this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow,this.$arrow.css("visibility","inherit")),t){this.asyncAnimating=!0;var h=this;this.$tip.css(e).animate({left:this.pos.l,top:this.pos.t},200,function(){h.asyncAnimating=!1})}else this.$tip.css({left:this.pos.l,top:this.pos.t})}}}}(window.jQuery),function(n){"use strict";var a=function(t){this.init("dateui",t,a.defaults),this.initPicker(t,a.defaults)};n.fn.editableutils.inherit(a,n.fn.editabletypes.abstractinput),n.extend(a.prototype,{initPicker:function(t,e){this.options.viewformat||(this.options.viewformat=this.options.format),this.options.viewformat=this.options.viewformat.replace("yyyy","yy"),this.options.format=this.options.format.replace("yyyy","yy"),this.options.datepicker=n.extend({},e.datepicker,t.datepicker,{dateFormat:this.options.viewformat})},render:function(){this.$input.datepicker(this.options.datepicker),this.options.clear&&(this.$clear=n('<a href="#"></a>').html(this.options.clear).click(n.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(n('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,e){var i=n.datepicker.formatDate(this.options.viewformat,t);a.superclass.value2html.call(this,i,e)},html2value:function(t){if("string"!=typeof t)return t;var e;try{e=n.datepicker.parseDate(this.options.viewformat,t)}catch(t){}return e},value2str:function(t){return n.datepicker.formatDate(this.options.format,t)},str2value:function(t){if("string"!=typeof t)return t;var e;try{e=n.datepicker.parseDate(this.options.format,t)}catch(t){}return e},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.datepicker("setDate",t)},input2value:function(){return this.$input.datepicker("getDate")},activate:function(){},clear:function(){this.$input.datepicker("setDate",null),this.isAutosubmit&&this.submit()},autosubmit:function(){this.isAutosubmit=!0,this.$input.on("mouseup","table.ui-datepicker-calendar a.ui-state-default",n.proxy(this.submit,this))},submit:function(){var t=this.$input.closest("form");setTimeout(function(){t.submit()},200)}}),a.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{firstDay:0,changeYear:!0,changeMonth:!0,showOtherMonths:!0},clear:"&times; clear"}),n.fn.editabletypes.dateui=a}(window.jQuery),function(e){"use strict";var i=function(t){this.init("dateuifield",t,i.defaults),this.initPicker(t,i.defaults)};e.fn.editableutils.inherit(i,e.fn.editabletypes.dateui),e.extend(i.prototype,{render:function(){this.$input.datepicker(this.options.datepicker),e.fn.editabletypes.text.prototype.renderClear.call(this)},value2input:function(t){this.$input.val(e.datepicker.formatDate(this.options.viewformat,t))},input2value:function(){return this.html2value(this.$input.val())},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)},toggleClear:function(){e.fn.editabletypes.text.prototype.toggleClear.call(this)},autosubmit:function(){}}),i.defaults=e.extend({},e.fn.editabletypes.dateui.defaults,{tpl:'<input type="text"/>',inputclass:null,datepicker:{showOn:"button",buttonImage:"http://jqueryui.com/resources/demos/datepicker/images/calendar.gif",buttonImageOnly:!0,firstDay:0,changeYear:!0,changeMonth:!0,showOtherMonths:!0},clear:!1}),e.fn.editabletypes.dateuifield=i}(window.jQuery),function(t){"object"==typeof module&&"object"==typeof module.exports?t(require("jquery"),window,document):t(jQuery,window,document)}(function(a,t,e,i){var s=[],o=function(){return s.length?s[s.length-1]:null},n=function(){var t,e=!1;for(t=s.length-1;0<=t;t--)s[t].$blocker&&(s[t].$blocker.toggleClass("current",!e).toggleClass("behind",e),e=!0)};a.modal=function(i,t){var n,e;if(this.$body=a("body"),this.options=a.extend({},a.modal.defaults,t),this.options.doFade=!isNaN(parseInt(this.options.fadeDuration,10)),this.$blocker=null,this.options.closeExisting)for(;a.modal.isActive();)a.modal.close();if(s.push(this),i.is("a"))if(e=i.attr("href"),/^#/.test(e)){if(this.$elm=a(e),1!==this.$elm.length)return null;this.$body.append(this.$elm),this.open()}else this.$elm=a("<div>"),this.$body.append(this.$elm),n=function(t,e){e.elm.remove()},this.showSpinner(),i.trigger(a.modal.AJAX_SEND),a.get(e).done(function(t){if(a.modal.isActive()){i.trigger(a.modal.AJAX_SUCCESS);var e=o();e.$elm.empty().append(t).on(a.modal.CLOSE,n),e.hideSpinner(),e.open(),i.trigger(a.modal.AJAX_COMPLETE)}}).fail(function(){i.trigger(a.modal.AJAX_FAIL),o().hideSpinner(),s.pop(),i.trigger(a.modal.AJAX_COMPLETE)});else this.$elm=i,this.$body.append(this.$elm),this.open()},a.modal.prototype={constructor:a.modal,open:function(){var t=this;this.block(),this.options.doFade?setTimeout(function(){t.show()},this.options.fadeDuration*this.options.fadeDelay):this.show(),a(e).off("keydown.modal").on("keydown.modal",function(t){var e=o();27==t.which&&e.options.escapeClose&&e.close()}),this.options.clickClose&&this.$blocker.click(function(t){t.target==this&&a.modal.close()})},close:function(){s.pop(),this.unblock(),this.hide(),a.modal.isActive()||a(e).off("keydown.modal")},block:function(){this.$elm.trigger(a.modal.BEFORE_BLOCK,[this._ctx()]),this.$body.css("overflow","hidden"),this.$blocker=a('<div class="jquery-modal blocker current"></div>').appendTo(this.$body),n(),this.options.doFade&&this.$blocker.css("opacity",0).animate({opacity:1},this.options.fadeDuration),this.$elm.trigger(a.modal.BLOCK,[this._ctx()])},unblock:function(t){!t&&this.options.doFade?this.$blocker.fadeOut(this.options.fadeDuration,this.unblock.bind(this,!0)):(this.$blocker.children().appendTo(this.$body),this.$blocker.remove(),this.$blocker=null,n(),a.modal.isActive()||this.$body.css("overflow",""))},show:function(){this.$elm.trigger(a.modal.BEFORE_OPEN,[this._ctx()]),this.options.showClose&&(this.closeButton=a('<a href="#close-modal" rel="modal:close" class="close-modal '+this.options.closeClass+'">'+this.options.closeText+"</a>"),this.$elm.append(this.closeButton)),this.$elm.addClass(this.options.modalClass).appendTo(this.$blocker),this.options.doFade?this.$elm.css("opacity",0).show().animate({opacity:1},this.options.fadeDuration):this.$elm.show(),this.$elm.trigger(a.modal.OPEN,[this._ctx()])},hide:function(){this.$elm.trigger(a.modal.BEFORE_CLOSE,[this._ctx()]),this.closeButton&&this.closeButton.remove();var t=this;this.options.doFade?this.$elm.fadeOut(this.options.fadeDuration,function(){t.$elm.trigger(a.modal.AFTER_CLOSE,[t._ctx()])}):this.$elm.hide(0,function(){t.$elm.trigger(a.modal.AFTER_CLOSE,[t._ctx()])}),this.$elm.trigger(a.modal.CLOSE,[this._ctx()])},showSpinner:function(){this.options.showSpinner&&(this.spinner=this.spinner||a('<div class="'+this.options.modalClass+'-spinner"></div>').append(this.options.spinnerHtml),this.$body.append(this.spinner),this.spinner.show())},hideSpinner:function(){this.spinner&&this.spinner.remove()},_ctx:function(){return{elm:this.$elm,$blocker:this.$blocker,options:this.options}}},a.modal.close=function(t){if(a.modal.isActive()){t&&t.preventDefault();var e=o();return e.close(),e.$elm}},a.modal.isActive=function(){return 0<s.length},a.modal.getCurrent=o,a.modal.defaults={closeExisting:!0,escapeClose:!0,clickClose:!0,closeText:"Close",closeClass:"",modalClass:"modal",spinnerHtml:null,showSpinner:!0,showClose:!0,fadeDuration:null,fadeDelay:1},a.modal.BEFORE_BLOCK="modal:before-block",a.modal.BLOCK="modal:block",a.modal.BEFORE_OPEN="modal:before-open",a.modal.OPEN="modal:open",a.modal.BEFORE_CLOSE="modal:before-close",a.modal.CLOSE="modal:close",a.modal.AFTER_CLOSE="modal:after-close",a.modal.AJAX_SEND="modal:ajax:send",a.modal.AJAX_SUCCESS="modal:ajax:success",a.modal.AJAX_FAIL="modal:ajax:fail",a.modal.AJAX_COMPLETE="modal:ajax:complete",a.fn.modal=function(t){return 1===this.length&&new a.modal(this,t),this},a(e).on("click.modal",'a[rel="modal:close"]',a.modal.close),a(e).on("click.modal",'a[rel="modal:open"]',function(t){t.preventDefault(),a(this).modal()})}),function(){var E,_;E=this.jQuery||window.jQuery,_=E(window),E.fn.stick_in_parent=function(t){var C,e,S,i,n,M,a,A,k,s,D,P;for(null==t&&(t={}),P=t.sticky_class,M=t.inner_scrolling,D=t.recalc_every,s=t.parent,k=t.offset_top,A=t.spacer,S=t.bottoming,null==k&&(k=0),null==s&&(s=void 0),null==M&&(M=!0),null==P&&(P="is_stuck"),C=E(document),null==S&&(S=!0),i=function(o,r,l,h,c,d,u,p){var f,t,m,g,v,b,y,x,e,w,T,n;if(!o.data("sticky_kit")){if(o.data("sticky_kit",!0),v=C.height(),y=o.parent(),null!=s&&(y=y.closest(s)),!y.length)throw"failed to find stick parent";if(f=m=!1,(T=null!=A?A&&o.closest(A):E("<div />"))&&T.css("position",o.css("position")),(x=function(){var t,e,i;if(!p)return v=C.height(),t=parseInt(y.css("border-top-width"),10),e=parseInt(y.css("padding-top"),10),r=parseInt(y.css("padding-bottom"),10),l=y.offset().top+t+e,h=y.height(),m&&(f=m=!1,null==A&&(o.insertAfter(T),T.detach()),o.css({position:"",top:"",width:"",bottom:""}).removeClass(P),i=!0),c=o.offset().top-(parseInt(o.css("margin-top"),10)||0)-k,d=o.outerHeight(!0),u=o.css("float"),T&&T.css({width:o.outerWidth(!0),height:d,display:o.css("display"),"vertical-align":o.css("vertical-align"),float:u}),i?n():void 0})(),d!==h)return g=void 0,b=k,w=D,n=function(){var t,e,i,n,a,s;if(!p)return i=!1,null!=w&&(w-=1)<=0&&(w=D,x(),i=!0),i||C.height()===v||(x(),i=!0),n=_.scrollTop(),null!=g&&(e=n-g),g=n,m?(S&&(a=h+l<n+d+b,f&&!a&&(f=!1,o.css({position:"fixed",bottom:"",top:b}).trigger("sticky_kit:unbottom"))),n<c&&(m=!1,b=k,null==A&&("left"!==u&&"right"!==u||o.insertAfter(T),T.detach()),t={position:"",width:"",top:""},o.css(t).removeClass(P).trigger("sticky_kit:unstick")),M&&(s=_.height())<d+k&&(f||(b-=e,b=Math.max(s-d,b),b=Math.min(k,b),m&&o.css({top:b+"px"})))):c<n&&(m=!0,(t={position:"fixed",top:b}).width="border-box"===o.css("box-sizing")?o.outerWidth()+"px":o.width()+"px",o.css(t).addClass(P),null==A&&(o.after(T),"left"!==u&&"right"!==u||T.append(o)),o.trigger("sticky_kit:stick")),m&&S&&(null==a&&(a=h+l<n+d+b),!f&&a)?(f=!0,"static"===y.css("position")&&y.css({position:"relative"}),o.css({position:"absolute",bottom:r,top:"auto"}).trigger("sticky_kit:bottom")):void 0},e=function(){return x(),n()},t=function(){if(p=!0,_.off("touchmove",n),_.off("scroll",n),_.off("resize",e),E(document.body).off("sticky_kit:recalc",e),o.off("sticky_kit:detach",t),o.removeData("sticky_kit"),o.css({position:"",bottom:"",top:"",width:""}),y.position("position",""),m)return null==A&&("left"!==u&&"right"!==u||o.insertAfter(T),T.remove()),o.removeClass(P)},_.on("touchmove",n),_.on("scroll",n),_.on("resize",e),E(document.body).on("sticky_kit:recalc",e),o.on("sticky_kit:detach",t),setTimeout(n,0)}},n=0,a=this.length;n<a;n++)e=this[n],i(E(e));return this}}.call(this),function(kt,t,Dt){"use strict";var Pt,Et,_t,Nt="sly",Lt=t.cancelAnimationFrame||t.cancelRequestAnimationFrame,Ot=t.requestAnimationFrame,It=kt(document),Bt="touchstart."+Nt+" mousedown."+Nt,Rt="mousemove."+Nt+" mouseup."+Nt,Ht="touchmove."+Nt+" touchend."+Nt,$t=(document.implementation.hasFeature("Event.wheel","3.0")?"wheel.":"mousewheel.")+Nt,Vt="click."+Nt,Gt="mousedown."+Nt,Ft=["INPUT","SELECT","BUTTON","TEXTAREA"],Yt=[],Wt=Math.abs,jt=Math.sqrt,zt=Math.pow,Xt=Math.round,Ut=Math.max,qt=Math.min,Qt=0;function Zt(r,t,n){if(!(this instanceof Zt))return new Zt(r,t,n);var i,a,g=kt.extend({},Zt.defaults,t),l=this,v=ie(r),h=kt(r),b=g.slidee?kt(g.slidee).eq(0):h.children().eq(0),y=0,x=0,w={start:0,center:0,end:0,cur:0,dest:0},T=kt(g.scrollBar).eq(0),C=T.children().eq(0),S=0,M=0,A={start:0,end:0,cur:0},k=kt(g.pagesBar),D=0,P=[],E=0,_=[],N={firstItem:0,lastItem:0,centerItem:0,activeItem:null,activePage:0},s=new se(h[0]),o=new se(b[0]),c=new se(T[0]),d=new se(C[0]),e="basic"===g.itemNav,L="forceCentered"===g.itemNav,O="centered"===g.itemNav||L,I=!v&&(e||O||L),u=g.scrollSource?kt(g.scrollSource):h,p=g.dragSource?kt(g.dragSource):h,f=kt(g.forward),m=kt(g.backward),B=kt(g.prev),R=kt(g.next),H=kt(g.prevPage),$=kt(g.nextPage),V={},G={},F={},Y={},W={released:1},j={last:0,delta:0,resetTime:200},z=0,X=0,U=0,q=0;function Q(t){var e=P.length;if(w.old=kt.extend({},w),y=v?0:h[g.horizontal?"width":"height"](),S=T[g.horizontal?"width":"height"](),x=v?r:b[g.horizontal?"outerWidth":"outerHeight"](),P.length=0,w.start=0,w.end=Ut(x-y,0),I){_.length,E=b.children(g.itemSelector),_.length=0;var c,d=ne(b,g.horizontal?"paddingLeft":"paddingTop"),u=ne(b,g.horizontal?"paddingRight":"paddingBottom"),i="border-box"===kt(E).css("boxSizing"),p="none"!==E.css("float"),f=0,m=E.length-1;x=0,E.each(function(t,e){var i=kt(e),n=e.getBoundingClientRect(),a=Xt(g.horizontal?n.width||n.right-n.left:n.height||n.bottom-n.top),s=ne(i,g.horizontal?"marginLeft":"marginTop"),o=ne(i,g.horizontal?"marginRight":"marginBottom"),r=a+s+o,l=!s||!o,h={};h.el=e,h.size=l?a:r,h.half=h.size/2,h.start=x+(l?s:0),h.center=h.start-Xt(y/2-h.size/2),h.end=h.start-y+h.size,t||(x+=d),x+=r,g.horizontal||p||o&&s&&0<t&&(x-=qt(s,o)),t===m&&(h.end+=u,x+=u,f=l?o:0),_.push(h),c=h}),b[0].style[g.horizontal?"width":"height"]=(i?x:x-d-u)+"px",x-=f,_.length?(w.start=_[0][L?"center":"start"],w.end=L?c.center:y<x?c.end:w.start):w.start=w.end=0}if(w.center=Xt(w.end/2+w.start/2),ot(),C.length&&0<S&&(g.dynamicHandle?(M=ae(M=w.start===w.end?S:Xt(S*y/x),g.minHandleSize,S),C[0].style[g.horizontal?"width":"height"]=M+"px"):M=C[g.horizontal?"outerWidth":"outerHeight"](),A.end=S-M,z||J()),!v&&0<y){var n=w.start,a="";if(I)kt.each(_,function(t,e){L?P.push(e.center):e.start+e.size>n&&n<=w.end&&(n=e.start,P.push(n),(n+=y)>w.end&&n<w.end+y&&P.push(w.end))});else for(;n-y<w.end;)P.push(n),n+=y;if(k[0]&&e!==P.length){for(var s=0;s<P.length;s++)a+=g.pageBuilder.call(l,s);(D=k.html(a).children()).eq(N.activePage).addClass(g.activeClass)}}if(N.slideeSize=x,N.frameSize=y,N.sbSize=S,N.handleSize=M,I){t&&null!=g.startAt&&(at(g.startAt),l[O?"toCenter":"toStart"](g.startAt));var o=_[N.activeItem];Z(O&&o?o.center:ae(w.dest,w.start,w.end))}else t?null!=g.startAt&&Z(g.startAt,1):Z(ae(w.dest,w.start,w.end));At("load")}function Z(t,e,i){if(I&&W.released&&!i){var n=st(t),a=t>w.start&&t<w.end;O?(a&&(t=_[n.centerItem].center),L&&g.activateMiddle&&at(n.centerItem)):a&&(t=_[n.firstItem].start)}W.init&&W.slidee&&g.elasticBounds?t>w.end?t=w.end+(t-w.end)/6:t<w.start&&(t=w.start+(t-w.start)/6):t=ae(t,w.start,w.end),F.start=+new Date,F.time=0,F.from=w.cur,F.to=t,F.delta=t-w.cur,F.tweesing=W.tweese||W.init&&!W.slidee,F.immediate=!F.tweesing&&(e||W.init&&W.slidee||!g.speed),W.tweese=0,t!==w.dest&&(w.dest=t,At("change"),z||K()),ct(),ot(),rt(),D[0]&&G.page!==N.activePage&&(G.page=N.activePage,D.removeClass(g.activeClass).eq(N.activePage).addClass(g.activeClass),At("activePage",G.page))}function K(){if(l.initialized){if(!z)return z=Ot(K),void(W.released&&At("moveStart"));F.immediate?w.cur=F.to:F.tweesing?(F.tweeseDelta=F.to-w.cur,Wt(F.tweeseDelta)<.1?w.cur=F.to:w.cur+=F.tweeseDelta*(W.released?g.swingSpeed:g.syncSpeed)):(F.time=qt(+new Date-F.start,g.speed),w.cur=F.from+F.delta*kt.easing[g.easing](F.time/g.speed,F.time,0,1,g.speed)),F.to===w.cur?(w.cur=F.to,W.tweese=z=0):z=Ot(K),At("move"),v||(Pt?b[0].style[Pt]=Et+(g.horizontal?"translateX":"translateY")+"("+-w.cur+"px)":b[0].style[g.horizontal?"left":"top"]=-Xt(w.cur)+"px"),!z&&W.released&&At("moveEnd"),J()}}function J(){C.length&&(A.cur=w.start===w.end?0:((W.init&&!W.slidee?w.dest:w.cur)-w.start)/(w.end-w.start)*A.end,A.cur=ae(Xt(A.cur),A.start,A.end),G.hPos!==A.cur&&(G.hPos=A.cur,Pt?C[0].style[Pt]=Et+(g.horizontal?"translateX":"translateY")+"("+A.cur+"px)":C[0].style[g.horizontal?"left":"top"]=A.cur+"px"))}function tt(){Y.speed&&w.cur!==(0<Y.speed?w.end:w.start)||l.stop(),q=W.init?Ot(tt):0,Y.now=+new Date,Y.pos=w.cur+(Y.now-Y.lastTime)/1e3*Y.speed,Z(W.init?Y.pos:Xt(Y.pos)),W.init||w.cur!==w.dest||At("moveEnd"),Y.lastTime=Y.now}function et(t,e,i){if("boolean"===Kt(e)&&(i=e,e=Dt),e===Dt)Z(w[t],i);else{if(O&&"center"!==t)return;var n=l.getPos(e);n&&Z(n[t],i,!O)}}function it(t){return null!=t?ie(t)?0<=t&&t<_.length?t:-1:E.index(t):-1}function nt(t){return it(ie(t)&&t<0?t+_.length:t)}function at(t,e){var i=it(t);return!(!I||i<0)&&((G.active!==i||e)&&(E.eq(N.activeItem).removeClass(g.activeClass),E.eq(i).addClass(g.activeClass),G.active=N.activeItem=i,rt(),At("active",i)),i)}function st(t){t=ae(ie(t)?t:w.dest,w.start,w.end);var e={},i=L?0:y/2;if(!v)for(var n=0,a=P.length;n<a;n++){if(t>=w.end||n===P.length-1){e.activePage=P.length-1;break}if(t<=P[n]+i){e.activePage=n;break}}if(I){for(var s=!1,o=!1,r=!1,l=0,h=_.length;l<h;l++)if(!1===s&&t<=_[l].start+_[l].half&&(s=l),!1===r&&t<=_[l].center+_[l].half&&(r=l),l===h-1||t<=_[l].end+_[l].half){o=l;break}e.firstItem=ie(s)?s:0,e.centerItem=ie(r)?r:e.firstItem,e.lastItem=ie(o)?o:e.centerItem}return e}function ot(t){kt.extend(N,st(t))}function rt(){var t=w.dest<=w.start,e=w.dest>=w.end,i=(t?1:0)|(e?2:0);if(G.slideePosState!==i&&(G.slideePosState=i,H.is("button,input")&&H.prop("disabled",t),$.is("button,input")&&$.prop("disabled",e),H.add(m)[t?"addClass":"removeClass"](g.disabledClass),$.add(f)[e?"addClass":"removeClass"](g.disabledClass)),G.fwdbwdState!==i&&W.released&&(G.fwdbwdState=i,m.is("button,input")&&m.prop("disabled",t),f.is("button,input")&&f.prop("disabled",e)),I&&null!=N.activeItem){var n=0===N.activeItem,a=N.activeItem>=_.length-1,s=(n?1:0)|(a?2:0);G.itemsButtonState!==s&&(G.itemsButtonState=s,B.is("button,input")&&B.prop("disabled",n),R.is("button,input")&&R.prop("disabled",a),B[n?"addClass":"removeClass"](g.disabledClass),R[a?"addClass":"removeClass"](g.disabledClass))}}function lt(t,e,i){if(t=nt(t),e=nt(e),-1<t&&-1<e&&t!==e&&(!i||e!==t-1)&&(i||e!==t+1)){E.eq(t)[i?"insertAfter":"insertBefore"](_[e].el);var n=t<e?t:i?e:e-1,a=e<t?t:i?e+1:e,s=e<t;null!=N.activeItem&&(t===N.activeItem?G.active=N.activeItem=i?s?e+1:e:s?e:e-1:N.activeItem>n&&N.activeItem<a&&(G.active=N.activeItem+=s?1:-1)),Q()}}function ht(t,e){for(var i=0,n=V[t].length;i<n;i++)if(V[t][i]===e)return i;return-1}function ct(){W.released&&!l.isPaused&&l.resume()}function dt(t){return Xt(ae(t,A.start,A.end)/A.end*(w.end-w.start))+w.start}function ut(){W.history[0]=W.history[1],W.history[1]=W.history[2],W.history[2]=W.history[3],W.history[3]=W.delta}function pt(t){W.released=0,W.source=t,W.slidee="slidee"===t}function ft(t){var e="touchstart"===t.type,i=t.data.source,n="slidee"===i;W.init||!e&&vt(t.target)||("handle"!==i||g.dragHandle&&A.start!==A.end)&&(n&&!(e?g.touchDragging:g.mouseDragging&&t.which<2)||(e||Jt(t),pt(i),W.init=0,W.$source=kt(t.target),W.touch=e,W.pointer=e?t.originalEvent.touches[0]:t,W.initX=W.pointer.pageX,W.initY=W.pointer.pageY,W.initPos=n?w.cur:A.cur,W.start=+new Date,W.time=0,W.path=0,W.delta=0,W.locked=0,W.history=[0,0,0,0],W.pathToLock=n?e?30:10:0,It.on(e?Ht:Rt,mt),l.pause(1),(n?b:C).addClass(g.draggedClass),At("moveStart"),n&&(X=setInterval(ut,10))))}function mt(t){if(W.released="mouseup"===t.type||"touchend"===t.type,W.pointer=W.touch?t.originalEvent[W.released?"changedTouches":"touches"][0]:t,W.pathX=W.pointer.pageX-W.initX,W.pathY=W.pointer.pageY-W.initY,W.path=jt(zt(W.pathX,2)+zt(W.pathY,2)),W.delta=g.horizontal?W.pathX:W.pathY,W.released||!(W.path<1)){if(!W.init){if(W.path<g.dragThreshold)return W.released?gt():Dt;if(!(g.horizontal?Wt(W.pathX)>Wt(W.pathY):Wt(W.pathX)<Wt(W.pathY)))return gt();W.init=1}Jt(t),!W.locked&&W.path>W.pathToLock&&W.slidee&&(W.locked=1,W.$source.on(Vt,te)),W.released&&(gt(),g.releaseSwing&&W.slidee&&(W.swing=(W.delta-W.history[0])/40*300,W.delta+=W.swing,W.tweese=10<Wt(W.swing))),Z(W.slidee?Xt(W.initPos-W.delta):dt(W.initPos+W.delta))}}function gt(){clearInterval(X),W.released=!0,It.off(W.touch?Ht:Rt,mt),(W.slidee?b:C).removeClass(g.draggedClass),setTimeout(function(){W.$source.off(Vt,te)}),w.cur===w.dest&&W.init&&At("moveEnd"),l.resume(1),W.init=0}function vt(t){return~kt.inArray(t.nodeName,Ft)||kt(t).is(g.interactive)}function bt(){l.stop(),It.off("mouseup",bt)}function yt(t){switch(Jt(t),this){case f[0]:case m[0]:l.moveBy(f.is(this)?g.moveBy:-g.moveBy),It.on("mouseup",bt);break;case B[0]:l.prev();break;case R[0]:l.next();break;case H[0]:l.prevPage();break;case $[0]:l.nextPage()}}function xt(t){t.originalEvent[Nt]=l;var e=+new Date;if(Qt+g.scrollHijack>e&&u[0]!==document&&u[0]!==window)Qt=e;else if(g.scrollBy&&w.start!==w.end){var i,n=(i=t.originalEvent,j.curDelta=(g.horizontal?i.deltaY||i.deltaX:i.deltaY)||-i.wheelDelta,j.curDelta/=1===i.deltaMode?3:100,I?(_t=+new Date,j.last<_t-j.resetTime&&(j.delta=0),j.last=_t,j.delta+=j.curDelta,Wt(j.delta)<1?j.finalDelta=0:(j.finalDelta=Xt(j.delta/1),j.delta%=1),j.finalDelta):j.curDelta);(g.scrollTrap||0<n&&w.dest<w.end||n<0&&w.dest>w.start)&&Jt(t,1),l.slideBy(g.scrollBy*n)}}function wt(t){g.clickBar&&t.target===T[0]&&(Jt(t),Z(dt((g.horizontal?t.pageX-T.offset().left:t.pageY-T.offset().top)-M/2)))}function Tt(t){if(g.keyboardNavBy)switch(t.which){case g.horizontal?37:38:Jt(t),l["pages"===g.keyboardNavBy?"prevPage":"prev"]();break;case g.horizontal?39:40:Jt(t),l["pages"===g.keyboardNavBy?"nextPage":"next"]()}}function Ct(t){vt(this)?t.originalEvent[Nt+"ignore"]=!0:this.parentNode!==b[0]||t.originalEvent[Nt+"ignore"]||l.activate(this)}function St(){this.parentNode===k[0]&&l.activatePage(D.index(this))}function Mt(t){g.pauseOnHover&&l["mouseenter"===t.type?"pause":"resume"](2)}function At(t,e){if(V[t]){for(a=V[t].length,Yt.length=0,i=0;i<a;i++)Yt.push(V[t][i]);for(i=0;i<a;i++)Yt[i].call(l,t,e)}}v||(r=h[0]),l.initialized=0,l.frame=r,l.slidee=b[0],l.pos=w,l.rel=N,l.items=_,l.pages=P,l.isPaused=0,l.options=g,l.dragging=W,l.reload=function(){Q()},l.getPos=function(t){if(I){var e=it(t);return-1!==e&&_[e]}var i=b.find(t).eq(0);if(i[0]){var n=g.horizontal?i.offset().left-b.offset().left:i.offset().top-b.offset().top,a=i[g.horizontal?"outerWidth":"outerHeight"]();return{start:n,center:n-y/2+a/2,end:n-y+a,size:a}}return!1},l.moveBy=function(t){Y.speed=t,!W.init&&Y.speed&&w.cur!==(0<Y.speed?w.end:w.start)&&(Y.lastTime=+new Date,Y.startPos=w.cur,pt("button"),W.init=1,At("moveStart"),Lt(q),tt())},l.stop=function(){"button"===W.source&&(W.init=0,W.released=1)},l.prev=function(){l.activate(null==N.activeItem?0:N.activeItem-1)},l.next=function(){l.activate(null==N.activeItem?0:N.activeItem+1)},l.prevPage=function(){l.activatePage(N.activePage-1)},l.nextPage=function(){l.activatePage(N.activePage+1)},l.slideBy=function(t,e){t&&(I?l[O?"toCenter":"toStart"](ae((O?N.centerItem:N.firstItem)+g.scrollBy*t,0,_.length)):Z(w.dest+t,e))},l.slideTo=function(t,e){Z(t,e)},l.toStart=function(t,e){et("start",t,e)},l.toEnd=function(t,e){et("end",t,e)},l.toCenter=function(t,e){et("center",t,e)},l.getIndex=it,l.activate=function(t,e){var i=at(t);g.smart&&!1!==i&&(O?l.toCenter(i,e):i>=N.lastItem?l.toStart(i,e):i<=N.firstItem?l.toEnd(i,e):ct())},l.activatePage=function(t,e){ie(t)&&Z(P[ae(t,0,P.length-1)],e)},l.resume=function(t){g.cycleBy&&g.cycleInterval&&("items"!==g.cycleBy||_[0]&&null!=N.activeItem)&&!(t<l.isPaused)&&(l.isPaused=0,U?U=clearTimeout(U):At("resume"),U=setTimeout(function(){switch(At("cycle"),g.cycleBy){case"items":l.activate(N.activeItem>=_.length-1?0:N.activeItem+1);break;case"pages":l.activatePage(N.activePage>=P.length-1?0:N.activePage+1)}},g.cycleInterval))},l.pause=function(t){t<l.isPaused||(l.isPaused=t||100,U&&(U=clearTimeout(U),At("pause")))},l.toggle=function(){l[U?"pause":"resume"]()},l.set=function(t,e){kt.isPlainObject(t)?kt.extend(g,t):g.hasOwnProperty(t)&&(g[t]=e)},l.add=function(t,e){var i=kt(t);I?(null==e||!_[0]||e>=_.length?i.appendTo(b):_.length&&i.insertBefore(_[e].el),null!=N.activeItem&&e<=N.activeItem&&(G.active=N.activeItem+=i.length)):b.append(i),Q()},l.remove=function(t){if(I){var e=nt(t);if(-1<e){E.eq(e).remove();var i=e===N.activeItem;null!=N.activeItem&&e<N.activeItem&&(G.active=--N.activeItem),Q(),i&&(G.active=null,l.activate(N.activeItem))}}else kt(t).remove(),Q()},l.moveAfter=function(t,e){lt(t,e,1)},l.moveBefore=function(t,e){lt(t,e)},l.on=function(t,e){if("object"===Kt(t))for(var i in t)t.hasOwnProperty(i)&&l.on(i,t[i]);else if("function"===Kt(e))for(var n=t.split(" "),a=0,s=n.length;a<s;a++)V[n[a]]=V[n[a]]||[],-1===ht(n[a],e)&&V[n[a]].push(e);else if("array"===Kt(e))for(var o=0,r=e.length;o<r;o++)l.on(t,e[o])},l.one=function(e,i){l.on(e,function t(){i.apply(l,arguments),l.off(e,t)})},l.off=function(t,e){if(e instanceof Array)for(var i=0,n=e.length;i<n;i++)l.off(t,e[i]);else for(var a=t.split(" "),s=0,o=a.length;s<o;s++)if(V[a[s]]=V[a[s]]||[],null==e)V[a[s]].length=0;else{var r=ht(a[s],e);-1!==r&&V[a[s]].splice(r,1)}},l.destroy=function(){return Zt.removeInstance(r),u.add(C).add(T).add(k).add(f).add(m).add(B).add(R).add(H).add($).off("."+Nt),It.off("keydown",Tt),B.add(R).add(H).add($).removeClass(g.disabledClass),E&&null!=N.activeItem&&E.eq(N.activeItem).removeClass(g.activeClass),k.empty(),v||(h.off("."+Nt),s.restore(),o.restore(),c.restore(),d.restore(),kt.removeData(r,Nt)),_.length=P.length=0,G={},l.initialized=0,l},l.init=function(){if(!l.initialized){if(Zt.getInstance(r))throw new Error("There is already a Sly instance on this element");Zt.storeInstance(r,l),l.on(n);var t=["overflow","position"],e=["position","webkitTransform","msTransform","transform","left","top","width","height"];s.save.apply(s,t),c.save.apply(c,t),o.save.apply(o,e),d.save.apply(d,e);var i=C;return v||(i=i.add(b),h.css("overflow","hidden"),Pt||"static"!==h.css("position")||h.css("position","relative")),Pt?Et&&i.css(Pt,Et):("static"===T.css("position")&&T.css("position","relative"),i.css({position:"absolute"})),g.forward&&f.on(Gt,yt),g.backward&&m.on(Gt,yt),g.prev&&B.on(Vt,yt),g.next&&R.on(Vt,yt),g.prevPage&&H.on(Vt,yt),g.nextPage&&$.on(Vt,yt),u.on($t,xt),T[0]&&T.on(Vt,wt),I&&g.activateOn&&h.on(g.activateOn+"."+Nt,"*",Ct),k[0]&&g.activatePageOn&&k.on(g.activatePageOn+"."+Nt,"*",St),p.on(Bt,{source:"slidee"},ft),C&&C.on(Bt,{source:"handle"},ft),It.on("keydown",Tt),v||(h.on("mouseenter."+Nt+" mouseleave."+Nt,Mt),h.on("scroll."+Nt,ee)),l.initialized=1,Q(!0),g.cycleBy&&!v&&l[g.startPaused?"pause":"resume"](),l}}}function Kt(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof t}function Jt(t,e){t.preventDefault(),e&&t.stopPropagation()}function te(t){Jt(t,1),kt(this).off(t.type,te)}function ee(){this.scrollLeft=0,this.scrollTop=0}function ie(t){return!isNaN(parseFloat(t))&&isFinite(t)}function ne(t,e){return 0|Xt(String(t.css(e)).replace(/[^\-0-9.]/g,""))}function ae(t,e,i){return t<e?e:i<t?i:t}function se(e){var i={style:{},save:function(){if(e&&e.nodeType){for(var t=0;t<arguments.length;t++)i.style[arguments[t]]=e.style[arguments[t]];return i}},restore:function(){if(e&&e.nodeType){for(var t in i.style)i.style.hasOwnProperty(t)&&(e.style[t]=i.style[t]);return i}}};return i}It.on($t,function(t){var e=t.originalEvent[Nt],i=+new Date;(!e||e.options.scrollHijack<i-Qt)&&(Qt=i)}),Zt.getInstance=function(t){return kt.data(t,Nt)},Zt.storeInstance=function(t,e){return kt.data(t,Nt,e)},Zt.removeInstance=function(t){return kt.removeData(t,Nt)},function(e){Ot=e.requestAnimationFrame||e.webkitRequestAnimationFrame||function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-a)),n=setTimeout(t,i);return a=e,n};var a=(new Date).getTime();var i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout;Lt=function(t){i.call(e,t)}}(window),function(){var a=["","Webkit","Moz","ms","O"],s=document.createElement("div");function t(t){for(var e=0,i=a.length;e<i;e++){var n=a[e]?a[e]+t.charAt(0).toUpperCase()+t.slice(1):t;if(null!=s.style[n])return n}}Pt=t("transform"),Et=t("perspective")?"translateZ(0) ":""}(),t.Sly=Zt,kt.fn.sly=function(n,a){var s,o;return kt.isPlainObject(n)||("string"!==Kt(n)&&!1!==n||(s=!1===n?"destroy":n,o=Array.prototype.slice.call(arguments,1)),n={}),this.each(function(t,e){var i=Zt.getInstance(e);i||s?i&&s&&i[s]&&i[s].apply(i,o):i=new Zt(e,n,a).init()})},Zt.defaults={slidee:null,horizontal:!1,itemNav:null,itemSelector:null,smart:!1,activateOn:null,activateMiddle:!1,scrollSource:null,scrollBy:0,scrollHijack:300,scrollTrap:!1,dragSource:null,mouseDragging:!1,touchDragging:!1,releaseSwing:!1,swingSpeed:.2,elasticBounds:!1,dragThreshold:3,interactive:null,scrollBar:null,dragHandle:!1,dynamicHandle:!1,minHandleSize:50,clickBar:!1,syncSpeed:.5,pagesBar:null,activatePageOn:null,pageBuilder:function(t){return"<li>"+(t+1)+"</li>"},forward:null,backward:null,prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5e3,pauseOnHover:!1,startPaused:!1,moveBy:300,speed:0,easing:"swing",startAt:null,keyboardNavBy:null,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}}(jQuery,window),function(s,r,t,m){"use strict";var o,l=["","webkit","Moz","MS","ms","o"],e=r.createElement("div"),i="function",h=Math.round,g=Math.abs,v=Date.now;function c(t,e,i){return setTimeout(b(t,i),e)}function n(t,e,i){return!!Array.isArray(t)&&(d(t,i[e],i),!0)}function d(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==m)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function a(n,t,e){var a="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),e=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=s.console&&(s.console.warn||s.console.log);return i&&i.call(s.console,a,e),n.apply(this,arguments)}}o="function"!=typeof Object.assign?function(t){if(t===m||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==m&&null!==n)for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])}return e}:Object.assign;var u=a(function(t,e,i){for(var n=Object.keys(e),a=0;a<n.length;)(!i||i&&t[n[a]]===m)&&(t[n[a]]=e[n[a]]),a++;return t},"extend","Use `assign`."),p=a(function(t,e){return u(t,e,!0)},"merge","Use `assign`.");function f(t,e,i){var n,a=e.prototype;(n=t.prototype=Object.create(a)).constructor=t,n._super=a,i&&o(n,i)}function b(t,e){return function(){return t.apply(e,arguments)}}function y(t,e){return typeof t==i?t.apply(e&&e[0]||m,e):t}function x(t,e){return t===m?e:t}function w(e,t,i){d(M(t),function(t){e.addEventListener(t,i,!1)})}function T(e,t,i){d(M(t),function(t){e.removeEventListener(t,i,!1)})}function C(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return-1<t.indexOf(e)}function M(t){return t.trim().split(/\s+/g)}function A(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function k(t){return Array.prototype.slice.call(t,0)}function D(t,i,e){for(var n=[],a=[],s=0;s<t.length;){var o=i?t[s][i]:t[s];A(a,o)<0&&n.push(t[s]),a[s]=o,s++}return e&&(n=i?n.sort(function(t,e){return t[i]>e[i]}):n.sort()),n}function P(t,e){for(var i,n,a=e[0].toUpperCase()+e.slice(1),s=0;s<l.length;){if((n=(i=l[s])?i+a:e)in t)return n;s++}return m}var E=1;function _(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||s}var N="ontouchstart"in s,L=P(s,"PointerEvent")!==m,O=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),I="touch",B=25,R=1,H=4,$=8,V=1,G=2,F=4,Y=8,W=16,j=G|F,z=Y|W,X=j|z,U=["x","y"],q=["clientX","clientY"];function Q(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){y(e.options.enable,[e])&&i.handler(t)},this.init()}function Z(t,e,i){var n=i.pointers.length,a=i.changedPointers.length,s=e&R&&n-a==0,o=e&(H|$)&&n-a==0;i.isFirst=!!s,i.isFinal=!!o,s&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,a=n.length;i.firstInput||(i.firstInput=K(e));1<a&&!i.firstMultiple?i.firstMultiple=K(e):1===a&&(i.firstMultiple=!1);var s=i.firstInput,o=i.firstMultiple,r=o?o.center:s.center,l=e.center=J(n);e.timeStamp=v(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=nt(r,l),e.distance=it(r,l),function(t,e){var i=e.center,n=t.offsetDelta||{},a=t.prevDelta||{},s=t.prevInput||{};e.eventType!==R&&s.eventType!==H||(a=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=a.x+(i.x-n.x),e.deltaY=a.y+(i.y-n.y)}(i,e),e.offsetDirection=et(e.deltaX,e.deltaY);var h=tt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=g(h.x)>g(h.y)?h.x:h.y,e.scale=o?(u=o.pointers,p=n,it(p[0],p[1],q)/it(u[0],u[1],q)):1,e.rotation=o?(c=o.pointers,d=n,nt(d[1],d[0],q)+nt(c[1],c[0],q)):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,a,s,o=t.lastInterval||e,r=e.timeStamp-o.timeStamp;if(e.eventType!=$&&(B<r||o.velocity===m)){var l=e.deltaX-o.deltaX,h=e.deltaY-o.deltaY,c=tt(r,l,h);n=c.x,a=c.y,i=g(c.x)>g(c.y)?c.x:c.y,s=et(l,h),t.lastInterval=e}else i=o.velocity,n=o.velocityX,a=o.velocityY,s=o.direction;e.velocity=i,e.velocityX=n,e.velocityY=a,e.direction=s}(i,e);var c,d;var u,p;var f=t.element;C(e.srcEvent.target,f)&&(f=e.srcEvent.target);e.target=f}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function K(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:h(t.pointers[i].clientX),clientY:h(t.pointers[i].clientY)},i++;return{timeStamp:v(),pointers:e,center:J(e),deltaX:t.deltaX,deltaY:t.deltaY}}function J(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var i=0,n=0,a=0;a<e;)i+=t[a].clientX,n+=t[a].clientY,a++;return{x:h(i/e),y:h(n/e)}}function tt(t,e,i){return{x:e/t||0,y:i/t||0}}function et(t,e){return t===e?V:g(t)>=g(e)?t<0?G:F:e<0?Y:W}function it(t,e,i){i||(i=U);var n=e[i[0]]-t[i[0]],a=e[i[1]]-t[i[1]];return Math.sqrt(n*n+a*a)}function nt(t,e,i){i||(i=U);var n=e[i[0]]-t[i[0]],a=e[i[1]]-t[i[1]];return 180*Math.atan2(a,n)/Math.PI}Q.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(_(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(_(this.element),this.evWin,this.domHandler)}};var at={mousedown:R,mousemove:2,mouseup:H},st="mousedown",ot="mousemove mouseup";function rt(){this.evEl=st,this.evWin=ot,this.pressed=!1,Q.apply(this,arguments)}f(rt,Q,{handler:function(t){var e=at[t.type];e&R&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=H),this.pressed&&(e&H&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var lt={pointerdown:R,pointermove:2,pointerup:H,pointercancel:$,pointerout:$},ht={2:I,3:"pen",4:"mouse",5:"kinect"},ct="pointerdown",dt="pointermove pointerup pointercancel";function ut(){this.evEl=ct,this.evWin=dt,Q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}s.MSPointerEvent&&!s.PointerEvent&&(ct="MSPointerDown",dt="MSPointerMove MSPointerUp MSPointerCancel"),f(ut,Q,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),a=lt[n],s=ht[t.pointerType]||t.pointerType,o=s==I,r=A(e,t.pointerId,"pointerId");a&R&&(0===t.button||o)?r<0&&(e.push(t),r=e.length-1):a&(H|$)&&(i=!0),r<0||(e[r]=t,this.callback(this.manager,a,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(r,1))}});var pt={touchstart:R,touchmove:2,touchend:H,touchcancel:$};function ft(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Q.apply(this,arguments)}f(ft,Q,{handler:function(t){var e=pt[t.type];if(e===R&&(this.started=!0),this.started){var i=function(t,e){var i=k(t.touches),n=k(t.changedTouches);e&(H|$)&&(i=D(i.concat(n),"identifier",!0));return[i,n]}.call(this,t,e);e&(H|$)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:I,srcEvent:t})}}});var mt={touchstart:R,touchmove:2,touchend:H,touchcancel:$},gt="touchstart touchmove touchend touchcancel";function vt(){this.evTarget=gt,this.targetIds={},Q.apply(this,arguments)}f(vt,Q,{handler:function(t){var e=mt[t.type],i=function(t,e){var i=k(t.touches),n=this.targetIds;if(e&(2|R)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var a,s,o=k(t.changedTouches),r=[],l=this.target;if(s=i.filter(function(t){return C(t.target,l)}),e===R)for(a=0;a<s.length;)n[s[a].identifier]=!0,a++;a=0;for(;a<o.length;)n[o[a].identifier]&&r.push(o[a]),e&(H|$)&&delete n[o[a].identifier],a++;if(!r.length)return;return[D(s.concat(r),"identifier",!0),r]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:I,srcEvent:t})}});var bt=2500;function yt(){Q.apply(this,arguments);var t=b(this.handler,this);this.touch=new vt(this.manager,t),this.mouse=new rt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function xt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var t=n.indexOf(i);-1<t&&n.splice(t,1)},bt)}}f(yt,Q,{handler:function(t,e,i){var n=i.pointerType==I,a="mouse"==i.pointerType;if(!(a&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)(function(t,e){t&R?(this.primaryTouch=e.changedPointers[0].identifier,xt.call(this,e)):t&(H|$)&&xt.call(this,e)}).call(this,e,i);else if(a&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var a=this.lastTouches[n],s=Math.abs(e-a.x),o=Math.abs(i-a.y);if(s<=25&&o<=25)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var wt=P(e.style,"touchAction"),Tt=wt!==m,Ct="manipulation",St="none",Mt="pan-x",At="pan-y",kt=function(){if(!Tt)return!1;var e={},i=s.CSS&&s.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){e[t]=!i||s.CSS.supports("touch-action",t)}),e}();function Dt(t,e){this.manager=t,this.set(e)}Dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Tt&&this.manager.element.style&&kt[t]&&(this.manager.element.style[wt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return d(this.manager.recognizers,function(t){y(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(S(t,St))return St;var e=S(t,Mt),i=S(t,At);if(e&&i)return St;if(e||i)return e?Mt:At;if(S(t,Ct))return Ct;return"auto"}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,a=S(n,St)&&!kt.none,s=S(n,At)&&!kt[At],o=S(n,Mt)&&!kt[Mt];if(a){var r=1===t.pointers.length,l=t.distance<2,h=t.deltaTime<250;if(r&&l&&h)return}if(!o||!s)return a||s&&i&j||o&&i&z?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Pt=1;function Et(t){this.options=o({},this.defaults,t||{}),this.id=E++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=Pt,this.simultaneous={},this.requireFail=[]}function _t(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Nt(t){return t==W?"down":t==Y?"up":t==G?"left":t==F?"right":""}function Lt(t,e){var i=e.manager;return i?i.get(t):t}function Ot(){Et.apply(this,arguments)}function It(){Ot.apply(this,arguments),this.pX=null,this.pY=null}function Bt(){Ot.apply(this,arguments)}function Rt(){Et.apply(this,arguments),this._timer=null,this._input=null}function Ht(){Ot.apply(this,arguments)}function $t(){Ot.apply(this,arguments)}function Vt(){Et.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Gt(t,e){return(e=e||{}).recognizers=x(e.recognizers,Gt.defaults.preset),new Ft(t,e)}Et.prototype={defaults:{},set:function(t){return o(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(n(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Lt(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return n(t,"dropRecognizeWith",this)||(t=Lt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(n(t,"requireFailure",this))return this;var e=this.requireFail;return-1===A(e,t=Lt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(n(t,"dropRequireFailure",this))return this;t=Lt(t,this);var e=A(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var i=this,t=this.state;function n(t){i.manager.emit(t,e)}t<8&&n(i.options.event+_t(t)),n(i.options.event),e.additionalEvent&&n(e.additionalEvent),8<=t&&n(i.options.event+_t(t))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Pt)))return!1;t++}return!0},recognize:function(t){var e=o({},t);if(!y(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Pt),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},f(Ot,Et,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=6&e,a=this.attrTest(t);return n&&(i&$||!a)?16|e:n||a?i&H?8|e:2&e?4|e:2:32}}),f(It,Ot,{defaults:{event:"pan",threshold:10,pointers:1,direction:X},getTouchAction:function(){var t=this.options.direction,e=[];return t&j&&e.push(At),t&z&&e.push(Mt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,a=t.direction,s=t.deltaX,o=t.deltaY;return a&e.direction||(e.direction&j?(a=0===s?V:s<0?G:F,i=s!=this.pX,n=Math.abs(t.deltaX)):(a=0===o?V:o<0?Y:W,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=a,i&&n>e.threshold&&a&e.direction},attrTest:function(t){return Ot.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Nt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),f(Bt,Ot,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),f(Rt,Et,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,a=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(H|$)&&!a)this.reset();else if(t.eventType&R)this.reset(),this._timer=c(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&H)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&H?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=v(),this.manager.emit(this.options.event,this._input)))}}),f(Ht,Ot,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),f($t,Ot,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:j|z,pointers:1},getTouchAction:function(){return It.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(j|z)?e=t.overallVelocity:i&j?e=t.overallVelocityX:i&z&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&g(e)>this.options.velocity&&t.eventType&H},emit:function(t){var e=Nt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),f(Vt,Et,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ct]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,a=t.deltaTime<e.time;if(this.reset(),t.eventType&R&&0===this.count)return this.failTimeout();if(n&&a&&i){if(t.eventType!=H)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||it(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&s?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=c(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=c(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Gt.VERSION="2.0.7",Gt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ht,{enable:!1}],[Bt,{enable:!1},["rotate"]],[$t,{direction:j}],[It,{direction:j},["swipe"]],[Vt],[Vt,{event:"doubletap",taps:2},["tap"]],[Rt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ft(t,e){var i;this.options=o({},Gt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(L?ut:O?vt:N?yt:rt))(i,Z),this.touchAction=new Dt(this,this.options.touchAction),Yt(this,!0),d(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Yt(i,n){var a,s=i.element;s.style&&(d(i.options.cssProps,function(t,e){a=P(s.style,e),n?(i.oldCssProps[a]=s.style[a],s.style[a]=t):s.style[a]=i.oldCssProps[a]||""}),n||(i.oldCssProps={}))}Ft.prototype={set:function(t){return o(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,a=e.curRecognizer;(!a||a&&8&a.state)&&(a=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||a&&i!=a&&!i.canRecognizeWith(a)?i.reset():i.recognize(t),!a&&14&i.state&&(a=e.curRecognizer=i),s++}},get:function(t){if(t instanceof Et)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(n(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(n(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=A(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==m&&e!==m){var i=this.handlers;return d(M(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==m){var i=this.handlers;return d(M(t),function(t){e?i[t]&&i[t].splice(A(i[t],e),1):delete i[t]}),this}},emit:function(t,e){var i,n,a;this.options.domEvents&&(i=t,n=e,(a=r.createEvent("Event")).initEvent(i,!0,!0),(a.gesture=n).target.dispatchEvent(a));var s=this.handlers[t]&&this.handlers[t].slice();if(s&&s.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](e),o++}},destroy:function(){this.element&&Yt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(Gt,{INPUT_START:R,INPUT_MOVE:2,INPUT_END:H,INPUT_CANCEL:$,STATE_POSSIBLE:Pt,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:V,DIRECTION_LEFT:G,DIRECTION_RIGHT:F,DIRECTION_UP:Y,DIRECTION_DOWN:W,DIRECTION_HORIZONTAL:j,DIRECTION_VERTICAL:z,DIRECTION_ALL:X,Manager:Ft,Input:Q,TouchAction:Dt,TouchInput:vt,MouseInput:rt,PointerEventInput:ut,TouchMouseInput:yt,SingleTouchInput:ft,Recognizer:Et,AttrRecognizer:Ot,Tap:Vt,Pan:It,Swipe:$t,Pinch:Bt,Rotate:Ht,Press:Rt,on:w,off:T,each:d,merge:p,extend:u,assign:o,inherit:f,bindFn:b,prefixed:P}),(void 0!==s?s:"undefined"!=typeof self?self:{}).Hammer=Gt,"function"==typeof define&&define.amd?define(function(){return Gt}):"undefined"!=typeof module&&module.exports?module.exports=Gt:s.Hammer=Gt}(window,document),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(B){"use strict";B=B&&B.hasOwnProperty("default")?B.default:B;var t="undefined"!=typeof window?window:{},h="cropper",a=h+"-crop",e=h+"-disabled",A=h+"-hidden",r=h+"-hide",l=h+"-modal",c=h+"-move",d="action",g="preview",u="crop",s="cropend",o="cropmove",p="cropstart",n=t.PointerEvent?"pointerdown":"touchstart mousedown",f=t.PointerEvent?"pointermove":"touchmove mousemove",m=t.PointerEvent?" pointerup pointercancel":"touchend touchcancel mouseup",v="wheel mousewheel DOMMouseScroll",b=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,y=/^data:/,x=/^data:image\/jpeg;base64,/,w=/^(img|canvas)$/i,T={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null};var i=Number.isNaN||t.isNaN;function C(t){return"number"==typeof t&&!i(t)}function S(t){return void 0===t}function M(n,a){for(var t=arguments.length,s=Array(2<t?t-2:0),e=2;e<t;e++)s[e-2]=arguments[e];return function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.apply(a,s.concat(e))}}var k=Object.keys||function(t){var e=[];return B.each(t,function(t){e.push(t)}),e},D=/\.\d*(?:0|9){12}\d*$/i;function R(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e11;return D.test(t)?Math.round(t*e)/e:t}var P=t.location,E=/^(https?:)\/\/([^:/?#]+):?(\d*)/i;function _(t){var e=t.match(E);return e&&(e[1]!==P.protocol||e[2]!==P.hostname||e[3]!==P.port)}function N(t){var e="timestamp="+(new Date).getTime();return t+(-1===t.indexOf("?")?"?":"&")+e}function L(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,a=t.translateX,s=t.translateY,o=[];return C(a)&&0!==a&&o.push("translateX("+a+"px)"),C(s)&&0!==s&&o.push("translateY("+s+"px)"),C(e)&&0!==e&&o.push("rotate("+e+"deg)"),C(i)&&1!==i&&o.push("scaleX("+i+")"),C(n)&&1!==n&&o.push("scaleY("+n+")"),o.length?o.join(" "):"none"}var O=t.navigator,I=O&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(O.userAgent);function H(t,e){var i=t.pageX,n=t.pageY,a={endX:i,endY:n};return e?a:B.extend({startX:i,startY:n},a)}var $=Number.isFinite||t.isFinite;function V(t){var e=t.aspectRatio,i=t.height,n=t.width,a=function(t){return $(t)&&0<t};return a(n)&&a(i)?n<i*e?i=n/e:n=i*e:a(n)?i=n/e:a(i)&&(n=i*e),{width:n,height:i}}function G(t,e,i,n){var a=e.naturalWidth,s=e.naturalHeight,o=e.rotate,r=void 0===o?0:o,l=e.scaleX,h=void 0===l?1:l,c=e.scaleY,d=void 0===c?1:c,u=i.aspectRatio,p=i.naturalWidth,f=i.naturalHeight,m=n.fillColor,g=void 0===m?"transparent":m,v=n.imageSmoothingEnabled,b=void 0===v||v,y=n.imageSmoothingQuality,x=void 0===y?"low":y,w=n.maxWidth,T=void 0===w?1/0:w,C=n.maxHeight,S=void 0===C?1/0:C,M=n.minWidth,A=void 0===M?0:M,k=n.minHeight,D=void 0===k?0:k,P=V({aspectRatio:u,width:T,height:S}),E=V({aspectRatio:u,width:A,height:D}),_=Math.min(P.width,Math.max(E.width,p)),N=Math.min(P.height,Math.max(E.height,f)),L=document.createElement("canvas"),O=L.getContext("2d"),I=[-a/2,-s/2,a,s];return L.width=R(_),L.height=R(N),O.fillStyle=g,O.fillRect(0,0,_,N),O.save(),O.translate(_/2,N/2),O.rotate(r*Math.PI/180),O.scale(h,d),O.imageSmoothingEnabled=!!b,O.imageSmoothingQuality=x,O.drawImage.apply(O,[t].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(B.map(I,function(t){return Math.floor(R(t))})))),O.restore(),L}var F=String.fromCharCode;var Y=/^data:.*,/;function W(t){var e=new DataView(t),i=void 0,n=void 0,a=void 0,s=void 0;if(255===e.getUint8(0)&&216===e.getUint8(1))for(var o=e.byteLength,r=2;r<o;){if(255===e.getUint8(r)&&225===e.getUint8(r+1)){a=r;break}r+=1}if(a){var l=a+10;if("Exif"===function(t,e,i){var n="",a=void 0;for(i+=e,a=e;a<i;a+=1)n+=F(t.getUint8(a));return n}(e,a+4,4)){var h=e.getUint16(l);if(((n=18761===h)||19789===h)&&42===e.getUint16(l+2,n)){var c=e.getUint32(l+4,n);8<=c&&(s=l+c)}}}if(s){var d=e.getUint16(s,n),u=void 0,p=void 0;for(p=0;p<d;p+=1)if(u=s+12*p+2,274===e.getUint16(u,n)){u+=8,i=e.getUint16(u,n),e.setUint16(u,1,n);break}}return i}var j={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.$element,e=this.options,i=this.$container,n=this.$cropper;n.addClass(A),t.removeClass(A),n.css(this.container={width:Math.max(i.width(),Number(e.minContainerWidth)||200),height:Math.max(i.height(),Number(e.minContainerHeight)||100)}),t.addClass(A),n.removeClass(A)},initCanvas:function(){var t=this.container,e=this.image,i=this.options.viewMode,n=Math.abs(e.rotate)%180==90,a=n?e.naturalHeight:e.naturalWidth,s=n?e.naturalWidth:e.naturalHeight,o=a/s,r=t.width,l=t.height;t.height*o>t.width?3===i?r=t.height*o:l=t.width/o:3===i?l=t.width/o:r=t.height*o;var h={aspectRatio:o,naturalWidth:a,naturalHeight:s,width:r,height:l};h.left=(t.width-r)/2,h.top=(t.height-l)/2,h.oldLeft=h.left,h.oldTop=h.top,this.canvas=h,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImage=B.extend({},e),this.initialCanvas=B.extend({},h)},limitCanvas:function(t,e){var i=this.options,n=this.container,a=this.canvas,s=this.cropBox,o=i.viewMode,r=a.aspectRatio,l=this.cropped&&s;if(t){var h=Number(i.minCanvasWidth)||0,c=Number(i.minCanvasHeight)||0;0<o&&(1<o?(h=Math.max(h,n.width),c=Math.max(c,n.height),3===o&&(h<c*r?h=c*r:c=h/r)):h?h=Math.max(h,l?s.width:0):c?c=Math.max(c,l?s.height:0):l&&((h=s.width)<(c=s.height)*r?h=c*r:c=h/r));var d=V({aspectRatio:r,width:h,height:c});h=d.width,c=d.height,a.minWidth=h,a.minHeight=c,a.maxWidth=1/0,a.maxHeight=1/0}if(e)if(0<o){var u=n.width-a.width,p=n.height-a.height;a.minLeft=Math.min(0,u),a.minTop=Math.min(0,p),a.maxLeft=Math.max(0,u),a.maxTop=Math.max(0,p),l&&this.limited&&(a.minLeft=Math.min(s.left,s.left+s.width-a.width),a.minTop=Math.min(s.top,s.top+s.height-a.height),a.maxLeft=s.left,a.maxTop=s.top,2===o&&(a.width>=n.width&&(a.minLeft=Math.min(0,u),a.maxLeft=Math.max(0,u)),a.height>=n.height&&(a.minTop=Math.min(0,p),a.maxTop=Math.max(0,p))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=n.width,a.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvas,n=this.image;if(e){var a=function(t){var e=t.width,i=t.height,n=t.degree;if((n=Math.abs(n))%180==90)return{width:i,height:e};var a=n%90*Math.PI/180,s=Math.sin(a),o=Math.cos(a);return{width:e*o+i*s,height:e*s+i*o}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),s=a.width,o=a.height,r=i.width*(s/i.naturalWidth),l=i.height*(o/i.naturalHeight);i.left-=(r-i.width)/2,i.top-=(l-i.height)/2,i.width=r,i.height=l,i.aspectRatio=s/o,i.naturalWidth=s,i.naturalHeight=o,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,this.$canvas.css({width:i.width,height:i.height,transform:L({translateX:i.left,translateY:i.top})}),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvas,i=this.image,n=i.naturalWidth*(e.width/e.naturalWidth),a=i.naturalHeight*(e.height/e.naturalHeight);B.extend(i,{width:n,height:a,left:(e.width-n)/2,top:(e.height-a)/2}),this.$clone.css({width:i.width,height:i.height,transform:L(B.extend({translateX:i.left,translateY:i.top},i))}),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvas,i=t.aspectRatio,n=Number(t.autoCropArea)||.8,a={width:e.width,height:e.height};i&&(e.height*i>e.width?a.height=a.width/i:a.width=a.height*i),this.cropBox=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*n),a.height=Math.max(a.minHeight,a.height*n),a.left=e.left+(e.width-a.width)/2,a.top=e.top+(e.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBox=B.extend({},a)},limitCropBox:function(t,e){var i=this.options,n=this.container,a=this.canvas,s=this.cropBox,o=this.limited,r=i.aspectRatio;if(t){var l=Number(i.minCropBoxWidth)||0,h=Number(i.minCropBoxHeight)||0,c=Math.min(n.width,o?a.width:n.width),d=Math.min(n.height,o?a.height:n.height);l=Math.min(l,n.width),h=Math.min(h,n.height),r&&(l&&h?l<h*r?h=l/r:l=h*r:l?h=l/r:h&&(l=h*r),c<d*r?d=c/r:c=d*r),s.minWidth=Math.min(l,c),s.minHeight=Math.min(h,d),s.maxWidth=c,s.maxHeight=d}e&&(o?(s.minLeft=Math.max(0,a.left),s.minTop=Math.max(0,a.top),s.maxLeft=Math.min(n.width,a.left+a.width)-s.width,s.maxTop=Math.min(n.height,a.top+a.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=n.width-s.width,s.maxTop=n.height-s.height))},renderCropBox:function(){var t=this.options,e=this.container,i=this.cropBox;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&this.$face.data(d,i.width>=e.width&&i.height>=e.height?"move":"all"),this.$cropBox.css({width:i.width,height:i.height,transform:L({translateX:i.left,translateY:i.top})}),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),this.completed&&this.trigger(u,this.getData())}},z={initPreview:function(){var a=this.crossOrigin,s=a?this.crossOriginUrl:this.url,t=document.createElement("img");a&&(t.crossOrigin=a),t.src=s;var e=B(t);this.$preview=B(this.options.preview),this.$clone2=e,this.$viewBox.html(e),this.$preview.each(function(t,e){var i=B(e),n=document.createElement("img");i.data(g,{width:i.width(),height:i.height(),html:i.html()}),a&&(n.crossOrigin=a),n.src=s,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',i.html(n)})},resetPreview:function(){this.$preview.each(function(t,e){var i=B(e),n=i.data(g);i.css({width:n.width,height:n.height}).html(n.html).removeData(g)})},preview:function(){var h=this.image,t=this.canvas,e=this.cropBox,c=e.width,d=e.height,u=h.width,p=h.height,f=e.left-t.left-h.left,m=e.top-t.top-h.top;this.cropped&&!this.disabled&&(this.$clone2.css({width:u,height:p,transform:L(B.extend({translateX:-f,translateY:-m},h))}),this.$preview.each(function(t,e){var i=B(e),n=i.data(g),a=n.width,s=n.height,o=a,r=s,l=1;c&&(r=d*(l=a/c)),d&&s<r&&(o=c*(l=s/d),r=s),i.css({width:o,height:r}).find("img").css({width:u*l,height:p*l,transform:L(B.extend({translateX:-f*l,translateY:-m*l},h))})}))}},X={bind:function(){var t=this.$element,e=this.options,i=this.$cropper;B.isFunction(e.cropstart)&&t.on(p,e.cropstart),B.isFunction(e.cropmove)&&t.on(o,e.cropmove),B.isFunction(e.cropend)&&t.on(s,e.cropend),B.isFunction(e.crop)&&t.on(u,e.crop),B.isFunction(e.zoom)&&t.on("zoom",e.zoom),i.on(n,M(this.cropStart,this)),e.zoomable&&e.zoomOnWheel&&i.on(v,M(this.wheel,this)),e.toggleDragModeOnDblclick&&i.on("dblclick",M(this.dblclick,this)),B(document).on(f,this.onCropMove=M(this.cropMove,this)).on(m,this.onCropEnd=M(this.cropEnd,this)),e.responsive&&B(window).on("resize",this.onResize=M(this.resize,this))},unbind:function(){var t=this.$element,e=this.options,i=this.$cropper;B.isFunction(e.cropstart)&&t.off(p,e.cropstart),B.isFunction(e.cropmove)&&t.off(o,e.cropmove),B.isFunction(e.cropend)&&t.off(s,e.cropend),B.isFunction(e.crop)&&t.off(u,e.crop),B.isFunction(e.zoom)&&t.off("zoom",e.zoom),i.off(n,this.cropStart),e.zoomable&&e.zoomOnWheel&&i.off(v,this.wheel),e.toggleDragModeOnDblclick&&i.off("dblclick",this.dblclick),B(document).off(f,this.onCropMove).off(m,this.onCropEnd),e.responsive&&B(window).off("resize",this.onResize)}},U={resize:function(){var t=this.options,e=this.$container,i=this.container,n=Number(t.minContainerWidth)||200,a=Number(t.minContainerHeight)||100;if(!(this.disabled||i.width<=n||i.height<=a)){var s=e.width()/i.width;if(1!==s||e.height()!==i.height){var o=void 0,r=void 0;t.restore&&(o=this.getCanvasData(),r=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(B.each(o,function(t,e){o[t]=e*s})),this.setCropBoxData(B.each(r,function(t,e){r[t]=e*s})))}}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(this.$dragBox.hasClass(a)?"move":"crop")},wheel:function(t){var e=this,i=t.originalEvent||t,n=Number(this.options.wheelZoomRatio)||.1;if(!this.disabled&&(t.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50);var a=1;i.deltaY?a=0<i.deltaY?1:-1:i.wheelDelta?a=-i.wheelDelta/120:i.detail&&(a=0<i.detail?1:-1),this.zoom(-a*n,t)}},cropStart:function(t){if(!this.disabled){var e=this.options,i=this.pointers,n=t.originalEvent,a=void 0;n&&n.changedTouches?B.each(n.changedTouches,function(t,e){i[e.identifier]=H(e)}):i[n&&n.pointerId||0]=H(n||t),a=1<k(i).length&&e.zoomable&&e.zoomOnTouch?"zoom":B(t.target).data(d),b.test(a)&&(this.trigger(p,{originalEvent:n,action:a}).isDefaultPrevented()||(t.preventDefault(),this.action=a,this.cropping=!1,"crop"===a&&(this.cropping=!0,this.$dragBox.addClass(l))))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers,n=t.originalEvent;t.preventDefault(),this.trigger(o,{originalEvent:n,action:e}).isDefaultPrevented()||(n&&n.changedTouches?B.each(n.changedTouches,function(t,e){B.extend(i[e.identifier],H(e,!0))}):B.extend(i[n&&n.pointerId||0],H(n||t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers,n=t.originalEvent;n&&n.changedTouches?B.each(n.changedTouches,function(t,e){delete i[e.identifier]}):delete i[n&&n.pointerId||0],e&&(t.preventDefault(),k(i).length||(this.action=""),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(l,this.cropped&&this.options.modal)),this.trigger(s,{originalEvent:n,action:e}))}}},q={change:function(t){var e=this.options,i=this.pointers,n=this.container,a=this.canvas,s=this.cropBox,o=this.action,r=e.aspectRatio,l=s.left,h=s.top,c=s.width,d=s.height,u=l+c,p=h+d,f=0,m=0,g=n.width,v=n.height,b=!0,y=void 0;!r&&t.shiftKey&&(r=c&&d?c/d:1),this.limited&&(f=s.minLeft,m=s.minTop,g=f+Math.min(n.width,a.width,a.left+a.width),v=m+Math.min(n.height,a.height,a.top+a.height));var x,w,T,C=i[k(i)[0]],S={x:C.endX-C.startX,y:C.endY-C.startY},M=function(t){switch(t){case"e":u+S.x>g&&(S.x=g-u);break;case"w":l+S.x<f&&(S.x=f-l);break;case"n":h+S.y<m&&(S.y=m-h);break;case"s":p+S.y>v&&(S.y=v-p)}};switch(o){case"all":l+=S.x,h+=S.y;break;case"e":if(0<=S.x&&(g<=u||r&&(h<=m||v<=p))){b=!1;break}M("e"),c+=S.x,r&&(d=c/r,h-=S.x/r/2),c<0&&(o="w",c=0);break;case"n":if(S.y<=0&&(h<=m||r&&(l<=f||g<=u))){b=!1;break}M("n"),d-=S.y,h+=S.y,r&&(c=d*r,l+=S.y*r/2),d<0&&(o="s",d=0);break;case"w":if(S.x<=0&&(l<=f||r&&(h<=m||v<=p))){b=!1;break}M("w"),c-=S.x,l+=S.x,r&&(d=c/r,h+=S.x/r/2),c<0&&(o="e",c=0);break;case"s":if(0<=S.y&&(v<=p||r&&(l<=f||g<=u))){b=!1;break}M("s"),d+=S.y,r&&(c=d*r,l-=S.y*r/2),d<0&&(o="n",d=0);break;case"ne":if(r){if(S.y<=0&&(h<=m||g<=u)){b=!1;break}M("n"),d-=S.y,h+=S.y,c=d*r}else M("n"),M("e"),0<=S.x?u<g?c+=S.x:S.y<=0&&h<=m&&(b=!1):c+=S.x,S.y<=0?m<h&&(d-=S.y,h+=S.y):(d-=S.y,h+=S.y);c<0&&d<0?(o="sw",c=d=0):c<0?(o="nw",c=0):d<0&&(o="se",d=0);break;case"nw":if(r){if(S.y<=0&&(h<=m||l<=f)){b=!1;break}M("n"),d-=S.y,h+=S.y,c=d*r,l+=S.y*r}else M("n"),M("w"),S.x<=0?f<l?(c-=S.x,l+=S.x):S.y<=0&&h<=m&&(b=!1):(c-=S.x,l+=S.x),S.y<=0?m<h&&(d-=S.y,h+=S.y):(d-=S.y,h+=S.y);c<0&&d<0?(o="se",c=d=0):c<0?(o="ne",c=0):d<0&&(o="sw",d=0);break;case"sw":if(r){if(S.x<=0&&(l<=f||v<=p)){b=!1;break}M("w"),c-=S.x,l+=S.x,d=c/r}else M("s"),M("w"),S.x<=0?f<l?(c-=S.x,l+=S.x):0<=S.y&&v<=p&&(b=!1):(c-=S.x,l+=S.x),0<=S.y?p<v&&(d+=S.y):d+=S.y;c<0&&d<0?(o="ne",c=d=0):c<0?(o="se",c=0):d<0&&(o="nw",d=0);break;case"se":if(r){if(0<=S.x&&(g<=u||v<=p)){b=!1;break}M("e"),d=(c+=S.x)/r}else M("s"),M("e"),0<=S.x?u<g?c+=S.x:0<=S.y&&v<=p&&(b=!1):c+=S.x,0<=S.y?p<v&&(d+=S.y):d+=S.y;c<0&&d<0?(o="nw",c=d=0):c<0?(o="sw",c=0):d<0&&(o="ne",d=0);break;case"move":this.move(S.x,S.y),b=!1;break;case"zoom":this.zoom((x=i,w=B.extend({},x),T=[],B.each(x,function(t,l){delete w[t],B.each(w,function(t,e){var i=Math.abs(l.startX-e.startX),n=Math.abs(l.startY-e.startY),a=Math.abs(l.endX-e.endX),s=Math.abs(l.endY-e.endY),o=Math.sqrt(i*i+n*n),r=(Math.sqrt(a*a+s*s)-o)/o;T.push(r)})}),T.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),T[0]),t.originalEvent),b=!1;break;case"crop":if(!S.x||!S.y){b=!1;break}y=this.$cropper.offset(),l=C.startX-y.left,h=C.startY-y.top,c=s.minWidth,d=s.minHeight,0<S.x?o=0<S.y?"se":"ne":S.x<0&&(l-=c,o=0<S.y?"sw":"nw"),S.y<0&&(h-=d),this.cropped||(this.$cropBox.removeClass(A),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}b&&(s.width=c,s.height=d,s.left=l,s.top=h,this.action=o,this.renderCropBox()),B.each(i,function(t,e){e.startX=e.endX,e.startY=e.endY})}};var Q={crop:function(){this.ready&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass(l),this.$cropBox.removeClass(A)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.ready&&!this.disabled&&(this.image=B.extend({},this.initialImage),this.canvas=B.extend({},this.initialCanvas),this.cropBox=B.extend({},this.initialCropBox),this.renderCanvas(),this.cropped&&this.renderCropBox())},clear:function(){this.cropped&&!this.disabled&&(B.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass(l),this.$cropBox.addClass(A))},replace:function(t,e){!this.disabled&&t&&(this.isImg&&this.$element.attr("src",t),e?(this.url=t,this.$clone.attr("src",t),this.ready&&this.$preview.find("img").add(this.$clone2).attr("src",t)):(this.isImg&&(this.replaced=!0),this.options.data=null,this.load(t)))},enable:function(){this.ready&&(this.disabled=!1,this.$cropper.removeClass(e))},disable:function(){this.ready&&(this.disabled=!0,this.$cropper.addClass(e))},destroy:function(){var t=this.$element;this.loaded?(this.isImg&&this.replaced&&t.attr("src",this.originalUrl),this.unbuild(),t.removeClass(A)):this.isImg?t.off("load",this.start):this.$clone&&this.$clone.remove(),t.removeData(h)},move:function(t,e){var i=this.canvas,n=i.left,a=i.top;this.moveTo(S(t)?t:n+Number(t),S(e)?e:a+Number(e))},moveTo:function(t,e){var i=this.canvas,n=!1;S(e)&&(e=t),t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(C(t)&&(i.left=t,n=!0),C(e)&&(i.top=e,n=!0),n&&this.renderCanvas(!0))},zoom:function(t,e){var i=this.canvas;t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,e)},zoomTo:function(t,e){var i,a,s,o,n=this.options,r=this.pointers,l=this.canvas,h=l.width,c=l.height,d=l.naturalWidth,u=l.naturalHeight;if(0<=(t=Number(t))&&this.ready&&!this.disabled&&n.zoomable){var p=d*t,f=u*t,m=void 0;if(e&&(m=e.originalEvent),this.trigger("zoom",{originalEvent:m,oldRatio:h/d,ratio:p/d}).isDefaultPrevented())return;if(m){var g=this.$cropper.offset(),v=r&&k(r).length?(i=r,o=s=a=0,B.each(i,function(t,e){var i=e.startX,n=e.startY;a+=i,s+=n,o+=1}),{pageX:a/=o,pageY:s/=o}):{pageX:e.pageX||m.pageX||0,pageY:e.pageY||m.pageY||0};l.left-=(p-h)*((v.pageX-g.left-l.left)/h),l.top-=(f-c)*((v.pageY-g.top-l.top)/c)}else l.left-=(p-h)/2,l.top-=(f-c)/2;l.width=p,l.height=f,this.renderCanvas(!0)}},rotate:function(t){this.rotateTo((this.image.rotate||0)+Number(t))},rotateTo:function(t){C(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.image.rotate=t%360,this.renderCanvas(!0,!0))},scaleX:function(t){var e=this.image.scaleY;this.scale(t,C(e)?e:1)},scaleY:function(t){var e=this.image.scaleX;this.scale(C(e)?e:1,t)},scale:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,i=this.image,n=!1;t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(C(t)&&(i.scaleX=t,n=!0),C(e)&&(i.scaleY=e,n=!0),n&&this.renderCanvas(!0,!0))},getData:function(){var i=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.options,e=this.image,n=this.canvas,a=this.cropBox,s=void 0;if(this.ready&&this.cropped){s={x:a.left-n.left,y:a.top-n.top,width:a.width,height:a.height};var o=e.width/e.naturalWidth;B.each(s,function(t,e){e/=o,s[t]=i?Math.round(e):e})}else s={x:0,y:0,width:0,height:0};return t.rotatable&&(s.rotate=e.rotate||0),t.scalable&&(s.scaleX=e.scaleX||1,s.scaleY=e.scaleY||1),s},setData:function(t){var e=this.options,i=this.image,n=this.canvas,a={};if(B.isFunction(t)&&(t=t.call(this.element)),this.ready&&!this.disabled&&B.isPlainObject(t)){var s=!1;e.rotatable&&C(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,s=!0),e.scalable&&(C(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,s=!0),C(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var o=i.width/i.naturalWidth;C(t.x)&&(a.left=t.x*o+n.left),C(t.y)&&(a.top=t.y*o+n.top),C(t.width)&&(a.width=t.width*o),C(t.height)&&(a.height=t.height*o),this.setCropBoxData(a)}},getContainerData:function(){return this.ready?B.extend({},this.container):{}},getImageData:function(){return this.loaded?B.extend({},this.image):{}},getCanvasData:function(){var i=this.canvas,n={};return this.ready&&B.each(["left","top","width","height","naturalWidth","naturalHeight"],function(t,e){n[e]=i[e]}),n},setCanvasData:function(t){var e=this.canvas,i=e.aspectRatio;B.isFunction(t)&&(t=t.call(this.$element)),this.ready&&!this.disabled&&B.isPlainObject(t)&&(C(t.left)&&(e.left=t.left),C(t.top)&&(e.top=t.top),C(t.width)?(e.width=t.width,e.height=t.width/i):C(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0))},getCropBoxData:function(){var t=this.cropBox;return this.ready&&this.cropped?{left:t.left,top:t.top,width:t.width,height:t.height}:{}},setCropBoxData:function(t){var e=this.cropBox,i=this.options.aspectRatio,n=void 0,a=void 0;B.isFunction(t)&&(t=t.call(this.$element)),this.ready&&this.cropped&&!this.disabled&&B.isPlainObject(t)&&(C(t.left)&&(e.left=t.left),C(t.top)&&(e.top=t.top),C(t.width)&&t.width!==e.width&&(n=!0,e.width=t.width),C(t.height)&&t.height!==e.height&&(a=!0,e.height=t.height),i&&(n?e.height=e.width/i:a&&(e.width=e.height*i)),this.renderCropBox())},getCroppedCanvas:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvas,i=G(this.$clone[0],this.image,e,t);if(!this.cropped)return i;var n=this.getData(),a=n.x,s=n.y,o=n.width,r=n.height,l=o/r,h=V({aspectRatio:l,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),c=V({aspectRatio:l,width:t.minWidth||0,height:t.minHeight||0}),d=V({aspectRatio:l,width:t.width||o,height:t.height||r}),u=d.width,p=d.height;u=Math.min(h.width,Math.max(c.width,u)),p=Math.min(h.height,Math.max(c.height,p));var f=document.createElement("canvas"),m=f.getContext("2d");f.width=R(u),f.height=R(p),m.fillStyle=t.fillColor||"transparent",m.fillRect(0,0,u,p);var g=t.imageSmoothingEnabled,v=void 0===g||g,b=t.imageSmoothingQuality;m.imageSmoothingEnabled=v,b&&(m.imageSmoothingQuality=b);var y=i.width,x=i.height,w=a,T=s,C=void 0,S=void 0,M=void 0,A=void 0,k=void 0,D=void 0;w<=-o||y<w?k=M=C=w=0:w<=0?(M=-w,w=0,k=C=Math.min(y,o+w)):w<=y&&(M=0,k=C=Math.min(o,y-w)),C<=0||T<=-r||x<T?D=A=S=T=0:T<=0?(A=-T,T=0,D=S=Math.min(x,r+T)):T<=x&&(A=0,D=S=Math.min(r,x-T));var P=[w,T,C,S];if(0<k&&0<D){var E=u/o;P.push(M*E,A*E,k*E,D*E)}return m.drawImage.apply(m,[i].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(B.map(P,function(t){return Math.floor(R(t))})))),f},setAspectRatio:function(t){var e=this.options;this.disabled||S(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox()))},setDragMode:function(t){var e=this.options,i=void 0,n=void 0;this.loaded&&!this.disabled&&(i="crop"===t,n=e.movable&&"move"===t,t=i||n?t:"none",this.$dragBox.data(d,t).toggleClass(a,i).toggleClass(c,n),e.cropBoxMovable||this.$face.data(d,t).toggleClass(a,i).toggleClass(c,n))}},Z=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var K=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),!t||!w.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.$element=B(t),this.options=B.extend({},T,B.isPlainObject(e)&&e),this.completed=!1,this.cropped=!1,this.disabled=!1,this.isImg=!1,this.limited=!1,this.loaded=!1,this.ready=!1,this.replaced=!1,this.wheeling=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.pointers={},this.init()}return Z(i,[{key:"init",value:function(){var t=this.$element,e=void 0;if(t.is("img")){if(this.isImg=!0,e=t.attr("src")||"",!(this.originalUrl=e))return;e=t.prop("src")}else t.is("canvas")&&window.HTMLCanvasElement&&(e=t[0].toDataURL());this.load(e)}},{key:"trigger",value:function(t,e){var i=B.Event(t,e);return this.$element.trigger(i),i}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.image={};var i=this.$element,n=this.options;if(n.checkOrientation&&window.ArrayBuffer)if(y.test(t))x.test(t)?this.read((a=t.replace(Y,""),s=atob(a),o=new ArrayBuffer(s.length),r=new Uint8Array(o),B.each(r,function(t){r[t]=s.charCodeAt(t)}),o)):this.clone();else{var a,s,o,r,l=new XMLHttpRequest;l.onerror=function(){e.clone()},l.onload=function(){e.read(l.response)},n.checkCrossOrigin&&_(t)&&i.prop("crossOrigin")&&(t=N(t)),l.open("get",t),l.responseType="arraybuffer",l.withCredentials="use-credentials"===i.prop("crossOrigin"),l.send()}else this.clone()}}},{key:"read",value:function(t){var e,i,n,a=this.options,s=this.image,o=W(t),r=0,l=1,h=1;if(1<o){this.url=(e="image/jpeg",i=new Uint8Array(t),n="",B.each(i,function(t,e){n+=F(e)}),"data:"+e+";base64,"+btoa(n));var c=function(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}(o);r=c.rotate,l=c.scaleX,h=c.scaleY}a.rotatable&&(s.rotate=r),a.scalable&&(s.scaleX=l,s.scaleY=h),this.clone()}},{key:"clone",value:function(){var t=this.$element,e=this.options,i=this.url,n="",a=void 0;e.checkCrossOrigin&&_(i)&&((n=t.prop("crossOrigin"))?a=i:(n="anonymous",a=N(i))),this.crossOrigin=n,this.crossOriginUrl=a;var s=document.createElement("img");n&&(s.crossOrigin=n),s.src=a||i;var o=B(s);this.$clone=o,this.isImg?this.element.complete?this.start():t.one("load",B.proxy(this.start,this)):o.one("load",B.proxy(this.start,this)).one("error",B.proxy(this.stop,this)).addClass(r).insertAfter(t)}},{key:"start",value:function(){var i=this,t=this.$clone,e=this.$element;this.isImg||(t.off("error",this.stop),e=t),function(t,e){if(!t.naturalWidth||I){var i=document.createElement("img");i.onload=function(){e(i.width,i.height)},i.src=t.src}else e(t.naturalWidth,t.naturalHeight)}(e[0],function(t,e){B.extend(i.image,{naturalWidth:t,naturalHeight:e,aspectRatio:t/e}),i.loaded=!0,i.build()})}},{key:"stop",value:function(){this.$clone.remove(),this.$clone=null}},{key:"build",value:function(){var t=this;if(this.loaded){this.ready&&this.unbuild();var e=this.$element,i=this.options,n=this.$clone,a=B('<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>'),s=a.find(".cropper-crop-box"),o=s.find(".cropper-face");this.$container=e.parent(),this.$cropper=a,this.$canvas=a.find(".cropper-canvas").append(n),this.$dragBox=a.find(".cropper-drag-box"),this.$cropBox=s,this.$viewBox=a.find(".cropper-view-box"),this.$face=o,e.addClass(A).after(a),this.isImg||n.removeClass(r),this.initPreview(),this.bind(),i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,this.cropped=i.autoCrop,i.autoCrop?i.modal&&this.$dragBox.addClass(l):s.addClass(A),i.guides||s.find(".cropper-dashed").addClass(A),i.center||s.find(".cropper-center").addClass(A),i.cropBoxMovable&&o.addClass(c).data(d,"all"),i.highlight||o.addClass("cropper-invisible"),i.background&&a.addClass(h+"-bg"),i.cropBoxResizable||s.find(".cropper-line,.cropper-point").addClass(A),this.setDragMode(i.dragMode),this.render(),this.ready=!0,this.setData(i.data),this.completing=setTimeout(function(){B.isFunction(i.ready)&&e.one("ready",i.ready),t.trigger("ready"),t.trigger(u,t.getData()),t.completed=!0},0)}}},{key:"unbuild",value:function(){this.ready&&(this.completed||clearTimeout(this.completing),this.ready=!1,this.completed=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.unbind(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)}}],[{key:"setDefaults",value:function(t){B.extend(T,B.isPlainObject(t)&&t)}}]),i}();if(B.extend&&B.extend(K.prototype,j,z,X,U,q,Q),B.fn){var J=B.fn.cropper;B.fn.cropper=function(o){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];var l=void 0;return this.each(function(t,e){var i=B(e),n=i.data(h);if(!n){if(/destroy/.test(o))return;var a=B.extend({},i.data(),B.isPlainObject(o)&&o);n=new K(e,a),i.data(h,n)}if("string"==typeof o){var s=n[o];B.isFunction(s)&&(l=s.apply(n,r))}}),S(l)?this:l},B.fn.cropper.Constructor=K,B.fn.cropper.setDefaults=K.setDefaults,B.fn.cropper.noConflict=function(){return B.fn.cropper=J,this}}}),function(c){"use strict";var d,u,p=c();c.fn.sortable=function(l){var h=String(l);return l=c.extend({connectWith:!1,placeholder:null,dragImage:null},l),this.each(function(){var i,a=c(this).children(l.items),t=l.handle?a.find(l.handle):a;if("reload"===h&&(c(this).children(l.items).off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s"),c(this).off("dragover.h5s dragenter.h5s drop.h5s")),/^enable|disable|destroy$/.test(h)){var e=c(this).children(c(this).data("items")).attr("draggable","enable"===h);return c(this).attr("aria-dropeffect",/^disable|destroy$/.test(h)?"none":"move"),void("destroy"===h&&(c(this).off("sortstart sortupdate"),c(this).removeData("opts"),e.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s dragover.h5s dragenter.h5s drop.h5s").off("sortupdate"),t.off("selectstart.h5s")))}var n,s,o=c(this).data("opts");void 0===o?c(this).data("opts",l):l=o;var r=null===l.placeholder?c("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder"/>'):c(l.placeholder).addClass("sortable-placeholder");c(this).data("items",l.items),p=p.add(r),l.connectWith&&c(l.connectWith).add(this).data("connectWith",l.connectWith),a.attr("role","option"),a.attr("aria-grabbed","false"),t.attr("draggable","true").not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end(),a.on("dragstart.h5s",function(t){t.stopImmediatePropagation();var e=t.originalEvent.dataTransfer;e.effectAllowed="move",e.setData("text",""),l.dragImage&&e.setDragImage&&e.setDragImage(l.dragImage,0,0),i=(d=c(this)).addClass("sortable-dragging").attr("aria-grabbed","true").index(),u=d.outerHeight(),n=c(this).parent(),d.parent().triggerHandler("sortstart",{item:d,startparent:n})}).on("dragend.h5s",function(){d&&(d.removeClass("sortable-dragging").attr("aria-grabbed","false").show(),p.detach(),s=c(this).parent(),i===d.index()&&n.get(0)===s.get(0)||d.parent().triggerHandler("sortupdate",{item:d,oldindex:i,startparent:n,endparent:s}),u=d=null)}).add([this,r]).on("dragover.h5s dragenter.h5s drop.h5s",function(t){if(!a.is(d)&&l.connectWith!==c(d).parent().data("connectWith"))return!0;if("drop"===t.type)return t.stopPropagation(),p.filter(":visible").after(d),d.trigger("dragend.h5s"),!1;if(t.preventDefault(),t.originalEvent.dataTransfer.dropEffect="move",a.is(this)){var e=c(this).outerHeight();if(l.forcePlaceholderSize&&r.height(u),u<e){var i=e-u,n=c(this).offset().top;if(r.index()<c(this).index()&&t.originalEvent.pageY<n+i)return!1;if(r.index()>c(this).index()&&t.originalEvent.pageY>n+e-i)return!1}d.hide(),c(this)[r.index()<c(this).index()?"after":"before"](r),p.not(r).detach()}else p.is(this)||c(this).children(l.items).length||(p.detach(),c(this).append(r));return!1})})}}(jQuery),function(a){void 0===a.fn.each2&&a.extend(a.fn,{each2:function(t){for(var e=a([0]),i=-1,n=this.length;++i<n&&(e.context=e[0]=this[i])&&!1!==t.call(e[0],i,e););return this}})}(jQuery),function(w,x){"use strict";if(window.Select2===x){var t,e,i,T,s,a,C,n,h={x:0,y:0},r={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case r.LEFT:case r.RIGHT:case r.UP:case r.DOWN:return!0}return!1},isControl:function(t){switch(t.which){case r.SHIFT:case r.CTRL:case r.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return 112<=(t=t.which?t.which:t)&&t<=123}},o={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};a=w(document),n=1,T=function(){return n++},e=_(t=_(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(t){var s,e,i,n,a,o=".select2-results";this.opts=t=this.prepareOpts(t),this.id=t.id,t.element.data("select2")!==x&&null!==t.element.data("select2")&&t.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=w(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=w("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(t.element.attr("id")||"autogen"+T()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",t.element.attr("title")),this.body=w(document.body),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",t.element.attr("style")),this.container.css(P(t.containerCss,this.opts.element)),this.container.addClass(P(t.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",v),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(P(t.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",v),this.results=s=this.container.find(o),this.search=e=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",v),this.results.on("mousemove",function(t){var e=h;e!==x&&e.x===t.pageX&&e.y===t.pageY||w(t.target).trigger("mousemove-filtered",t)}),this.dropdown.on("mousemove-filtered",o,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",o,this.bind(function(t){this._touchEvent=!0,this.highlightUnderEvent(t)})),this.dropdown.on("touchmove",o,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",o,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(t){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),i=80,n=this.results,a=g(i,function(t){n.trigger("scroll-debounced",t)}),n.on("scroll",function(t){0<=d(t.target,n.get())&&a(t)}),this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded)),w(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),w(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),w.fn.mousewheel&&s.mousewheel(function(t,e,i,n){var a=s.scrollTop();0<n&&a-n<=0?(s.scrollTop(0),v(t)):n<0&&s.get(0).scrollHeight-s.scrollTop()+n<=s.height()&&(s.scrollTop(s.get(0).scrollHeight-s.height()),v(t))}),m(e),e.on("keyup-change input paste",this.bind(this.updateResults)),e.on("focus",function(){e.addClass("select2-focused")}),e.on("blur",function(){e.removeClass("select2-focused")}),this.dropdown.on("mouseup",o,this.bind(function(t){0<w(t.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(t){t.stopPropagation()}),this.lastSearchTerm=x,w.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==t.maximumInputLength&&this.search.attr("maxlength",t.maximumInputLength);var r=t.element.prop("disabled");r===x&&(r=!1),this.enable(!r);var l=t.element.prop("readonly");l===x&&(l=!1),this.readonly(l),C=C||function(){var t=w("<div class='select2-measure-scrollbar'></div>");t.appendTo(document.body);var e={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),e}(),this.autofocus=t.element.prop("autofocus"),t.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",t.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,e=t.data("select2"),i=this;this.close(),t.length&&t[0].detachEvent&&i._sync&&t.each(function(){i._sync&&this.detachEvent("onpropertychange",i._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,e!==x&&(e.container.remove(),e.liveRegion.remove(),e.dropdown.remove(),t.removeData("select2").off(".select2"),t.is("input[type='hidden']")?t.css("display",""):(t.show().prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())),E.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:p(t.attr("locked"),"locked")||p(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(b){var o,t,e,i,y=this;if("select"===(o=b.element).get(0).tagName.toLowerCase()&&(this.select=t=b.element),t&&w.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in b)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),b.debug=b.debug||w.fn.select2.defaults.debug,b.debug&&console&&console.warn&&(null!=b.id&&console.warn("Select2: The `id` option has been removed in Select2 4.0.0, consider renaming your `id` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=b.text&&console.warn("Select2: The `text` option has been removed in Select2 4.0.0, consider renaming your `text` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=b.sortResults&&console.warn("Select2: the `sortResults` option has been renamed to `sorter` in Select2 4.0.0. "),null!=b.selectOnBlur&&console.warn("Select2: The `selectOnBlur` option has been renamed to `selectOnClose` in Select2 4.0.0."),null!=b.ajax&&null!=b.ajax.results&&console.warn("Select2: The `ajax.results` option has been renamed to `ajax.processResults` in Select2 4.0.0."),null!=b.formatNoResults&&console.warn("Select2: The `formatNoResults` option has been renamed to `language.noResults` in Select2 4.0.0."),null!=b.formatSearching&&console.warn("Select2: The `formatSearching` option has been renamed to `language.searching` in Select2 4.0.0."),null!=b.formatInputTooShort&&console.warn("Select2: The `formatInputTooShort` option has been renamed to `language.inputTooShort` in Select2 4.0.0."),null!=b.formatInputTooLong&&console.warn("Select2: The `formatInputTooLong` option has been renamed to `language.inputTooLong` in Select2 4.0.0."),null!=b.formatLoading&&console.warn("Select2: The `formatLoading` option has been renamed to `language.loadingMore` in Select2 4.0.0."),null!=b.formatSelectionTooBig&&console.warn("Select2: The `formatSelectionTooBig` option has been renamed to `language.maximumSelected` in Select2 4.0.0."),b.element.data("select2Tags")&&console.warn("Select2: The `data-select2-tags` attribute has been renamed to `data-tags` in Select2 4.0.0.")),null!=b.element.data("tags")){var n=b.element.data("tags");w.isArray(n)||(n=[]),b.element.data("select2Tags",n)}if(null!=b.sorter&&(b.sortResults=b.sorter),null!=b.selectOnClose&&(b.selectOnBlur=b.selectOnClose),null!=b.ajax&&w.isFunction(b.ajax.processResults)&&(b.ajax.results=b.ajax.processResults),null!=b.language){var a=b.language;w.isFunction(a.noMatches)&&(b.formatNoMatches=a.noMatches),w.isFunction(a.searching)&&(b.formatSearching=a.searching),w.isFunction(a.inputTooShort)&&(b.formatInputTooShort=a.inputTooShort),w.isFunction(a.inputTooLong)&&(b.formatInputTooLong=a.inputTooLong),w.isFunction(a.loadingMore)&&(b.formatLoading=a.loadingMore),w.isFunction(a.maximumSelected)&&(b.formatSelectionTooBig=a.maximumSelected)}if("function"!=typeof(b=w.extend({},{populateResults:function(t,e,f){var m,g=this.opts.id,v=this.liveRegion;(m=function(t,e,i){var n,a,s,o,r,l,h,c,d,u,p=[];for(n=0,a=(t=b.sortResults(t,e,f)).length;n<a;n+=1)o=!(r=!0===(s=t[n]).disabled)&&g(s)!==x,l=s.children&&0<s.children.length,(h=w("<li></li>")).addClass("select2-results-dept-"+i),h.addClass("select2-result"),h.addClass(o?"select2-result-selectable":"select2-result-unselectable"),r&&h.addClass("select2-disabled"),l&&h.addClass("select2-result-with-children"),h.addClass(y.opts.formatResultCssClass(s)),h.attr("role","presentation"),(c=w(document.createElement("div"))).addClass("select2-result-label"),c.attr("id","select2-result-label-"+T()),c.attr("role","option"),(u=b.formatResult(s,c,f,y.opts.escapeMarkup))!==x&&(c.html(u),h.append(c)),l&&((d=w("<ul></ul>")).addClass("select2-result-sub"),m(s.children,d,i+1),h.append(d)),h.data("select2-data",s),p.push(h[0]);e.append(p),v.text(b.formatMatches(t.length))})(e,t,0)}},w.fn.select2.defaults,b)).id&&(e=b.id,b.id=function(t){return t[e]}),w.isArray(b.element.data("select2Tags"))){if("tags"in b)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+b.element.attr("id");b.tags=b.element.data("select2Tags")}if(t?(b.query=this.bind(function(n){var t,e,a,i={results:[],more:!1},s=n.term;a=function(t,e){var i;t.is("option")?n.matcher(s,t.text(),t)&&e.push(y.optionToData(t)):t.is("optgroup")&&(i=y.optionToData(t),t.children().each2(function(t,e){a(e,i.children)}),0<i.children.length&&e.push(i))},t=o.children(),this.getPlaceholder()!==x&&0<t.length&&(e=this.getPlaceholderOption())&&(t=t.not(e)),t.each2(function(t,e){a(e,i.results)}),n.callback(i)}),b.id=function(t){return t.id}):"query"in b||("ajax"in b?((i=b.element.data("ajax-url"))&&0<i.length&&(b.ajax.url=i),b.query=M.call(b.element,b.ajax)):"data"in b?b.query=A(b.data):"tags"in b&&(b.query=k(b.tags),b.createSearchChoice===x&&(b.createSearchChoice=function(t){return{id:w.trim(t),text:w.trim(t)}}),b.initSelection===x&&(b.initSelection=function(t,e){var i=[];w(u(t.val(),b.separator,b.transformVal)).each(function(){var t={id:this,text:this},e=b.tags;w.isFunction(e)&&(e=e()),w(e).each(function(){if(p(this.id,t.id))return t=this,!1}),i.push(t)}),e(i)}))),"function"!=typeof b.query)throw"query function not defined for Select2 "+b.element.attr("id");if("top"===b.createSearchChoicePosition)b.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===b.createSearchChoicePosition)b.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof b.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return b},monitorSource:function(){var t,i=this.opts.element,e=this;i.on("change.select2",this.bind(function(t){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var t=i.prop("disabled");t===x&&(t=!1),this.enable(!t);var e=i.prop("readonly");e===x&&(e=!1),this.readonly(e),this.container&&(b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(P(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(P(this.opts.dropdownCssClass,this.opts.element)))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",e._sync)}),(t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==x&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new t(function(t){w.each(t,e._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var e=w.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(e),!e.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=w.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===x&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===x&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,e,i,n,a,s=this.dropdown,o=this.container,r=o.offset(),l=o.outerHeight(!1),h=o.outerWidth(!1),c=s.outerHeight(!1),d=w(window),u=d.width(),p=d.height(),f=d.scrollLeft()+u,m=d.scrollTop()+p,g=r.top+l,v=r.left,b=g+c<=m,y=r.top-c>=d.scrollTop(),x=s.outerWidth(!1);s.hasClass("select2-drop-above")?(e=!0,!y&&b&&(e=!(i=!0))):(e=!1,!b&&y&&(e=i=!0)),i&&(s.hide(),r=this.container.offset(),l=this.container.outerHeight(!1),h=this.container.outerWidth(!1),c=s.outerHeight(!1),f=d.scrollLeft()+u,m=d.scrollTop()+p,g=r.top+l,v=r.left,x=s.outerWidth(!1),s.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(a=w(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),h<(x=s.outerWidth(!1)+(a.scrollHeight===a.clientHeight?0:C.width))?h=x:x=h,c=s.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(g-=(t=this.body.offset()).top,v-=t.left),!(v+x<=f)&&r.left+f+o.outerWidth(!1)>x&&(v=r.left+this.container.outerWidth(!1)-x),n={left:v,width:h},e?(this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above"),c=s.outerHeight(!1),n.top=r.top-c,n.bottom="auto"):(n.top=g,n.bottom="auto",this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),n=w.extend(n,P(this.opts.dropdownCss,this.opts.element)),s.css(n)},shouldOpen:function(){var t;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(t=w.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),a.on("mousemove.select2Event",function(t){h.x=t.pageX,h.y=t.pageY}),!0)},opening:function(){var n,t=this.containerEventName,e="scroll."+t,i="resize."+t,a="orientationchange."+t;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0===(n=w("#select2-drop-mask")).length&&((n=w(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),n.hide(),n.appendTo(this.body),n.on("mousedown touchstart click",function(t){l(n);var e,i=w("#select2-drop");0<i.length&&((e=i.data("select2")).opts.selectOnBlur&&e.selectHighlighted({noFocus:!0}),e.close(),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==n[0]&&this.dropdown.before(n),w("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),n.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){w(this).on(i+" "+e+" "+a,function(t){s.opened()&&s.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,e="scroll."+t,i="resize."+t,n="orientationchange."+t;this.container.parents().add(window).each(function(){w(this).off(e).off(i).off(n)}),this.clearDropdownAlignmentPreference(),w("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),a.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.search.removeAttr("aria-activedescendant"),this.opts.element.trigger(w.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},prefillNextSearchTerm:function(){if(""!==this.search.val())return!1;var t=this.opts.nextSearchTerm(this.data(),this.lastSearchTerm);return t!==x&&(this.search.val(t),this.search.select(),!0)},getMaximumSelectionSize:function(){return P(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,e,i,n,a,s,o,r,l=this.results;(e=this.highlight())<0||(0!=e?(t=this.findHighlightableChoices().find(".select2-result-label"),n=(r=((i=w(t[e])).offset()||{}).top||0)+i.outerHeight(!0),e===t.length-1&&0<(o=l.find("li.select2-more-results")).length&&(n=o.offset().top+o.outerHeight(!0)),(a=l.offset().top+l.outerHeight(!1))<n&&l.scrollTop(l.scrollTop()+(n-a)),(s=r-l.offset().top)<0&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+s)):l.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var e=this.findHighlightableChoices(),i=this.highlight();-1<i&&i<e.length;){var n=w(e[i+=t]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var e,i,n=this.findHighlightableChoices();if(0===arguments.length)return d(n.filter(".select2-highlighted")[0],n.get());t>=n.length&&(t=n.length-1),t<0&&(t=0),this.removeHighlight(),(e=w(n[t])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",e.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(e.text()),(i=e.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var e=w(t.target).closest(".select2-result-selectable");if(0<e.length&&!e.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(e))}else 0==e.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,i=e.find("li.select2-more-results"),n=this.resultsPage+1,a=this,s=this.search.val(),o=this.context;0!==i.length&&i.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:n,context:o,matcher:this.opts.matcher,callback:this.bind(function(t){a.opened()&&(a.opts.populateResults.call(this,e,t.results,{term:s,page:n,context:o}),a.postprocessResults(t,!1,!1),!0===t.more?(i.detach().appendTo(e).html(a.opts.escapeMarkup(P(a.opts.formatLoadMore,a.opts.element,n+1))),window.setTimeout(function(){a.loadMoreIfNeeded()},10)):i.remove(),a.positionDropdown(),a.resultsPage=n,a.context=t.context,this.opts.element.trigger({type:"select2-loaded",items:t}))})}))},tokenize:function(){},updateResults:function(i){var t,e,n,a=this.search,s=this.results,o=this.opts,r=this,l=a.val(),h=w.data(this.container,"select2-last-term");if((!0===i||!h||!p(l,h))&&(w.data(this.container,"select2-last-term",l),!0===i||!1!==this.showSearchInput&&this.opened())){n=++this.queryCount;var c=this.getMaximumSelectionSize();if(!(1<=c&&(t=this.data(),w.isArray(t)&&t.length>=c&&D(o.formatSelectionTooBig,"formatSelectionTooBig"))))return a.val().length<o.minimumInputLength?(D(o.formatInputTooShort,"formatInputTooShort")?u("<li class='select2-no-results'>"+P(o.formatInputTooShort,o.element,a.val(),o.minimumInputLength)+"</li>"):u(""),void(i&&this.showSearch&&this.showSearch(!0))):void(o.maximumInputLength&&a.val().length>o.maximumInputLength?D(o.formatInputTooLong,"formatInputTooLong")?u("<li class='select2-no-results'>"+P(o.formatInputTooLong,o.element,a.val(),o.maximumInputLength)+"</li>"):u(""):(o.formatSearching&&0===this.findHighlightableChoices().length&&u("<li class='select2-searching'>"+P(o.formatSearching,o.element)+"</li>"),a.addClass("select2-active"),this.removeHighlight(),(e=this.tokenize())!=x&&null!=e&&a.val(e),this.resultsPage=1,o.query({element:o.element,term:a.val(),page:this.resultsPage,context:null,matcher:o.matcher,callback:this.bind(function(t){var e;if(n==this.queryCount)if(this.opened())if(t.hasError!==x&&D(o.formatAjaxError,"formatAjaxError"))u("<li class='select2-ajax-error'>"+P(o.formatAjaxError,o.element,t.jqXHR,t.textStatus,t.errorThrown)+"</li>");else{if(this.context=t.context===x?null:t.context,this.opts.createSearchChoice&&""!==a.val()&&(e=this.opts.createSearchChoice.call(r,a.val(),t.results))!==x&&null!==e&&r.id(e)!==x&&null!==r.id(e)&&0===w(t.results).filter(function(){return p(r.id(this),r.id(e))}).length&&this.opts.createSearchChoicePosition(t.results,e),0===t.results.length&&D(o.formatNoMatches,"formatNoMatches"))return u("<li class='select2-no-results'>"+P(o.formatNoMatches,o.element,a.val())+"</li>"),void(this.showSearch&&this.showSearch(a.val()));s.empty(),r.opts.populateResults.call(this,s,t.results,{term:a.val(),page:this.resultsPage,context:null}),!0===t.more&&D(o.formatLoadMore,"formatLoadMore")&&(s.append("<li class='select2-more-results'>"+o.escapeMarkup(P(o.formatLoadMore,o.element,this.resultsPage))+"</li>"),window.setTimeout(function(){r.loadMoreIfNeeded()},10)),this.postprocessResults(t,i),d(),this.opts.element.trigger({type:"select2-loaded",items:t})}else this.search.removeClass("select2-active")})})));u("<li class='select2-selection-limit'>"+P(o.formatSelectionTooBig,o.element,c)+"</li>")}function d(){a.removeClass("select2-active"),r.positionDropdown(),s.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?r.liveRegion.text(s.text()):r.liveRegion.text(r.opts.formatMatches(s.find('.select2-result-selectable:not(".select2-selected")').length))}function u(t){s.html(t),d()}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var n;(n=this.search)[0]!==document.activeElement&&window.setTimeout(function(){var t,e=n[0],i=n.val().length;n.focus(),(0<e.offsetWidth||0<e.offsetHeight)&&e===document.activeElement&&(e.setSelectionRange?e.setSelectionRange(i,i):e.createTextRange&&((t=e.createTextRange()).collapse(!1),t.select()))},0)},selectHighlighted:function(t){if(this._touchMoved)this.clearTouchMoved();else{var e=this.highlight(),i=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");i?(this.highlight(e),this.onSelect(i,t)):t&&t.noFocus&&this.close()}},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==x?t.text():x)},getPlaceholderOption:function(){if(this.select){var t=this.select.children("option").first();if(this.opts.placeholderOption!==x)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===w.trim(t.text())&&""===t.val())return t}},initContainerWidth:function(){var t=function(){var t,e,i,n,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if("string"==typeof(t=this.opts.element.attr("style")))for(n=0,a=(e=t.split(";")).length;n<a;n+=1)if(null!==(i=e[n].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&1<=i.length)return i[1];return"resolve"===this.opts.width?0<(t=this.opts.element.css("width")).indexOf("%")?t:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return w.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==t&&this.container.css("width",t)}}),{createContainer:function(){return w(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,e,i;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(t=this.search.get(0)).createTextRange?((e=t.createTextRange()).collapse(!1),e.select()):t.setSelectionRange&&(i=this.search.val().length,t.setSelectionRange(i,i))),this.prefillNextSearchTerm(),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(w.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){w("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),E.call(this,"selection","focusser")},initContainer:function(){var e,t,i=this.container,n=this.dropdown,a=T();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),t=w("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.focusser.prev().text(t.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",s||t.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(w("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&229!=t.keyCode)if(t.which!==r.PAGE_UP&&t.which!==r.PAGE_DOWN)switch(t.which){case r.UP:case r.DOWN:return this.moveHighlight(t.which===r.UP?-1:1),void v(t);case r.ENTER:return this.selectHighlighted(),void v(t);case r.TAB:return void this.selectHighlighted({noFocus:!0});case r.ESC:return this.cancel(t),void v(t)}else v(t)})),this.search.on("blur",this.bind(function(t){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.results&&1<this.results.length&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==r.TAB&&!r.isControl(t)&&!r.isFunctionKey(t)&&t.which!==r.ESC){if(!1!==this.opts.openOnEnter||t.which!==r.ENTER){if(t.which==r.DOWN||t.which==r.UP||t.which==r.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void v(t)}return t.which==r.DELETE||t.which==r.BACKSPACE?(this.opts.allowClear&&this.clear(),void v(t)):void 0}v(t)}})),m(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(0<=this.opts.minimumResultsForSearch){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(t){var e;this.isInterfaceEnabled()&&(this.clear(),(e=t).preventDefault(),e.stopImmediatePropagation(),this.close(),this.selection&&this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(t){l(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(w.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),v(t)})),n.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),e.on("focus",this.bind(function(t){v(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(w.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(w.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(w.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");if(e){var i=w.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var n=this.getPlaceholderOption();this.opts.element.val(n?n.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(t){t!==x&&null!==t&&(e.updateSelection(t),e.close(),e.setPlaceholder(),e.lastSearchTerm=e.search.val())})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()!==x&&((t=this.getPlaceholderOption())!==x&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===x||null===this.opts.element.val())},prepareOpts:function(){var o=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===o.element.get(0).tagName.toLowerCase()?o.initSelection=function(t,e){var i=t.find("option").filter(function(){return this.selected&&!this.disabled});e(n.optionToData(i))}:"data"in o&&(o.initSelection=o.initSelection||function(t,e){var a=t.val(),s=null;o.query({matcher:function(t,e,i){var n=p(a,o.id(i));return n&&(s=i),n},callback:w.isFunction(e)?function(){e(s)}:w.noop})}),o},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===x?x:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==x){if(this.select&&this.getPlaceholderOption()===x)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,i){var n=0,a=this;if(this.findHighlightableChoices().each2(function(t,e){if(p(a.id(e.data("select2-data")),a.opts.element.val()))return n=t,!1}),!1!==i&&(!0===e&&0<=n?this.highlight(n):this.highlight(0)),!0===e){var s=this.opts.minimumResultsForSearch;0<=s&&this.showSearch(function i(t){var n=0;return w.each(t,function(t,e){e.children?n+=i(e.children):n++}),n}(t.results)>=s)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),w(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(t,e){if(this.triggerSelect(t)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.lastSearchTerm=this.search.val(),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),p(i,this.id(t))||this.triggerChange({added:t,removed:n})}},updateSelection:function(t){var e,i,n=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),n.empty(),null!==t&&(e=this.opts.formatSelection(t,n,this.opts.escapeMarkup)),e!==x&&n.append(e),(i=this.opts.formatSelectionCssClass(t,n))!==x&&n.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==x&&this.container.addClass("select2-allowclear")},val:function(){var t,e=!1,i=null,n=this,a=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],1<arguments.length&&(e=arguments[1],this.opts.debug&&console&&console.warn&&console.warn('Select2: The second option to `select2("val")` is not supported in Select2 4.0.0. The `change` event will always be triggered in 4.0.0.')),this.select)this.opts.debug&&console&&console.warn&&console.warn('Select2: Setting the value on a <select> using `select2("val")` is no longer supported in 4.0.0. You can use the `.val(newValue).trigger("change")` method provided by jQuery instead.'),this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return i=n.optionToData(e),!1}),this.updateSelection(i),this.setPlaceholder(),e&&this.triggerChange({added:i,removed:a});else{if(!t&&0!==t)return void this.clear(e);if(this.opts.initSelection===x)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):""),n.updateSelection(t),n.setPlaceholder(),e&&n.triggerChange({added:t,removed:a})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var e,i=!1;if(0===arguments.length)return(e=this.selection.data("select2-data"))==x&&(e=null),e;this.opts.debug&&console&&console.warn&&console.warn('Select2: The `select2("data")` method can no longer set selected values in 4.0.0, consider using the `.val()` method instead.'),1<arguments.length&&(i=arguments[1]),t?(e=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),i&&this.triggerChange({added:t,removed:e})):this.clear(i)}}),i=_(t,{createContainer:function(){return w(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var l=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===l.element.get(0).tagName.toLowerCase()?l.initSelection=function(t,e){var i=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,e){i.push(n.optionToData(e))}),e(i)}:"data"in l&&(l.initSelection=l.initSelection||function(t,s){var o=u(t.val(),l.separator,l.transformVal),r=[];l.query({matcher:function(t,e,i){var n=w.grep(o,function(t){return p(t,l.id(i))}).length;return n&&r.push(i),n},callback:w.isFunction(s)?function(){for(var t=[],e=0;e<o.length;e++)for(var i=o[e],n=0;n<r.length;n++){var a=r[n];if(p(i,l.id(a))){t.push(a),r.splice(n,1);break}}s(t)}:w.noop})}),l},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){w("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),E.call(this,"searchContainer","selection")},initContainer:function(){var o,t=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=o=this.container.find(t);var e=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(t){e.search[0].focus(),e.selectChoice(w(this))}),this.search.attr("id","s2id_autogen"+T()),this.search.prev().text(w("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var e=o.find(".select2-search-choice-focus"),i=e.prev(".select2-search-choice:not(.select2-locked)"),n=e.next(".select2-search-choice:not(.select2-locked)"),a=function(t){var e=0,i=0;if("selectionStart"in(t=w(t)[0]))e=t.selectionStart,i=t.selectionEnd-e;else if("selection"in document){t.focus();var n=document.selection.createRange();i=document.selection.createRange().text.length,n.moveStart("character",-t.value.length),e=n.text.length-i}return{offset:e,length:i}}(this.search);if(e.length&&(t.which==r.LEFT||t.which==r.RIGHT||t.which==r.BACKSPACE||t.which==r.DELETE||t.which==r.ENTER)){var s=e;return t.which==r.LEFT&&i.length?s=i:t.which==r.RIGHT?s=n.length?n:null:t.which===r.BACKSPACE?this.unselect(e.first())&&(this.search.width(10),s=i.length?i:n):t.which==r.DELETE?this.unselect(e.first())&&(this.search.width(10),s=n.length?n:null):t.which==r.ENTER&&(s=null),this.selectChoice(s),v(t),void(s&&s.length||this.open())}if((t.which===r.BACKSPACE&&1==this.keydowns||t.which==r.LEFT)&&0==a.offset&&!a.length)return this.selectChoice(o.find(".select2-search-choice:not(.select2-locked)").last()),void v(t);if(this.selectChoice(null),this.opened())switch(t.which){case r.UP:case r.DOWN:return this.moveHighlight(t.which===r.UP?-1:1),void v(t);case r.ENTER:return this.selectHighlighted(),void v(t);case r.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case r.ESC:return this.cancel(t),void v(t)}if(t.which!==r.TAB&&!r.isControl(t)&&!r.isFunctionKey(t)&&t.which!==r.BACKSPACE&&t.which!==r.ESC){if(t.which===r.ENTER){if(!1===this.opts.openOnEnter)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),t.which!==r.PAGE_UP&&t.which!==r.PAGE_DOWN||v(t),t.which===r.ENTER&&v(t)}}})),this.search.on("keyup",this.bind(function(t){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(w.Event("select2-blur"))})),this.container.on("click",t,this.bind(function(t){this.isInterfaceEnabled()&&(0<w(t.target).closest(".select2-search-choice").length||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(w.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",t,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(w.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(t){t!==x&&null!==t&&(e.updateSelection(t),e.close(),e.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),e=this.getMaxSearchWidth();t!==x&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(t).addClass("select2-default"),this.search.width(0<e?e:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.prefillNextSearchTerm(),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(w.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var e={},i=[],n=this;w(t).each(function(){n.id(this)in e||(e[n.id(this)]=0,i.push(this))}),this.selection.find(".select2-search-choice").remove(),this.addSelectedChoice(i),n.postprocessResults()},tokenize:function(){var t=this.search.val();null!=(t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts))&&t!=x&&(this.search.val(t),0<t.length&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&""!==t.text&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.lastSearchTerm=this.search.val(),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(t,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),0<this.getMaximumSelectionSize()&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.prefillNextSearchTerm()&&this.updateResults(),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var e=this.getVal(),i=this;w(t).each(function(){e.push(i.createChoice(this))}),this.setVal(e)},createChoice:function(t){var e,i,n=!t.locked,a=w("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=w("<li class='select2-search-choice select2-locked'><div></div></li>"),o=n?a:s,r=this.id(t);return(e=this.opts.formatSelection(t,o.find("div"),this.opts.escapeMarkup))!=x&&o.find("div").replaceWith(w("<div></div>").html(e)),(i=this.opts.formatSelectionCssClass(t,o.find("div")))!=x&&o.addClass(i),n&&o.find(".select2-search-choice-close").on("mousedown",v).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(w(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),v(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),o.data("select2-data",t),o.insertBefore(this.searchContainer),r},unselect:function(t){var e,i,n=this.getVal();if(0===(t=t.closest(".select2-search-choice")).length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(e=t.data("select2-data")){var a=w.Event("select2-removing");if(a.val=this.id(e),a.choice=e,this.opts.element.trigger(a),a.isDefaultPrevented())return!1;for(;0<=(i=d(this.id(e),n));)n.splice(i,1),this.setVal(n),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}),!0}},postprocessResults:function(t,e,i){var n=this.getVal(),a=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),o=this;a.each2(function(t,e){0<=d(o.id(e.data("select2-data")),n)&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&!1!==i&&!0===this.opts.closeOnSelect&&o.highlight(0),!this.opts.createSearchChoice&&0<!a.filter(".select2-result:not(.select2-selected)").length&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&D(o.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+P(o.opts.formatNoMatches,o.opts.element,o.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-f(this.search)},resizeSearch:function(){var t,e,i,n,a=f(this.search);t=function(t){if(!s){var e=t[0].currentStyle||window.getComputedStyle(t[0],null);(s=w(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:e.fontSize,fontFamily:e.fontFamily,fontStyle:e.fontStyle,fontWeight:e.fontWeight,letterSpacing:e.letterSpacing,textTransform:e.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),w(document.body).append(s)}return s.text(t.val()),s.width()}(this.search)+10,e=this.search.offset().left,(n=(i=this.selection.width())-(e-this.selection.offset().left)-a)<t&&(n=i-a),n<40&&(n=i-a),n<=0&&(n=t),this.search.width(Math.floor(n))},getVal:function(){var t;return this.select?null===(t=this.select.val())?[]:t:u(t=this.opts.element.val(),this.opts.separator,this.opts.transformVal)},setVal:function(t){if(this.select)this.select.val(t);else{var e=[],i={};w(t).each(function(){this in i||(e.push(this),i[this]=0)}),this.opts.element.val(0===e.length?"":e.join(this.opts.separator))}},buildChangeDetails:function(t,e){e=e.slice(0),t=t.slice(0);for(var i=0;i<e.length;i++)for(var n=0;n<t.length;n++)if(p(this.opts.id(e[i]),this.opts.id(t[n]))){e.splice(i,1),i--,t.splice(n,1);break}return{added:e,removed:t}},val:function(t,i){var n,a=this;if(0===arguments.length)return this.getVal();if((n=this.data()).length||(n=[]),!t&&0!==t)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(t),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===x)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var e=w.map(t,a.id);a.setVal(e),a.updateSelection(t),a.clearSearch(),i&&a.triggerChange(a.buildChangeDetails(n,a.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],e=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(e.opts.id(w(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,e){var i,n,a=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return w(this).data("select2-data")}).get();n=this.data(),t||(t=[]),i=w.map(t,function(t){return a.opts.id(t)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),e&&this.triggerChange(this.buildChangeDetails(n,this.data()))}}),w.fn.select2=function(){var t,e,i,n,a,s=Array.prototype.slice.call(arguments,0),o=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],r=["opened","isFocused","container","dropdown"],l=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===s.length||"object"==typeof s[0])(t=0===s.length?{}:w.extend({},s[0])).element=w(this),"select"===t.element.get(0).tagName.toLowerCase()?a=t.element.prop("multiple"):(a=t.multiple||!1,"tags"in t&&(t.multiple=a=!0)),(e=a?new window.Select2.class.multi:new window.Select2.class.single).init(t);else{if("string"!=typeof s[0])throw"Invalid arguments to select2 plugin: "+s;if(d(s[0],o)<0)throw"Unknown method: "+s[0];if(n=x,(e=w(this).data("select2"))===x)return;if("container"===(i=s[0])?n=e.container:"dropdown"===i?n=e.dropdown:(h[i]&&(i=h[i]),n=e[i].apply(e,s.slice(1))),0<=d(s[0],r)||0<=d(s[0],l)&&1==s.length)return!1}}),n===x?this:n},w.fn.select2.defaults={debug:!1,width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,n){var a=[];return y(this.text(t),i.term,a,n),a.join("")},transformVal:function(t){return w.trim(t)},formatSelection:function(t,e,i){return t?i(this.text(t)):x},sortResults:function(t,e,i){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(t,e){return x},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==x?null:t.id},text:function(t){return t&&this.data&&this.data.text?w.isFunction(this.data.text)?this.data.text(t):t[this.data.text]:t.text},matcher:function(t,e){return 0<=c(""+e).toUpperCase().indexOf(c(""+t).toUpperCase())},separator:",",tokenSeparators:[],tokenizer:function(t,e,i,n){var a,s,o,r,l,h=t,c=!1;if(!n.createSearchChoice||!n.tokenSeparators||n.tokenSeparators.length<1)return x;for(;;){for(s=-1,o=0,r=n.tokenSeparators.length;o<r&&(l=n.tokenSeparators[o],!(0<=(s=t.indexOf(l))));o++);if(s<0)break;if(a=t.substring(0,s),t=t.substring(s+l.length),0<a.length&&(a=n.createSearchChoice.call(this,a,e))!==x&&null!==a&&n.id(a)!==x&&null!==n.id(a)){for(c=!1,o=0,r=e.length;o<r;o++)if(p(n.id(a),n.id(e[o]))){c=!0;break}c||i(a)}}return h!==t?t:void 0},escapeMarkup:S,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(t){return null},nextSearchTerm:function(t,e){return x},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){return!("ontouchstart"in window||0<navigator.msMaxTouchPoints)||!(t.opts.minimumResultsForSearch<0)}},w.fn.select2.locales=[],w.fn.select2.locales.en={formatMatches:function(t){return 1===t?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(t,e,i){return"Loading failed"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(t){return"Loading more results…"},formatSearching:function(){return"Searching…"}},w.extend(w.fn.select2.defaults,w.fn.select2.locales.en),w.fn.select2.ajaxDefaults={transport:w.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:M,local:A,tags:k},util:{debounce:g,markMatch:y,escapeMarkup:S,stripDiacritics:c},class:{abstract:t,single:e,multi:i}}}function l(t){var e=w(document.createTextNode(""));t.before(e),e.before(t),e.remove()}function c(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return o[t]||t})}function d(t,e){for(var i=0,n=e.length;i<n;i+=1)if(p(t,e[i]))return i;return-1}function p(t,e){return t===e||t!==x&&e!==x&&(null!==t&&null!==e&&(t.constructor===String?t+""==e+"":e.constructor===String&&e+""==t+""))}function u(t,e,i){var n,a,s;if(null===t||t.length<1)return[];for(a=0,s=(n=t.split(e)).length;a<s;a+=1)n[a]=i(n[a]);return n}function f(t){return t.outerWidth(!1)-t.width()}function m(e){var i="keyup-change-value";e.on("keydown",function(){w.data(e,i)===x&&w.data(e,i,e.val())}),e.on("keyup",function(){var t=w.data(e,i);t!==x&&e.val()!==t&&(w.removeData(e,i),e.trigger("keyup-change"))})}function g(e,i,n){var a;return n=n||x,function(){var t=arguments;window.clearTimeout(a),a=window.setTimeout(function(){i.apply(n,t)},e)}}function v(t){t.preventDefault(),t.stopPropagation()}function b(t,e,i){var n,a,s=[];(n=w.trim(t.attr("class")))&&w((n=""+n).split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&s.push(this)}),(n=w.trim(e.attr("class")))&&w((n=""+n).split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(a=i(this))&&s.push(a)}),t.attr("class",s.join(" "))}function y(t,e,i,n){var a=c(t.toUpperCase()).indexOf(c(e.toUpperCase())),s=e.length;a<0?i.push(n(t)):(i.push(n(t.substring(0,a))),i.push("<span class='select2-match'>"),i.push(n(t.substring(a,a+s))),i.push("</span>"),i.push(n(t.substring(a+s,t.length))))}function S(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function M(o){var t,r=null,e=o.quietMillis||100,l=o.url,h=this;return function(s){window.clearTimeout(t),t=window.setTimeout(function(){var t=o.data,e=l,i=o.transport||w.fn.select2.ajaxDefaults.transport,n={type:o.type||"GET",cache:o.cache||!1,jsonpCallback:o.jsonpCallback||x,dataType:o.dataType||"json"},a=w.extend({},w.fn.select2.ajaxDefaults.params,n);t=t?t.call(h,s.term,s.page,s.context):null,e="function"==typeof e?e.call(h,s.term,s.page,s.context):e,r&&"function"==typeof r.abort&&r.abort(),o.params&&(w.isFunction(o.params)?w.extend(a,o.params.call(h)):w.extend(a,o.params)),w.extend(a,{url:e,dataType:o.dataType,data:t,success:function(t){var e=o.results(t,s.page,s);s.callback(e)},error:function(t,e,i){var n={hasError:!0,jqXHR:t,textStatus:e,errorThrown:i};s.callback(n)}}),r=i.call(h,a)},e)}}function A(t){var e,i,n=t,r=function(t){return""+t.text};w.isArray(n)&&(n={results:i=n}),!1===w.isFunction(n)&&(i=n,n=function(){return i});var a=n();return a.text&&(r=a.text,w.isFunction(r)||(e=a.text,r=function(t){return t[e]})),function(a){var s,o=a.term,i={results:[]};""!==o?(s=function(t,e){var i,n;if((t=t[0]).children){for(n in i={},t)t.hasOwnProperty(n)&&(i[n]=t[n]);i.children=[],w(t.children).each2(function(t,e){s(e,i.children)}),(i.children.length||a.matcher(o,r(i),t))&&e.push(i)}else a.matcher(o,r(t),t)&&e.push(t)},w(n().results).each2(function(t,e){s(e,i.results)}),a.callback(i)):a.callback(n())}}function k(e){var s=w.isFunction(e);return function(i){var n=i.term,a={results:[]},t=s?e(i):e;w.isArray(t)&&(w(t).each(function(){var t=this.text!==x,e=t?this.text:this;(""===n||i.matcher(n,e))&&a.results.push(t?this:{id:this,text:this})}),i.callback(a))}}function D(t,e){if(w.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(e+" must be a string, function, or falsy value")}function P(t,e){if(w.isFunction(t)){var i=Array.prototype.slice.call(arguments,2);return t.apply(e,i)}return t}function E(){var i=this;w.each(arguments,function(t,e){i[e].remove(),i[e]=null})}function _(t,e){var i=function(){};return((i.prototype=new t).constructor=i).prototype.parent=t.prototype,i.prototype=w.extend(i.prototype,e),i}}(jQuery),function(t){"use strict";t.fn.select2.locales.fr={formatMatches:function(t){return t+" résultats sont disponibles, utilisez les flèches haut et bas pour naviguer."},formatNoMatches:function(){return"Aucun résultat trouvé"},formatInputTooShort:function(t,e){var i=e-t.length;return"Saisissez "+i+" caractère"+(1==i?"":"s")+" supplémentaire"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Supprimez "+i+" caractère"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"Vous pouvez seulement sélectionner "+t+" élément"+(1==t?"":"s")},formatLoadMore:function(t){return"Chargement de résultats supplémentaires…"},formatSearching:function(){return"Recherche en cours…"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.fr)}(jQuery),function(o){function r(t){return t.prev(".select2-container").find("ul.select2-choices")}function l(i,n){i.sortable({forcePlaceholderSize:!0,items:"li.select2-search-choice",placeholder:"<li>&nbsp;</li>"}),n&&n.bindSortEvent&&n.$select&&i.bind("sortupdate",function(t,e){o(i.find("li.select2-search-choice").get().reverse()).each(function(){var t=o(this).data("select2Data").id,e=n.$select.find('option[value="'+t+'"]')[0];n.$select.prepend(e)})})}function h(t,e){var i=r(t),n=i.find(".select2-search-choice");o.each(e,function(t,e){n.each(function(){e==o(this).data("select2Data").id&&o(this).insertBefore(i.find(".select2-search-field"))})}),i.trigger("sortupdate")}o.fn.extend({select2Sortable:function(s){return this.each(function(){var t=o(this);if(t.prop("multiple")){if(!t.data("hasSelect2Sortable")){(i=t).select2(),a=r(i),n=new MutationObserver(function(t){l(a),n.disconnect()}),i.on("select2-selecting",function(){n.observe(a.get(0),{subtree:!1,childList:!0,attributes:!1})}),l(a,{bindSortEvent:!0,$select:i}),i.data("hasSelect2Sortable",!0);var e=t.attr("data-order");e&&h(t,e.split(","))}var i,n,a;s&&h(t,s)}}),this}})}(window.jQuery),function s(o,r,l){function h(i,t){if(!r[i]){if(!o[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(c)return c(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var a=r[i]={exports:{}};o[i][0].call(a.exports,function(t){var e=o[i][1][t];return h(e||t)},a,a.exports,s,o,r,l)}return r[i].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,i){function r(t){this.message=t}(r.prototype=new Error).name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,n,a=0,s=0,o="";n=e.charAt(s++);~n&&(i=a%4?64*i+n:n,a++%4)?o+=String.fromCharCode(255&i>>(-2*a&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o}},{}],2:[function(t,e,i){var n=t("./atob");e.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(n(e).replace(/(.)/g,function(t,e){var i=e.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}catch(t){return n(e)}}},{"./atob":1}],3:[function(t,e,i){"use strict";function n(t){this.message=t}var a=t("./base64_url_decode");(n.prototype=new Error).name="InvalidTokenError",e.exports=function(t,e){if("string"!=typeof t)throw new n("Invalid token specified");var i=!0===(e=e||{}).header?0:1;try{return JSON.parse(a(t.split(".")[i]))}catch(t){throw new n("Invalid token specified: "+t.message)}},e.exports.InvalidTokenError=n},{"./base64_url_decode":2}],4:[function(i,t,e){(function(t){var e=i("./lib/index");"function"==typeof t.window.define&&t.window.define.amd?t.window.define("jwt_decode",function(){return e}):t.window&&(t.window.jwt_decode=e)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/index":3}]},{},[4]),$(document).on("load",function(t,e){$(e).find("[data-smart-click-pixel]").each(function(){var i=$(this).data(),n=[];$.each(i.smartUrls,function(t,e){$('a[data-smart-id="'+t+'"]').on("click",function(){$(this).append($('<img style="display: none;" />').attr("src",i.smartPixelUrl.replace("%d",e))),n.push(e)})}),$(document).find("[data-smart-id]").each(function(){var t=$(this).data("smartId");-1===n.indexOf(t)&&$(this).on("click",function(){$(this).append($('<img style="display: none;" />').attr("src",i.smartPixelUrl.replace("%d",t)))})})})}),function(t,d){(function(t){if(typeof module!=="undefined"&&module.exports){return function(t){module.exports=t()}}else if(typeof define==="function"&&define.amd){return define}else if(typeof window!=="undefined"){return function(t){window.MobileDetect=t()}}else{throw new Error("unknown environment")}})()(function(){"use strict";var r,l={mobileDetectRules:{phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b",Samsung:"Samsung|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)|^.*Android.*Nexus(?:(?!Mobile).)*$",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI)\\b",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K017 |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD",LenovoTablet:"Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris E10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.*\\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",Hudl:"Hudl HT7S3",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bJolla\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",Tizen:"Tizen",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:"Firefox/[VER]",Fennec:"Fennec/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},detectMobileBrowsers:{fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i}},h=Object.prototype.hasOwnProperty;function e(t,e){return null!=t&&null!=e&&t.toLowerCase()===e.toLowerCase()}function c(t){for(var e in t)h.call(t,e)&&(t[e]=new RegExp(t[e],"i"))}function o(t,e){this.ua=t||"",this._cache={},this.maxPhoneWidth=e||600}return l.FALLBACK_PHONE="UnknownPhone",l.FALLBACK_TABLET="UnknownTablet",l.FALLBACK_MOBILE="UnknownMobile",r="isArray"in Array?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},function(){var t,e,i,n,a,s,o=l.mobileDetectRules;for(t in o.props)if(h.call(o.props,t)){for(e=o.props[t],r(e)||(e=[e]),a=e.length,n=0;n<a;++n)0<=(s=(i=e[n]).indexOf("[VER]"))&&(i=i.substring(0,s)+"([\\w._\\+]+)"+i.substring(s+5)),e[n]=new RegExp(i,"i");o.props[t]=e}c(o.oss),c(o.phones),c(o.tablets),c(o.uas),c(o.utils),o.oss0={WindowsPhoneOS:o.oss.WindowsPhoneOS,WindowsMobileOS:o.oss.WindowsMobileOS}}(),l.findMatch=function(t,e){for(var i in t)if(h.call(t,i)&&t[i].test(e))return i;return null},l.getVersionStr=function(t,e){var i,n,a,s,o=l.mobileDetectRules.props;if(h.call(o,t))for(a=(i=o[t]).length,n=0;n<a;++n)if(null!==(s=i[n].exec(e)))return s[1];return null},l.getVersion=function(t,e){var i=l.getVersionStr(t,e);return i?l.prepareVersionNo(i):NaN},l.prepareVersionNo=function(t){var e;return 1===(e=t.split(/[a-z._ \/\-]/i)).length&&(t=e[0]),1<e.length&&(t=e[0]+".",e.shift(),t+=e.join("")),Number(t)},l.isMobileFallback=function(t){return l.detectMobileBrowsers.fullPattern.test(t)||l.detectMobileBrowsers.shortPattern.test(t.substr(0,4))},l.isTabletFallback=function(t){return l.detectMobileBrowsers.tabletPattern.test(t)},l.prepareDetectionCache=function(t,e,i){if(t.mobile===d){var n,a,s;if(a=l.findMatch(l.mobileDetectRules.tablets,e))return t.mobile=t.tablet=a,void(t.phone=null);if(n=l.findMatch(l.mobileDetectRules.phones,e))return t.mobile=t.phone=n,void(t.tablet=null);l.isMobileFallback(e)?(s=o.isPhoneSized(i))===d?(t.mobile=l.FALLBACK_MOBILE,t.tablet=t.phone=null):s?(t.mobile=t.phone=l.FALLBACK_PHONE,t.tablet=null):(t.mobile=t.tablet=l.FALLBACK_TABLET,t.phone=null):l.isTabletFallback(e)?(t.mobile=t.tablet=l.FALLBACK_TABLET,t.phone=null):t.mobile=t.tablet=t.phone=null}},l.mobileGrade=function(t){var e=null!==t.mobile();return t.os("iOS")&&4.3<=t.version("iPad")||t.os("iOS")&&3.1<=t.version("iPhone")||t.os("iOS")&&3.1<=t.version("iPod")||2.1<t.version("Android")&&t.is("Webkit")||7<=t.version("Windows Phone OS")||t.is("BlackBerry")&&6<=t.version("BlackBerry")||t.match("Playbook.*Tablet")||1.4<=t.version("webOS")&&t.match("Palm|Pre|Pixi")||t.match("hp.*TouchPad")||t.is("Firefox")&&12<=t.version("Firefox")||t.is("Chrome")&&t.is("AndroidOS")&&4<=t.version("Android")||t.is("Skyfire")&&4.1<=t.version("Skyfire")&&t.is("AndroidOS")&&2.3<=t.version("Android")||t.is("Opera")&&11<t.version("Opera Mobi")&&t.is("AndroidOS")||t.is("MeeGoOS")||t.is("Tizen")||t.is("Dolfin")&&2<=t.version("Bada")||(t.is("UC Browser")||t.is("Dolfin"))&&2.3<=t.version("Android")||t.match("Kindle Fire")||t.is("Kindle")&&3<=t.version("Kindle")||t.is("AndroidOS")&&t.is("NookTablet")||11<=t.version("Chrome")&&!e||5<=t.version("Safari")&&!e||4<=t.version("Firefox")&&!e||7<=t.version("MSIE")&&!e||10<=t.version("Opera")&&!e?"A":t.os("iOS")&&t.version("iPad")<4.3||t.os("iOS")&&t.version("iPhone")<3.1||t.os("iOS")&&t.version("iPod")<3.1||t.is("Blackberry")&&5<=t.version("BlackBerry")&&t.version("BlackBerry")<6||5<=t.version("Opera Mini")&&t.version("Opera Mini")<=6.5&&(2.3<=t.version("Android")||t.is("iOS"))||t.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||11<=t.version("Opera Mobi")&&t.is("SymbianOS")?"B":(t.version("BlackBerry")<5||t.match("MSIEMobile|Windows CE.*Mobile")||t.version("Windows Mobile"),"C")},l.detectOS=function(t){return l.findMatch(l.mobileDetectRules.oss0,t)||l.findMatch(l.mobileDetectRules.oss,t)},l.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},o.prototype={constructor:o,mobile:function(){return l.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return l.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return l.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===d&&(this._cache.userAgent=l.findMatch(l.mobileDetectRules.uas,this.ua)),this._cache.userAgent},os:function(){return this._cache.os===d&&(this._cache.os=l.detectOS(this.ua)),this._cache.os},version:function(t){return l.getVersion(t,this.ua)},versionStr:function(t){return l.getVersionStr(t,this.ua)},is:function(t){return e(t,this.userAgent())||e(t,this.os())||e(t,this.phone())||e(t,this.tablet())||e(t,l.findMatch(l.mobileDetectRules.utils,this.ua))},match:function(t){return t instanceof RegExp||(t=new RegExp(t,"i")),t.test(this.ua)},isPhoneSized:function(t){return o.isPhoneSized(t||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===d&&(this._cache.grade=l.mobileGrade(this)),this._cache.grade}},o.isPhoneSized="undefined"!=typeof window&&window.screen?function(t){return t<0?d:l.getDeviceSmallerSide()<=t}:function(){},o._impl=l,o})}(),$.fn.tagCommander={history:{},getScript:function(t,e){delete window.xtparam,tc_vars=t,$.getScript(e),this.history[window.location.href]={data:tc_vars,url:e}},trackVirtualPage:function(t){"function"==typeof tc_events_1&&tc_events_1(this,"ATPAGE",{full_page_id:t.fullPageId,USER_LEVEL:t.userLevel,search_filters:t.searchFilter,search_keywords:t.searchKeywords,search_page_number:t.searchPageNumber})},pushTracking:function(t){"function"==typeof tc_events_1&&tc_events_1(this,"ATCLICK",{AT_LABEL:t.label,AT_NIVEAU2:t.s2,AT_TYPE:t.type})},triggerEvent:function(t,e,i,n){var a="tc_events_"+t;window[a]&&window[a](n,e,i)}},$(document).on("history:pushState",function(t,e,i,n){$.fn.tagCommander.history[n]&&$.fn.tagCommander.getScript($.fn.tagCommander.history[n].data,$.fn.tagCommander.history[n].url)}),$(document).on("load",function(t,e){var i=function(){$(e).find("[data-tag-commander-click]").on("click",function(){var t=$(this).data("tagCommanderClick");$.fn.tagCommander.pushTracking(t)}),$(e).find("[data-tag-commander-page]").each(function(){$.fn.tagCommander.trackVirtualPage($(this).data("tagCommanderPage"))})};"function"==typeof tc_events_1?i():e.addEventListener("tag-commander-ready",function(){i()})}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;(e=(e=(e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Raven||(e.Raven={})).Plugins||(e.Plugins={})).Angular=t()}}(function(){return function s(o,r,l){function h(i,t){if(!r[i]){if(!o[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(c)return c(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var a=r[i]={exports:{}};o[i][0].call(a.exports,function(t){var e=o[i][1][t];return h(e||t)},a,a.exports,s,o,r,l)}return r[i].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,i){"use strict";var n=t(2).wrappedCallback,a=/^\[((?:[$a-zA-Z0-9]+:)?(?:[$a-zA-Z0-9]+))\] (.*?)\n?(\S+)$/,s="ngRaven";function o(e,t){function i(i,n){return function(t,e){i.captureException(t,{extra:{cause:e}}),n(t,e)}}(t=t||window.angular)&&(t.module(s,[]).provider("Raven",function(){this.$get=["$window",function(t){return e}]}).config(["$provide",function(t){t.decorator("$exceptionHandler",["Raven","$delegate",i])}]),e.setDataCallback(n(function(t){return o._normalizeData(t)})))}o._normalizeData=function(t){var e=t.exception;if(e){e=e.values[0];var i=a.exec(e.value);i&&(e.type=i[1],e.value=i[2],t.message=e.type+": "+e.value,t.extra.angularDocs=i[3].substr(0,250))}return t},o.moduleName=s,e.exports=o},{2:2}],2:[function(t,e,i){"use strict";e.exports={isObject:function(t){return"object"==typeof t&&null!==t},isError:function(t){switch({}.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},wrappedCallback:function(n){return function(t,e){var i=n(t)||t;return e&&e(i)||i}}}},{}]},{},[1])(1)}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(f){var n=/\+/g;function m(t){return v.raw?t:encodeURIComponent(t)}function g(t,e){var i=v.raw?t:function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(n," ")),v.json?JSON.parse(t):t}catch(t){}}(t);return f.isFunction(e)?e(i):i}var v=f.cookie=function(t,e,i){if(void 0!==e&&!f.isFunction(e)){if("number"==typeof(i=f.extend({},v.defaults,i)).expires){var n=i.expires,a=i.expires=new Date;a.setTime(+a+864e5*n)}return document.cookie=[m(t),"=",(s=e,m(v.json?JSON.stringify(s):String(s))),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var s,o,r=t?void 0:{},l=document.cookie?document.cookie.split("; "):[],h=0,c=l.length;h<c;h++){var d=l[h].split("="),u=(o=d.shift(),v.raw?o:decodeURIComponent(o)),p=d.join("=");if(t&&t===u){r=g(p,e);break}t||void 0===(p=g(p))||(r[u]=p)}return r};v.defaults={},f.removeCookie=function(t,e){return void 0!==f.cookie(t)&&(f.cookie(t,"",f.extend({},e,{expires:-1})),!f.cookie(t))}}),$(function(){String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t})}),function(l){var t,e,i=[],h="inviewport",c={removeClass:!1,activeTolerance:0},n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};l(window).bind("resize",function(){e=null});var a=function(){var r=function(){if(!e){var t=document.createElement("div");t.style.cssText="position: fixed;top: 0;left: 0;bottom: 0;right: 0;",document.documentElement.insertBefore(t,document.documentElement.firstChild),e={width:t.offsetWidth,height:t.offsetHeight},document.documentElement.removeChild(t)}return e}().height;l(i).each(function(){var t=l(this).is("."+h),e=this.getBoundingClientRect().top,i=e+this.offsetHeight,n=0,a=l(this).attr("data-scroll-activetolerance");if(a){var s=parseFloat(a);isNaN(s)||(n=s)}var o=l.extend(c,{removeClass:l(this).is("[data-scroll-deactivate]")||!1,activeTolerance:n});0!==o.activeTolerance&&(e+=o.activeTolerance),0<=e&&e<=r||e<=0&&r<=i||0<=i&&i<=r?t||l(this).addClass(h).trigger("inviewport"):t&&!0===o.removeClass&&l(this).removeClass(h).trigger("outviewport")})};l.fn.porthole=function(){return this.each(function(){i.push(this),t||(n(a),t=!0,l(window).bind("scroll",function(){n(a)}))})}}(jQuery),function(){var b,y="Expected a function",n=NaN,i="[object Null]",e="[object Symbol]",a="[object Undefined]",s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=parseInt,t="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,d=t||c||Function("return this")(),u="object"==typeof exports&&exports&&!exports.nodeType&&exports,p=u&&"object"==typeof module&&module&&!module.nodeType&&module,f=Object.prototype,m=f.hasOwnProperty,g=f.toString,v=d.Symbol,x=v?v.toStringTag:b,w=Math.max,T=Math.min;function C(){}function S(t){return null==t?t===b?a:i:x&&x in Object(t)?function(t){var e=m.call(t,x),i=t[x];try{t[x]=b;var n=!0}catch(t){}var a=g.call(t);n&&(e?t[x]=i:delete t[x]);return a}(t):(e=t,g.call(e));var e}var M=function(){return d.Date.now()};function A(n,a,t){var s,o,r,l,h,c,d=0,u=!1,p=!1,e=!0;if("function"!=typeof n)throw new TypeError(y);function f(t){var e=s,i=o;return s=o=b,d=t,l=n.apply(i,e)}function m(t){var e=t-c;return c===b||a<=e||e<0||p&&r<=t-d}function g(){var t,e,i=M();if(m(i))return v(i);h=setTimeout(g,(e=a-((t=i)-c),p?T(e,r-(t-d)):e))}function v(t){return h=b,e&&s?f(t):(s=o=b,l)}function i(){var t,e=M(),i=m(e);if(s=arguments,o=this,c=e,i){if(h===b)return d=t=c,h=setTimeout(g,a),u?f(t):l;if(p)return h=setTimeout(g,a),f(c)}return h===b&&(h=setTimeout(g,a)),l}return a=E(a)||0,k(t)&&(u=!!t.leading,r=(p="maxWait"in t)?w(E(t.maxWait)||0,a):r,e="trailing"in t?!!t.trailing:e),i.cancel=function(){h!==b&&clearTimeout(h),d=0,s=c=o=h=b},i.flush=function(){return h===b?l:v(M())},i}function k(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function D(t){return null!=t&&"object"==typeof t}function P(t){return"symbol"==typeof t||D(t)&&S(t)==e}function E(t){if("number"==typeof t)return t;if(P(t))return n;if(k(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=k(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var i=r.test(t);return i||l.test(t)?h(t.slice(2),i?2:8):o.test(t)?n:+t}C.debounce=A,C.throttle=function(t,e,i){var n=!0,a=!0;if("function"!=typeof t)throw new TypeError(y);return k(i)&&(n="leading"in i?!!i.leading:n,a="trailing"in i?!!i.trailing:a),A(t,e,{leading:n,maxWait:e,trailing:a})},C.isObject=k,C.isObjectLike=D,C.isSymbol=P,C.now=M,C.toNumber=E,C.VERSION="4.17.4","function"==typeof define&&"object"==typeof define.amd&&define.amd?(d._=C,define(function(){return C})):p?((p.exports=C)._=C,u._=C):d._=C}.call(this),function(){function Qi(t){for(var e="rgba(255,0,0,1)",i="rgba(0,0,192,1)",n="rgba(0,0,255,1)",a="rgba(61,68,241,0.9)",s="rgba(61,68,241,0.5)",o="rgba(192,0,0,1)",r="rgba(192,0,0,0.9)",l="rgba(192,0,0,0.5)",h="rgba(192,0,0,0.8)",c="rgba(0,0,0,1)",d="rgba(0,140,0,1)",u="rgba(0,128,0,0.5)",p="rgba(0,128,0,0.8)",f="rgba(51,153,102,1)",m="rgba(96,96,96,1)",g=[{type:"line",color:"rgba(17,66,87,0.9)",color2:"rgba(24, 106, 142,0.8)",params:{c:[lang.l_trace,lang.l_remplis],w:["sw"]}},{type:"line2",color:"rgba(17,66,87,1)",params:{c:[lang.l_trace],w:["sw"]}},{type:"candle",color:"rgba(0,255,0,1)",color2:e,color3:m,params:{c:[lang.l_hausses,lang.l_baisses,lang.l_ombres]}},{type:"mm",color:e,param1:20,params:{p:[lang.l_prd],c:[lang.l_moymobile],w:["sw"]}},{type:"barcolor",color:n,color2:e,params:{c:[lang.l_hausses,lang.l_baisses]}},{type:"bar",color:"rgba(17,66,87,1)",params:{c:["Bar Chart"]}},{type:"perf",color:"rgba(17,66,87,0.9)",color2:"rgba(24, 106, 142,0.8)",params:{c:[lang.l_trace,lang.l_remplis],w:["sw"]}},{type:"volume",color:"rgba(3,170,2,0.75)",color2:"rgba(255,0,0,0.75)",params:{c:[lang.l_hausses,lang.l_baisses],w:["o","o"]}},{type:"boll",color:"rgba(244,143,0,0.7)",color2:"rgba(244,143,0,0.15)",param1:20,param2:2,params:{p:[lang.l_prd,lang.l_ec],c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"rsi",color:i,param1:14,sh:70,sb:30,params:{c:["RSI"],p:[lang.l_prd],w:["sw"]}},{type:"fr",color:a,color2:s,params:{c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"cmo",color:i,param1:10,sh:50,sb:-50,params:{c:["CMO"],p:[lang.l_prd],w:["sw"]}},{type:"cci",color:i,param1:20,sh:100,sb:-100,params:{c:["CCI"],p:[lang.l_prd],w:["sw"]}},{type:"mom",color:r,color2:l,param1:12,params:{c:[lang.l_trace,lang.l_remplis],p:[lang.l_prd],w:["sw","o"]}},{type:"macd",color:i,color2:o,color3:u,param1:12,param2:26,param3:9,params:{p:[lang.l_prd+" 1",lang.l_prd+" 2","Signal"],c:["MACD","Signal",lang.l_histogram],w:["sw","sw"]}},{type:"sto",color:n,color2:e,param1:14,param2:3,param3:3,sh:9999,sb:9999,params:{p:[lang.l_prd,lang.l_stok,lang.l_stod],c:["%K","%D"],w:["sw","sw"]}},{type:"ichimoku",color:n,color2:"rgba(210,0,0,1)",color3:d,color4:"rgba(64,64,255,1)",color5:"rgba(64,64,255,1)",color6:"rgba(64,64,255,0.3)",param1:26,param2:9,params:{c:["Kijun-Sen","Tenkan-Sen","Chikou-Span","Senkou A","Senkou B","Kumo"],p:["Kijun-Sen","Tenkan-Sen"],w:["sw","sw","sw","sw","sw","o"]}},{type:"phpb",color:d,color2:"rgba(210,0,0,1)",param1:20,params:{c:[lang.l_hausses,lang.l_baisses],p:[lang.l_prd]}},{type:"evt",params:{},color:l},{type:"actu",params:{},color:l},{type:"lineard",param1:30,param2:1,color:c,color2:"rgba(0,128,128,1)",color3:o,params:{p:[lang.l_prd,lang.l_ec],c:[lang.l_droitereg,"Resistance","Support"],w:["w","w","w"]}},{type:"supres",param1:5,color:u,color2:"rgba(255,0,0,0.4)",params:{p:[lang.l_barrep],c:[lang.l_hausses,lang.l_baisses],w:["o","o"]}},{type:"coppock",param1:11,param2:14,param3:10,color:"rgba(0,0,128,0.8)",color2:"rgba(0,0,128,0.3)",params:{p:["ROC 1","ROC2",lang.l_moyenne],c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"compare",color:e,params:{c:["Style"],w:["sw"]}},{type:"pivots",color:"rgba(0,0,0,0.7)",color2:"rgba(255,0,0,0.7)",color3:"rgba(0,128,0,0.7)",params:{c:["Pivot","Supports","Resistances"]}},{type:"zig zag",color:e,param1:3,params:{p:[lang.l_variation],c:["Zig Zag"],w:["sw"]}},{type:"mmp",color:"rgba(180,0,0,1)",param1:15,params:{p:[lang.l_prd],c:[lang.l_moymobp],w:["sw"]}},{type:"mmh",color:"rgba(180,0,0,1)",param1:9,params:{p:[lang.l_prd],c:[lang.l_mmh2],w:["sw"]}},{type:"double EMA",color:e,param1:20,params:{p:[lang.l_prd],c:["Double EMA"],w:["sw"]}},{type:"triple EMA",color:n,param1:20,params:{p:[lang.l_prd],c:["Triple EMA"],w:["sw"]}},{type:"alligator",color:n,color2:e,color3:d,param1:13,param2:8,param3:5,params:{p:["Jaw","Teeth","Lips"],c:["Jaw","Teeth","Lips"],w:["sw","sw","sw"]}},{type:"mme",color:n,param1:30,params:{p:[lang.l_prd],c:[lang.l_moymobe],w:["sw"]}},{type:"mmt",color:n,param1:20,params:{p:[lang.l_prd],c:[lang.l_moymobt],w:["sw"]}},{type:"evmm",color:"rgba(192,0,0,0.7)",color2:"rgba(192,0,0,0.15)",param1:20,param2:2,params:{p:[lang.l_prd,lang.l_ecart],c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"donchian",color:"rgba(0,128,0,0.7)",color2:"rgba(0,128,0,0.15)",param1:20,params:{p:[lang.l_prd],c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"gmma",color:d,color2:o,params:{c:["Fast","Slow"],w:["sw","sw"]}},{type:"supertrend",color:o,color2:d,param1:10,param2:3,params:{p:[lang.l_prd,lang.l_coeff],c:["Resistance","Support"],w:["w","w"]}},{type:"keltner",color:"rgba(0,128,0,0.7)",color2:"rgba(0,128,0,0.20)",param1:20,param2:2,param3:10,params:{p:[lang.l_prd,lang.l_ecart2,lang.l_atrperiod],c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"heikin ashi",color:f,color2:"rgba(255,64,64,1)",color3:m,params:{c:[lang.l_hausses,lang.l_baisses,lang.l_ombres]}},{type:"renko",color:f,color2:e,color3:m,params:{p:[lang.l_tboite],c:[lang.l_hausses,lang.l_baisses,lang.l_border]},nolinearX:!0},{type:"point figure",color:f,color2:e,param2:3,params:{p:["Box","Reverse"],c:[lang.l_hausses,lang.l_baisses]},nolinearX:!0},{type:"kagi",color:"rgba(51,102,255,1)",color2:"rgba(255,64,64,1)",params:{p:[lang.l_tboite],c:["Yang","Yin"]},nolinearX:!0},{type:"equivolume",color:"rgba(51,102,255,1)",color2:"rgba(255,64,64,1)",params:{c:[lang.l_hausses,lang.l_baisses]},nolinearX:!0},{type:"line break",color:f,color2:e,color3:m,params:{p:[lang.l_lines],c:[lang.l_hausses,lang.l_baisses,lang.l_border]},nolinearX:!0},{type:"hollow",color:"rgba(7,103,69,1)",color2:e,color3:m,params:{c:[lang.l_hausses,lang.l_baisses,lang.l_ombres]}},{type:"accDist",color:r,color2:l,params:{c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"obv",color:a,color2:s,params:{c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"forceindex",color:a,color2:s,param1:13,params:{c:[lang.l_trace,lang.l_remplis],p:[lang.l_prd],w:["sw","o"]}},{type:"perfi",color:a,color2:s,params:{c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"kvo",color:"rgba(0,0,128,1)",color2:d,params:{c:["KVO","Signal"],w:["sw","sw"]}},{type:"ultimate",color:i,param1:7,param2:14,param3:28,sh:70,sb:30,params:{c:["Ultimate Osc."],p:[lang.l_mm2+" 1",lang.l_mm2+" 2",lang.l_mm2+" 3"],w:["sw"]}},{type:"bollb",color:i,param1:20,sh:100,sb:0,params:{c:["Bollinger %B"],p:[lang.l_prd],w:["sw"]}},{type:"bollw",color:"rgba(255,102,0,1)",param1:20,param2:2,params:{c:[lang.l_trace],p:[lang.l_prd,lang.l_ec],w:["sw"]}},{type:"atr",color:i,param1:14,params:{c:["ATR"],p:[lang.l_prd],w:["sw"]}},{type:"eom",color:r,color2:l,param1:14,params:{c:[lang.l_trace,lang.l_remplis],p:[lang.l_prd],w:["sw","o"]}},{type:"cmf",color:r,color2:l,param1:21,params:{c:[lang.l_trace,lang.l_remplis],p:[lang.l_prd],w:["sw","o"]}},{type:"dpo",color:r,color2:l,param1:20,params:{c:[lang.l_trace,lang.l_remplis],p:[lang.l_prd],w:["sw","o"]}},{type:"asi",color:r,color2:"rgba(192,0,0,0.4)",params:{c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"nvi",color:o,params:{c:["NVI"],w:["sw"]}},{type:"pvi",color:i,params:{c:["PVI"],w:["sw"]}},{type:"macdzl",color:i,color2:o,color3:u,param1:12,param2:26,param3:9,params:{p:[lang.l_prd+" 1",lang.l_prd+" 2","Signal"],c:["MACD Zéro Lag","Signal",lang.l_histogram],w:["sw","sw"]}},{type:"wto",color:i,color2:o,color3:u,param1:10,param2:21,sh:60,sb:-60,params:{p:[lang.l_prd+" 1",lang.l_prd+" 2"],c:["Wave Trend Osc","Signal",lang.l_histogram],w:["sw","sw"]}},{type:"macdh",color:"rgba(0,0,192,0.8)",color2:h,param1:12,param2:26,param3:9,params:{p:[lang.l_prd+" 1",lang.l_prd+" 2","Signal"],c:["MACD > Signal","MACD < Signal"]}},{type:"awesome",color:p,color2:h,param1:5,param2:34,params:{p:[lang.l_prd+" 1",lang.l_prd+" 2"],c:[lang.l_ascend,lang.l_descend]}},{type:"bop",color:p,color2:h,color3:"rgba(128,128,128,0.8)",params:{c:[lang.l_acheteur,lang.l_vendeur,lang.l_neutre]}},{type:"qstick",color:p,color2:h,param1:5,params:{p:[lang.l_prd],c:[lang.l_hausses,lang.l_baisses]}},{type:"elderbear",color:o,color2:o,param1:13,params:{p:[lang.l_prd],c:[lang.l_hausses,lang.l_baisses]}},{type:"elderbull",color:d,color2:d,param1:13,params:{p:[lang.l_prd],c:[lang.l_hausses,lang.l_baisses]}},{type:"dmi",color:d,color2:o,color3:c,param1:14,params:{p:[lang.l_prd],c:["DI+","DI-","ADX"],w:["sw","sw","sw"]}},{type:"aroon",color:d,color2:o,param1:14,params:{p:[lang.l_prd],c:["Aroon up","Aroon down"],w:["sw","sw"]}},{type:"adx",color:c,color2:o,param1:14,sh:9999,sb:9999,params:{p:[lang.l_prd],c:["ADX","ADXR"],w:["sw","sw"]}},{type:"vortex",color:d,color2:o,param1:14,params:{p:[lang.l_prd],c:["+VI","-VI"],w:["sw","sw"]}},{type:"roc",color:i,param1:10,sh:9999,sb:9999,params:{c:["Rate of change"],p:[lang.l_prd],w:["sw"]}},{type:"std",color:i,param1:10,params:{c:["Std Deviation"],p:[lang.l_prd],w:["sw"]}},{type:"sto rsi",color:n,color2:e,param1:14,param2:3,param3:3,param4:14,sh:80,sb:20,params:{p:[lang.l_prd+" Sto.",lang.l_stok,lang.l_stod,lang.l_prd+" RSI"],c:["%K","%D"],w:["sw","sw"]}},{type:"smi",color:"rgba(128,128,128,1)",color2:e,param1:14,param2:3,param3:5,param4:3,sh:9999,sb:9999,params:{p:[lang.l_prd,lang.l_lissage+" 1",lang.l_lissage+" 2","Signal"],c:[lang.l_stochastic,"Signal"],w:["sw","sw"]}},{type:"tsi",color:c,color2:e,param1:25,param2:13,param3:13,sh:9999,sb:9999,params:{p:[lang.l_prd+" 1",lang.l_prd+" 2","Signal"],c:["True Strength","Signal"],w:["sw","sw"]}},{type:"kst",color:n,color2:e,param1:10,param2:15,param3:20,param4:30,params:{p:["ROC 1","ROC 2","ROC 3","ROC 4"],c:["KST","Signal"],w:["sw","sw"]}},{type:"trix",color:i,param1:12,params:{c:["TRIX"],p:[lang.l_prd],w:["sw"]}},{type:"mass index",color:i,param1:25,params:{c:["Mass Index"],p:[lang.l_prd],w:["sw"]}},{type:"vroc",color:i,param1:10,params:{c:["Volume ROC"],p:[lang.l_prd],w:["sw"]}},{type:"moonphase",color:"rgba(255,153,0,0.9)",color2:"rgba(255,204,0,0.5)",params:{c:[lang.l_trace,lang.l_remplis],w:["sw"]}},{type:"ac will",color:"rgba(61,68,241,0.9)",color2:"rgba(61,68,241,0.5)",params:{c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"will r",color:o,param1:14,sh:-20,sb:-80,params:{c:["Williams %R"],p:[lang.l_prd],w:["sw"]}},{type:"mfi",color:o,param1:14,sh:80,sb:20,params:{c:["Money flow idx"],p:[lang.l_prd],w:["sw"]}},{type:"sar",color:"rgba(210,0,0,1)",color2:d,param1:.02,param2:.2,params:{c:[lang.l_baisses,lang.l_hausses],p:[lang.l_accel]}},{type:"linearc",color:"rgba(255,0,255,1)",param1:10,params:{c:[lang.l_lineareg],p:[lang.l_prd],w:["sw"]}},{type:"linearo",color:r,color2:l,param1:10,params:{c:[lang.l_trace,lang.l_remplis],p:[lang.l_prd],w:["sw","o"]}}],v=g.length,b=0;b<v;b++)if(g[b].type==t)return g[b]}function Zi(){for(var t,e=1;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&("object"==typeof arguments[0][t]&&"object"==typeof arguments[e][t]?Zi(arguments[0][t],arguments[e][t]):arguments[0][t]=arguments[e][t]);return arguments[0]}function Ki(t){return(t=t.replace(/'/g,"%27")).replace(/"/g,"%22")}function Ji(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(t){return!1}}function tn(t){try{return JSON.parse(JSON.stringify(t))}catch(t){}}function en(t){for(var e=t.QuoteTab,i=0,n=999999,a=e.length,s=0;s<a;s++)e[s].h>i&&(i=e[s].h),e[s].l<n&&(n=e[s].l);return t.High=i,t.Low=n,t}var nn,t;Math.log10=Math.log10||function(t){return Math.log(t)/Math.LN10},nn=new function(){this.gi=function(t){return document.getElementById(t)},this.qsa=function(t){return document.querySelectorAll(t)},this.qs=function(t){return document.querySelector(t)},this.qsga=function(t,e){var i=this.qs(t);if(null!=i)return i.getAttribute(e)},this.idempty=function(t){var e=this.gi(t);null!=e&&(e.innerHTML="")},this.qsaempty=function(t){var e=this.qsa(t);[].forEach.call(e,function(t){t.innerHTML=""})},this.clrem=function(t){for(var e,i,n=0;n<t.length;n++)for(i=(e=document.getElementsByClassName(t[n])).item(0);i;)i.parentNode.removeChild(i),i=e.item(0)},this.idrem=function(t){var e=this.gi(t);null!=e&&e.parentNode.removeChild(e)},this.qsarem=function(t){var e=this.qsa(t);[].forEach.call(e,function(t){t.parentNode.removeChild(t)})},this.qsarclass=function(t,e){var i=this.qsa(t);[].forEach.call(i,function(t){t.classList.remove(e)})},this.qsaaclass=function(t,e){var i=this.qsa(t);[].forEach.call(i,function(t){t.classList.add(e)})},this.clcss=function(t,e,i){for(var n=document.getElementsByClassName(t),a=0;a<n.length;a++)n[a].style[e]=i},this.idst=function(t,e){var i=this.gi(t);null!=i&&(i.textContent=e)},this.idhtml=function(t,e){var i=this.gi(t);null!=i&&(i.innerHTML=e)},this.idcss=function(t,e,i){var n=this.gi(t);null!=n&&(n.style[e]=i)},this.gigt=function(t){var e=this.gi(t);return null!=e?e.textContent:""},this.qstxt=function(t,e){var i=this.qs(t);null!=i&&(i.textContent=e)},this.qshtml=function(t,e){var i=this.qs(t);null!=i&&(i.innerHTML=e)},this.clhide=function(t){for(var e=document.getElementsByClassName(t),i=0;i<e.length;i++)e[i].style.display="none"}},t=function(t){function X(t){var e="default";switch(t){case"c":e="crosshair";break;case"p":e="pointer";break;case"m":e="move";break;case"n":e="ns-resize";break;case"zi":e="zoom-in"}Hi.doc.style.cursor=e}function o(){qi.tmp1=null,Pe(),l()}function e(t){t.preventDefault();var e=offset(nn.gi(Dt("rodgraph-"))),i=pointerEventToXY(t),n=parseInt(i.x-e.left),a=parseInt(i.y-e.top),s=$i;n<s.innerWidth+s.paddingLeft&&n>s.paddingLeft&&a>s.paddingTop&&a<Fi[0].HeightPx+s.paddingTop&&(qi.tmp1=n,Hi.doc.addEventListener("mouseup",r),Hi.doc.addEventListener("touchend",r),De("mouseup",r),De("touchend",r))}function i(t){var e,i,n;t.preventDefault();var a=offset(nn.gi(Dt("rodgraph-"))),s=pointerEventToXY(t),o=parseInt(s.x-a.left),r=$i,l=nn.gi(Dt("overlay-")),h=l.getContext("2d");if(!qi.tmp1)return h.strokeStyle=r.set.reticColor,h.clearRect(0,0,l.width,l.height),h.beginPath(),h.moveTo(o+.5,r.paddingTop),h.lineTo(o+.5,Fi[0].HeightPx+r.paddingTop),h.stroke(),e=new ke(o,0),h.fillStyle=r.set.reticColor,void h.fillText(r.isIntraday?formatMinutes(e.x):daysToDate(e.x,1),e.mx,Fi[0].HeightPx+r.paddingTop-3);qi.tmp2=o,h.fillStyle="rgba(255,106,0,0.3)",h.clearRect(0,0,l.width,l.height),h.fillRect(qi.tmp1,r.paddingTop,o-qi.tmp1,Fi[0].HeightPx),i=new ke(Math.min(qi.tmp1,qi.tmp2),0),n=new ke(Math.max(qi.tmp1,qi.tmp2),0),h.fillStyle=r.set.reticColor,h.fillText(r.isIntraday?formatMinutes(i.x):daysToDate(i.x,1),i.mx,Fi[0].HeightPx),h.fillText(r.isIntraday?formatMinutes(n.x):daysToDate(n.x,1),n.mx,Fi[0].HeightPx+r.paddingTop-3)}function r(t){var e;t.preventDefault();for(var i=new ke(Math.min(qi.tmp1,qi.tmp2),0),n=new ke(Math.max(qi.tmp1,qi.tmp2),0),a=Gi.QuoteTab.length,s=0;s<a;s++)if(Gi.QuoteTab[s].d==i.x&&(Wi.minX=s),Gi.QuoteTab[s].d==n.x){Wi.maxX=s;break}(e=nn.gi(Dt("overlay-"))).getContext("2d").clearRect(0,0,e.width,e.height),m(),Q(),o(),"function"==typeof extResetTools&&extResetTools()}function l(){var t,e;qi.eventsActive||((t=nn.gi(Dt("overlay-")).getContext("2d")).font=$i.set.fontSize+"px Arial",t.strokeStyle=$i.set.reticColor,t.lineWidth=1,t.setLineDash&&t.setLineDash([3]),qi.lineNumber=999,qi.cursorState=!1,VGP.noCommand&&nn.clrem(["mci-p","closelayericon","eodmovedown","eodmoveup"]),Hi.doc.addEventListener("mousewheel",g),Hi.doc.addEventListener("DOMMouseScroll",g),Hi.doc.addEventListener("mouseleave",n),Hi.doc.addEventListener("touchmove",a),Hi.doc.addEventListener("mousemove",a),Hi.doc.addEventListener("mouseup",d),Hi.doc.addEventListener("touchend",d),Hi.doc.addEventListener("mousedown",c),Hi.doc.addEventListener("touchstart",c),(e=nn.gi("indicList"))&&(e.addEventListener("mousedown",s),e.addEventListener("touchstart",s)),qi.eventsActive=!0)}function h(t,e){var i,n,a,s;for(i=Zi(i=Qi(($i=Zi($i,t)).mainChart.type),$i.mainChart.typedef),$i.mainChart.typedef=i,a=$i.mainChart.indicators.length,n=0;n<a;n++)i=Zi(i=Qi($i.mainChart.indicators[n].type),$i.mainChart.indicators[n]),$i.mainChart.indicators[n]=i;s=$i.set.fontSize-11,$i.set.yaxis?($i.paddingRight=10+4*s,$i.paddingLeft=45+4*s):($i.paddingLeft=10+4*s,$i.paddingRight=45+4*s),$i.paddingTop=17+s,$i.paddingBottom=20+s,$i.innerWidth=$i.widthGraph-$i.paddingRight-$i.paddingLeft,$i.marginInter=3,$i.usableHeight=$i.heightGraph-$i.paddingTop-$i.paddingBottom-$i.indicators.length*$i.marginInter,lt(e)}function n(){var t,e,i,n,a,s,o,r,l=nn.gi(Dt("overlay-"));if(l.getContext("2d").clearRect(0,0,l.width,l.height),!(t=$i).mainChart.typedef.nolinearX){if(e=0,"perf"!=t.mainChart.type&&(e=wt(t.isIntraday).toFixed(2)),null!=(i=Fi[0].Bars[0][0])&&(t.isIntraday?(n=Gi.qd).dt=formatMinutes(i.d,2):(n=Gi.QuoteTab[i.i]).dt=daysToDate(i.d,1),n.var=e,t.mainChart.type,"function"==typeof extGetQuotesHover&&extGetQuotesHover(n)),"perf"!=t.mainChart.type)for(s=t.mainChart.indicators.length,a=0;a<s;a++)"evt"!=(o=t.mainChart.indicators[a].type)&&"actu"!=o&&"lineard"!=o&&"pivots"!=o&&"gmma"!=o&&nn.qstxt("#mainIndic_"+a+" .value1",U(Fi[0].Bars[a+1][0]));if(null!=i)for(r=Fi.length,a=1;a<r;a++)"volume"!=Fi[a].type&&nn.qstxt("#secondIndic_"+a+" .value2",U(Fi[a].Bars[i.d]))}}function U(t){if(null==t)return"";var e,i=t.length,n="";if(null==i)return Math.abs(t)<2?t.toFixed(3):t.toFixed(2);for(e=0;e<i;e++)n=Math.abs(t[e])<2?n+t[e].toFixed(3)+" - ":n+t[e].toFixed(2)+" - ";return n.substring(0,n.length-3)}function a(t){var e,i,n,a,s,o,r,l,h,c,d,u,p,f,m,g,v,b,y,x,w,T,C,S,M,A,k;t.preventDefault();var D,P=offset(nn.gi(Dt("rodgraph-"))),E=pointerEventToXY(t),_=parseInt(E.x-P.left),N=parseInt(E.y-P.top),L=$i;if(qi.moveLayer){if(null==qi.activeLayer)return;!function(t,e){var i,n=Fi[e].RealY-t;if(!(Fi[e].HeightPx+n<30||Fi[e-1].HeightPx-n<30))Fi[e].Move(t,n,e),Fi[e].DrawEncadre(),nn.idcss(Dt("infoindic-")+e,"top",t+5+"px"),Fi[e-1].Move(Fi[e-1].RealY,-n,e-1),Fi[e-1].DrawEncadre(),1==qi.activeLayer&&((i=nn.gi(Dt("trace-"))).height=i.height-n),Z(e)}(N,qi.activeLayer)}else{if(0!=qi.moveZoomX&&0!=qi.moveZoomY)return O=_,I=N,$=qi.initViewBegin,V=I-qi.moveZoomY,G=V/Fi[0].PxPointY,Math.abs(V)<7&&(G=0),void((0!=(B=Math.round((O-qi.moveZoomX)/Fi[0].PxPointX))||0!=G)&&(H=R=!0,("perf"==$i.mainChart.type||$i.set.semilog||I>Fi[0].RealY+Fi[0].HeightPx)&&(G=0),0==G&&(H=!1),Wi.maxY=qi.initMaxY+G,Wi.minY=qi.initMinY+G,$-Wi.minX==B&&(R=!1),ji.length<=200&&B<0&&(R=!1),$-B<0&&(R=!1),R&&(Wi.minX=$-B,Wi.maxX=qi.initViewEnd-B),R||H)&&Q(!0));var O,I,B,R,H,$,V,G;if(e=rt(_,N),"perf"!=L.mainChart.type&&!L.mainChart.typedef.nolinearX&&(qi.lineNumber=q(_,N,e),0!=(i=qi.fiEvt.length)&&!L.isIntraday))if(N>Fi[0].HeightPx+L.paddingTop-25&&0==e){for(D=0;D<i;D++)if(null!=qi.fiEvt[D].px){if(qi.fiEvt[D].px>_-9&&qi.fiEvt[D].px<_+9){switch(a="<b>",qi.fiEvt[D].evt){case"R":a+=lang.l_resultat+qi.fiEvt[D].s+"</b>",n="r";break;case"C":a+=lang.l_chifaff+qi.fiEvt[D].s+"</b>",n="c";break;case"D":a+=lang.l_dividend+qi.fiEvt[D].s+" €",n="d";break;case"S":a+=lang.l_split+qi.fiEvt[D].s,n="s";break;case"A":a+='<a href="'+qi.fiEvt[D].u+'" target="_blank">'+qi.fiEvt[D].s+"</a></b>",n="a"}null==(s=nn.gi(Dt("eod_infofi-")))&&((s=document.createElement("div")).id=Dt("eod_infofi-"),Hi.doc.appendChild(s)),s.setAttribute("class","eod_infofi eod_col"+n),a+="</br>"+daysToDate(qi.fiEvt[D].d,1),s.style.display="block",s.style.top=Fi[0].HeightPx-L.paddingTop-60+"px",s.style.left=qi.fiEvt[D].px-76+"px",s.innerHTML=a;break}nn.clhide("eod_infofi")}}else N<Fi[0].HeightPx+L.paddingTop-95&&0==e&&nn.clhide("eod_infofi");if(r=(o=nn.gi(Dt("overlay-"))).getContext("2d"),_<o.width-L.paddingRight&&_>L.paddingLeft&&N>L.paddingTop&&N<o.height-L.paddingBottom){if(r.clearRect(0,0,o.width,o.height),null!=e){if(null!=zi[_]){for(l=L.isIntraday?formatMinutes(zi[_]):daysToDate(zi[_],1),Hi.lastdatehover=l,null!=(h=Fi[0].Bars)[0][zi[_]]&&((d=0)<(c=h[0][zi[_]].i)&&(u=Gi.QuoteTab[c-1+Wi.minX].c,d="perf"==L.mainChart.type?parseFloat(h[0][zi[_]].c):L.isIntraday?100*(h[0][zi[_]].c-Gi.qv.c)/Gi.qv.c:100*(h[0][zi[_]].c-u)/u),d=d.toFixed(2),(p=Gi.QuoteTab[c+Wi.minX]).dt=l,p.var=d,"perf"==L.mainChart.type?h[0][zi[_]]&&(f=yt(h[0][zi[_]].c,L.logData)+L.paddingTop):f=yt(p.c,L.logData)+L.paddingTop,Hi.lastCloseHover={x:_,y:f,c:p.c},"function"==typeof extGetQuotesHover&&extGetQuotesHover(p)),Hi.hoverIndics=[],m=Fi.length,D=1;D<m;D++)"volume"!=Fi[D].type&&nn.qstxt("#secondIndic_"+D+" .value2",U(Fi[D].Bars[zi[_]])),g=Fi[D].RealY+Fi[D].V0-Fi[D].PxPointY*Fi[D].Bars[zi[_]],Hi.hoverIndics.push({x:_,y:g,c:Fi[D].Indicator.color});if("perf"!=L.mainChart.type)for(m=L.mainChart.indicators.length,D=0;D<m;D++)if("evt"!=(v=L.mainChart.indicators[D].type)&&"actu"!=v&&"lineard"!=v&&null!=h[D+1])if(nn.qstxt("#mainIndic_"+D+" .value1",U(h[D+1][zi[_]])),"boll"==v||"keltner"==v||"evmm"==v||"donchian"==v||"ichimoku"==v||"alligator"==v)null!=h[D+1][zi[_]]&&(null!=(y=h[D+1][zi[_]])[0]&&(b=yt(y[0],L.logData)+L.paddingTop,Hi.hoverIndics.push({x:_,y:b,c:L.mainChart.indicators[D].color})),null!=y[1]&&(b=yt(y[1],L.logData)+L.paddingTop,"ichimoku"==v||"alligator"==v?Hi.hoverIndics.push({x:_,y:b,c:L.mainChart.indicators[D].color2}):Hi.hoverIndics.push({x:_,y:b,c:L.mainChart.indicators[D].color})),null!=y[2]&&(b=yt(y[2],L.logData)+L.paddingTop,Hi.hoverIndics.push({x:_,y:b,c:L.mainChart.indicators[D].color3})));else if("compare"==v){var F=Gi.QuoteTab[Wi.minX].c,Y=qi.datas2.QuoteTab[Wi.minX].c,W=(h[D+1][zi[_]]-Y)/Y,j=Fi[0].PxPointY*F,z=Math.round((Fi[0].V0-F)*Fi[0].PxPointY);b=yt(Fi[0].V0-(z-W*j)/Fi[0].PxPointY,L.logData)+L.paddingTop,Hi.hoverIndics.push({x:_,y:b,c:L.mainChart.indicators[D].color})}else b=yt(h[D+1][zi[_]],L.logData)+L.paddingTop,Hi.hoverIndics.push({x:_,y:b,c:L.mainChart.indicators[D].color})}else _-L.paddingLeft>ji.length-1?(x=ot(Math.round((_-L.paddingLeft-(ji.length-1))/Fi[0].PxPointX)),l=L.isIntraday?formatMinutes(x):daysToDate(x,1)):l=Hi.lastdatehover;if(r.fillStyle=L.set.reticColor,Hi.lastCloseHover&&!L.mainChart.typedef.nolinearX&&(r.beginPath(),r.arc(Hi.lastCloseHover.x,Hi.lastCloseHover.y,5,0,2*Math.PI),r.fill()),Hi.lastCloseHover&&(r.beginPath(),w=L.set.fontSize-11,"r"==L.cursor&&Hi.lastCloseHover.x&&(null!=L.isCompare||$i.mainChart.typedef.nolinearX||(r.moveTo(L.paddingLeft,Hi.lastCloseHover.y+.5),r.lineTo(o.width-L.paddingRight,Hi.lastCloseHover.y+.5)),r.moveTo(Hi.lastCloseHover.x+.5,L.paddingTop),r.lineTo(Hi.lastCloseHover.x+.5,o.height-L.paddingBottom),r.stroke()),(C=_-(T=68+2*w)/2)<L.paddingLeft&&(C=L.paddingLeft),r.fillRect(C,o.height-L.paddingBottom+1,T,L.paddingBottom-1),r.fillRect(C,-2,T,L.paddingTop+2),r.fillStyle=qt(L.set.reticColor),S=Math.round(r.measureText(l).width),r.fillText(l,Math.round(C+(T-S)/2),o.height-6),r.fillText(l,Math.round(C+(T-S)/2),11+w),L.isIntraday||L.isCompare||L.mainChart.typedef.nolinearX||(A=null!=Gi.QuoteTab[Wi.minX]?Gi.QuoteTab[Wi.minX].c:Gi.QuoteTab[0].c,M=100*(Hi.lastCloseHover.c-A)/A,r.fillStyle=0<=M?"#008000":"#fe0000",L.set.yaxis?r.fillRect(0,Hi.lastCloseHover.y-8,L.paddingLeft,17+w):r.fillRect(L.widthGraph-L.paddingRight,Hi.lastCloseHover.y-8,L.paddingRight,18+w)),L.isIntraday||L.isCompare||L.mainChart.typedef.nolinearX||(k=L.set.yaxis?2:o.width-L.paddingRight+5,M=0<M?"+"+M.toFixed(1)+"%":M.toFixed(1)+"%",r.fillStyle="#ffffff",r.fillText(M,k-2,Hi.lastCloseHover.y+5+w))),Hi.hoverIndics)for(D=0;D<Hi.hoverIndics.length;D++)r.fillStyle=Hi.hoverIndics[D].c,r.beginPath(),r.arc(Hi.hoverIndics[D].x,Hi.hoverIndics[D].y,5,0,2*Math.PI),r.fill()}}else r.clearRect(0,0,o.width,o.height);qi.activeLayer=function(t){for(var e=Fi.length,i=1;i<e;i++)if(t>=Fi[i].RealY-4&&t<=Fi[i].RealY+1)return i;return null}(N),null!=qi.activeLayer?(X("n"),qi.cursorState=!0):qi.cursorState&&(qi.cursorState=!1,X())}}function s(t){var e,i,n,a,s;switch(t.preventDefault(),(e=t.target).className){case"manageind2":qi.flagSave=!0,ee(),ce(null,null,e.parentNode.id.slice(-1));break;case"manageind1":qi.flagSave=!0,ee(),ce(i=1<(a=e.getAttribute("aria-label").split("_")).length?a[1]:null,a[0],null);break;case"closeind1":if(qi.flagSave=!0,ee(),s=(a=e.getAttribute("aria-label").split("_"))[0],i=a[1],$i.mainChart.indicators.splice(i,1),Fi[0].Bars.splice(parseInt(i)+1,1),"compare"==s)for($i.isCompare=null,qi.datas2=null,n=1;n<Fi.length;n++)"fr"==Fi[n].Indicator.type&&se(n);("evt"==s||"actu"==s)&&(qi.fiEvt=[]),Z(0);break;case"closeind2":qi.flagSave=!0,ee(),se(e.parentNode.id.slice(-1))}}function c(t){var e,i,n,a,s=t.target;if(t.preventDefault(),(e=nn.gi(Dt("overlay-"))).getContext("2d").clearRect(0,0,e.width,e.height),!VGP.noCommand)switch(s.className){case"closelayericon":return t.stopPropagation(),void se(s.parentNode.id.slice(-1));case"eodmoveup":return t.stopPropagation(),void ve("up",s);case"eodmovedown":return t.stopPropagation(),void ve("down",s);case"eod_param":case"mci-p":return qi.flagSave=!0,ee(),void ce(1<(i="mci-p"==s.className?s.parentNode.getAttribute("data-name").split("_"):s.getAttribute("data-name").split("_")).length?i[1]:null,i[0],null)}if("touchstart"!=t.type)if(999!=qi.lineNumber)xe(qi.lineNumber);else{if(qi.cursorState)return void(qi.moveLayer=!0);X("m"),n=pointerEventToXY(t),a=offset(nn.gi(Dt("rodgraph-"))),qi.moveZoomX=parseInt(n.x-a.left),qi.moveZoomY=parseInt(n.y-a.top),qi.initMaxY=Wi.maxY,qi.initMinY=Wi.minY,qi.initViewBegin=Wi.minX,qi.initViewEnd=Wi.maxX}}function d(t){if("touchend"==t.type&&!$i.mainChart.typedef.nolinearX){var e=t.touches[0]||t.changedTouches[0],i=offset(nn.gi(Dt("rodgraph-"))),n=parseInt(e.pageX-i.left),a=parseInt(e.pageY-i.top);if(qi.lineNumber=q(n,a,rt(n,a)),999!=qi.lineNumber)return void xe(qi.lineNumber)}qi.moveLayer=!1,qi.activeLayer=null,qi.moveZoomX=0,qi.moveZoomY=0,X()}function q(t,e,i){var n,a,s,o,r,l,h,c,d,u,p;if(0!=i)return X(),999;for(var f,m=e-$i.paddingTop,g=t-$i.paddingLeft,v=Yi.length,b=0;b<v;b++)switch((f=Yi[b]).type){case"c":if(a=g,s=m,o=f,p=u=d=void 0,5,r=Math.abs(o.RealX1-o.RealX0),l=Math.abs(o.RealY0-o.RealY1),h=Math.pow(a-o.RealX0,2)/Math.pow(r+5,2),c=Math.pow(s-o.RealY0,2)/Math.pow(l+5,2),d=!1,h+c<=1&&(d=!0),u=Math.pow(a-o.RealX0,2)/Math.pow(r-5,2),p=Math.pow(s-o.RealY0,2)/Math.pow(l-5,2),u+p<=1&&(d=!1),d)return X("p"),b;break;case"t":if(Oi(g,m,f))return X("p"),b;break;case"ewi":case"ewc":if(Li(g,m,f))return X("p"),b;break;case"arrup":case"arrdw":case"arrrt":case"arrlt":case"sm1":case"sm2":if(Ni(g,m,f))return X("p"),b;break;default:if(g>=Math.min(f.RealX0,f.RealX1)-2&&g<Math.max(f.RealX0,f.RealX1)+2)switch(f.type){case"r":case"rf":case"m":if(m<(n="rf"==f.type?Math.ceil(f.RealY0+.618*(f.RealY0-f.RealY1)):f.RealY0)+4&&n-4<m||m<f.RealY1+4&&m>f.RealY1-4||g>=f.RealX0-2&&g<=f.RealX0+2||g>=f.RealX1-2&&g<=f.RealX1+2)return X("p"),b;break;case"sr":case"h":if(m>f.RealY0-3&&m<f.RealY0+3)return X("p"),b;break;case"mv":if(m>Math.min(f.RealY0,f.RealY1)-3&&m<Math.max(f.RealY0,f.RealY1)+3)return X("p"),b;break;default:var y=_i(f,g,m),x=g-y.x,w=m-y.y;if(Math.abs(Math.sqrt(x*x+w*w))<5)return X("p"),b}}return X(),999}function u(t){null!=Gi&&(0==ji.length||ji[ji.length-1].i<25||Wi.maxX-Wi.minX<25||(Wi.minX=Wi.minX+8*t,m(),Q(!0,!1)))}function p(t){if(null!=Gi){if($i.mainChart.typedef.nolinearX)0<Wi.minX?(Wi.minX=Wi.minX-8*t,Wi.minX<0&&(Wi.minX=0)):Wi.maxX=Wi.maxX+8*t,Wi.maxX>Wi.maxNL&&0==Wi.minX&&(Wi.maxX=Wi.maxNL);else if(0<Wi.minX)Wi.minX=Wi.minX-8*t,Wi.minX<0&&(Wi.minX=0);else if(Wi.maxX=Wi.maxX+8*t,Wi.maxX>Gi.QuoteTab.length-1){if(Wi.maxX=Gi.QuoteTab.length-1,m(),1==$i.histoLength&&!$i.set.noVeilleIntra){var e=Gi.qv.c;e>Wi.maxY&&(Wi.maxY=e),e<Wi.minY&&(Wi.minY=e)}return void Q(!0,!1)}m(),Q(!0,!1)}}function f(i,n,a){var s=$i,o=new XMLHttpRequest;o.open("POST",VGP.urlWS+"TraceGetSymbol",!0),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.onload=function(){var t,e;if(200<=o.status&&o.status<400){if(null!=(t=JSON.parse(o.responseText))&&null!=t.d){e='"'==t.d.substring(0,1)?t.d.substr(1,t.d.length-2):t.d;try{it(s.symbol,JSON.parse(e)),VGP.drawings[s.symbol]=1,n&&(Yi=JSON.parse(e),Q())}catch(t){Yi=[],localStorage.removeItem(s.symbol),Rt(),delete VGP.drawings[s.symbol]}}i&&ct(a)}},o.send(JSON.stringify({userid:VGP.userID,symbol:s.symbol}))}function m(){var t,e=0,i=999999,n=0,a=Wi.minX,s=Wi.maxX,o=Gi.QuoteTab;for($i.mainChart.typedef.nolinearX&&(a=0,s=o.length-1),t=a;t<=s;t++)null!=o[t]&&(0==n&&(n=o[t].c),o[t].h>e&&(e=o[t].h),o[t].l<i&&(i=Gi.QuoteTab[t].l));if(Wi.maxY=e,Wi.minY=i,null!=$i.isCompare){var r=0,l=999999,h=0,c=qi.datas2.QuoteTab;for(t=a;t<=s;t++)null!=c[t]&&(0==h&&(h=c[t].c),c[t].h>r&&(r=c[t].h),c[t].l<l&&(l=c[t].l));pt(e,i,r,l,n,h)}}function g(t){var e=nn.gi(Dt("overlay-"));e.getContext("2d").clearRect(0,0,e.width,e.height),0<(t.wheelDelta||-t.detail)?u(1):p(1),t.preventDefault()}function Q(t,e){st();var i,n=Fi.length;if($i.mainChart.typedef.nolinearX)return Fi[0].DrawEncadre(),Zt(e),void ut();for(i=0;i<n;i++)Fi[i].DrawEncadre();for(ft(Gi,!1,t),i=1;i<n;i++)Ct(Fi[i]);t||ut()}function Z(t,e){if(0==t)return st(),Fi[0].DrawEncadre(),$i.mainChart.typedef.nolinearX?Zt(e):ft(Gi),void ut();Fi[t-1].DrawEncadre(),Fi[t].DrawEncadre(),t-1==0&&ft(Gi,!0),Ct(Fi[t-1]),Ct(Fi[t]),ut()}function K(){var t,e,i,n,a,s,o,r,l,h,c,d;if(!VGP.chartSimple&&((e=(t=nn.gi(Dt("trace-"))).getContext("2d")).clearRect(0,0,t.width,t.height),"perf"!=$i.mainChart.type))for(var u=Gi.QuoteTab[Wi.minX].d,p=Wi.maxX>Gi.QuoteTab.length-1?ot():Gi.QuoteTab[Wi.maxX].d,f=Yi.length,m=0;m<f;m++)if(null!=Yi[m])switch(Yi[m].type){case"fa":Yi[m].x0<p&&A(e,Yi[m],u);break;case"t":Yi[m].x0<p&&M(e,Yi[m],u);break;case"ewi":case"ewc":S(e,Yi[m],u);break;case"gg":case"ga":case"ff":Yi[m].x0<p&&C(e,Yi[m],u);break;case"arrup":case"arrdw":case"arrlt":case"arrrt":case"sm1":case"sm2":x(e,Yi[m],u);break;case"af":case"cf":case"an":case"c":case"ef":C(e,Yi[m],u);break;case"sr":Yi[m].x0<p&&w(e,Yi[m],u);break;case"a":Yi[m].x0<p&&T(e,Yi[m],u);break;case"v":Yi[m].x0<p&&y(e,Yi[m],u);break;case"rf":case"r":case"m":(Yi[m].x1>u||Yi[m].x0>u)&&(Yi[m].x1<p||Yi[m].x0<p)&&(i=e,n=Yi[m],a=u,s=p,d=c=void 0,o=new tt(n.x0,n.y0,a),r=new tt(n.x1,n.y1,a),l=o.my,h=r.my,c=o.mx,d=r.mx,n.x0<a&&(c=0),n.x1>s&&(d=$i.innerWidth),n.x0>s&&(c=$i.innerWidth),n.x1<a&&(d=0),v(n,c,l,d,h),(0!=c||0!=d)&&("rf"==n.type&&J(i,n.color,n.color2,c,d,h,l,n.width),("r"==n.type||"m"==n.type)&&z(i,n.color,n.color2,c,d,h,l,n.type,{db:n.x0,de:n.x1,s:n.h},n.width)));break;case"h":b(e,Yi[m]);break;default:Yi[m].x1<=u&&Yi[m].x0<=u||Yi[m].x0>p?(Yi[m].RealX0=0,Yi[m].RealX1=0):C(e,Yi[m],u)}}function v(t,e,i,n,a){t.RealX0=e,t.RealY0=i,t.RealX1=n,t.RealY1=a}function b(t,e){var i;0<(i=$i.set.semilog&&null!=$i.logData?yt(e.y0,$i.logData):Math.round((Fi[0].V0-e.y0)*Fi[0].PxPointY))&&i<Fi[0].HeightPx&&G(t,{my:i},e.style,e.width,e.color,!1),v(e,0,i,$i.innerWidth,i)}function y(t,e,i){var n=new tt(e.x0,e.y0,i);V(t,n,e.style,e.width,e.color,!1),v(e,n.mx,0,n.mx,n.my)}function x(t,e,i){var n=new tt(e.x0,e.y0,i);if(n.mx<0&&(n.mx=0),0<n.my&&n.my<Fi[0].HeightPx)switch(e.type){case"arrup":case"arrdw":case"arrrt":case"arrlt":E(t,n,e.color,e.type,e.color2,e.width);break;case"sm1":case"sm2":P(t,n,e.color,e.type,e.width)}v(e,n.mx,n.my,n.mx,n.my)}function w(t,e,i){var n=new tt(e.x0,e.y0,i);n.mx<0&&(n.mx=0),0<n.my&&n.my<Fi[0].HeightPx&&$(t,n,e.style,e.width,e.color),v(e,n.mx,n.my,$i.innerWidth,n.my)}function T(t,e,i){var n,a=new tt(e.x0,e.y0,i),s=unescape(e.h);if(t.save(),t.fillStyle=e.color,t.font=e.style+"px Arial",n=t.measureText(s).width,a.mx+n<0)return v(e,0,0,0,0),void t.restore();t.fillText(s,a.mx,a.my+4),t.restore(),v(e,a.mx,a.my,a.mx+n,a.my)}function C(t,e,i){var n,a=new tt(e.x0,e.y0,i),s=new tt(e.x1,e.y1,i);switch(e.type){case"ff":L(t,e.color,e.style,e.width,a,s);break;case"ga":O(t,e.color,e.style,e.width,a,s);break;case"gg":I(t,e.color,e.style,e.width,a,s);break;case"cf":k(t,e.color,e.style,e.width,a,s);break;case"af":R(t,e.color,e.style,e.width,a,s);break;case"an":s.mx=B(t,e.color,e.style,e.width,a,s,e.h);break;case"c":H(t,e.color,e.style,e.width,a,s,e.color2);break;default:n=e.h,"p"==e.type&&(n=Math.round(e.h*Fi[0].PxPointY)),Y(t,e.type,e.color,e.style,e.width,n,a,s,e.color2)}v(e,a.mx,a.my,s.mx,s.my)}function S(t,e,i){for(var n=[],a=e.h.length,s=0;s<a;s++)n.push(new tt(e.h[s].x,e.h[s].y,i));_(t,n,e.color,e.width),e.h=n}function M(t,e,i){var n=new tt(e.x0,e.y0,i),a=new tt(e.x1,e.y1,i),s=new tt(e.h.C.x,e.h.C.y,i);N(t,n,a,s,e.color,e.color2,e.width),v(e,n.mx,n.my,a.mx,a.my),e.h.C=s}function A(t,e,i){var n=new tt(e.x0,e.y0,i),a=new tt(e.x1,e.y1,i),s=new tt(e.h.B.x,e.h.B.y,i),o=new tt(e.h.C.x,e.h.C.y,i);D(t,n,s,o,e.color,e.color2,e.width),v(e,n.mx,n.my,a.mx,a.my),e.h.B=s,e.h.C=o}function k(t,e,i,n,a,s){var o,r,l,h,c;for(t.save(),t.strokeStyle=e,t.lineWidth=2,t.beginPath(),t.moveTo(a.mx,a.my),t.lineTo(s.mx,s.my),t.stroke(),o=s.mx-a.mx,r=[0,1,2,3,5,8,13,21,34,55],null!=i&&null!=n?(t.lineWidth=n,Ei(t,i)):t.lineWidth=1,t.fillStyle=e,t.font="11px Arial",t.beginPath(),c=r.length,h=0;h<c;h++)l=a.mx+o*r[h]+.5,t.moveTo(l,0),t.lineTo(l,Fi[0].HeightPx),t.fillText(r[h],l+2,Fi[0].HeightPx-3);t.stroke(),t.restore()}function D(t,e,i,n,a,s,o){var r,l,h,c;t.save(),t.strokeStyle=a,t.beginPath();var d=i.mx+Math.round((n.mx-i.mx)/2),u=i.my+Math.round((n.my-i.my)/2),p=(e.my-u)/(d-e.mx),f=3e3;return d<e.mx&&(f=-f),r=e.mx+f,l=e.my-f*p,t.lineWidth=null!=o?o:1,t.moveTo(i.mx+f,i.my-f*p),t.lineTo(i.mx,i.my),t.lineTo(n.mx,n.my),t.lineTo(n.mx+f,n.my-f*p),t.fillStyle=hexToRgb(s,.15),t.fill(),t.moveTo(e.mx,e.my),t.lineTo(r,l),t.stroke(),t.setLineDash&&t.setLineDash([2]),t.beginPath(),h=i.mx+Math.round((d-i.mx)/2),c=i.my+Math.round((u-i.my)/2),t.moveTo(h,c),t.lineTo(h+f,c-f*p),h=d+Math.round((n.mx-d)/2),c=u+Math.round((n.my-u)/2),t.moveTo(h,c),t.lineTo(h+f,c-f*p),t.stroke(),t.restore(),{Dx:r,Dy:l}}function P(t,e,i,n,a){var s,o,r=10+2*a,l=4+a;t.save(),t.strokeStyle=i,t.beginPath(),t.arc(e.mx,e.my,r,0,2*Math.PI,!1),t.lineWidth=2,t.stroke(),t.beginPath(),s=e.mx-l,o=e.my-l,t.arc(s,o,2,0,2*Math.PI,!1),s=e.mx+l,t.arc(s,o,2,0,2*Math.PI,!1),t.fillStyle=i,t.fill(),t.beginPath(),"sm1"==n?t.arc(e.mx,e.my,r-7,0,Math.PI,!1):t.arc(e.mx,e.my+r/2,r-7,Math.PI,2*Math.PI,!1),t.stroke(),t.restore()}function E(t,e,i,n,a,s){var o,r;switch(n){case"arrup":case"arrlt":o=8.5+s,r=15.5+2*s;break;case"arrdw":case"arrrt":o=-8.5-s,r=-15.5-2*s}t.save(),t.strokeStyle=i,t.beginPath(),t.moveTo(e.mx,e.my),"arrlt"==n||"arrrt"==n?(t.lineTo(e.mx+o,e.my-6.5-s),t.lineTo(e.mx+o,e.my-1.5-s),t.lineTo(e.mx+r,e.my-1.5-s),t.lineTo(e.mx+r,e.my+1.5+s),t.lineTo(e.mx+o,e.my+1.5+s),t.lineTo(e.mx+o,e.my+6.5+s)):(t.lineTo(e.mx-6.5-s,e.my+o),t.lineTo(e.mx-1.5-s,e.my+o),t.lineTo(e.mx-1.5-s,e.my+r),t.lineTo(e.mx+1.5+s,e.my+r),t.lineTo(e.mx+1.5+s,e.my+o),t.lineTo(e.mx+6.5+s,e.my+o)),t.lineTo(e.mx,e.my),t.fillStyle=a,t.fill(),t.stroke(),t.restore()}function _(t,e,i,n){t.strokeStyle=i,t.fillStyle=i,t.font="14px Arial",t.lineWidth=null!=n?n:1,t.beginPath(),t.moveTo(e[0].mx,e[0].my);for(var a,s=e.length,o=6==e.length?["1","2","3","4","5"]:["a","b","c"],r=1;r<s;r++)t.lineTo(e[r].mx,e[r].my),a=e[r].my<e[r-1].my?-7:16,t.fillText(o[r-1],e[r].mx-4,e[r].my+a);t.stroke()}function N(t,e,i,n,a,s,o){t.strokeStyle=a,t.lineWidth=null!=o?o:1,t.beginPath(),t.moveTo(e.mx,e.my),t.lineTo(i.mx,i.my),t.lineTo(n.mx,n.my),t.lineTo(e.mx,e.my),t.stroke(),null!=s&&(t.fillStyle=hexToRgb(s,.15),t.fill())}function L(t,e,i,n,a,s){var o;t.save(),t.strokeStyle=e,t.lineWidth=2,t.beginPath(),t.moveTo(a.mx,a.my),t.lineTo(s.mx,s.my),t.stroke(),null!=i&&null!=n?(t.lineWidth=n,Ei(t,i)):t.lineWidth=1;var r,l,h,c,d=a.my-s.my,u=[.25,.382,.5,.618,.75],p=["0.25","0.382","0.5","0.618","0.75"];for(t.fillStyle=e,t.font="12px Arial",t.beginPath(),o=u.length,h=0;h<o;h++)c=Math.atan(d/u[h]/Math.abs(a.mx-s.mx)),r=a.my-1500*Math.sin(c),l=a.mx+1500*Math.cos(c),t.moveTo(a.mx,a.my),t.lineTo(l,r),r=a.my-200*Math.sin(c),l=a.mx+200*Math.cos(c),t.fillText(p[h],l,r),c=Math.atan(d*u[h]/Math.abs(a.mx-s.mx)),r=a.my-1500*Math.sin(c),l=a.mx+1500*Math.cos(c),t.moveTo(a.mx,a.my),t.lineTo(l,r),r=a.my-200*Math.sin(c),l=a.mx+200*Math.cos(c),t.fillText(p[h],l,r);t.stroke(),t.restore()}function O(t,e,i,n,a,s){var o;t.save(),t.strokeStyle=e,t.lineWidth=2,t.beginPath(),t.moveTo(a.mx,a.my),t.lineTo(s.mx,s.my),t.stroke(),null!=i&&null!=n?(t.lineWidth=n,Ei(t,i)):t.lineWidth=1;var r,l,h,c,d=a.my-s.my,u=[8,4,3,2,1,.5,.333,.25,.125],p=["8x1","4x1","3x1","2x1","1x1","1x2","1x3","1x4","1x8"];for(t.fillStyle=e,t.font="12px Arial",t.beginPath(),o=u.length,h=0;h<o;h++)c=Math.atan(d/u[h]/Math.abs(a.mx-s.mx)),r=a.my-1500*Math.sin(c),l=a.mx+1500*Math.cos(c),t.moveTo(a.mx,a.my),t.lineTo(l,r),r=a.my-180*Math.sin(c),l=a.mx+180*Math.cos(c),t.fillText(p[h],l,r);t.stroke(),t.restore()}function I(t,e,i,n,a,s){t.save(),t.strokeStyle=e,t.lineWidth=2,t.beginPath(),t.moveTo(a.mx,a.my),t.lineTo(s.mx,s.my),t.stroke(),null!=i&&null!=n?(t.lineWidth=n,Ei(t,i)):t.lineWidth=1;var o,r=(a.my-s.my)/Math.abs(a.mx-s.mx),l=0<a.mx-s.mx?-1:1,h=a.my-1500*r,c=a.mx+1500*l,d=2*(a.my-s.my),u=a.my+1500*r;for(t.beginPath(),o=-20;o<20;o++)t.moveTo(a.mx,a.my+d*o),t.lineTo(c,h+d*o),t.moveTo(a.mx,a.my+d*o),t.lineTo(c,u+d*o);t.stroke(),t.restore()}function B(t,e,i,n,a,s,o){var r,l;return t.save(),t.strokeStyle=e,t.beginPath(),t.moveTo(a.mx+50,a.my+.5),t.lineTo(a.mx,a.my+.5),t.stroke(),r=!(0<=o),t.beginPath(),t.arc(a.mx,a.my,30,-o,0,r),t.stroke(),l=(a.my-s.my)/Math.tan(o),null!=i&&null!=n?(t.lineWidth=n,Ei(t,i)):t.lineWidth=1,t.beginPath(),t.moveTo(a.mx,a.my),t.lineTo(a.mx+l,s.my),t.stroke(),t.fillStyle=e,t.font="12px Arial",t.fillText((180*o/Math.PI).toFixed(0)+"°",a.mx+55,a.my),t.restore(),a.mx+l}function R(t,e,i,n,a,s){var o,r,l,h,c;t.save();var d=Math.abs(a.mx-s.mx),u=Math.abs(a.my-s.my),p=Math.sqrt(d*d+u*u);for(t.strokeStyle=e,t.beginPath(),t.moveTo(a.mx,a.my),t.lineTo(s.mx,s.my),t.stroke(),null!=i&&null!=n?(t.lineWidth=n,Ei(t,i)):t.lineWidth=1,t.strokeStyle=hexToRgb(e,.7),t.fillStyle=e,o=!0,a.y>s.y&&(o=!1),c=(l=[.236,.5,.786,1,1.618,2.618]).length,h=0;h<c;h++)t.beginPath(),t.arc(a.mx,a.my,p*l[h],0,Math.PI,o),t.stroke(),r=o?a.my-p*l[h]-2:a.my+p*l[h]+10,t.fillText(l[h].toFixed(3),a.mx-15,r);t.restore()}function H(t,e,i,n,a,s,o){t.save(),t.beginPath();var r=Math.abs(a.mx-s.mx),l=Math.abs(a.my-s.my);t.translate(a.mx-r,a.my-l),t.scale(r,l),t.arc(1,1,1,0,2*Math.PI,!1),t.restore(),t.save(),t.strokeStyle=e,null!=i&&null!=n?(t.lineWidth=n,Ei(t,i)):t.lineWidth=1,t.stroke(),null!=o&&(t.fillStyle=hexToRgb(o,.15),t.fill()),t.restore()}function $(t,e,i,n,a){var s=.5;t.strokeStyle=a,t.save(),null!=i&&null!=n?((t.lineWidth=n)%2==0&&(s=0),Ei(t,i)):t.lineWidth=1,t.beginPath(),t.moveTo(e.mx,e.my+s),t.lineTo($i.innerWidth,e.my+s),t.stroke(),t.fillStyle=a,t.font="11px Arial",t.fillText(e.y.toFixed(2),e.mx+5,e.my-2),t.restore()}function V(t,e,i,n,a,s){var o,r=.5;t.strokeStyle=a,t.save(),null!=i&&null!=n?((t.lineWidth=n)%2==0&&(r=0),Ei(t,i)):t.lineWidth=1,t.beginPath(),t.moveTo(e.mx+r,0),t.lineTo(e.mx+r,Fi[0].HeightPx),t.stroke(),t.fillStyle=a,t.font="11px Arial",o=e.mx+3,$i.innerWidth-e.mx<60&&(o=e.mx-60),s&&($i.isIntraday?t.fillText(formatMinutes(e.x),o,Fi[0].HeightPx-2):t.fillText(daysToDate(e.x,2),o,Fi[0].HeightPx-2)),t.restore()}function G(t,e,i,n,a,s){var o,r=.5;t.strokeStyle=a,t.save(),null!=i&&null!=n?((t.lineWidth=n)%2==0&&(r=0),Ei(t,i)):t.lineWidth=1,t.beginPath(),t.moveTo(0,e.my+r),t.lineTo($i.innerWidth,e.my+r),t.stroke(),s&&(t.fillStyle=a,t.font="11px Arial",o=e.y,t.fillText(o.toFixed(2),5,e.my-2)),t.restore()}function F(t,e,i,n,a){t.save(),t.font=i+"px Arial",t.fillStyle=n;var s=e.mx+t.measureText(a).width;return t.fillText(a,e.mx,e.my+4),t.restore(),Math.round(s)}function Y(t,e,i,n,a,s,o,r,l){var h,c,d,u;return t.save(),Ei(t,n),t.strokeStyle=i,h=.5,null!=a?(t.lineWidth=a)%2==0&&(h=0):t.lineWidth=1,t.beginPath(),"mv"==e?(t.moveTo(r.mx-10,r.my+.5),t.lineTo(r.mx+10,r.my+.5),t.moveTo(r.mx-10,o.my+.5),t.lineTo(r.mx+10,o.my+.5),r.y<o.y?(t.moveTo(r.mx-8,r.my-8),t.lineTo(r.mx,r.my),t.lineTo(r.mx+8,r.my-8)):(t.moveTo(r.mx-8,r.my+8),t.lineTo(r.mx,r.my+1),t.lineTo(r.mx+8,r.my+8)),t.moveTo(o.mx+.5,o.my),t.lineTo(r.mx+.5,r.my),t.stroke(),c=100*(r.y-o.y)/o.y,d=(r.y-o.y).toFixed(2),t.fillStyle=i,t.font="11px Arial",u=Math.min(r.my,o.my)+Math.abs((r.my-o.my)/2),t.fillText(d,r.mx+5,u),t.fillText(c.toFixed(2)+"%",r.mx+5,u+14)):"mh"==e?(t.moveTo(r.mx+.5,o.my-10),t.lineTo(r.mx+.5,o.my+10),t.moveTo(o.mx+.5,o.my-10),t.lineTo(o.mx+.5,o.my+10),t.moveTo(Math.max(r.mx,o.mx)-8,r.my-8),t.lineTo(Math.max(r.mx,o.mx),r.my),t.lineTo(Math.max(r.mx,o.mx)-8,r.my+8),t.moveTo(o.mx,o.my+.5),t.lineTo(r.mx,r.my+.5),t.stroke(),t.fillStyle=i,t.font="11px Arial",t.fillText(W(o.x,r.x),Math.min(r.mx,o.mx)+5,o.my+11)):(t.moveTo(o.mx,o.my+h),t.lineTo(r.mx,r.my+h),"p"==e&&(t.moveTo(o.mx,o.my+s+h),t.lineTo(r.mx,r.my+s+h)),t.stroke(),"p"==e&&null!=l&&(t.moveTo(o.mx,o.my+h),t.lineTo(r.mx,r.my+h),t.lineTo(r.mx,r.my+s+h),t.lineTo(o.mx,o.my+s+h),t.fillStyle=hexToRgb(l,.15),t.fill()),"ef"==e&&function(t,e,i,n,a,s,o,r){var l,h,c,d,u,p,f,m,g=Math.max(e,i);for(null==r&&(r=250),l=a,h=n,i<e&&(l=n,h=a),t.beginPath(),c=h-l,(1==t.lineWidth||3==t.lineWidth)&&(l+=.5),p=(d=[0,.236,.382,.5,.618,1,1.618,2.618]).length,u=0;u<p;u++)t.moveTo(g,l-Math.round(c*d[u])),t.lineTo(g+r,l-Math.round(c*d[u]));for(t.stroke(),null!=o&&(t.fillStyle=hexToRgb(o,.15),t.fillRect(g,l,r,-Math.round(2.618*c))),l-=3,t.font="11px Arial",t.fillStyle=s,u=0;u<p;u++)m=l-Math.round(c*d[u]),f=xt(m,$i.logData),t.fillText(f.toFixed(2)+"  ("+(100*d[u]).toFixed(1)+"%)",g,m)}(t,o.mx,r.mx,o.my,r.my,i,l,s),"f"==e&&(1==s||null==s?j(t,o.mx,r.mx+1,o.my,r.my,i):j(t,r.mx,o.mx-1,r.my,o.my,i))),void t.restore()}function W(t,e){var i="";return null!=Fi[0].Bars[0][t]&&null!=Fi[0].Bars[0][e]&&(i=" - "+Math.abs(Fi[0].Bars[0][e].i-Fi[0].Bars[0][t].i)+lang.l_barres),0<=$i.chartPeriod?Math.abs(t-e)+lang.l_jours+i:""!=i?formatMinHour(Math.abs((Fi[0].Bars[0][e].i-Fi[0].Bars[0][t].i)*parseInt($i.chartPeriod)))+i:formatMinHour(Math.abs(e-t))}function j(t,e,i,n,a,s){var o=i-e,r=a-n,l=Math.sqrt(o*o+r*r),h=o/l,c=r/l,d=Math.round(i-8*h-8*c),u=Math.round(a-8*c+8*h),p=Math.round(i-8*h+8*c),f=Math.round(a-8*c-8*h);t.fillStyle=s,t.lineWidth=1,t.beginPath(),t.moveTo(i,a),t.lineTo(d,u),t.lineTo(p,f),t.lineTo(i,a),t.fill(),t.stroke()}function z(t,e,i,n,a,s,o,r,l,h){var c,d,u,p,f,m,g,v,b=.5;null!=h?(t.lineWidth=h)%2==0&&(b=0):t.lineWidth=1,t.strokeStyle=e,t.beginPath(),t.rect(n+b,o+b,a-n,s-o),t.stroke(),"m"==r&&(t.save(),t.setLineDash&&t.setLineDash([1,1]),c=Math.round((a+n)/2),t.moveTo(c+.5,o),t.lineTo(c+.5,s),d=Math.min(o,s),u=Math.max(o,s),0==l.s?(t.moveTo(c-5,u-5),t.lineTo(c,u),t.lineTo(c+5,u-5)):(t.moveTo(c-5,d+5),t.lineTo(c,d),t.lineTo(c+5,d+5)),p=Math.round((s+o)/2),t.moveTo(n,p+.5),t.lineTo(a,p+.5),t.lineTo(a-5,p-5),t.moveTo(a,p),t.lineTo(a-5,p+5),t.moveTo(n+5,p+5),t.lineTo(n,p),t.lineTo(n+5,p-5),t.stroke(),t.restore(),f=(Fi[0].V0*Fi[0].PxPointY-u)/Fi[0].PxPointY,m=(Fi[0].V0*Fi[0].PxPointY-d)/Fi[0].PxPointY,1==l.s?(g=100*(m-f)/f,v=(m-f).toFixed(2)+"€ ("+g.toFixed(2)+"%)"):(g=100*(f-m)/m,v=(f-m).toFixed(2)+"€ ("+g.toFixed(2)+"%)"),t.fillStyle=e,t.font="11px Arial",t.fillText(v,n+5,Math.max(o,s)-6),t.fillText(W(l.db,l.de),n+5,Math.max(o,s)+11)),null!=i&&(t.fillStyle=hexToRgb(i,.15),t.fill())}function J(t,e,i,n,a,s,o,r){var l,h,c,d,u,p,f,m=.5;for(null!=r?(t.lineWidth=r)%2==0&&(m=0):t.lineWidth=1,t.strokeStyle=e,t.beginPath(),l=o-s,s+=m,d=(h=[0,.236,.382,.5,.618,.786,1,1.618]).length,c=0;c<d;c++)t.moveTo(n,s+Math.round(l*h[c])),t.lineTo(a,s+Math.round(l*h[c]));for(t.stroke(),u=Math.min(n,a),null!=i&&(t.fillStyle=hexToRgb(i,.15),t.fillRect(u,s,Math.abs(a-n),Math.round(1.618*l))),s-=1.5,t.font="11px Arial",t.fillStyle=e,c=0;c<d;c++)f=xt(p=s+Math.round(l*h[c]),$i.logData),t.fillText(f.toFixed(2)+"  ("+(100*h[c]).toFixed(1)+"%)",u,p)}function tt(t,e,i){var n,a,s,o,r,l;if(this.x=t,this.y=e,n=$i,this.my=n.set.semilog&&null!=n.logData&&0!=e?yt(e,n.logData):Math.round((Fi[0].V0-e)*Fi[0].PxPointY),null!=Fi[0].Bars[0][t])this.mx=Math.round(Fi[0].Bars[0][t].i*Fi[0].PxPointX+n.padBarCandle);else if(s=Fi[0].Bars[0][0].d,i<=t){if(s<t)o=Fi[0].Bars[0][0].i,r=et(t-s),this.mx=Math.round((o+r)*Fi[0].PxPointX+n.padBarCandle);else for(a=t-5;a<=s;a++)if(null!=Fi[0].Bars[0][a]){this.mx=Math.round(Fi[0].Bars[0][a].i*Fi[0].PxPointX+n.padBarCandle);break}}else Gi.Xperiod<0?1<=Math.floor((i-t+515)/1e4)?l=(t-i+9485*Math.floor((i-t+515)/1e4))/-Gi.Xperiod:l=(t-i)*-Gi.Xperiod:l=et(t-i),this.mx=Math.round(l*Fi[0].PxPointX+n.padBarCandle)}function et(t){if(Gi.Xperiod<0)t*=-1/Gi.Xperiod;else switch(Gi.Xperiod){case 7:t/=7;break;case 30:t/=30;break;case 365:t/=365;break;default:t=5*t/7}return t<1&&0<t?t=1:-1<t&&t<0&&(t=-1),t}function it(t,e,i){if(!Ji())return!1;$i.chartPeriod<0||i?sessionStorage.setItem(t,JSON.stringify(e)):localStorage.setItem(t,JSON.stringify(e))}function nt(t){var e;if(!Ji())return[];if(null!=(e=$i.chartPeriod<0?sessionStorage.getItem(t):localStorage.getItem(t))&&""!=e&&"[]"!=e){for(var i=JSON.parse(e),n=i.length,a=0,s=0;s<n;s++)"a"==i[s].type&&(i[s].h=Ki(i[s].h),a=1);return 1==a&&localStorage.setItem(t,JSON.stringify(i)),i}return 0<=$i.chartPeriod&&localStorage.removeItem(t),[]}function at(t){var e,i,n,a;switch(t){case"topinfo":(e=document.createElement("div")).id=Dt("eod_topinfo-"),e.setAttribute("class","eod_topinfo"),e.style.left=$i.paddingLeft+2+"px",e.style.width=$i.innerWidth+"px",e.style.color=$i.set.txtColor,11!=$i.set.fontSize&&(e.style.fontSize=$i.set.fontSize+"px"),i=document.createElement("span"),e.appendChild(i),n=document.createElement("span"),e.appendChild(n),(a=document.createElement("span")).setAttribute("class","fr"),e.appendChild(a),Hi.doc.appendChild(e);break;case"overlay":(e=document.createElement("canvas")).id=Dt("overlay-"),e.setAttribute("height",$i.heightGraph),e.setAttribute("width",$i.widthGraph),Hi.doc.appendChild(e);break;case"trace":(e=document.createElement("canvas")).id=Dt("trace-"),e.style.left=$i.paddingLeft+"px",e.style.top=$i.paddingTop+"px",e.setAttribute("height",Fi[0].HeightPx),e.setAttribute("width",$i.innerWidth),e.setAttribute("tabindex","0"),Hi.doc.appendChild(e);break;case"mainci":(e=document.createElement("div")).id=Dt("eod_mainchartinfos-"),e.setAttribute("class","eod_mainchartinfos"),e.style.left=$i.paddingLeft+2+"px",e.style.top=$i.paddingTop+4+"px",e.style.color=$i.set.txtColor,11!=$i.set.fontSize&&(e.style.fontSize=$i.set.fontSize+"px"),Hi.doc.appendChild(e);break;case"rodgraph":Hi.doc.innerHTML='<canvas id="rodgraph-'+Hi.callID+'" style="background-color:'+$i.set.bkcolor+'" width="'+$i.widthGraph+'" height="'+$i.heightGraph+'" ></canvas>'}}function st(){Hi.ctxback.clearRect(0,0,$i.widthGraph,$i.heightGraph),Hi.ctxback.font=$i.set.fontSize+"px Arial"}function ot(t){var e;if(null==t&&(t=Wi.maxX-(Gi.QuoteTab.length-1)),Gi.Xperiod<0)e=-Gi.Xperiod;else switch(Gi.Xperiod){case 7:e=7;break;case 30:e=30;break;case 365:e=365;break;default:e=1.4}return Math.round(e*t)+Gi.QuoteTab[Gi.QuoteTab.length-1].d}function rt(t,e){if(t>$i.widthGraph-$i.paddingRight||t<$i.paddingLeft)return null;for(var i=Fi.length,n=0;n<i;n++)if(e>=Fi[n].RealY&&e<=Fi[n].RealY+Fi[n].HeightPx)return n;return null}function lt(t){at("rodgraph");var e=nn.gi(Dt("rodgraph-"));Hi.ctxback=e.getContext("2d"),st(),null!=t?function(t){var e,i,n,a,s,o=$i,r=new re(0,t[0].Height,o.mainChart.type,Dt("main-"),0);for(r.Create(),r.DrawEncadre(),e=t.length,i=1;i<e;i++)(n=new re(t[i].Y,t[i].Height,t[i].Indicator,Dt("indic-")+i,o.marginInter*i)).Create(),n.DrawEncadre(),s=Math.round(t[i].Y*o.usableHeight)+o.paddingTop+o.marginInter*i+5,a=te(Hi.callID+i,t[i].Indicator.type,o.paddingLeft+5,s,o.innerWidth-7),Hi.doc.appendChild(a),2<e&&ae(i,i==e-1)}(t):function(){var t,e,i,n,a,s,o,r,l;for(e=[0,.25,.2,.1666,.15,.13,.12][$i.indicators.length],n=[1,.75,.6,.5002,.4,.35,.28][$i.indicators.length],(a=new re(0,t=n,$i.mainChart.type,Dt("main-"),0)).Create(),a.DrawEncadre(),s=$i.indicators.length,i=0;i<s;i++)(o=new re(t,e,$i.indicators[i],Dt("indic-")+(i+1),$i.marginInter*(i+1))).Create(),o.DrawEncadre(),r=Math.round(t*$i.usableHeight)+$i.paddingTop+$i.marginInter*(i+1)+5,l=te(Hi.callID+(i+1),$i.indicators[i].type,$i.paddingLeft+5,r,$i.innerWidth-7),Hi.doc.appendChild(l),t+=e,1<s&&ae(i+1,i==s-1)}(Hi.doc),VGP.chartSimple||(at("topinfo"),at("overlay"),at("trace"),at("mainci"),null!=Gi&&nn.qstxt(Dt("#eod_topinfo-")+" span",Gi.Name))}function ht(t){0!=VGP.drawings[$i.symbol]||$i.isIntraday||VGP.noCommand||VGP.noAutoReadTrace?ct(t):f(!0,!1,t)}function ct(n,a){var t,e,i,s,o;null==$i.histoLength&&($i.histoLength=365),null==$i.chartPeriod&&($i.chartPeriod=20<$i.histoLength?0:-1),"function"==typeof stopTimers&&stopTimers(),VGP.noCommand||((t=nn.gi(Dt("trace-"))).getContext("2d").clearRect(0,0,t.width,t.height),Yi=nt($i.symbol)),$i.isIntraday=$i.histoLength<20,qi.datas2=null,(e=$i.dataSource)?null!=(i=JSON.parse(nn.gigt(e))).d&&(Gi=en(i.d),dt(i.d,n)):(s=VGP.urlWS+"GetTicksEOD","GET"==VGP.callType&&(s=s+"?symbol="+$i.symbol+"&length="+$i.histoLength+"&period="+$i.chartPeriod+"&guid="+nn.gigt("guid")),(o=new XMLHttpRequest).open(VGP.callType,s,!0),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.onload=function(){var e,t,i;200<=o.status&&o.status<400&&(null!=(e=JSON.parse(o.responseText))&&null!=e.d?(Gi=en(e.d),null!=$i.isCompare?(t=VGP.urlWS+"GetTicksEOD","GET"==VGP.callType&&(t=t+"?symbol="+$i.isCompare+"&length="+$i.histoLength+"&period="+$i.chartPeriod+"&guid="+nn.gigt("guid")),(i=new XMLHttpRequest).open(VGP.callType,t,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onload=function(){if(200<=i.status&&i.status<400){var t=JSON.parse(i.responseText);null!=t&&null!=t.d&&(qi.datas2=en(t.d)),dt(e.d,n)}},i.send(JSON.stringify({symbol:$i.isCompare,length:$i.histoLength,period:$i.chartPeriod,guid:nn.gigt("guid")}))):dt(e.d,n)):("function"==typeof DisplayAlert&&($i.chartPeriod<0?DisplayAlert(lang.l_msg3,3):DisplayAlert(lang.l_msg4,4)),a&&($i.chartPeriod=a.chartPeriod,$i.histoLength=a.histoLength,$i.isIntraday=a.isIntraday)))},o.send(JSON.stringify({symbol:$i.symbol,length:$i.histoLength,period:$i.chartPeriod,guid:nn.gigt("guid")})))}function dt(t,e){var i,n,a;if(Wi.minX=0,Wi.maxX=t.QuoteTab.length-1,Wi.maxY=t.High,Wi.minY=t.Low,null!=qi.datas2&&pt(t.High,t.Low,qi.datas2.High,qi.datas2.Low,Gi.QuoteTab[0].c,qi.datas2.QuoteTab[0].c),1!=$i.histoLength||$i.set.noVeilleIntra||((i=t.qv.c)>Wi.maxY&&(Wi.maxY=i),i<Wi.minY&&(Wi.minY=i)),Wi.qv=t.qv,Wi.qd=t.qd,$i.chartPeriod=parseInt(t.Xperiod),0==e)if($i.mainChart.typedef.nolinearX)Zt(!0);else for(ft(t),a=Fi.length,n=1;n<a;n++)Ct(Fi[n]);else Q(!1,!0);VGP.chartSimple||(l(),nn.qstxt(Dt("#eod_topinfo-")+" span",t.Name),At()),"function"==typeof launchTimers&&launchTimers(Hi.callID,$i.chartPeriod,$i.symbol),ut()}function ut(){if($i.mainChart.typedef.nolinearX)"function"==typeof extIndicatorsList&&extIndicatorsList({ind1:i,ind2:n});else{for(var t,e,i=[],n=[],a=0;a<$i.mainChart.indicators.length;a++)e="compare"==(t=$i.mainChart.indicators[a]).type?" ("+qi.datas2.Name+")":t.param1?" ("+t.param1+")":"",i[a]={id:a,name:t.type,color:t.color,param:e,bkcolor:qt(t.color)};for(a=1;a<Fi.length;a++)"volume"!=(t=Fi[a].Indicator).type&&(e=t.param1?" ("+t.param1+")":"",n[a]={id:a,name:t.type,color:t.color,param:e,bkcolor:qt(t.color)});"function"==typeof extIndicatorsList&&extIndicatorsList({ind1:i,ind2:n})}}function pt(t,e,i,n,a,s){var o=(i-s)/s,r=(n-s)/s,l=(e-a)/a;(t-a)/a<o&&(Wi.maxY=a*(1+o)),r<l&&(Wi.minY=a*(1+r))}function ft(t,e,i){var n,a,s,o,r,l,h,c,d,u,p,f,m,g,v,b,y,x,w,T,C,S,M,A,k,D,P,E,_,N,L,O,I,B,R;if(null!=t){n={Name:t.Name,High:t.High,Low:t.Low,QuoteTab:t.QuoteTab},0==Wi.maxX&&0==Wi.minX&&(Wi.maxX=n.QuoteTab.length-1,Wi.minX=0),n.QuoteTab=mt(t.QuoteTab);var H,$=n.High,V=n.Low,G=n.QuoteTab.length,F=Fi[0];0==Wi.maxY&&0==Wi.minY?(Wi.maxY=$,Wi.minY=V):($=Wi.maxY,V=Wi.minY),(a=57)==F.HeightPx&&(a=56),F.PxPointY=(F.HeightPx-a)/($-V),F.V0=$+(a-20)/F.PxPointY;var Y,W=F.V0,j=F.PxPointY,z=F.ctx;if(-1!=["bar","candle","barcolor","hollow","heikin ashi"].indexOf($i.mainChart.type)?((Y=Math.floor($i.innerWidth/G)-3)%2==0&&Y++,19<Y?Y=19:Y<3&&(Y=3),$i.padBarCandle=2+Y):$i.padBarCandle=0,s=$i.paddingLeft+$i.padBarCandle,"perf"==$i.mainChart.type&&(V=(n=RODTA.computePERFORMANCE(n)).Low<0?1.05*n.Low:.95*n.Low,$=0<n.High?1.05*n.High:.95*n.High,j=(F.HeightPx-a)/($-V),F.PxPointY=j,W=$+(a-20)/F.PxPointY,F.V0=W),"heikin ashi"==$i.mainChart.type&&!(n=function(t){var e,i,n,a,s,o,r,l={QuoteTab:t.QuoteTab},h=[],c=l.QuoteTab.length;if(c<2)return!1;for(o=l.QuoteTab[0],h[0]={d:o.d,o:o.o,h:o.h,l:o.l,c:o.c,v:o.v},e=1;e<c;e++)null!=(r=l.QuoteTab[e])&&(s=(r.o+r.h+r.l+r.c)/4,i=(h[e-1].o+h[e-1].c)/2,n=Math.max(r.h,s,i),a=Math.min(r.l,i,s),h[e]={d:r.d,o:+i.toFixed(3),h:+n.toFixed(3),l:+a.toFixed(3),c:+s.toFixed(3),v:r.v});return{Name:t.Name,High:t.High,Low:t.Low,QuoteTab:h}}(n)))return zi={},G=[],void(F.Bars[0]={});switch(o=null,$i.set.semilog&&"perf"!=$i.mainChart.type&&!$i.isCompare&&(o=function(t,e){var i=(t-e)/100;(e-=i)<=0&&(e=.98*(e+i));var n=Math.log10(e)/Math.log10(10),a=Math.log10(t+4*i)/Math.log10(10);return{floor:n,ceil:a,range:a-n}}($,V)),$i.logData=o,null!=$i.isCompare?vt(z,F.HeightPx,s,W,j,!0):$i.set.semilog&&"perf"!=$i.mainChart.type?vt(z,F.HeightPx,s,W,j,!1,!0):vt(z,F.HeightPx,s,W,j),d=1==G?$i.innerWidth-2*$i.padBarCandle:($i.innerWidth-2*$i.padBarCandle)/(G-1),F.PxPointX=d,e?gt(F):gt(F,!0,n.QuoteTab),zi={},ji=[],F.Bars[0]={},u={},$i.mainChart.type){case"perf":for(z.save(),z.beginPath(),l=(W-n.QuoteTab[0].c)*j,z.moveTo(s,l),H=0;H<G;H++)if(null!=(p=n.QuoteTab[H])){if(r=Math.round(H*d+s),ji[r-$i.paddingLeft]={d:p.d,i:H},z.lineTo(r+.5,Math.round((W-p.c)*j)+.5),d<2)zi[r]=p.d;else for(h=-1;h<=1;h++)zi[r+h]=p.d;u[p.d]={c:p.c.toFixed(2),i:H},x=H}p=n.QuoteTab[x],u[0]={c:p.c.toFixed(2),i:x,d:p.d},$i.mainChart.typedef.v1||(z.strokeStyle=$i.mainChart.typedef.color,Ei(z,1,$i.mainChart.typedef),Pi(z,$i.mainChart.typedef,1),z.stroke()),$i.mainChart.typedef.v2||(z.lineTo(r,W*j),z.lineTo(s,W*j),(b=z.createLinearGradient(0,0,0,F.HeightPx)).addColorStop(0,hexToRgb(rgb2hex($i.mainChart.typedef.color2),.7)),b.addColorStop(1,hexToRgb(rgb2hex($i.mainChart.typedef.color2),.1)),z.fillStyle=b,z.fill()),z.restore();break;case"line":case"line2":for(z.save(),z.beginPath(),w=null!=$i.mainChart.typedef.source?$i.mainChart.typedef.source:"c",l=yt(gs(n.QuoteTab[0],w),o),z.moveTo(s,l),(T=[]).push({x:s,y:l}),H=0;H<G;H++)if(null!=(p=n.QuoteTab[H])){if(r=Math.round(H*d+s),ji[r-$i.paddingLeft]={d:p.d,i:H},l=yt(gs(p,w),o)+.5,z.lineTo(r+.5,l),T.push({x:r+.5,y:l}),d<2)zi[r]=p.d;else for(h=-1;h<=1;h++)zi[r+h]=p.d;x=H,u[p.d]={o:p.o,h:p.h,l:p.l,c:p.c,i:H}}if(p=n.QuoteTab[x],u[0]={o:p.o,h:p.h,l:p.l,c:p.c,i:x,d:p.d},"line"==$i.mainChart.type&&($i.mainChart.typedef.v2||(z.strokeStyle="transparent",z.lineTo(r,F.HeightPx),z.lineTo(s,F.HeightPx),z.lineTo(s,W),z.stroke(),0!=W-$&&((b=z.createLinearGradient(0,yt(n.High,o),0,F.HeightPx)).addColorStop(0,$i.mainChart.typedef.color2),null!=$i.mainChart.typedef.color3?b.addColorStop(1,$i.mainChart.typedef.color3):b.addColorStop(1,hexToRgb(rgb2hex($i.mainChart.typedef.color2),.1)),z.fillStyle=b,z.fill()))),!$i.mainChart.typedef.v1){if(z.beginPath(),0<(C=T.length))for(z.moveTo(T[0].x,T[0].y),h=1;h<C;h++)z.lineTo(T[h].x,T[h].y);Pi(z,$i.mainChart.typedef,1),Ei(z,1,$i.mainChart.typedef),z.strokeStyle=$i.mainChart.typedef.color,z.stroke()}z.restore();break;case"bar":case"barcolor":z.save();var X=.5,U=0,q=Math.floor(Y/2),Q=q+1;for(5<d&&(z.lineWidth=2,X=0,q+=U=1),z.strokeStyle=$i.mainChart.typedef.v1?"transparent":$i.mainChart.typedef.color,z.beginPath(),H=0;H<G;H++)if(null!=(p=n.QuoteTab[H])){for(r=Math.round(H*d+s),p.c>=p.o&&(g=yt(p.o,o)+X,v=yt(p.c,o)+X,f=yt(p.l,o),m=yt(p.h,o),ji[r-$i.paddingLeft]={d:p.d,i:H},z.moveTo(r+X,f+U),z.lineTo(r+X,m-U),z.moveTo(r,g),z.lineTo(r-q,g),z.moveTo(r,v),z.lineTo(r+Q,v)),c=-Y;c<=Y;c++)zi[r+c]=p.d;x=H,u[p.d]={o:p.o,h:p.h,l:p.l,c:p.c,i:H}}for(p=n.QuoteTab[x],u[0]={o:p.o,h:p.h,l:p.l,c:p.c,i:x,d:p.d},z.stroke(),"barcolor"==$i.mainChart.type&&(z.strokeStyle=$i.mainChart.typedef.v2?"transparent":$i.mainChart.typedef.color2),z.beginPath(),H=0;H<G;H++)null!=(p=n.QuoteTab[H])&&p.c<p.o&&(g=yt(p.o,o)+X,v=yt(p.c,o)+X,r=Math.round(H*d+s),f=yt(p.l,o),m=yt(p.h,o),ji[r-$i.paddingLeft]={d:p.d,i:H},z.moveTo(r+X,f+U),z.lineTo(r+X,m-U),z.moveTo(r,g),z.lineTo(r-q,g),z.moveTo(r,v),z.lineTo(r+Q,v));z.stroke(),z.restore();break;case"heikin ashi":case"candle":for(5<d&&d<7&&(Y=5),z.strokeStyle=$i.mainChart.typedef.color3,z.beginPath(),z.fillStyle=$i.mainChart.typedef.color,y=Math.floor(Y/2),H=0;H<G;H++)if(null!=(p=n.QuoteTab[H])){for(r=Math.round(H*d+s)-y,p.c>=p.o&&Kt(z,Y,p,r,y,H,o),c=0;c<=Y;c++)zi[r+c]=p.d;x=H,u[p.d]={o:p.o,h:p.h,l:p.l,c:p.c,i:H}}for(p=n.QuoteTab[x],u[0]={o:p.o,h:p.h,l:p.l,c:p.c,i:x,d:p.d},$i.mainChart.typedef.v1||(z.stroke(),z.fill()),z.beginPath(),z.fillStyle=$i.mainChart.typedef.color2,H=0;H<G;H++)null!=(p=n.QuoteTab[H])&&p.c<p.o&&Kt(z,Y,p,r=Math.round(H*d+s)-y,y,H,o);$i.mainChart.typedef.v2||(z.stroke(),z.fill());break;case"hollow":for(5<d&&d<7&&(Y=5),z.strokeStyle=$i.mainChart.typedef.color,z.beginPath(),y=Math.floor(Y/2),H=1;H<G;H++)if(null!=(p=n.QuoteTab[H])){for(r=Math.round(H*d+s)-y,p.c>=p.o&&p.c>=n.QuoteTab[H-1].c&&Kt(z,Y,p,r,y,H,o),c=0;c<=Y;c++)zi[r+c]=p.d;x=H,u[p.d]={o:p.o,h:p.h,l:p.l,c:p.c,i:H}}for(null!=x&&(p=n.QuoteTab[x],u[0]={o:p.o,h:p.h,l:p.l,c:p.c,i:x,d:p.d}),$i.mainChart.typedef.v1||z.stroke(),z.strokeStyle=$i.mainChart.typedef.color2,z.beginPath(),H=1;H<G;H++)null!=(p=n.QuoteTab[H])&&(r=Math.round(H*d+s)-y,p.c>=p.o&&p.c<n.QuoteTab[H-1].c&&Kt(z,Y,p,r,y,H,o));for($i.mainChart.typedef.v2||z.stroke(),z.strokeStyle=$i.mainChart.typedef.color3,z.fillStyle=$i.mainChart.typedef.color,z.beginPath(),H=1;H<G;H++)null!=(p=n.QuoteTab[H])&&(r=Math.round(H*d+s)-y,p.c<=p.o&&p.c>=n.QuoteTab[H-1].c&&Kt(z,Y,p,r,y,H,o));for($i.mainChart.typedef.v1||(z.stroke(),z.fill()),z.fillStyle=$i.mainChart.typedef.color2,z.beginPath(),H=1;H<G;H++)null!=(p=n.QuoteTab[H])&&(r=Math.round(H*d+s)-y,p.c<=p.o&&p.c<n.QuoteTab[H-1].c&&Kt(z,Y,p,r,y,H,o));$i.mainChart.typedef.v2||(z.stroke(),z.fill())}if(F.Bars[0]=u,1!=$i.histoLength||$i.set.noVeilleIntra||(z.save(),S=yt(t.qv.c,o),z.strokeStyle=$i.set.veilleColor||"#fe0000",z.lineWidth=$i.set.veilleWidth||1,1==z.lineWidth&&(S+=.5),z.setLineDash&&z.setLineDash([5,4]),z.beginPath(),z.moveTo($i.paddingLeft,S),z.lineTo($i.widthGraph-$i.paddingRight,S),z.stroke(),z.restore()),0!=G&&null!=u[0]&&($i.set.nohighlow||null!=$i.isCompare||(bt(z,W,n.High,j,"rgba(0, 128, 0, 1)",!0,o),bt(z,W,n.Low,j,"rgba(192, 0, 0, 1)",!0,o)),$i.set.nosticky||bt(z,W,u[0].c,j,null,!0,o)),e||i||VGP.chartSimple||(M="","perf"!=$i.mainChart.type&&(M=wt($i.isIntraday).toFixed(2)),A="",VGP.noCommand||(A='<span class="mci-p"></span>'),k='<div><span class="eod_param" data-name="'+$i.mainChart.type+'">'+A+lang.l_cours+"</span>",P=t.QuoteTab[t.QuoteTab.length-1],$i.isIntraday?(D=Gi.qd).dt=formatMinutes(P.d,2):(D=P).dt=daysToDate(P.d,1),D.var=M,"function"==typeof extGetQuotesHover&&extGetQuotesHover(D),nn.idhtml(Dt("eod_mainchartinfos-"),k)),"perf"!=$i.mainChart.type){for(E=$i.mainChart.indicators.length,H=0;H<E;H++)switch((_=$i.mainChart.indicators[H]).type){case"compare":Ft(_,s,e,H);break;case"sar":jt(_,s,e,H,i,o);break;case"phpb":Wt(_,s,e,H,i,o);break;case"ichimoku":Gt(_,s,e,H,i,o);break;case"evt":case"actu":$i.isIntraday||(0==qi.fiEvt.length&&"no"!=qi.fiEvt?Ht(s,H,_.type):zt(s,e,H,i,_.type));break;case"pivots":$t(_,s,e,H,i,o);break;case"supertrend":Yt(_,s,e,H,i,o);break;default:Tt(_,s,e,H,i,o)}if(""!=$i.searchConfig){switch(O=n.QuoteTab,$i.searchConfig){case"gaps":N="G",L=RODTA.computeGAP(O);break;case"dojis":N="D",L=RODTA.computeDOJI(O,$i.chartPeriod);break;case"keyr":N="K",L=RODTA.computeKEYR(O);break;case"englob":N="E",L=RODTA.computeEnglobante(O);break;case"marteau":N=lang.l_m,L=RODTA.computeMarteau(O);break;case"pendu":N=lang.l_p,L=RODTA.computePendu(O);break;case"pinces":N=lang.l_p,L=RODTA.computePinces(O);break;case"marubozu":N=lang.l_m,L=RODTA.computeMarubozu(O);break;case"soldiers":N=lang.l_s,L=RODTA.computeSoldiers(O);break;case"harami":N="H",L=RODTA.computeHarami(O)}for(I=L.Values.length,H=0;H<I;H++)0!=L.Values[H].v1?(z.beginPath(),z.arc(Math.round(L.Values[H].i*d+s),yt(L.Values[H].v1,o)+20,8,0,2*Math.PI),z.fillStyle="#008000",z.fill()):0!=L.Values[H].v2&&(z.beginPath(),z.arc(Math.round(L.Values[H].i*d+s),yt(L.Values[H].v2,o)-20,8,0,2*Math.PI),z.fillStyle="#ff0000",z.fill());for(z.fillStyle="#fff",H=0;H<I;H++)0!=L.Values[H].v1?z.fillText(N,Math.round(L.Values[H].i*d+s)-4,yt(L.Values[H].v1,o)+23):0!=L.Values[H].v2&&z.fillText(N,Math.round(L.Values[H].i*d+s)-4,yt(L.Values[H].v2,o)-17)}}VGP.chartSimple||e||1<(B=document.querySelectorAll(Dt("#eod_topinfo-")+" span")).length&&("perf"==$i.mainChart.type?B[1].innerHTML=lang.l_varperiod+" : "+Xt(n.QuoteTab,1).c.toFixed(2)+"%":(R=100*(Xt(n.QuoteTab,1).c-n.QuoteTab[0].c)/n.QuoteTab[0].c,B[1].innerHTML=lang.l_varperiod+" : "+(0<R?"+":"")+R.toFixed(2)+"%")),Jt(Fi[0]),K()}}function mt(t){if(null==t)return t;for(var e=[],i=Wi.minX,n=Wi.maxX,a=i;a<=n;a++)e.push(t[a]);return e}function gt(t,e,i,n){var a,s,o,r,l,h=$i,c=Math.round((h.innerWidth-2*h.padBarCandle)/80),d=Wi.maxX-Wi.minX,u=Math.round(d/c);if(u<=0&&(u=1),(s=t.ctx).beginPath(),s.save(),s.strokeStyle=h.set.gridColor,!h.set.gridLine&&s.setLineDash&&s.setLineDash([3]),e&&(Hi.ctxback.fillStyle=h.set.txtColor),r=h.heightGraph-6,n)for(a=u;a<d;a+=u)null!=i[a]&&(o=Math.round(i[a].cu-i[0].cu+h.paddingLeft)+.5,h.set.gridV&&(s.moveTo(o,0),s.lineTo(o,t.HeightPx)),l=i[a].d,h.isIntraday?2<h.histoLength?Hi.ctxback.fillText(formatMinutes(l),o-18,r):Hi.ctxback.fillText(formatMinutes(l,1),o-18,r):365<h.histoLength?Hi.ctxback.fillText(daysToDate(l,4),o-18,r):Hi.ctxback.fillText(daysToDate(l,3),o-18,r));else for(a=u;a<d;a+=u)o=Math.round(a*Fi[0].PxPointX+h.paddingLeft+h.padBarCandle)+.5,h.set.gridV&&(s.moveTo(o,0),s.lineTo(o,t.HeightPx)),e&&(l=null==i[a]?ot(a+1-ji[ji.length-1].i):i[a].d,h.isIntraday?2<h.histoLength?Hi.ctxback.fillText(formatMinutes(l),o-18,r):Hi.ctxback.fillText(formatMinutes(l,1),o-18,r):365<h.histoLength?Hi.ctxback.fillText(daysToDate(l,4),o-18,r):Hi.ctxback.fillText(daysToDate(l,3),o-18,r));s.stroke(),s.restore()}function vt(t,e,i,n,a,s,o){var r,l,h,c,d,u,p,f="";1e5<=n&&(n/=1e3,a*=1e3,f="K"),o&&(h=$i.logData),t.save(),t.beginPath(),!$i.set.gridLine&&t.setLineDash&&t.setLineDash([3]),t.strokeStyle=$i.set.gridColor,t.font=$i.set.fontSize+"px Arial",t.fillStyle=$i.set.txtColor,c=e/a,d=35,e<120&&(d=20);var m,g,v,b=Math.round(e/d),y=c/(b-1),x=Math.ceil(Math.log10(y)-1),w=Math.pow(10,x),T=Math.ceil(y/w)*w,C=Math.ceil((n-c)/T)*T;for($i.mainChart.typedef.nolinearX||(v=Gi.QuoteTab[Wi.minX].c),u=$i.widthGraph-$i.paddingRight,p=i-$i.padBarCandle,r=0;r<=b&&(m=C+r*T,!((g=o?yt(m,h):Math.round((n-m)*a))<=5));r++)$i.set.gridH&&(t.moveTo(p,g+.5),t.lineTo(u,g+.5)),l=s||"perf"==$i.mainChart.type?"perf"==$i.mainChart.type?formatDecimales(m,!0):formatDecimales(100*(m-v)/v,!0):formatDecimales(m)+f,$i.set.yaxis?t.fillText(l,2,g+2):t.fillText(l,u+5,g+2);t.stroke(),t.restore()}function bt(t,e,i,n,a,s,o){var r,l,h,c,d,u,p=$i;i=parseFloat(i),s?r=yt(i,o):(r=Math.round(e-i*n))<e+7&&(r-=7),null==a&&(a="rgba(51, 102, 255, 1)"),t.fillStyle=rgb2hex(a),t.font=p.set.fontSize+"px Arial",h=p.widthGraph-p.paddingRight,c=p.paddingRight,p.set.yaxis&&(h=-2,c=p.paddingLeft-1),d=p.set.fontSize-11,t.fillRect(h+2,r-7,c,15+d),t.fillStyle=qt(a),s&&null!=p.isCompare&&!p.mainChart.typedef.nolinearX&&"perf"!=p.mainChart.type?(i=100*(i-(l=Gi.QuoteTab[Wi.minX].c))/l,t.fillText(i.toFixed(2),h+5,r+4+d)):(u="",1e5<=i&&(i=Math.round(i/1e3),u="K"),t.fillText(formatDecimales(i)+u,h+5,r+4+d))}function yt(t,e){return null==e?Math.round((Fi[0].V0-t)*Fi[0].PxPointY):Fi[0].HeightPx-Math.round((Math.log10(t)/Math.log10(10)-e.floor)/e.range*Fi[0].HeightPx)}function xt(t,e){var i=Fi[0];return null==e?(i.V0*i.PxPointY-t)/i.PxPointY:Math.pow(10,Math.log10(10)*((i.HeightPx-t)*e.range/i.HeightPx+e.floor))}function wt(t){if(t)return null!=Gi.qv?100*(Xt(Gi.QuoteTab,1).c-Gi.qv.c)/Gi.qv.c:0;var e=Xt(Gi.QuoteTab,2).c;return 100*(Xt(Gi.QuoteTab,1).c-e)/e}function Tt(t,e,i,n,a,s){var o,r,l,h,c={},d=Fi[0];switch(d.Bars[n+1]={},r=null!=t.source?t.source:"c",t.type){case"mm":o=RODTA.computeMovingAverage(Gi.QuoteTab,t.param1,r);break;case"zig zag":o=RODTA.computeZigZag(Gi.QuoteTab,t.param1/100,r);break;case"mmt":o=RODTA.computeMovingAverageT(Gi.QuoteTab,t.param1,r);break;case"mmp":o=RODTA.computeMovingAverageP(Gi.QuoteTab,t.param1,r);break;case"mmh":o=RODTA.computeMovingAverageHull(Gi.QuoteTab,t.param1,r);break;case"double EMA":o=RODTA.computeDoubleEMA(Gi.QuoteTab,t.param1,r);break;case"triple EMA":o=RODTA.computeTripleEMA(Gi.QuoteTab,t.param1,r);break;case"linearc":o=RODTA.computeLinearCurve(Gi.QuoteTab,t.param1,1,r);break;case"lineard":l=function(t,e,i,n){var a,s=t.length;if(s<=e)return null;var o,r=0,l=0,h=0,c=0,d=0;for(a=1;a<=e;a++)o=gs(t[s-a],n),r+=a*o,l+=a,h+=o,c+=a*a,d+=o*o;var u=(r*e-l*h)/(e*c-l*l),p=(h-u*l)/e,f=p+u*e,m=p+u,g=Math.pow((e*d-h*h)/(e*(e-1)),.5),v=new tt(t[s-e].d,f,Gi.QuoteTab[Wi.minX].d),b=new tt(t[s-1].d,m,Gi.QuoteTab[Wi.minX].d);return{p0:v,p1:b,et:g,id:i}}(Gi.QuoteTab,t.param1,t,r);break;case"supres":!function(t,e,i){for(var n,a,s,o,r,l,h,c,d,u=tn(t.QuoteTab),p=(u=mt(u)).length,f=0,m=999999,g=0;g<p;g++)null!=u[g]&&(u[g].h>f&&(f=u[g].h),u[g].l<m&&(m=u[g].l));for(n=(f-m)*e/100,(s=[])[0]={h:u[0].v,b:0},g=1;g<p;g++)null!=u[g]&&(a=Math.floor((u[g].c-m)/n),o=u[g].c>=u[g-1].c,null!=s[a]?o?s[a].h=s[a].h+u[g].v:s[a].b=s[a].b+u[g].v:s[a]=o?{h:u[g].v,b:0}:{h:0,b:u[g].v});for(r=0,l=s.length,g=0;g<l;g++)null!=s[g]&&s[g].h+s[g].b>r&&(r=s[g].h+s[g].b);h=Fi[0],(c=h.ctx).strokeStyle=$i.set.gridColor,c.save();var v=$i.paddingLeft,b=r/($i.innerWidth/2),y=Math.floor((f-m)*h.PxPointY/l);for(y=y<2?2:y-2,g=d=0;g<l;g++)null!=s[g]&&(i.v1||(c.fillStyle=i.color,d=s[g].h/b,c.fillRect(v,Math.round((h.V0-(m+g*n))*h.PxPointY),d,-y)),i.v2||(c.fillStyle=i.color2,c.fillRect(d+v,Math.round((h.V0-(m+g*n))*h.PxPointY),s[g].b/b,-y)));c.restore()}(Gi,t.param1,t);break;case"mme":o=RODTA.computeMovingAverageE(Gi.QuoteTab,t.param1,r);break;case"boll":null==t.param2&&(t.param2=2),o=RODTA.computeBollinger(Gi.QuoteTab,t.param1,t.param2,r);break;case"donchian":o=RODTA.computeDonchian(Gi.QuoteTab,t.param1);break;case"keltner":o=RODTA.computeKeltner(Gi.QuoteTab,t.param1,t.param2,t.param3);break;case"evmm":o=RODTA.computeEVMM(Gi.QuoteTab,t.param1,t.param2,r);break;case"alligator":o=RODTA.computeAlligator(Gi.QuoteTab,t.param1,t.param2,t.param3);break;case"gmma":o=RODTA.computeGMMA(Gi.QuoteTab)}if("lineard"!=t.type){if("supres"!=t.type&&null!=o){if(o.Values=mt(o.Values),"alligator"==t.type)return void function(t,e,i,n,a,s){for(var o,r,l,h,c,d,u=e.Values.length,p=t.ctx,f=t.PxPointX,m={},g=1;g<4;g++){for(l="v"+g,p.save(),p.strokeStyle=1==g?n[l]?"transparent":n.color:n[l]?"transparent":n["color"+g],p.beginPath(),Pi(p,n,g),Ei(p,g,n),d=!1,r=1;r<u;r++)null!=(c=e.Values[r])&&null!=c[l]&&(o=Math.round(r*f+i),d||(p.moveTo(o,yt(c[l],a)+.5),d=!0),p.lineTo(o+.5,yt(c[l],a)+.5),3==g&&(h=r,m[c.d]=[c.v1,c.v2,c.v3]));p.stroke(),p.restore()}c=e.Values[h],m[0]=[c.v1,c.v2,c.v3],t.Bars[s+1]=m}(d,o,e,t,s,n);if("gmma"==t.type)return void function(t,e,i,n,a){for(var s,o,r,l=e.Values.length,h=t.ctx,c=t.PxPointX,d=1;d<13;d++){for(h.save(),h.strokeStyle=d<7?n.v1?"transparent":n.color:n.v2?"transparent":n.color2,h.beginPath(),d<7&&Pi(h,n,1),7<=d&&Pi(h,n,2),Pi(h,n,d),Ei(h,d<7?1:2,n),r=!1,o=1;o<l;o++)null!=e.Values[o]&&(s=Math.round(o*c+i),r||(h.moveTo(s,yt(e.Values[o]["v"+d],a)+.5),r=!0),h.lineTo(s+.5,yt(e.Values[o]["v"+d],a)+.5));h.stroke(),h.restore()}}(d,o,e,t,s);var u,p,f,m,g=o.Values.length,v=d.ctx,b=e-1,y=d.PxPointX;if(v.strokeStyle=t.v1?"transparent":t.color,null==o.Values[0]&&(o.Values[0]={v1:Gi.QuoteTab[Wi.minX].c,d:Gi.QuoteTab[Wi.minX].d}),null==o.Values[0].v2){for(v.save(),v.beginPath(),v.moveTo(e,yt(o.Values[0].v1,s)+.5),Pi(v,t,1),Ei(v,1,t),p=1;p<g;p++)null!=o.Values[p]&&(2<=(u=Math.round(p*y+e))-b&&(v.lineTo(u+.5,yt(o.Values[p].v1,s)+.5),b=u),c[o.Values[p].d]=o.Values[p].v1,m=p);return null!=m&&(c[0]=o.Values[m].v1),d.Bars[n+1]=c,v.stroke(),void v.restore()}for(v.beginPath(),h=!1,p=g-1;0<=p;p--)null!=o.Values[p]&&(f=yt(o.Values[p].v1,s),h?(u=Math.round(p*y+e),v.lineTo(u+.5,Math.round(f)+.5)):(v.moveTo(Math.round(p*y+e)+.5,f+.5),h=!0));for(f=yt(o.Values[0].v1,s),v.lineTo($i.paddingLeft+1,f+.5),f=yt(o.Values[0].v2,s),v.lineTo($i.paddingLeft+1,f+.5),p=0;p<g;p++)null!=o.Values[p]&&(u=Math.round(p*y+e),f=yt(o.Values[p].v2,s),v.lineTo(u+.5,f+.5),c[o.Values[p].d]=[o.Values[p].v1,o.Values[p].v2],m=p);c[0]=[o.Values[m].v1,o.Values[m].v2],v.save(),Pi(v,t,1),Ei(v,1,t),v.stroke(),v.restore(),t.v2||(v.fillStyle=t.color2,v.fill()),d.Bars[n+1]=c}}else!function(t,e){var i,n,a,s;if(t.save(),i=$i.paddingLeft,null!=e){for(s=e.id.param2*e.et*Fi[0].PxPointY,n=1;n<4;n++)if(!e.id["v"+n]){switch(t.strokeStyle=1==n?e.id.color:e.id["color"+n],n){case 1:a=0;break;case 2:a=-s;break;case 3:a=s}t.lineWidth=null!=e.id["w"+n]?e.id["w"+n]:1,t.beginPath(),t.moveTo(e.p0.mx+i,e.p0.my+a),t.lineTo(e.p1.mx+i,e.p1.my+a),t.stroke()}t.restore()}}(d.ctx,l)}function Ct(t){var e=t.Indicator,i=Gi.QuoteTab,n=null!=e.source?e.source:"c";switch(e.type){case"volume":!function(t,e){var i,n,a,s,o,r,l,h=e.ctx,c=t.High;gt(e),null!=(i=e.Indicator.mm)&&0!=i&&(t.Values=RODTA.computeMM(t.Values,i)),t.Values=mt(t.Values);var d,u=t.Values.length,p=!1;for(e.PxPointY=(e.HeightPx-20)/c,e.V0=Math.round(e.PxPointY*c)+20,n=Fi[0].PxPointX,(a=Math.floor($i.innerWidth/u)-2)%2==0&&a++,21<a?a=21:a<0?a=1:a<2&&(a=2),s=$i.paddingLeft+$i.padBarCandle-Math.round(a/2),vt(h,e.HeightPx,s,c+20/e.PxPointY,e.PxPointY),e.Bars={},h.fillStyle=e.Indicator.v1?"transparent":e.Indicator.color,h.beginPath(),l=$i.innerWidth+$i.paddingLeft,d=0;d<u;d++)null!=t.Values[d]&&(1==t.Values[d].v2&&(p=Math.round(d*n+s))<l&&(r=l<p+a?l-p:a,p<$i.paddingLeft&&(r=a-($i.paddingLeft-p),p=$i.paddingLeft),h.rect(p,e.HeightPx,r,-t.Values[d].v1*e.PxPointY)),e.Bars[t.Values[d].d]=t.Values[d].v1,o=d);for(h.fill(),h.fillStyle=e.Indicator.v2?"transparent":e.Indicator.color2||Qi(e.Indicator.type).color2,h.beginPath(),d=0;d<u;d++)null!=t.Values[d]&&1!=t.Values[d].v2&&(p=Math.round(d*n+s))<l&&(r=l<p+a?l-p:a,p<$i.paddingLeft&&(r=a-($i.paddingLeft-p),p=$i.paddingLeft),h.rect(p,e.HeightPx,r,-t.Values[d].v1*e.PxPointY));h.fill(),null!=o&&(e.Bars[0]=t.Values[o].v1),Ut(h,e,t.Values,s,n),$i.set.nosticky||bt(h,e.HeightPx,e.Bars[0]||"",e.PxPointY,e.Indicator.color),Jt(e)}(RODTA.computeVolume(i,Wi),t);break;case"accDist":St(RODTA.computeAccDist(i),t,"curve",0);break;case"obv":St(RODTA.computeOBV(i),t,"curve",0);break;case"bollb":Mt(RODTA.computeBollingerB(i,e.param1,2,n),t);break;case"bollw":Mt(RODTA.computeBollingerBandwith(i,e.param1,e.param2,n),t);break;case"perfi":St(RODTA.computePERFORMANCE(Gi,!0),t,"curve",0);break;case"rsi":Mt(RODTA.computeRSI(i,e.param1,n),t);break;case"cmo":Mt(RODTA.computeCMO(i,e.param1),t);break;case"fr":null!=qi.datas2&&St(RODTA.computeFR(i,qi.datas2.QuoteTab),t,"curve",0);break;case"ultimate":Mt(RODTA.computeUltimateOsc(i,e.param1,e.param2,e.param3),t);break;case"atr":Mt(RODTA.computeATR(i,e.param1,"ema"),t);break;case"cci":Mt(RODTA.computeCCI(i,e.param1),t);break;case"eom":St(RODTA.computeEaseOfMovement(i,e.param1),t,"curve",0);break;case"cmf":St(RODTA.computeCMF(i,e.param1),t,"curve",0);break;case"dpo":St(RODTA.computeDPO(i,e.param1),t,"curve",0);break;case"mom":St(RODTA.computeMomentum(i,e.param1,n),t,"curve",0);break;case"asi":St(RODTA.computeASI(i),t,"curve",0);break;case"coppock":St(RODTA.computeCoppock(i,e.param1,e.param2,e.param3,n),t,"curve",0);break;case"nvi":Mt(RODTA.computeNVIPVI(i,n,"nvi"),t);break;case"pvi":Mt(RODTA.computeNVIPVI(i,n,"pvi"),t);break;case"macd":Mt(RODTA.computeMACD(i,e.param1,e.param2,e.param3,"macd",n),t);break;case"macdzl":Mt(RODTA.computeMACDZL(i,e.param1,e.param2,e.param3),t);break;case"wto":Mt(RODTA.computeWaveTrendOsc(i,e.param1,e.param2),t);break;case"dmi":Mt(RODTA.computeDMI(i,e.param1,"dmi"),t);break;case"aroon":Mt(RODTA.ComputeAroon(i,e.param1),t);break;case"adx":Mt(RODTA.computeDMI(i,e.param1,"adx"),t);break;case"vortex":Mt(RODTA.computeVortex(i,e.param1),t);break;case"macdh":St(RODTA.computeMACD(i,e.param1,e.param2,e.param3,"macdh",n),t,"bar");break;case"awesome":St(RODTA.computeAwesomeIndicator(i,e.param1,e.param2),t,"awesome");break;case"bop":St(RODTA.computeBOP(i),t,"bop");break;case"qstick":St(RODTA.computeQStick(i,e.param1),t,"bar");break;case"roc":Mt(RODTA.computeROC(i,e.param1,n,!0),t);break;case"std":Mt(RODTA.computeSTD(i,e.param1,n),t);break;case"sto":Mt(RODTA.computeSTOCH(i,e.param1,e.param2,e.param3),t);break;case"sto rsi":Mt(RODTA.computeStochRSI(i,e.param1,e.param2,e.param3,e.param4,n),t);break;case"smi":Mt(RODTA.computeSMI(i,e.param1,e.param2,e.param3,e.param4),t);break;case"tsi":Mt(RODTA.computeTSI(i,e.param1,e.param2,e.param3),t);break;case"kvo":Mt(RODTA.computeKVO(i),t);break;case"kst":Mt(RODTA.computeKST(i,e.param1,e.param2,e.param3,e.param4,n),t);break;case"trix":Mt(RODTA.computeTRIX(i,e.param1,n),t);break;case"mass index":Mt(RODTA.computeMassIndex(i,e.param1),t);break;case"vroc":Mt(RODTA.computeVROC(i,e.param1),t);break;case"ac will":St(RODTA.computeWILAC(i),t,"curve",0);break;case"will r":Mt(RODTA.computeWILR(i,e.param1),t);break;case"mfi":Mt(RODTA.computeMFI(i,e.param1),t);break;case"linearo":St(RODTA.computeLinearCurve(i,e.param1,2,n),t,"curve",0);break;case"moonphase":St(RODTA.computeMoonPhase(i),t,"curve",0,$i.isIntraday);break;case"elderbull":St(RODTA.computeElderRay(i,e.param1,"bull"),t,"bar");break;case"elderbear":St(RODTA.computeElderRay(i,e.param1,"bear"),t,"bar");break;case"forceindex":St(RODTA.computeForceIndex(i,e.param1,n),t,"curve",0)}}function St(t,e,i,n){var a,s,o,r,l,h,c,d,u,p,f=e.ctx;if(gt(e),null!=t){null!=(a=e.Indicator.mm)&&0!=a&&(t.Values=RODTA.computeMM(t.Values,a)),t.Values=mt(t.Values);var m,g,v,b,y,x=t.High,w=t.Low,T=t.Values.length,C=5;if("moonphase"==e.Indicator.type&&(C=0),e.PxPointY=(e.HeightPx-17-C)/(x-w),s=Fi[0].PxPointX,o=$i.paddingLeft+$i.padBarCandle,vt(f,e.HeightPx,o,x+17/e.PxPointY,e.PxPointY),r=o-1,e.V0=Math.round(e.PxPointY*x)+17,l=e.V0-Math.round(n*e.PxPointY),e.Bars={},"curve"==i){for(f.strokeStyle=e.Indicator.v1?"transparent":e.Indicator.color,f.beginPath(),f.moveTo(o,l),m=0;m<T;m++)null!=t.Values[m]&&(2<=(g=Math.round(m*s+o))-r&&(f.lineTo(g,e.V0-Math.round(t.Values[m].v1*e.PxPointY)),r=g),y=m,e.Bars[t.Values[m].d]=t.Values[m].v1);null!=y&&(e.Bars[0]=t.Values[y].v1),f.save(),Pi(f,e.Indicator,1),Ei(f,1,e.Indicator),f.stroke(),f.restore(),f.lineTo(r,l),f.lineTo(o,l),e.Indicator.v2||(f.fillStyle=e.Indicator.color2,f.fill())}if("bar"==i){for(0!=$i.padBarCandle?((u=Math.floor($i.innerWidth/T)-1)<1&&(u=1),o=$i.paddingLeft+$i.padBarCandle-Math.round(u/2)):(o=$i.paddingLeft,u=2),c=e.Indicator.v1?"transparent":e.Indicator.color,d=e.Indicator.v2?"transparent":e.Indicator.color2,m=0;m<T;m++)null!=t.Values[m]&&(g=Math.round(m*s+o),h=Math.round(-t.Values[m].v1*e.PxPointY),1<=g-r&&(f.fillStyle=h<=0?c:d,f.fillRect(g,e.V0,u,h),r=g),y=m,e.Bars[t.Values[m].d]=t.Values[m].v1);null!=y&&(e.Bars[0]=t.Values[y].v1)}if("awesome"==i||"bop"==i){for(0!=$i.padBarCandle?((u=Math.floor($i.innerWidth/T)-1)<1&&(u=1),o=$i.paddingLeft+$i.padBarCandle-Math.round(u/2)):(o=$i.paddingLeft,u=2),y=0,v=1;v<4&&(b="v"+v,3!=v||"bop"==i);v++)for(f.fillStyle=1==v?e.Indicator.v1?"transparent":e.Indicator.color:e.Indicator[b]?"transparent":e.Indicator["color"+v],m=0;m<T;m++)null!=t.Values[m]&&null!=t.Values[m][b]&&(g=Math.round(m*s+o),h=Math.round(-t.Values[m][b]*e.PxPointY),f.fillRect(g,e.V0,u,h),e.Bars[t.Values[m].d]=t.Values[m][b],y<m&&(y=m,p=b));0!=y&&(e.Bars[0]=t.Values[y][p])}Ut(f,e,t.Values,o,s),$i.set.nosticky||bt(f,e.V0,e.Bars[0]||"",e.PxPointY,e.Indicator.color),Jt(e)}else Jt(e)}function Mt(t,e){var i,n,a,s,o,r,l,h,c,d,u,p,f,m,g=e.ctx;if(gt(e),Jt(e),null!=t){null!=(i=e.Indicator.mm)&&0!=i&&(t.Values=RODTA.computeMM(t.Values,i)),n=17,a=5,("rsi"==e.Indicator.type||"ultimate"==e.Indicator.type)&&(a=n=0),t.Values=mt(t.Values);var v=t.High,b=t.Low,y=t.Values.length;if(e.PxPointY=(e.HeightPx-n-a)/(v-b),s=Fi[0].PxPointX,o=$i.paddingLeft+$i.padBarCandle,vt(g,e.HeightPx,o,v+n/e.PxPointY,e.PxPointY),h=o-1,e.V0=Math.round(e.PxPointY*v)+n,e.Bars={},"roc"==e.Indicator.type||"rsi"==e.Indicator.type){switch(g.beginPath(),g.strokeStyle="#99ccff",e.Indicator.type){case"roc":d=100;break;case"rsi":d=50}g.moveTo($i.paddingLeft,e.V0-Math.round(d*e.PxPointY)+.5),g.lineTo($i.widthGraph-$i.paddingRight,e.V0-Math.round(d*e.PxPointY)+.5),g.stroke()}for("wto"==e.Indicator.type&&(g.beginPath(),g.strokeStyle="rgba(255,0,0,0.7)",g.moveTo($i.paddingLeft,e.V0-Math.round(53*e.PxPointY)+.5),g.lineTo($i.widthGraph-$i.paddingRight,e.V0-Math.round(53*e.PxPointY)+.5),g.stroke(),g.beginPath(),g.strokeStyle="rgba(0,128,0,0.7)",g.moveTo($i.paddingLeft,e.V0-Math.round(-53*e.PxPointY)+.5),g.lineTo($i.widthGraph-$i.paddingRight,e.V0-Math.round(-53*e.PxPointY)+.5),g.stroke()),g.strokeStyle=e.Indicator.v1?"transparent":e.Indicator.color,g.beginPath(),u=0,g.moveTo(o,e.V0-Math.round(t.Values[0].v1*e.PxPointY)),r=1;r<y;r++)null!=t.Values[r]&&null!=t.Values[r].v1&&(2<=(l=Math.round(r*s+o))-h&&(g.lineTo(l,e.V0-Math.round(t.Values[r].v1*e.PxPointY)),h=l),e.Bars[t.Values[r].d]="aroon"==e.Indicator.type?[t.Values[r].v1,t.Values[r].v2]:t.Values[r].v1,c=r);if(null!=c&&(e.Bars[0]=t.Values[c].v1),g.save(),Pi(g,e.Indicator,1),Ei(g,1,e.Indicator),g.stroke(),g.restore(),null!=t.Values[0].v2){for(h=o-1,g.strokeStyle=e.Indicator.v2?"transparent":e.Indicator.color2,g.beginPath(),g.moveTo(o,e.V0-Math.round(t.Values[0].v2*e.PxPointY)),r=1;r<y;r++)null!=t.Values[r]&&(2<=(l=Math.round(r*s+o))-h&&(g.lineTo(l,e.V0-Math.round(t.Values[r].v2*e.PxPointY)),h=l),u=t.Values[r].v2);g.save(),Pi(g,e.Indicator,2),Ei(g,2,e.Indicator),g.stroke(),g.restore()}if("dmi"==e.Indicator.type){for(g.strokeStyle=e.Indicator.v3?"transparent":e.Indicator.color3,g.beginPath(),g.moveTo(o,e.V0-Math.round(t.Values[0].v3*e.PxPointY)),r=0;r<y;r++)null!=t.Values[r]&&(l=Math.round(r*s+o),g.lineTo(l,e.V0-Math.round(t.Values[r].v3*e.PxPointY)));for(g.save(),Pi(g,e.Indicator,3),Ei(g,3,e.Indicator),g.stroke(),g.restore(),e.Bars={},r=0;r<y;r++)null!=t.Values[r]&&(e.Bars[t.Values[r].d]=[t.Values[r].v1,t.Values[r].v2,t.Values[r].v3],c=r);null!=c&&(e.Bars[0]=t.Values[c].v1)}if("macd"==e.Indicator.type||"macdzl"==e.Indicator.type||"wto"==e.Indicator.type){for(h=o-1,g.beginPath(),g.moveTo(o,e.V0),p=e.Indicator.v3?"transparent":null!=e.Indicator.color3?e.Indicator.color3:p=hexToRgb(rgb2hex(e.Indicator.color2),.5),g.strokeStyle=p,e.Bars={},r=0;r<y;r++)null!=t.Values[r]&&(2<=(l=Math.round(r*s+o))-h&&(g.lineTo(l,e.V0-Math.round((t.Values[r].v1-t.Values[r].v2)*e.PxPointY)),h=l),c=r,e.Bars[t.Values[r].d]=t.Values[r].v1-t.Values[r].v2);null!=c&&(e.Bars[0]=t.Values[c].v1),g.stroke(),g.lineTo(l,e.V0),g.lineTo(o,e.V0),g.fillStyle=p,g.fill()}Ut(g,e,t.Values,o,s),null!=Qi(e.Indicator.type).sb&&(f=null!=e.Indicator.sh?e.Indicator.sh:Qi(e.Indicator.type).sh,m=null!=e.Indicator.sb?e.Indicator.sb:Qi(e.Indicator.type).sb,9999!=e.Indicator.sh&&(g.beginPath(),3==e.Indicator.shs&&(g.lineWidth=3),g.strokeStyle="rgba(255,0,0,0.5)",g.moveTo($i.paddingLeft,Math.round(e.V0-f*e.PxPointY)+.5),g.lineTo($i.widthGraph-$i.paddingRight,Math.round(e.V0-f*e.PxPointY)+.5),g.stroke(),(null==e.Indicator.shs||1==e.Indicator.shs)&&(g.fillStyle="rgba(255,0,0,0.15)",g.fillRect($i.paddingLeft,1,$i.innerWidth,e.V0-Math.round(f*e.PxPointY)))),9999!=e.Indicator.sb&&(g.beginPath(),g.lineWidth=3==e.Indicator.sbs?3:1,g.strokeStyle="rgba(0,128,0,0.5)",g.moveTo($i.paddingLeft,Math.round(e.V0-m*e.PxPointY)+.5),g.lineTo($i.widthGraph-$i.paddingRight,Math.round(e.V0-m*e.PxPointY)+.5),g.stroke(),(null==e.Indicator.sbs||1==e.Indicator.sbs)&&(g.fillStyle="rgba(0,128,0,0.15)",g.fillRect($i.paddingLeft,e.V0-Math.round(m*e.PxPointY),$i.innerWidth,e.V0-Math.round(m*e.PxPointY)))),g.lineWidth=1),$i.set.nosticky||(0!=u&&bt(g,e.V0,u,e.PxPointY,e.Indicator.color2),bt(g,e.V0,e.Bars[0]||"",e.PxPointY,e.Indicator.color))}}function At(){var t,e=$i.histoLength;switch(e<=20?e=e+" JOUR"+(1!=e?"S":""):e<365?(e=Math.round(e/30),e+=" MOIS"):e=(e=Math.round(e/365))+" AN"+(1!=e?"S":""),t=$i.chartPeriod){case 0:t="JOUR";break;case 7:t="HEBDO";break;case 30:t="MENSUEL";break;case 365:t="ANNUEL";break;default:t=-60<=t?Math.abs(t)+" MINUTE"+(-1!=t?"S":""):Math.round(t/-60)+" HEURES"}nn.qstxt(Dt("#eod_topinfo-")+" span:last-child",e+" - "+t)}function kt(t){zi={},Fi=[],le(),t||"function"==typeof stopTimers&&stopTimers()}function Dt(t){return t+Hi.callID}function Pt(t,e){var i,n,a,s,o;if(i=e?t.type:t,qi.flagSave=!0,ee(),$i.mainChart.typedef.nolinearX){if(Wi.maxX=0,Wi.minX=0,Wi.minY=Gi.Low,Wi.maxY=Gi.High,$i.isCompare&&null!=qi.datas2&&pt(Gi.High,Gi.Low,qi.datas2.High,qi.datas2.Low,Gi.QuoteTab[0].c,qi.datas2.QuoteTab[0].c),$i.mainChart.type=i,$i.mainChart.typedef=Qi(i),e&&($i.mainChart=Zi($i.mainChart,t)),1<Fi.length&&Fi.splice(0,1),$i.mainChart.typedef.nolinearX)return void Qt();for(1!=$i.histoLength||$i.set.noVeilleIntra||((n=Gi.qv.c)>Wi.maxY&&(Wi.maxY=n),n<Wi.minY&&(Wi.minY=n)),s=Fi.length,a=0;a<s;a++)Fi[a].Bars=0==a?[]:{},delete Fi[a].canvas,delete Fi[a].ctx;return o=tn(Fi),kt(!0),lt(o),At(),Q(),void l()}$i.mainChart.type=i,$i.mainChart.typedef=Qi(i),e&&($i.mainChart=Zi($i.mainChart,t)),$i.mainChart.typedef.nolinearX?Qt():Q()}function Et(t){t.preventDefault(),It(),Xi.ctx.clearRect(0,0,Xi.cvs.width,Xi.cvs.height)}function _t(t){var e;13==(t.which?t.which:t.keyCode)&&(e=this.value,Bt(parseFloat(e.replace(/,/g,"."))))}function Nt(t){t.preventDefault(),Xi.isMove=!0,["touchmove","mousemove"].forEach(function(t){document.addEventListener(t,Lt)}),["touchend","mouseup"].forEach(function(t){nn.gi("ordertype").addEventListener(t,Ot),document.addEventListener(t,Ot)})}function Lt(t){var e,i,n;t.preventDefault(),Xi.isMove&&(e=pointerEventToXY(t),i=parseInt(e.y-Xi.oft.top),n=parseInt(e.x-Xi.oft.left),i<$i.paddingTop||i>Fi[0].HeightPx+$i.paddingTop||Bt(new ke(n,i-$i.paddingTop).y))}function Ot(t){t.preventDefault(),Xi.isMove=!1,["touchmove","mousemove"].forEach(function(t){document.removeEventListener(t,Lt)}),["touchend","mouseup"].forEach(function(t){nn.gi("ordertype").removeEventListener(t,Ot),document.removeEventListener(t,Ot)})}function It(){var t=nn.gi("orderzn");null!=t&&null!=t.offsetParent&&(Xi.ctx.clearRect(0,0,Xi.cvs.width,Xi.cvs.height),["touchstart","mousedown"].forEach(function(t){nn.gi("ordertype").removeEventListener(t,Nt)}),["touchend","mouseup"].forEach(function(t){document.removeEventListener(t,Ot)}),nn.gi("orderlevel").removeEventListener("keydown",_t),Hi.clickHandler.forEach(function(t){nn.qs(".closeorder").removeEventListener(t,Et)}),Xi.popup.style.display="none",Hi.doc.parentNode.insertBefore(Xi.popup,Hi.doc.nextSibling),l())}function Bt(t){var e,i,n,a,s,o,r,l,h,c;Xi.ctx.clearRect(0,0,Xi.cvs.width,Xi.cvs.height),(e=t)>Wi.maxY&&(t=Wi.maxY),t<Wi.minY&&(t=Wi.minY),n=(i=yt(t,$i.logData)+$i.paddingTop)+1,Xi.ctx.beginPath(),Xi.ctx.moveTo($i.paddingLeft,i),Xi.ctx.lineTo(Xi.cvs.width-$i.paddingRight,i),Xi.ctx.stroke(),Xi.popup.style.top=n+"px",nn.gi("orderlevel").value=formatDecimales(e),o=Xi.last,r=t,l=Xi.sens,h={t:"limité",c:"limit"},c={t:"seuil de déclenchement",c:"stop"},a="buy"==l?r<=o?h:c:o<=r?h:c,null!=(s=nn.gi("ordertype"))&&(s.textContent=a.t,s.setAttribute("order",a.c))}function Rt(){var t=new XMLHttpRequest;t.open("POST",VGP.urlWS+"TraceDeleteSymbol",!0),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.send(JSON.stringify({userid:VGP.userID,symbol:$i.symbol}))}function Ht(e,i,n){var a,t="GetCalendar";"actu"==n&&(t="GetNewsList"),le(),(a=new XMLHttpRequest).open("POST",VGP.urlWS+t,!0),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.onload=function(){if(200<=a.status&&a.status<400){var t=JSON.parse(a.responseText);null!=t&&null!=t.d?(qi.fiEvt=t.d,zt(e,!1,i,!1,n)):qi.fiEvt="no",l()}},a.send(JSON.stringify({symbol:$i.symbol}))}function $t(t,e,i,n,a,s){var o,r,l;if(Fi[0].Bars[n+1]=null,!(0<=$i.chartPeriod)&&null!=Wi.qv&&null!=Wi.qd){var h,c,d=new Date;if(c=30<d.getFullYear().toString().substring(2,4)+padLeft(d.getMonth()+1,"00")+padLeft(d.getDate(),"00")+padLeft(60*d.getHours()+d.getMinutes(),"0000")-Gi.QuoteTab[Gi.QuoteTab.length-1].d?Wi.qd:Wi.qv,(r=Gi.QuoteTab.length)<3)l=Gi.QuoteTab[0].d;else for(o=r-1;0<o;o--)if(480<Gi.QuoteTab[o].d-Gi.QuoteTab[o-1].d){l=Gi.QuoteTab[o].d;break}null==l&&(l=Gi.QuoteTab[0].d),h=new tt(l,0,0);var u=Fi[0].ctx,p=(c.h+c.l+c.c)/3,f=2*p-c.l,m=p+(c.h-c.l),g=2*p-c.h,v=p-(c.h-c.l),b=h.mx+$i.paddingLeft;u.save(),t.v1||Vt(u,t.color,b,p,1,s),t.v2||(Vt(u,t.color2,b,g,1,s),Vt(u,t.color2,b,v,2,s)),t.v3||(Vt(u,t.color3,b,f,1,s),Vt(u,t.color3,b,m,2,s)),u.restore()}}function Vt(t,e,i,n,a,s){var o=yt(n,s)+.5*a,r=$i;t.lineWidth=a,t.beginPath(),t.strokeStyle=e,t.moveTo(i,o),t.lineTo(r.widthGraph-r.paddingRight,o),t.fillStyle=rgb2hex(e),t.fillText(n.toFixed(2),r.widthGraph-r.paddingRight-47,o-3),t.stroke()}function Gt(t,e,i,n,a,s){var o,r,l,h,c,d,u,p,f,m,g,v={},b=Fi[0];if(b.Bars[n+1]={},null!=(o=RODTA.computeIchimoku(Gi.QuoteTab,t.param1,t.param2,$i.chartPeriod))){for(o.Values=mt(o.Values),r=o.Values.length,l=b.ctx,u=1;u<6;u++)if(!t[p="v"+u]){for(l.save(),l.strokeStyle=1==u?t.color:t["color"+u],5==u?null!=t.s5?Ei(l,5,t):Ei(l,3):Ei(l,u,t),l.beginPath(),Pi(l,t,u),d=yt(o.Values[0][p],s),l.moveTo(e,d+.5),c=1;c<r;c++)null!=(m=o.Values[c])&&null!=m[p]&&(h=Math.round(c*b.PxPointX+e),d=yt(m[p],s),l.lineTo(h+.5,d+.5),1==u&&(v[m.d]=[m.v1,m.v2],f=c));l.stroke(),l.restore()}if(null!=f&&(m=o.Values[f],v[0]=[m.v1,m.v2]),b.Bars[n+1]=v,!t.v6){for(l.save(),null!=t.color6?(l.strokeStyle=t.color6,l.fillStyle=t.color6):(l.strokeStyle=hexToRgb(rgb2hex(t.color4),.3),l.fillStyle=hexToRgb(rgb2hex(t.color4),.3)),l.beginPath(),g=!1,c=r-1;0<=c;c--)null!=o.Values[c]&&null!=o.Values[c].v6&&(d=yt(o.Values[c].v6,s),g?(h=Math.round(c*b.PxPointX+e),l.lineTo(h+.5,d+.5)):(l.moveTo(Math.round(c*b.PxPointX+e)+.5,d+.5),g=!0));for(c=0;c<r;c++)null!=o.Values[c]&&(h=Math.round(c*b.PxPointX+e),d=yt(o.Values[c].v7,s),l.lineTo(h+.5,d+.5));l.closePath(),l.stroke(),l.fill(),l.restore()}}}function Ft(t,e,i,n){var a,s,o,r,l,h,c,d,u,p,f,m=qi.datas2.QuoteTab,g={},v=Fi[0];if(v.Bars[n+1]={},!t.v1){for(a=m.length,(s=v.ctx).strokeStyle=t.color,s.save(),s.beginPath(),l=v.PxPointY*Gi.QuoteTab[Wi.minX].c,h=Math.round((v.V0-Gi.QuoteTab[Wi.minX].c)*v.PxPointY),s.moveTo(e,h),Pi(s,t,1),Ei(s,1,t),r=c=0;r<a;r++)null!=m[r]&&null!=v.Bars[0][m[r].d]&&(u=v.Bars[0][m[r].d].i,o=Math.round(u*v.PxPointX+e),0==c?c=m[r].c:(d=(m[r].c-c)/c,s.lineTo(o+.5,h-d*l),g[m[r].d]=m[r].c,p=r));null!=p&&(g[0]=m[p].c),v.Bars[n+1]=g,s.stroke(),s.restore(),$i.set.nosticky||0==a||(f=v.V0-(h-d*l)/v.PxPointY,bt(s,v.V0,f,v.PxPointY,t.color,!0,null))}}function Yt(t,e,i,n,a,s){var o,r,l,h,c,d,u,p,f,m,g,v,b={},y=Fi[0];if(y.Bars[n+1]={},(o=RODTA.computeSupertrend(Gi.QuoteTab,t.param1,t.param2)).Values=mt(o.Values),null!=o.Values){for(r=o.Values.length,l=y.ctx,u=1;u<3;u++)if(p=!0,!t[f="v"+u]){for(l.save(),l.beginPath(),d=yt(o.Values[0][f],s),l.moveTo(e,d+.5),Pi(l,t,u),l.strokeStyle=1==u?t.color:t.color2,c=1;c<r;c++)null!=(m=o.Values[c])&&(0==m[f]?(p&&l.stroke(),p=!1):(b[m.d]=m[f],g=c,v=f,h=Math.round(c*y.PxPointX+e),d=yt(m[f],s),p?l.lineTo(h+.5,d+.5):(l.beginPath(),l.moveTo(h+.5,d+.5),p=!0)));p&&l.stroke(),l.restore()}null!=g&&(b[0]=o.Values[g][v]),y.Bars[n+1]=b}}function Wt(t,e,i,n,a,s){var o,r,l,h,c,d,u,p,f,m=RODTA.computeHighLow(Gi.QuoteTab,t.param1),g={},v=Fi[0];if(v.Bars[n+1]={},null==m)return null;for(o=v.ctx,m.Values=mt(m.Values),f=m.Values.length,c=1;c<3;c++)if(!t[d="v"+c])for(o.fillStyle=1==c?t.color:t.color2,l=0;l<f;l++)null!=m.Values[l]&&(r=Math.round(l*v.PxPointX+e),0!=m.Values[l][d]&&(o.beginPath(),h=yt(m.Values[l][d],s),o.arc(r,h,3,0,2*Math.PI),o.fill(),g[m.Values[l].d]=m.Values[l][d],u=l,p=d));null!=u&&(g[0]=m.Values[u][p]),v.Bars[n+1]=g}function jt(t,e,i,n,a,s){var o,r,l,h,c,d,u,p,f,m=RODTA.computeSAR(Gi.QuoteTab,t.param1,t.param2),g={},v=Fi[0];if(v.Bars[n+1]={},m.Values=mt(m.Values),!((o=m.Values.length)<5)){for(r=v.ctx,d=1;d<3;d++)if(!t[u="v"+d])for(r.fillStyle=1==d?t.color:t.color2,h=5;h<o;h++)null!=m.Values[h]&&(l=Math.round(h*v.PxPointX+e),0!=m.Values[h][u]&&(r.beginPath(),c=yt(m.Values[h][u],s),r.arc(l,c,2,0,2*Math.PI),r.fill(),g[m.Values[h].d]=m.Values[h][u],p=h,f=u));null!=p&&(g[0]=m.Values[p][f]),v.Bars[n+1]=g}}function zt(t,e,i,n,a){var s,o;if("no"!=qi.fiEvt){if(0==qi.fiEvt.length)return void(qi.fiEvt="no");var r,l,h=[],c=Fi[0];lang.l_fievents;"actu"==a&&lang.l_actus,c.Bars[i+1]=[];var d=Gi.QuoteTab[Wi.minX].d,u=Gi.QuoteTab[Gi.QuoteTab.length-1].d,p=qi.fiEvt.length;for(r=0;r<p;r++){if(qi.fiEvt[r].d>d&&qi.fiEvt[r].d<=u)if(null!=c.Bars[0][qi.fiEvt[r].d])h[c.Bars[0][qi.fiEvt[r].d].i]={i:r,evt:qi.fiEvt[r].evt};else for(l=Wi.minX;l<=Wi.maxX;l++)if(null!=Gi.QuoteTab[l]&&Gi.QuoteTab[l].d>=qi.fiEvt[r].d){h[c.Bars[0][Gi.QuoteTab[l].d].i]={i:r,evt:qi.fiEvt[r].evt};break}qi.fiEvt[r].d>d&&qi.fiEvt[r].d>u&&null!=c.Bars[0][u]&&(s=qi.fiEvt[r].d-Gi.QuoteTab[Gi.QuoteTab.length-1].d,s=0!=$i.chartPeriod?Math.round(s/$i.chartPeriod):Math.round(5*s/7),(o=c.Bars[0][u].i+s)<=Wi.maxX-s+2&&(h[o]={i:r,evt:qi.fiEvt[r].evt}))}var f,m=c.ctx,g=c.HeightPx-15,v=h.length;if(null!=v)for(r=1;r<v;r++)if(null!=h[r]){switch(f=Math.round(r*c.PxPointX+t),qi.fiEvt[h[r].i].px=f,m.beginPath(),m.lineWidth=2,h[r].evt){case"A":case"R":m.fillStyle="#ffd5d6",m.strokeStyle="#c00000";break;case"D":m.fillStyle="#d5d6ff",m.strokeStyle="#000080";break;case"C":m.fillStyle="#c0ffc0",m.strokeStyle="#008000";break;case"S":m.fillStyle="#ffc0ff",m.strokeStyle="#800080"}m.arc(f,g,10,0,2*Math.PI),m.stroke(),m.fill(),m.beginPath(),m.lineWidth=1,m.moveTo(f+.5,g+10),m.lineTo(f+.5,g+15),m.stroke(),m.fillStyle=m.strokeStyle,m.fillText(h[r].evt,f-3,g+3)}}}function Xt(t,e){var i,n=t.length-e;for(n<0&&(n=0),i=n;0<=i;i--)if(null!=t[i])return t[i]}function Ut(t,e,i,n,a){if(null!=i[0].vm){var s,o,r=n-1,l=i.length,h=e.V0;for("volume"==e.Indicator.type&&(h=e.HeightPx),t.strokeStyle=e.Indicator.mmColor,t.beginPath(),t.moveTo(n,h-Math.round(i[0].vm*e.PxPointY)),o=1;o<l;o++)null!=i[o]&&(2<=(s=Math.round(o*a+n))-r&&(t.lineTo(s,h-Math.round(i[o].vm*e.PxPointY)),r=s));t.stroke()}}function qt(t){var e,i;return-1!=t.indexOf("#")?3==(e=t.substring(1)).length&&(e+=e):e=rgb2hex(t).substring(1),130<.2126*((i=parseInt(e,16))>>16&255)+.7152*(i>>8&255)+.0722*(i>>0&255)?"#000":"#fff"}function Qt(){var t,e,i,n;for(nn.idempty(Dt("")),e=Fi.length,zi={},t=0;t<e;t++)Fi[t].Bars=0==t?[]:{},delete Fi[t].canvas,delete Fi[t].ctx;for(le(),Wi.maxY=Gi.High,Wi.minY=Gi.Low,at("rodgraph",Hi.doc),Hi.ctxback=nn.gi(Dt("rodgraph-")).getContext("2d"),st(),VGP.chartSimple||(at("topinfo",Hi.doc),at("mainci",Hi.doc)),i=tn(Fi),Fi=[],new re(0,1,$i.mainChart.type,"main",0).Create(),n=i.length,t=0;t<n;t++)Fi.push(i[t]);Fi[0].DrawEncadre(),VGP.chartSimple||(at("overlay",Hi.doc),at("trace",Hi.doc),nn.qstxt(Dt("#eod_topinfo-")+" span",Gi.Name)),At(),Zt(!0),ut(),l()}function Zt(t){var e,i,n,a,s,o,r,l,h,c,d,u,p,f,m,g,v,b,y,x,w,T,C,S,M,A=$i,k=A.mainChart.typedef.param1,D="",P=Fi[0];switch(zi={},i="c",null!=A.mainChart.typedef.source&&(i=A.mainChart.typedef.source),A.mainChart.type){case"renko":if(null==k&&(k=+((Gi.High-Gi.Low)/20).toFixed(2)),!(e=Ii(Gi,D=k,i)))return;(700<e.QuoteTab.length||e.QuoteTab.length<5)&&(k=+((Gi.High-Gi.Low)/20).toFixed(2),e=Ii(Gi,k,i));break;case"line break":(5<k||k<1||null==k)&&(k=2),e=function(t,n,e){function i(t,e){var i;if(1==t)for(i=Math.min(p[e-1].l,p[e-2].l),i=p[e-n].l,c=1;c<n;c++)p[e-c].l<i&&(i=p[e-c].l);else for(i=p[e-n].h,c=1;c<n;c++)p[e-c].h>i&&(i=p[e-c].h);return i}var a,s,o,r,l,h,c,d,u={QuoteTab:t.QuoteTab},p=[],f=u.QuoteTab.length;if(5<n&&(n=5),f-5<n)return!1;for(o=gs(u.QuoteTab[0],e),r=gs(u.QuoteTab[0],e),a=1;a<n;a++)gs(u.QuoteTab[a],e)>r&&(r=gs(u.QuoteTab[a],e)),gs(u.QuoteTab[a],e)<o&&(o=gs(u.QuoteTab[a],e));for(gs(u.QuoteTab[n-1],e)>gs(u.QuoteTab[0],e)?(s=1,l=o):(s=0,l=r),a=0;a<n;a++)p.push({d:u.QuoteTab[a].d,l:o,h:r,s:s,c:u.QuoteTab[a].c});for(a=n;a<f;a++)if(h=p.length,d=u.QuoteTab[a],0==s){if(l=i(0,h),gs(d,e)>l){s=1,p.push({d:d.d,l:p[h-1].h,h:gs(d,e),s:1,c:d.c});continue}if(d.c<p[h-1].l){s=0,p.push({d:d.d,l:gs(d,e),h:p[h-1].l,s:0,c:d.c});continue}}else{if(l=i(1,h),gs(d,e)<l){s=0,p.push({d:d.d,l:gs(d,e),h:p[h-1].l,s:0,c:d.c});continue}if(gs(d,e)>p[h-1].h){s=1,p.push({d:d.d,l:p[h-1].h,h:gs(d,e),s:1,c:d.c});continue}}return p.splice(0,n-1),1==p.length&&(p=[]),{Name:t.Name,High:t.High,Low:t.Low,QuoteTab:p}}(Gi,D=k,i);break;case"kagi":null==k&&(k=+((Gi.High-Gi.Low)/30).toFixed(2)),e=function(t,e,i){var n,a,s,o,r,l,h,c,d,u,p={QuoteTab:t.QuoteTab},f=[],m=p.QuoteTab.length;if(m<5)return!1;for(gs(p.QuoteTab[1],i)>gs(p.QuoteTab[0],i)?(s=gs(p.QuoteTab[0],i),o=gs(p.QuoteTab[1],i),f.push({d:p.QuoteTab[0].d,l1:s,h1:o,c:p.QuoteTab[0].c,s:1}),a=1,r=!0,l=gs(p.QuoteTab[0],i)):(s=gs(p.QuoteTab[1],i),o=gs(p.QuoteTab[0],i),f.push({d:p.QuoteTab[0].d,l2:s,h2:o,c:p.QuoteTab[0].c,s:0}),r=!1,h=gs(p.QuoteTab[a=0],i)),n=2;n<m;n++)d=gs(p.QuoteTab[n],i),u=f.length-1,1==a&&r?(0<(c=d-f[u].h1)&&(f[u].h1=d,o=d),c<0&&c<-e&&(h=o,f.push({d:p.QuoteTab[n].d,l1:Math.max(d,l),h1:o,c:d,s:0}),d<l&&(f[f.length-1].l2=d,f[f.length-1].h2=l,a=0),r=!1,s=d)):1!=a||r?0!=a||r?0==a&&r&&((c=d-f[u].h2)<-e&&(f.push({d:p.QuoteTab[n].d,l2:d,h2:o,c:d,s:0}),a=0,r=!1,s=d,h=o),0<c&&(f[u].h2=Math.min(d,h),h<d&&(f[u].l1=h,f[u].h1=d,a=1),o=d)):((c=d-f[u].l2)<0&&(f[u].l2=d,s=d),0<c&&e<c&&(l=s,f.push({d:p.QuoteTab[n].d,l2:s,h2:Math.min(d,h),c:d,s:1}),h<d&&(f[f.length-1].l1=h,f[f.length-1].h1=d,a=1),r=!0,o=d)):(c=d-f[u].l1,e<c&&(f.push({d:p.QuoteTab[n].d,l1:s,h1:d,c:d,s:1}),a=1,r=!0,l=s,o=d),c<0&&(f[u].l1=Math.max(d,l),d<l&&(f[u].l2=d,f[u].h2=l,a=0),s=d));return{Name:t.Name,High:t.High,Low:t.Low,QuoteTab:f}}(Gi,k,i),D=k;break;case"equivolume":e=Gi;break;case"point figure":null==k&&(k=((Gi.High-Gi.Low)/50).toFixed(2)),null==(n=A.mainChart.typedef.param2)&&(n=3),e=function(t,e,i,n){var a,s,o,r={QuoteTab:t.QuoteTab},l=[],h=r.QuoteTab.length;if(h<3||e<=0||i<=1)return!1;var c,d=gs(r.QuoteTab[0],n),u=!0,p=r.QuoteTab[0].d;for(a=1;a<h;a++){if(c=gs(r.QuoteTab[a],n)-d,e<=c){u=!0;break}if(c<=-e){u=!1;break}}for(a=s=1;a<h;a++)o=(gs(r.QuoteTab[a],n)-d)/e,u?(1<=o&&(d+=Math.floor(o)*e,s+=Math.floor(o)),o<=-i&&(l.push({d:p,f:!0,n:s,c:d}),p=r.QuoteTab[a].d,d+=Math.ceil(o)*e,u=!1,s=Math.floor(Math.abs(o)))):i<=o?(l.push({d:p,f:!1,n:s,c:d-e}),p=r.QuoteTab[a].d,d+=Math.floor(o)*e,u=!0,s=Math.floor(Math.abs(o))):o<=-1&&(d+=Math.ceil(o)*e,s+=Math.floor(Math.abs(o)));return 1!=s&&l.push({d:p,f:u,n:s,c:d}),{Name:t.Name,High:t.High,Low:t.Low,QuoteTab:l}}(Gi,k,n,i),D=k+", "+n}if(VGP.chartSimple||nn.idhtml(Dt("eod_mainchartinfos-"),'<div><span class="eod_param" data-name="'+A.mainChart.type+'"><span class="mci-p"></span> '+A.mainChart.type.toUpperCase()+" ("+D+")</span></div>"),null!=(a={Name:e.Name,High:e.High,Low:e.Low,QuoteTab:e.QuoteTab}).QuoteTab&&0!=a.QuoteTab.length){Wi.maxNL=a.QuoteTab.length,(0==Wi.maxX&&0==Wi.minX||t)&&(Wi.maxX=a.QuoteTab.length-1,Wi.minX=0),a.QuoteTab=mt(e.QuoteTab);var E,_=a.High,N=a.Low,L=a.QuoteTab.length;0==Wi.maxY&&0==Wi.minY?(Wi.maxY=_,Wi.minY=N):(_=Wi.maxY,N=Wi.minY),P.PxPointY=(P.HeightPx-57)/(_-N),P.V0=_+37/P.PxPointY;var O=P.V0,I=P.PxPointY,B=P.ctx;if(0!=L){switch((s=Math.floor(A.innerWidth/L)-1)%2==0&&s++,A.padBarCandle=s,o=A.paddingLeft+A.padBarCandle,vt(B,P.HeightPx,o,O,I),h=(A.innerWidth-2*A.padBarCandle)/(L-1),P.PxPointX=h,"equivolume"==A.mainChart.type?gt(P,!0,(a=function(t,e){for(var i,n,a,s={QuoteTab:t.QuoteTab},o=[],r=s.QuoteTab.length,l=0,h=0,c=0;c<r;c++)null!=s.QuoteTab[c]&&(h+=s.QuoteTab[c].v);for(h+=1e3*h,c=0;c<r;c++)null!=(n=s.QuoteTab[c])&&(i=Math.round(1e3*n.v/h*e),a=n.c>=n.o,o.push({d:n.d,l:n.l,h:n.h,s:a,w:i,c:n.c,cu:l,o:n.o}),l+=i);return{Name:t.Name,High:t.High,Low:t.Low,QuoteTab:o}}(a,A.innerWidth-5)).QuoteTab,!0):gt(P,!0,a.QuoteTab),ji=[],P.Bars[0]={},c={},B.save(),A.mainChart.type){case"equivolume":for(r=A.paddingLeft,E=0;E<L;E++)if(null!=(d=a.QuoteTab[E])){for(p=Math.round((O-d.l)*I),f=Math.round((O-d.h)*I),m=Math.round((O-d.c)*I),g=Math.round((O-d.o)*I),d.s?(B.fillStyle=hexToRgb(rgb2hex(A.mainChart.typedef.color),.4),B.strokeStyle=A.mainChart.typedef.color):(B.fillStyle=hexToRgb(rgb2hex(A.mainChart.typedef.color2),.4),B.strokeStyle=A.mainChart.typedef.color2),(A.mainChart.typedef.v1||!d.s)&&(A.mainChart.typedef.v2||d.s)||(B.beginPath(),B.rect(r+.5,f+.5,d.w,p-f),B.stroke(),B.fill()),B.fillStyle=d.s?hexToRgb(rgb2hex(A.mainChart.typedef.color),.8):hexToRgb(rgb2hex(A.mainChart.typedef.color2),.8),(A.mainChart.typedef.v1||!d.s)&&(A.mainChart.typedef.v2||d.s)||(B.beginPath(),B.rect(r+.5,Math.max(m,g),d.w,-Math.abs(m-g)),B.fill()),c[d.d]={c:d.c.toFixed(2),i:E},u=E,ji[Math.floor(r+d.w/2)]={d:d.d,i:E},l=r;l<=r+d.w;l++)zi[l]=d.d;r+=d.w}d=a.QuoteTab[u],c[0]={c:d.c.toFixed(2),i:u,d:d.d};break;case"point figure":for(v=Math.floor(s/2),y=Math.round(h),x=k*I,E=0;E<L;E++)if(null!=(d=a.QuoteTab[E])){if(b=Math.round((O-d.c)*I),r=Math.round(E*h+o)-v,d.f){for(B.strokeStyle=A.mainChart.typedef.color,B.beginPath(),l=0;l<d.n;l++)b+=x,A.mainChart.typedef.v1||(B.moveTo(r,b),B.lineTo(r+y,b-x),B.moveTo(r+y,b),B.lineTo(r,b-x));B.stroke()}else for(B.strokeStyle=A.mainChart.typedef.color2,l=0;l<d.n;l++)b-=x,A.mainChart.typedef.v2||(B.save(),B.beginPath(),B.translate(r,b),B.scale(y/2,x/2),B.arc(1,1,1,0,2*Math.PI,!1),B.restore(),B.stroke());for(c[d.d]={c:d.c.toFixed(2),i:E},u=E,ji[Math.floor(r+v)-A.paddingLeft]={d:d.d,i:E},l=0;l<=y;l++)zi[r+l]=d.d}null!=u&&(d=a.QuoteTab[u],c[0]={c:d.c.toFixed(2),i:u,d:d.d});break;case"renko":case"line break":if(B.strokeStyle=A.mainChart.typedef.color3,v=Math.floor(s/2),!A.mainChart.typedef.v1){for(B.beginPath(),B.fillStyle=A.mainChart.typedef.color,E=0;E<L;E++)if(null!=(d=a.QuoteTab[E]))for(r=Math.round(E*h+o)-v,1==d.s&&(p=Math.round((O-d.l)*I),f=Math.round((O-d.h)*I),B.rect(r+.5,f+.5,Math.round(h),p-f)),c[d.d]={c:d.c.toFixed(2),i:E},u=E,ji[Math.floor(r+v)-A.paddingLeft]={d:d.d,i:E},l=-v;l<=v;l++)zi[r+l]=d.d;d=a.QuoteTab[u],c[0]={c:d.c.toFixed(2),i:u,d:d.d},A.mainChart.typedef.v3&&(B.strokeStyle=A.mainChart.typedef.color),B.stroke(),B.fill()}if(!A.mainChart.typedef.v2){for(B.beginPath(),B.fillStyle=A.mainChart.typedef.color2,E=0;E<L;E++)null!=(d=a.QuoteTab[E])&&(r=Math.round(E*h+o)-v,0==d.s&&(p=Math.round((O-d.l)*I),f=Math.round((O-d.h)*I),B.rect(r+.5,f+.5,Math.round(h),p-f)));A.mainChart.typedef.v3&&(B.strokeStyle=A.mainChart.typedef.color2),B.stroke(),B.fill()}break;case"kagi":for(B.lineWidth=3,E=0;E<L;E++)if(null!=(d=a.QuoteTab[E]))for(M=Math.round(E*h+o)-s+.5,r=Math.round((E+1)*h+o)-s+.5,w=Math.round((O-d.l1)*I)+.5,T=Math.round((O-d.h1)*I)+.5,C=Math.round((O-d.l2)*I)+.5,S=Math.round((O-d.h2)*I)+.5,null!=d.l1&&null!=d.l2&&(1==d.s?(A.mainChart.typedef.v2||(B.beginPath(),B.strokeStyle=A.mainChart.typedef.color2,B.moveTo(M,C),B.lineTo(r,C),B.lineTo(r,S-1),B.stroke()),A.mainChart.typedef.v1||(B.beginPath(),B.strokeStyle=A.mainChart.typedef.color,B.moveTo(r,w),B.lineTo(r,T-1.5),B.stroke())):(A.mainChart.typedef.v1||(B.beginPath(),B.strokeStyle=A.mainChart.typedef.color,B.moveTo(M,T),B.lineTo(r,T),B.lineTo(r,w+1),B.stroke()),A.mainChart.typedef.v2||(B.beginPath(),B.strokeStyle=A.mainChart.typedef.color2,B.moveTo(r,S),B.lineTo(r,C+1.5),B.stroke()))),null==d.l2&&(A.mainChart.typedef.v1||(B.beginPath(),B.strokeStyle=A.mainChart.typedef.color,1==d.s?(B.moveTo(M,w),B.lineTo(r,w),B.lineTo(r,T-1.5)):(B.moveTo(M,T),B.lineTo(r,T),B.lineTo(r,w+1.5)),B.stroke())),null==d.l1&&(A.mainChart.typedef.v2||(B.beginPath(),B.strokeStyle=A.mainChart.typedef.color2,1==d.s?(B.moveTo(M,C),B.lineTo(r,C),B.lineTo(r,S-1.5)):(B.moveTo(M,S),B.lineTo(r,S),B.lineTo(r,C+1.5)),B.stroke())),c[d.d]={c:d.c.toFixed(2),i:E},u=E,ji[Math.floor(r-.5)-A.paddingLeft]={d:d.d,i:E},l=M-.5;l<=r-.5;l++)zi[l]=d.d;d=a.QuoteTab[u],c[0]={c:d.c.toFixed(2),i:u,d:d.d}}B.restore(),P.Bars[0]=c,0!=L&&null!=c[0]&&"point figure"!=A.mainChart.type&&(A.set.nohighlow||(bt(B,O,a.High,I,"rgba(0, 128, 0, 1)",!0),bt(B,O,a.Low,I,"rgba(192, 0, 0, 1)",!0)),A.set.nosticky||bt(B,O,c[0].c,I,null,!0))}}}function Kt(t,e,i,n,a,s,o){var r,l=yt(i.l,o),h=yt(i.h,o),c=yt(i.o,o),d=yt(i.c,o);t.rect(n+.5,d+.5,e-1,c-d),r=n+.5+a,$i.mainChart.typedef.v3||(t.moveTo(r,h),t.lineTo(r,d),t.moveTo(r,c),t.lineTo(r,l)),ji[Math.floor(r)-$i.paddingLeft]={d:i.d,i:s}}function Jt(t){var e,i,n,a;if(!("none"==$i.set.splitStyle||20<$i.histoLength||$i.histoLength<=1)){for(i=Gi.QuoteTab.length,n=[],e=1;e<i;e++)480<Gi.QuoteTab[e].d-Gi.QuoteTab[e-1].d&&n.push(Gi.QuoteTab[e].d);if(!((a=n.length)<1)){var s,o,r,l=$i.set.splitColor,h=$i.paddingLeft+$i.padBarCandle,c=t.ctx;for(r=$i.paddingLeft,c.save(),c.beginPath(),"band"==$i.set.splitStyle?c.fillStyle=1==GetOpacity(l)?hexToRgb(rgb2hex(l),.2):l:(c.strokeStyle=rgb2hex(l),Ei(c,2)),e=0;e<a;e++)null!=Fi[0].Bars[0][n[e]]&&(s=Fi[0].Bars[0][n[e]].i,o=Math.round(s*Fi[0].PxPointX+h)+.5,"band"==$i.set.splitStyle?(e%2==0&&(c.fillStyle=hexToRgb(rgb2hex(l),.2),c.fillRect(r,0,o-r,t.HeightPx)),r=o):(c.moveTo(o,0),c.lineTo(o,t.HeightPx)));"band"==$i.set.splitStyle&&e%2==0&&c.fillRect(r,0,$i.widthGraph-$i.paddingRight-r,t.HeightPx),c.stroke(),c.restore()}}}function te(t,e,i,n,a){var s,o,r,l=document.createElement("div");for(l.setAttribute("class","infoindic"),l.style.left=i+"px",l.style.top=n+"px",null!=a&&(l.style.width=a+"px"),l.id="infoindic-"+t,11!=$i.set.fontSize&&(l.style.fontSize=$i.set.fontSize+"px"),r=["closelayericon","indicname","eodupdown"],VGP.chartSimple&&(r=["indicname"]),s=0;s<r.length;s++)(o=document.createElement("span")).setAttribute("class",r[s]),"#606060"!=$i.set.txtColor&&(o.style.color=$i.set.txtColor),"indicname"==r[s]&&(o.textContent=e),l.appendChild(o);return l}function ee(){ge(),It();var t=document.querySelector(".linemodif");null!=t&&(document.removeEventListener("keydown",Te),document.removeEventListener("keydown",we),t.getAttribute("cid")==Hi.callID&&(Pe(),nn.gi(Dt("trace-")).removeEventListener("touchend",Ae),nn.gi(Dt("trace-")).removeEventListener("mousedown",Ae),nn.clrem(["linemodif","resizehandler"]),l(),$i.isIntraday||!qi.flagSave||VGP.noAutoSaveTrace||ie())),qi.flagSave=!1}function ie(t){var e,i;return!!Ji()&&("[]"==(e=localStorage.getItem($i.symbol))||null==e?(Rt(),delete VGP.drawings[$i.symbol],!1):t?e:((i=new XMLHttpRequest).open("POST",VGP.urlWS+"TraceSaveSymbol",!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),void i.send(JSON.stringify({userid:VGP.userID,symbol:$i.symbol,content:e}))))}function ne(){var t,e,i,n,a,s=$i.heightGraph-$i.paddingBottom-$i.paddingTop,o=Fi.length;for(1<o&&(s-=$i.marginInter*(Fi.length-1)),$i.usableHeight=s,e=[0,.25,.2,.1666,.15,.13,.12][o-1],t=n=[1,.75,.6,.5002,.4,.35,.28][o-1],Fi[0].Resize(0,n,0),i=1;i<o;i++)a=Math.round(t*$i.usableHeight)+$i.paddingTop+$i.marginInter*i+5,Fi[i].Resize(t,e,i*$i.marginInter),nn.idcss(Dt("infoindic-")+i,"top",a+"px"),t+=e,2<o&&ae(i,i==o-1);nn.gi(Dt("trace-")).height=Fi[0].HeightPx}function ae(t,e){var i;i=e?'<span class="eodmoveup"/></span>':1<t?'<span class="eodmoveup" /></span><span class="eodmovedown" /></span>':'<span class="eodmovedown" /></span>',nn.qshtml(Dt("#infoindic-")+t+" .eodupdown",i)}function se(t){var e,i,n,a;for(nn.idrem(Dt("indic-")+t),nn.idrem(Dt("infoindic-")+t),(e=[])[0]=Fi[0],i=1,a=Fi.length,n=1;n<a;n++)n!=t&&(e[i]=Fi[n],nn.gi(Dt("indic-")+n).setAttribute("id",Dt("indic-")+i),nn.gi(Dt("infoindic-")+n).setAttribute("id",Dt("infoindic-")+i),nn.qsaempty(Dt("#infoindic-")+i+" .eodupdown"),i++);Fi=e,ne(),Q()}function oe(t,e,i,n,a,s,o,r,l,h,c,d){this.x0=t,this.y0=e,this.x1=i,this.y1=n,this.color=a,this.type=h,this.width=null!=r?r:1,this.style=null!=l?l:1,null!=c&&(this.h=c),null!=d&&(this.color2=d),$i.set.semilog&&null!=$i.logData&&0!=e&&2e4!=n?(this.RealY0=yt(e,$i.logData),this.RealY1=yt(n,$i.logData)):(this.RealY0=Math.round((Fi[0].V0-e)*Fi[0].PxPointY),this.RealY1=Math.round((Fi[0].V0-n)*Fi[0].PxPointY)),0==t&&0==i?(this.RealX0=0,this.RealX1=$i.widthGraph-$i.paddingRight):0==i?(this.RealX1=$i.widthGraph-$i.paddingRight,this.RealX0=s):(this.RealX0=s,this.RealX1=o)}function re(t,e,i,n,a){this.Y=t,this.RealY=Math.round(t*$i.usableHeight)+$i.paddingTop+a,this.Height=e,this.HeightPx=Math.round(e*$i.usableHeight),this.PxPointY=0,this.PxPointX=0,this.V0=0,this.id=n,this.Indicator=i,this.Bars=[]}function le(){var t,e;null!=Hi.doc&&(Hi.doc.removeEventListener("mousewheel",g),Hi.doc.removeEventListener("DOMMouseScroll",g),Hi.doc.removeEventListener("mouseleave",n),Hi.doc.removeEventListener("touchmove",a),Hi.doc.removeEventListener("mousemove",a),Hi.doc.removeEventListener("mouseup",d),Hi.doc.removeEventListener("mousedown",c),Hi.doc.removeEventListener("touchstart",c),Hi.doc.removeEventListener("touchend",d),(t=nn.gi("indicList"))&&(t.removeEventListener("mousedown",s),t.removeEventListener("touchstart",s))),Pe(),(e=nn.gi(Dt("trace-")))&&(e.removeEventListener("touchend",Ae),e.removeEventListener("mousedown",Ae)),qi.eventsActive=!1}function he(t){nn.gi("param1Automatic").addEventListener("change",function(){this.checked&&(Q(!1,!($i.mainChart.typedef["param"+t]=null)),nn.gi("mperiod"+t).value="")})}function ce(t,e,n){var i,a,s,o,r,l,h,c,d,u,p,f,m,g,v,b,y,x,w,T;if(0==nn.qsa(".params_zone").length){if(le(),(a=document.createElement("div")).id=Dt("uParams-"),a.setAttribute("class","uParams"),a.style.height="100%",a.innerHTML='<div style="top:'+$i.paddingTop+"px;left:"+$i.paddingLeft+'px" class="params_zone"><div class="params_zone_in clearfix"><img class="closeparams" /></div><div class="params_content"></div></div>',Hi.doc.appendChild(a),null!=n&&(e=Fi[n].Indicator.type),s=Qi(e),null!=n?Fi[n].Indicator=Zi(s,Fi[n].Indicator):null!=t?$i.mainChart.indicators[t]=Zi(s,$i.mainChart.indicators[t]):$i.mainChart.typedef=Zi(s,$i.mainChart.typedef),null!=s.params.p)for(r=s.params.p.length,o=0;o<r;o++){if(l=10,null==(l=null!=n?Fi[n].Indicator["param"+(o+1)]:null!=t?$i.mainChart.indicators[t]["param"+(o+1)]:$i.mainChart.typedef["param"+(o+1)])&&(l=""),(h=document.createElement("div")).setAttribute("class","clearfix pad5"),i='<div class="eod_pname">'+s.params.p[o]+'</div><input value="'+l+'" class="eod_inp" onkeypress="return isNumberLetterKey(event)" id="mperiod'+(o+1)+'" type="text" />',["renko","line break","kagi","point figure"].indexOf(e)<0){var C=2,S=100,M=1;switch(e){case"zig zag":S=20,M=C=.1;break;case"sar":C=.02,S=.06,M=.01;break;case"evmm":o+1==2&&(S=15,M=C=.1);break;case"boll":o+1==2&&(S=10,M=C=.1);break;case"lineard":o+1==2&&(S=10,M=C=.1)}h.innerHTML=i+'<div class="eod_slider"><div id="slider'+(o+1)+'" class="sliderout" min="'+C+'" max="'+S+'" step="'+M+'" value="'+l+'"></div></div>',nn.qs(".params_content").appendChild(h),me(o+1,t,n)}else"point figure"==e&&1==o?(h.innerHTML=i+"</div>",nn.qs(".params_content").appendChild(h)):(h.innerHTML=i+'<input id="param1Automatic" type="checkbox"><span>'+lang.l_automatic+"</span>",nn.qs(".params_content").appendChild(h),""==l&&(nn.gi("param1Automatic").checked=!0),he(o+1));de(o+1,t,e,n)}if(null!=s.params.c){for(c=s.params.c.length,o=0;o<c;o++){if(d="",null!=s.params.w){switch(s.params.w[o]){case"sw":d='<div id="w'+(o+1)+'" class="widthSelect w1"></div><div id="s'+(o+1)+'" class="styleSelect s2"></div>';break;case"s":d='<div id="s'+(o+1)+'" class="styleSelect s2">';break;case"w":d='<div id="w'+(o+1)+'" class="widthSelect w1">';break;case"o":d='<div id="o'+(o+1)+'" class="opSelect">'}d+="</div>"}u="",p=!1,null!=n?Fi[n].Indicator["v"+(o+1)]&&(p=!0):null!=t?$i.mainChart.indicators[t]["v"+(o+1)]&&(p=!0):$i.mainChart.typedef["v"+(o+1)]&&(p=!0),p||(u='checked="true"'),i='<input class="eod_cbv" id="v'+(o+1)+'" type="checkbox" '+u+' /><div class="eod_cname">'+s.params.c[o]+'</div><input id="color'+(o+1)+'" type="text" />'+d,(f=document.createElement("div")).setAttribute("class","clearfix pad5"),f.innerHTML=i,nn.qs(".params_content").appendChild(f),g=o+1==1?"color":"color"+(o+1),m=rgb2hex(null!=n?Fi[n].Indicator[g]:null!=t?$i.mainChart.indicators[t][g]:$i.mainChart.typedef[g]),fe(o+1,t,n,m,s.type)}!function(l,t,h){function i(t){if(t.preventDefault(),""==this.innerHTML){nn.qsarem(".widthSelect ul"),nn.qsarem(".styleSelect ul");var i,e,n,a,s=this.id,o=parseInt(s.slice(-1)),r=document.createElement("div");r.setAttribute("class","opContent"),r.innerHTML='<div class="sliderout" id="sliderO" min="0" max="100" step="1">',this.appendChild(r),i=h,n=l,a=1==(e=o)?"color":"color"+e,new Slider({wrapperEl:"#sliderO",value:50,onSlide:function(t){var e;t/=100,e=null!=i?Fi[i].Indicator[a]:null!=n?$i.mainChart.indicators[n][a]:$i.mainChart.typedef[a],pe(i,a,hexToRgb(rgb2hex(e),t),n),Z(null==i?0:i)}})}else this.innerHTML=""}function n(t){if(t.preventDefault(),"LI"==t.target.nodeName){var e=parseInt(t.target.className.slice(-1));return pe(h,this.id,e,l),this.innerHTML="",void Z(null==h?0:h)}""==this.innerHTML?(nn.qsarem(".styleSelect ul"),nn.qsarem(".widthSelect ul"),this.innerHTML=ue("w")):this.innerHTML=""}function a(t){if(t.preventDefault(),"LI"==t.target.nodeName){var e=parseInt(t.target.className.slice(-1));return pe(h,this.id,e,l),this.innerHTML="",void Z(null==h?0:h)}""==this.innerHTML?(nn.qsarem(".styleSelect ul"),nn.qsarem(".widthSelect ul"),this.innerHTML=ue("s")):this.innerHTML=""}[].forEach.call(nn.qsa(".opSelect"),function(e){Hi.clickHandler.forEach(function(t){e.addEventListener(t,i)})}),[].forEach.call(nn.qsa(".widthSelect"),function(e){Hi.clickHandler.forEach(function(t){e.addEventListener(t,n)})}),[].forEach.call(nn.qsa(".styleSelect"),function(e){Hi.clickHandler.forEach(function(t){e.addEventListener(t,a)})}),[].forEach.call(nn.qsa(".eod_cbv"),function(t){t.addEventListener("change",function(){var t=this.id,e=this.checked;null==h?(null==l?e?delete $i.mainChart.typedef[t]:$i.mainChart.typedef[t]=!0:e?delete $i.mainChart.indicators[l][t]:$i.mainChart.indicators[l][t]=!0,Z(0)):(e?delete Fi[h].Indicator[t]:Fi[h].Indicator[t]=!0,Z(h))})})}(t,0,n)}if(null!=n){if(null!=Qi(Fi[n].Indicator.type).sb){var A='<option value="1">'+lang.l_zone+'</option><option value="2">'+lang.l_traitfi+'</option><option value="3">'+lang.l_traitep+"</option>",k='<input id="cbSeuilH" checked="checked" type="checkbox" /><div class="eod_cname">'+lang.l_upperb+'</div><input id="valSeuilH" type="text" onkeypress="return isNumberLetterKey(event)" /><select id="stylSeuilH">'+A+"</select>",D='<input id="cbSeuilB" checked="checked" type="checkbox" /><div class="eod_cname">'+lang.l_lowerb+'</div><input id="valSeuilB" type="text" onkeypress="return isNumberLetterKey(event)" /><select id="stylSeuilB">'+A+"</select>",P=document.createElement("div");P.setAttribute("class","clearfix pad5"),P.innerHTML=k,(v=document.createElement("div")).setAttribute("class","clearfix pad5"),v.innerHTML=D,(b=nn.qs(".params_content")).appendChild(P),b.appendChild(v),null==Fi[n].Indicator.sh?nn.gi("valSeuilH").value=Qi(Fi[n].Indicator.type).sh:9999==Fi[n].Indicator.sh?(nn.gi("cbSeuilH").checked=!1,nn.gi("valSeuilH").disabled=!0,nn.gi("stylSeuilH").disabled=!0):(nn.gi("valSeuilH").value=Fi[n].Indicator.sh,null!=Fi[n].Indicator.shs&&(nn.gi("stylSeuilH").value=Fi[n].Indicator.shs)),null==Fi[n].Indicator.sb?nn.gi("valSeuilB").value=Qi(Fi[n].Indicator.type).sb:9999==Fi[n].Indicator.sb?(nn.gi("cbSeuilB").checked=!1,nn.gi("valSeuilB").disabled=!0,nn.gi("stylSeuilB").disabled=!0):(nn.gi("valSeuilB").value=Fi[n].Indicator.sb,null!=Fi[n].Indicator.sbs&&(nn.gi("stylSeuilB").value=Fi[n].Indicator.sbs)),nn.gi("cbSeuilH").addEventListener("change",function(){var t,e=nn.gi("valSeuilH"),i=nn.gi("stylSeuilH");this.checked?(9999==(t=Qi(Fi[n].Indicator.type).sh)&&(t=90),Fi[n].Indicator.sh=t,e.disabled=!1,e.value=t,i.disabled=!1):(Fi[n].Indicator.sh=9999,e.disabled=!0,i.disabled=!0),Z(n)}),nn.gi("cbSeuilB").addEventListener("change",function(){var t,e=nn.gi("valSeuilB"),i=nn.gi("stylSeuilB");this.checked?(9999==(t=Qi(Fi[n].Indicator.type).sb)&&(t=10),Fi[n].Indicator.sb=t,e.disabled=!1,e.value=t,i.disabled=!1):(Fi[n].Indicator.sb=9999,e.disabled=!0,i.disabled=!0),Z(n)}),nn.gi("stylSeuilH").addEventListener("change",function(){Fi[n].Indicator.shs=this.value,Z(n)}),nn.gi("stylSeuilB").addEventListener("change",function(){Fi[n].Indicator.sbs=this.value,Z(n)}),nn.gi("valSeuilH").addEventListener("keyup",function(){Fi[n].Indicator.sh=parseInt(this.value.replace(",",".")),Z(n)}),nn.gi("valSeuilB").addEventListener("keyup",function(){Fi[n].Indicator.sb=parseInt(this.value.replace(",",".")),Z(n)})}["macd","macdzl","wto","dmi","adx","macdh","sto","aroon","qstick","ewo","ppo","moonphase","awesome","vortex","kst","kvo","bop","tsi","smi","sto rsi","equity","forceindex"].indexOf(Fi[n].Indicator.type)<0&&((y=document.createElement("div")).setAttribute("class","clearfix pad5"),y.innerHTML='<input id="cbMM" type="checkbox" /><div class="eod_cname">'+lang.l_moymob+'</div><input id="colorMM" type="text" name="colorMM" value="#fe0000" /><input id="valMM" value="5" type="text" onkeypress="return isIntNumberKey(event)" />',nn.qs(".params_content").appendChild(y),x=new ColorPicker({wrapperEl:"#colorMM",value:"#fe0000",onChange:function(t){Fi[n].Indicator.mmColor=t,Z(n)}}),null!=Fi[n].Indicator.mm&&(nn.gi("cbMM").checked=!0,nn.gi("valMM").value=Fi[n].Indicator.mm,x.change(Fi[n].Indicator.mmColor)),nn.gi("cbMM").addEventListener("change",function(){var t,e=nn.gi("valMM");if(this.checked){if(e.disabled=!1,t=parseInt(e.value),isNaN(t))return;Fi[n].Indicator.mm=t,Fi[n].Indicator.mmColor=nn.gi("colorMM").value}else delete Fi[n].Indicator.mm,delete Fi[n].Indicator.mmColor,e.disabled=!0;Z(n)}),nn.gi("valMM").addEventListener("keyup",function(){var t=parseInt(this.value);isNaN(t)||(Fi[n].Indicator.mm=t,Z(n))}))}0<=["line","line2","renko","kagi","line break","mm","mme","mmp","mmh","double EMA","triple EMA","trix","bollw","bollb","boll","lineard","linearc","linearo","roc","kst","coppock","zig zag","mmt","evmm","rsi","mom","pvi","nvi","macd","macdh","std","sto rsi","point figure"].indexOf(s.type)&&((w=document.createElement("div")).innerHTML=lang.l_datasource,nn.qs(".params_content").appendChild(w),null!=s.source&&nn.qs("#datasource option[value='"+s.source+"']").setAttribute("selected","selected"),nn.gi("datasource").addEventListener("change",function(){pe(n,"source",this.value,t),Z(null==n?0:n)})),(null!=n||null!=t)&&((T=document.createElement("div")).setAttribute("class","mtb10"),T.innerHTML='<span class="lnkmsg suppressMainIndic">'+lang.l_suppindic+"</span>",nn.qs(".params_content").appendChild(T)),nn.qs(".params_zone").style.display="block",function(n,a){function i(t){t.preventDefault(),t.stopPropagation(),ge()}function e(t){"uParams"==t.target.className&&ge()}function s(t){var e,i;if(t.preventDefault(),null==a){if(e=$i.mainChart.indicators[n].type,$i.mainChart.indicators.splice(n,1),Fi[0].Bars.splice(parseInt(n)+1,1),"compare"==e)for($i.isCompare=null,qi.datas2=null,i=1;i<Fi.length;i++)"fr"==Fi[i].Indicator.type&&se(i);("evt"==e||"actu"==e)&&(qi.fiEvt=[]),Z(0)}else se(a);ge()}Hi.clickHandler.forEach(function(t){var e=nn.qs(".closeparams");e&&e.addEventListener(t,i)}),Hi.clickHandler.forEach(function(t){nn.gi(Dt("uParams-")).addEventListener(t,e)}),Hi.clickHandler.forEach(function(t){var e=nn.qs(".suppressMainIndic");e&&e.addEventListener(t,s)})}(t,n)}}function de(e,i,n,a){nn.qs(".params_zone #mperiod"+e).addEventListener("keyup",function(){var t=this.value.trim().replace(",",".");if(t=parseFloat(t),!isNaN(t)&&0!=t){switch(e){case 1:"sar"!=n&&"zig zag"!=n&&"renko"!=n&&"kagi"!=n&&"point figure"!=n&&(t=parseInt(t));break;case 2:"boll"!=n&&"evmm"!=n&&"lineard"!=n&&(t=parseInt(t));break;default:t=parseInt(t)}pe(a,"param"+e,t,i),null==a?Z(0,!0):Z(a)}})}function ue(t){for(var e="<ul>",i=1;i<5;i++)e=e+'<li class="'+t+i+'"></li>';return e+"</ul>"}function pe(t,e,i,n){null==t?null==n?$i.mainChart.typedef[e]=i:$i.mainChart.indicators[n][e]=i:Fi[t].Indicator[e]=i}function fe(n,a,s,t,e){var o=Qi(e);new ColorPicker({wrapperEl:"#color"+n,value:t,onChange:function(t){var e=1==n?"color":"color"+n,i=GetOpacity(o[e]);null==i&&(i=1),t=hexToRgb(t,i),pe(s,e,t,a),Z(null==s?0:s)}})}function me(e,i,n){var a=nn.gi("mperiod"+e);new Slider({wrapperEl:"#slider"+e,onSlide:function(t){Math.round(t)-t!=0&&(t=t.toFixed(2)),a.value=t,pe(n,"param"+e,+t,i),null==n?Z(0,!0):Z(n)}})}function ge(){null!=nn.gi(Dt("uParams-"))&&(nn.idrem(Dt("uParams-")),l())}function ve(t,e){var i,n,a,s,o=parseInt(e.parentNode.parentNode.id.slice(-1)),r=Fi[o];for("up"==t?(i=Fi[o-1].Y,Fi[o]=Fi[o-1],Fi[o-1]=r,Fi[o-1].Y=i,Fi[o].Y=i+Fi[o-1].Height):(i=Fi[o].Y,Fi[o]=Fi[o+1],Fi[o+1]=r,Fi[o].Y=i,Fi[o+1].Y=i+Fi[o].Height),a=Fi.length,n=0;n<a;n++)Fi[n].Bars=0==n?[]:{},delete Fi[n].canvas,delete Fi[n].ctx;s=tn(Fi),kt(!0),lt(s),Q(),l()}function be(t,e){return 0<=t&&t<=$i.innerWidth&&0<=e&&e<Fi[0].HeightPx+$i.paddingTop-7}function ye(t,e,i,n){for(var a=document.createElement("div"),s=i.length,o=0;o<s;o++)a.setAttribute(i[o].n,i[o].v);n&&(a.id=n),a.setAttribute("class","resizehandler"),a.style.left=t+"px",a.style.top=e+"px",Hi.doc.appendChild(a)}function xe(t){var e,i,n,a,s,o,r,l,h,c,d,u,p,f,m,g,v,b,y,x,w,T;if(ee(),b=$i,X(),y=Yi[t],(x=document.createElement("div")).setAttribute("cid",Hi.callID),x.setAttribute("onmousedown","mydragg.startMoving(this,'trace-"+Hi.callID+"',event);"),x.setAttribute("onmouseup","mydragg.stopMoving('trace-"+Hi.callID+"');"),x.setAttribute("class","linemodif"),x.setAttribute("name",t),x.style.left=b.paddingLeft+4+"px",x.style.top=b.paddingTop+4+"px",w='<div class="spg delLine" title="'+lang.l_supprimer+'"></div><input id="color1" type="text" name="color1" value="#000000" />',0<=["t","rf","r","m","fa","ef","c","arrdw","arrup","arrrt","arrlt","p"].indexOf(y.type)&&(w=w+'<span class="eod_sp10">&nbsp;</span><input id="color2" type="text" name="color2" value="'+(null!=y.color2?y.color2:"#ffffff")+'" />'),"a"!=y.type&&(w=w+'<div class="widthSelect w'+y.width+'"></div>',["rf","r","m","t","fa","arrup","arrdw","arrrt","arrlt","sm1","sm2","ewi","ewc"].indexOf(y.type)<0&&(w=w+'<div class="styleSelect s'+y.style+'"></div>')),"sr"==y.type&&(VGP.isSms&&(w=w+'<div class="spg eod_alert" title="'+lang.l_createalert+'"></div>'),w=w+'<input class="textSR" onkeypress="return isNumberKey(event)" id="srTxt" type="text" value="'+y.y0.toFixed(2)+'" /><input class="btnSR" id="srBtn" type="button" value="ok" />'),"a"==y.type&&(w=w+'<div class="fontSelect">'+y.style+'</div><input id="annotationTxt" type="text"/><input id="annotationBtn" class="btnSR" type="button" value="ok" />'),["fa","cf","mv","ewi","ewc"].indexOf(y.type)<0&&(w=w+'<div class="spg eod_copy" title="'+lang.l_dupliquer+'"></div>'),x.innerHTML=w,Hi.doc.appendChild(x),"fa"==y.type)return g=b.paddingTop-9,v=b.paddingLeft-9,e=y.RealX0+v,i=y.RealY0+g,n=y.h.B.mx+v,a=y.h.B.my+g,o=y.h.C.mx+v,s=y.h.C.my+g,be(e,i)&&ye(e,i,[{n:"name",v:t},{n:"pt",v:"A"}],"handlerfaA"),be(n,a)&&ye(n,a,[{n:"name",v:t},{n:"pt",v:"B"}],"handlerfaB"),be(o,s)&&ye(o,s,[{n:"name",v:t},{n:"pt",v:"C"}],"handlerfaC"),void Me();if("ewi"!=y.type&&"ewc"!=y.type){if("t"==y.type){g=b.paddingTop-8,v=b.paddingLeft-8,e=y.RealX0+v,i=y.RealY0+g,n=y.RealX1+v,a=y.RealY1+g,o=y.h.C.mx+v,s=y.h.C.my+g,be(e,i)&&ye(e,i,[{n:"name",v:t},{n:"pt",v:"A"}],"handlerTA"),be(n,a)&&ye(n,a,[{n:"name",v:t},{n:"pt",v:"B"}],"handlerTB"),be(o,s)&&ye(o,s,[{n:"name",v:t},{n:"pt",v:"C"}],"handlerTC");var C=Math.max(e,n,o),S=Math.min(e,n,o),M=Math.max(i,a,s),A=Math.min(i,a,s);return be(h=S+(C-S)/2,u=A+(M-A)/2)&&ye(h,u,[{n:"name",v:t}],"handler2oblic"),void Me()}if("ef"==y.type&&ye(y.RealX1+y.h+b.paddingLeft-6,y.RealY1+b.paddingTop-8,[{n:"name",v:t}],"handlerEF"),"v"==y.type)return ye(y.RealX0+b.paddingLeft-10,Math.round(Fi[0].HeightPx/2),[{n:"name",v:t}],"handlerV"),void Me();if("sr"==y.type)return ye(y.RealX0+b.paddingLeft-15,y.RealY0+b.paddingTop-9,[{n:"name",v:t}],"handlerSR"),void Me();if("c"==y.type)return p=y.RealX0+b.paddingLeft-6,f=y.RealY0+b.paddingTop-10,m=y.RealX1+b.paddingLeft-9,be(p,f)&&ye(p,f,[{n:"name",v:t}],"handler2oblic"),be(m,f)&&ye(m,f,[{n:"name",v:t}],"handlerEllipse"),void Me();0==y.x0&&0==y.x1?ye(Math.round(b.innerWidth/2),y.RealY0+b.paddingTop-9,[{n:"name",v:t}],"handlerH"):(g=b.paddingTop-9,v=b.paddingLeft-9,r=y.RealX0+v,c=y.RealY0+g,l=y.RealX1+v,d=y.RealY1+g,["a","arrup","arrdw","arrrt","arrlt","sm1","sm2"].indexOf(y.type)<0&&("an"!=y.type&&be(r,c)&&ye(r,c,[{n:"name",v:t}],"handler0oblic"),be(l,d)&&ye(l,d,[{n:"name",v:t}],"handler1oblic")),"p"==y.type?be(h=Math.round(y.RealX0+(y.RealX1-y.RealX0)/2)+v,u=Math.round(y.RealY1+(y.RealY0-y.RealY1)/2)+g+Math.round(y.h*Fi[0].PxPointY))&&ye(h,u,[{n:"name",v:t}],"handlerPara"):be(h=Math.round(y.RealX0+(y.RealX1-y.RealX0)/2)+v,u=Math.round(y.RealY1+(y.RealY0-y.RealY1)/2)+g)&&ye(h,u,[{n:"name",v:t}],"handler2oblic")),Me()}else{for(T=0;T<y.h.length;T++)be(e=y.h[T].mx+b.paddingLeft-8,i=y.h[T].my+b.paddingTop-8)&&ye(e,i,[{n:"name",v:t},{n:"pt",v:T}],"handlerEW"+T);Me()}}function we(t){"srTxt"!=t.target.id&&"annotationTxt"!=t.target.id&&(46==t.keyCode||8==t.keyCode)&&(t.preventDefault(),Ce())}function Te(t){if("srTxt"!=t.target.id&&"annotationTxt"!=t.target.id)switch(t.keyCode){case 38:t.preventDefault(),Se(0,-1);break;case 40:t.preventDefault(),Se(0,1);break;case 37:t.preventDefault(),Se(-(Math.floor(Fi[0].PxPointX)+1),0);break;case 39:t.preventDefault(),Se(1,0);break;case 46:case 8:t.preventDefault(),Ce()}}function Ce(){var t=nn.qsga(".linemodif","name");Yi.splice(t,1),K(),it($i.symbol,Yi),qi.flagSave=!0,ee()}function Se(t,e){var i,n=nn.qsga(".linemodif","name"),a=tn(Yi[n]);(0!=e||"h"!=a.type)&&(0!=t||"v"!=a.type)&&(i=Di(),Yi.splice(n,1),K(),Ai(a,wi(i.ctx,a,t,e)))}function Me(){function e(t,e){1==e?Yi[V].color=t:Yi[V].color2=t,K(),it($i.symbol,Yi)}function i(t){var e,i;t.preventDefault(),0==(e=parseFloat(nn.gi("srTxt").value.replace(",",".")))||isNaN(e)||(Yi[V].y0=e,Yi[V].y1=e,i=$i.set.semilog&&null!=$i.logData?yt(e,$i.logData):Fi[0].V0*Fi[0].PxPointY-e*Fi[0].PxPointY,Yi[V].RealY0=i,Yi[V].RealY1=i,nn.gi("handlerSR").style.top=i+$i.paddingTop-6+"px",K(),it($i.symbol,Yi))}function n(t){t.preventDefault();var e=Gi.Name+";"+$i.symbol+";"+Yi[V].y0.toFixed(3);sessionStorage.setItem("vartemp",e),qi.flagSave=!0,ee(),loadPopupHelp("graph_setalert5.aspx")}function a(t){var e,i;t.preventDefault(),e=tn(Yi[V]),"v"==Yi[V].type?(i=new ke(e.RealX0+20,0),e.x0=i.x,e.x1=i.x):(e.y0=e.y0+20/Fi[0].PxPointY,e.y1=e.y1+20/Fi[0].PxPointY),Yi.push(e),ee(),K(),it($i.symbol,Yi),xe(Yi.length-1)}function s(t){return t.preventDefault(),o(),!1}function o(){var t=nn.gi("annotationTxt").value.trim();if(""==t)return!1;t=t.replace(/,/g,"."),Yi[V].h=Ki(t),K(),it($i.symbol,Yi),ee()}function r(t){if(t.preventDefault(),"LI"==t.target.nodeName){var e=parseInt(t.target.className.slice(-1));return Yi[V].width=e,K(),it($i.symbol,Yi),this.setAttribute("class","widthSelect w"+e),void(this.innerHTML="")}""==this.innerHTML?(nn.qsarem(".styleSelect ul"),nn.qsarem(".widthSelect ul"),this.innerHTML=ue("w")):this.innerHTML=""}function l(t){if(t.preventDefault(),"LI"==t.target.nodeName){var e=parseInt(t.target.className.slice(-1));return Yi[V].style=e,K(),it($i.symbol,Yi),this.setAttribute("class","styleSelect s"+e),void(this.innerHTML="")}""==this.innerHTML?(nn.qsarem(".styleSelect ul"),nn.qsarem(".widthSelect ul"),this.innerHTML=ue("s")):this.innerHTML=""}function h(t){var e,i,n,a,s;if(t.preventDefault(),e=this.innerHTML,"LI"==t.target.nodeName)return i=parseInt(t.target.getAttribute("data-name")),Yi[V].style=i,K(),it($i.symbol,Yi),void(this.innerHTML=i);if(2<this.innerHTML.length)this.innerHTML=e;else{for(nn.qsarem(".styleSelect ul"),nn.qsarem(".fontSelect ul"),n=[0,12,16,20,24,28,32,48],a="<ul>",s=1;s<8;s++)a=a+'<li data-name="'+n[s]+'">'+n[s]+"</li>";a+="</ul>",this.innerHTML=a}}function c(t){t.preventDefault(),Ce()}function d(t){var e,i,n,a,s,o,r,l,h,c,d,u,p,f,m,g,v,b,y,x,w,T,C,S,M,A,k,D,P,E,_=t.target.id,N=tn(Yi[V]);switch(_){case"handlerfaA":case"handlerfaB":case"handlerfaC":e=t.target.getAttribute("pt"),P=N,E=e,X("c"),Ui={c:Di(),A:{mx:P.RealX0,my:P.RealY0,x:P.x0,y:P.y0},B:P.h.B,C:P.h.C,D:null,line:P,pt:E},["touchend","mouseup"].forEach(function(t){Hi.doc.addEventListener(t,Ee)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,_e)}),De("mouseup",Ee),De("mousemove",_e),De("touchend",Ee),De("touchmove",_e);break;case"handlerEW0":case"handlerEW1":case"handlerEW2":case"handlerEW3":case"handlerEW4":case"handlerEW5":e=t.target.getAttribute("pt"),k=N,D=e,X("c"),Ui={line:k,pt:D,c:Di()},["touchend","mouseup"].forEach(function(t){Hi.doc.addEventListener(t,Oe)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,Ie)}),De("mouseup",Oe),De("mousemove",Ie),De("touchend",Oe),De("touchmove",Ie);break;case"handlerTA":case"handlerTB":case"handlerTC":e=t.target.getAttribute("pt"),M=N,A=e,X("c"),Ui={line:M,pt:A,c:Di(),A:{mx:M.RealX0,my:M.RealY0,x:M.x0,y:M.y0},B:{mx:M.RealX1,my:M.RealY1,x:M.x1,y:M.y1},C:M.h.C},["touchend","mouseup"].forEach(function(t){Hi.doc.addEventListener(t,Ne)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,Le)}),De("mouseup",Ne),De("mousemove",Le),De("touchend",Ne),De("touchmove",Le);break;case"handlerEF":S=N,X("c"),Ui={c:Di(),line:S,ptb:{mx:S.RealX0,my:S.RealY0,x:S.x0,y:S.y0},pte:{mx:S.RealX1,my:S.RealY1,x:S.x1,y:S.y1},x1:Math.max(S.RealX1,S.RealX0)},["touchend","mouseup"].forEach(function(t){Hi.doc.addEventListener(t,ai)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,si)}),De("touchend",ai),De("mouseup",ai),De("mousemove",si),De("touchmove",si);break;case"handlerV":case"handlerSR":case"handlerH":C=N,Ui={c:Di(),pt:null,line:C},["touchend","mouseup"].forEach(function(t){Hi.doc.addEventListener(t,Qe)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,Ze)}),De("touchend",Qe),De("mouseup",Qe),De("mousemove",Ze),De("touchmove",Ze);break;case"handlerEllipse":Ui={line:T=N,ptb:{mx:T.RealX0,my:T.RealY0,x:T.x0,y:T.y0},pte:null,c:Di()},["touchend","mouseup"].forEach(function(t){Hi.doc.addEventListener(t,mi)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,fi)}),De("touchend",mi),De("mouseup",mi),De("mousemove",fi),De("touchmove",fi);break;case"handlerPara":w=N,Pe(),Ui={c:Di(),line:w},["touchend","mouseup"].forEach(function(t){Hi.doc.addEventListener(t,hi)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,li)}),De("touchend",hi),De("mouseup",hi),De("mousemove",li),De("touchmove",li);break;case"handler0oblic":case"handler1oblic":var L=Yi[V].RealX1,O=Yi[V].RealY1,I=Yi[V].x1;"handler1oblic"==_&&(L=Yi[V].RealX0,O=Yi[V].RealY0,I=Yi[V].x0),"p"==Yi[V].type?(Yi[V].color,f=L,m=O,g=I,v=Yi[V].width,b=Yi[V].style,y=Yi[V].h,x=Yi[V].color2,Ui={c:Di(),ptb:{mx:f,my:m,x:g},style:b,height:y*Fi[0].PxPointY,color2:x,width:v},["touchend","mouseup"].forEach(function(t){Hi.doc.addEventListener(t,ci)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,di)}),De("touchend",ci),De("mouseup",ci),De("mousemove",di),De("touchmove",di)):"rf"==Yi[V].type||"r"==Yi[V].type||"m"==Yi[V].type?(c=Yi[V],d=Yi[V].type,u=t.target.id,p="handler0oblic"==u?{x:c.x1,y:c.y1,mx:c.RealX1,my:c.RealY1}:{x:c.x0,y:c.y0,mx:c.RealX0,my:c.RealY0},Ui={c:Di(),line:c,type:d,ptb:p,target:u},["touchend","mouseup"].forEach(function(t){Hi.doc.addEventListener(t,ti)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,ei)}),De("touchend",ti),De("mouseup",ti),De("mousemove",ei),De("touchmove",ei)):(s=N,o=L,r=O,l=I,h=$i.set.semilog&&null!=$i.logData?xt(r,$i.logData):(Fi[0].V0*Fi[0].PxPointY-r)/Fi[0].PxPointY,Ui={ptb:{x:l,mx:o,my:r,y:h},pte:null,line:s,c:Di()},["touchend","mouseup"].forEach(function(t){Hi.doc.addEventListener(t,oi)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,ri)}),De("touchend",oi),De("mouseup",oi),De("mousemove",ri),De("touchmove",ri));break;case"handler2oblic":var B=pointerEventToXY(t),R=Di(),H=parseInt(B.y-R.offset.top),$=parseInt(B.x-R.offset.left);i=N,n=$,a=H,Ui={c:Di(),pt:null,line:i,x0:n,y0:a},["touchend","mouseup"].forEach(function(t){Hi.doc.addEventListener(t,Je)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,Ke)}),De("touchend",Je),De("mouseup",Je),De("mousemove",Ke),De("touchmove",Ke)}nn.clhide("resizehandler"),Yi.splice(V,1)}var t,u,p,f,V=nn.qsga(".linemodif","name");for(new ColorPicker({wrapperEl:"#color1",value:Yi[V].color,onChange:function(t){e(t,1)}}),null!=nn.gi("color2")&&(t=new ColorPicker({wrapperEl:"#color2",onChange:function(t){e(t,2)}}),null!=Yi[V].color2&&t.change(Yi[V].color2)),le(),(u=nn.gi(Dt("overlay-"))).getContext("2d").clearRect(0,0,u.width,u.height),"sr"==Yi[V].type&&Hi.clickHandler.forEach(function(t){nn.gi("srBtn").addEventListener(t,i)}),Hi.clickHandler.forEach(function(t){var e=nn.qs(".eod_alert");e&&e.addEventListener(t,n)}),Hi.clickHandler.forEach(function(t){var e=nn.qs(".eod_copy");e&&e.addEventListener(t,a)}),"a"==Yi[V].type&&(nn.gi("annotationTxt").value=unescape(Yi[V].h),Hi.clickHandler.forEach(function(t){nn.gi("annotationBtn").addEventListener(t,s)}),nn.gi("annotationTxt").addEventListener("keyup",function(t){if(13==t.keyCode)return o(),!1;Yi[V].h=Ki(this.value),K()})),[].forEach.call(nn.qsa(".widthSelect"),function(e){Hi.clickHandler.forEach(function(t){e.addEventListener(t,r)})}),[].forEach.call(nn.qsa(".styleSelect"),function(e){Hi.clickHandler.forEach(function(t){e.addEventListener(t,l)})}),[].forEach.call(nn.qsa(".fontSelect"),function(e){Hi.clickHandler.forEach(function(t){e.addEventListener(t,h)})}),[].forEach.call(nn.qsa(".delLine"),function(e){Hi.clickHandler.forEach(function(t){e.addEventListener(t,c)})}),f=nn.qsa(".resizehandler"),p=0;p<f.length;p++)["touchstart","mousedown"].forEach(function(t){f[p].addEventListener(t,d)});null!=nn.gi("handler2oblic")||"sr"==Yi[V].type||"v"==Yi[V].type||"h"==Yi[V].type?document.addEventListener("keydown",Te):document.addEventListener("keydown",we),nn.gi(Dt("trace-")).addEventListener("touchend",Ae),nn.gi(Dt("trace-")).addEventListener("mousedown",Ae)}function Ae(t){qi.flagSave=!0,t.preventDefault(),ee()}function ke(t,e){var i,n;for(this.mx=t,this.my=e,this.y=$i.set.semilog&&null!=$i.logData?Math.round(1e4*xt(e,$i.logData))/1e4:Math.round(1e4*(Fi[0].V0*Fi[0].PxPointY-e)/Fi[0].PxPointY)/1e4,n=ji.length,i=t;i<n;i++)if(t<=i&&null!=ji[i]){this.x=ji[i].d,this.mx=i;break}if(n-1<t){var a=n-1,s=t-a,o=Math.round(s/Fi[0].PxPointX),r=Math.round(o*Fi[0].PxPointX)+a;if(Gi.Xperiod<0)o=-o*Gi.Xperiod;else switch(Gi.Xperiod){case 7:o*=7;break;case 30:o*=30;break;case 365:o*=365;break;default:o*=1.4}this.mx=r,this.x=ji[n-1].d+Math.round(o)}}function De(t,e){qi.evtList.push({ev:t,f:e})}function Pe(){for(var t=qi.evtList.length,e=0;e<t;e++)Hi.doc.removeEventListener(qi.evtList[e].ev,qi.evtList[e].f);qi.evtList=[]}function Ee(t){t.preventDefault(),Yi.push(new oe(Ui.A.x,Ui.A.y,Ui.D.x,Ui.D.y,Ui.line.color,Ui.A.mx,Ui.D.mx,Ui.line.width,null,"fa",{B:Ui.B,C:Ui.C},Ui.line.color2)),it($i.symbol,Yi),Pe(),xe(Yi.length-1)}function _e(t){var e;t.preventDefault();var i,n=pointerEventToXY(t),a=parseInt(n.x-Ui.c.offset.left),s=parseInt(n.y-Ui.c.offset.top),o=Ui.line;if(!(s<0||s>Fi[0].HeightPx)){switch(e=new ke(a,s),K(),Ui.pt){case"A":i=D(Ui.c.ctx,e,Ui.B,Ui.C,o.color,o.color2,o.width),Ui.A=e;break;case"B":i=D(Ui.c.ctx,Ui.A,e,Ui.C,o.color,o.color2,o.width),Ui.B=e;break;case"C":i=D(Ui.c.ctx,Ui.A,Ui.B,e,o.color,o.color2,o.width),Ui.C=e}Ui.D=new ke(i.Dx,i.Dy)}}function Ne(t){t.preventDefault(),Yi.push(new oe(Ui.A.x,Ui.A.y,Ui.B.x,Ui.B.y,Ui.line.color,Ui.A.mx,Ui.B.mx,Ui.line.width,null,"t",{C:Ui.C},Ui.line.color2)),it($i.symbol,Yi),Pe(),xe(Yi.length-1)}function Le(t){var e;t.preventDefault();var i=pointerEventToXY(t),n=parseInt(i.x-Ui.c.offset.left),a=parseInt(i.y-Ui.c.offset.top);if(!(a<0||a>Fi[0].HeightPx)){switch(e=new ke(n,a),K(),Ui.pt){case"A":Ui.A=e;break;case"B":Ui.B=e;break;case"C":Ui.C=e}N(Ui.c.ctx,Ui.A,Ui.B,Ui.C,Ui.line.color,Ui.line.color2,Ui.line.width)}}function Oe(t){t.preventDefault();var e=Ui.line;Yi.push(new oe(null,null,null,null,e.color,null,null,e.width,null,e.type,e.h)),it($i.symbol,Yi),Pe(),xe(Yi.length-1)}function Ie(t){var e;t.preventDefault();var i=pointerEventToXY(t),n=parseInt(i.x-Ui.c.offset.left),a=parseInt(i.y-Ui.c.offset.top);a<0||a>Fi[0].HeightPx||(e=new ke(n,a),K(),Ui.pt=parseInt(Ui.pt),Ui.line.h[Ui.pt]=e,_(Ui.c.ctx,Ui.line.h,Ui.line.color,Ui.line.width))}function Be(t){t.preventDefault(),Si(Ui.type,Ui.color,Ui.pt)}function Re(t){t.preventDefault(),Ui.pt=xi(Ui.type,t,Ui.c.offset,Ui.c.ctx,Ui.color)}function He(t,e){X("c"),Ui={c:Di(),tabPoints:[],color:qe(),nbPoints:e,type:t},["touchstart","click"].forEach(function(t){Hi.doc.addEventListener(t,$e)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,Ve)}),De("click",$e),De("mousemove",Ve),De("touchstart",$e),De("touchmove",Ve)}function $e(t){t.preventDefault();var e=pointerEventToXY(t),i=parseInt(e.x-Ui.c.offset.left),n=parseInt(e.y-Ui.c.offset.top);if(!(n<0||n>Fi[0].HeightPx)){if(Ui.tabPoints.length<Ui.nbPoints-1)return void Ui.tabPoints.push(new ke(i,n));switch(Ui.tabPoints.push(new ke(i,n)),K(),Ui.type){case"t":N(Ui.c.ctx,Ui.tabPoints[0],Ui.tabPoints[1],Ui.tabPoints[2],Ui.color),Yi.push(new oe(Ui.tabPoints[0].x,Ui.tabPoints[0].y,Ui.tabPoints[1].x,Ui.tabPoints[1].y,Ui.color,Ui.tabPoints[0].mx,Ui.tabPoints[1].mx,null,null,Ui.type,{C:Ui.tabPoints[2]}));break;case"ewi":case"ewc":_(Ui.c.ctx,Ui.tabPoints,Ui.color),Yi.push(new oe(null,null,null,null,Ui.color,null,null,null,null,Ui.type,Ui.tabPoints))}it($i.symbol,Yi),Pe(),xe(Yi.length-1)}}function Ve(t){var e,i,n,a;if(t.preventDefault(),0!=(e=Ui.tabPoints).length){var s=Ui.c.ctx,o=pointerEventToXY(t),r=parseInt(o.x-Ui.c.offset.left),l=parseInt(o.y-Ui.c.offset.top);if(!(l<0||l>Fi[0].HeightPx)){switch(K(),i=[],Ui.type){case"ewi":i=["1","2","3","4","5"];break;case"ewc":i=["a","b","c"]}for(s.lineWidth=1,s.strokeStyle=Ui.color,s.beginPath(),s.moveTo(e[0].mx,e[0].my),a=1;a<e.length;a++)s.lineTo(e[a].mx,e[a].my),"t"!=Ui.type&&(n=e[a].my<e[a-1].my?-7:16,s.fillText(i[a-1],e[a].mx-4,e[a].my+n));return s.lineTo(r,l),void s.stroke()}}}function Ge(t){t.preventDefault();var e=pointerEventToXY(t),i=parseInt(e.x-Ui.c.offset.left),n=parseInt(e.y-Ui.c.offset.top);if(!(n<0||n>Fi[0].HeightPx)){if(null==Ui.A)return void(Ui.A=new ke(i,n));if(null==Ui.B)return void(Ui.B=new ke(i,n));null==Ui.C&&(Ui.C=new ke(i,n),Ui.D=new ke(Ui.D.Dx,Ui.D.Dy),Yi.push(new oe(Ui.A.x,Ui.A.y,Ui.D.x,Ui.D.y,Ui.color,Ui.A.mx,Ui.D.mx,null,null,"fa",{B:Ui.B,C:Ui.C},Ui.color2)),it($i.symbol,Yi),Pe(),xe(Yi.length-1))}}function Fe(t){if(t.preventDefault(),null!=Ui.A){var e=Ui.c.ctx,i=pointerEventToXY(t),n=parseInt(i.x-Ui.c.offset.left),a=parseInt(i.y-Ui.c.offset.top);if(!(a<0||a>Fi[0].HeightPx)){if(null==Ui.B)return K(),e.lineWidth=1,e.strokeStyle=qe(),e.beginPath(),e.moveTo(Ui.A.mx,Ui.A.my),e.lineTo(n,a),void e.stroke();null==Ui.C&&(K(),Ui.D=D(e,Ui.A,Ui.B,{mx:n,my:a},Ui.color,Ui.color2))}}}function Ye(t){var e=pointerEventToXY(t),i=parseInt(e.x-Ui.c.offset.left+$i.paddingLeft),n=parseInt(e.y-Ui.c.offset.top+$i.paddingTop);Ui.idLine=q(i,n,rt(i,n))}function We(t){t.preventDefault(),999!=Ui.idLine?(Yi.splice(Ui.idLine,1),K(),it($i.symbol,Yi),0==Yi.length&&je()):je()}function je(){Pe(),l()}function ze(t){var e,i;if(t.preventDefault(),null==nn.qs(".linemodif")){var n=Ui.c.ctx,a=Ui.t,s=pointerEventToXY(t),o=parseInt(s.x-Ui.c.offset.left),r=parseInt(s.y-Ui.c.offset.top);if(!(r<0||r>Fi[0].HeightPx)){switch(e=new ke(o,r),a){case"arrup":E(n,e,i="#008000",a,i,1);break;case"arrdw":E(n,e,i="#c00000",a,i,1);break;case"arrrt":case"arrlt":E(n,e,i="#3366ff",a,i,1);break;case"sm1":P(n,e,i="#008000",a,1);break;case"sm2":P(n,e,i="#c00000",a,1)}Yi.push(new oe(e.x,e.y,e.x,e.y,i,e.mx,e.mx,1,null,a,null,i)),it($i.symbol,Yi),Pe(),xe(Yi.length-1)}}}function Xe(t){function e(t){t.preventDefault(),Ue(Ui.c.ctx,s,o,Ui.color)}var i,n;if(t.preventDefault(),null==nn.qs(".linemodif")){var a=pointerEventToXY(t),s=parseInt(a.x-Ui.c.offset.left),o=parseInt(a.y-Ui.c.offset.top);o<0||o>Fi[0].HeightPx||(i=Yi.length,(n=document.createElement("div")).setAttribute("cid",Hi.callID),n.setAttribute("onmousedown","mydragg.startMoving(this,'trace-"+Hi.callID+"',event);"),n.setAttribute("onmouseup","mydragg.stopMoving('trace-"+Hi.callID+"');"),n.setAttribute("class","linemodif"),n.setAttribute("name",i),n.style.left=$i.paddingLeft+4+"px",n.style.top=$i.paddingTop+4+"px",n.innerHTML='<input id="annotationTxt" type="text"/><input id="annotationBtn" class="btnSR" type="button" value="ok" />',Hi.doc.appendChild(n),nn.gi("annotationTxt").focus(),le(),nn.gi("annotationTxt").addEventListener("keyup",function(t){t.preventDefault(),13==(t.which?t.which:t.keyCode)?(K(),Ue(Ui.c.ctx,s,o,Ui.color)):(K(),F(Ui.c.ctx,new ke(s,o),"12",Ui.color,this.value))}),Hi.clickHandler.forEach(function(t){nn.gi("annotationBtn").addEventListener(t,e)}))}}function Ue(t,e,i,n){var a,s,o;if(null!=e||null!=i){if(""==(a=(a=nn.gi("annotationTxt").value.trim()).replace(/,/g,".")))return nn.clrem(["linemodif"]),l(),!1;o=F(t,s=new ke(e,i),"12",n,a),Yi.push(new oe(s.x,s.y,s.x,s.y,n,s.mx,o,null,"12","a",Ki(a))),it($i.symbol,Yi),nn.clrem(["linemodif"]),xe(Yi.length-1)}}function qe(){return null==$i.set.traceColor?qt($i.set.bkcolor):$i.set.traceColor}function Qe(t){t.preventDefault();var e=Ui.line;null==Ui.pt&&(Ui.pt=xi(e.type,t,Ui.c.offset,Ui.c.ctx,e.color,e.style,e.width)),Si(e.type,e.color,Ui.pt,e.style,e.width)}function Ze(t){t.preventDefault();var e=Ui.line;Ui.pt=xi(e.type,t,Ui.c.offset,Ui.c.ctx,e.color,e.style,e.width)}function Ke(t){t.preventDefault(),K();var e=pointerEventToXY(t),i=parseInt(e.x-Ui.c.offset.left)-Ui.x0,n=parseInt(e.y-Ui.c.offset.top)-Ui.y0;Ui.pt=wi(Ui.c.ctx,Ui.line,i,n)}function Je(t){t.preventDefault(),null!=Ui.pt&&Ai(Ui.line,Ui.pt)}function ti(t){t.preventDefault(),null!=Ui.pte&&ki(Ui.line.color,Ui.line.color2,Ui.type,Ui.pte,Ui.target,Ui.ptb,Ui.line.width)}function ei(t){t.preventDefault(),Ui.pte=Ci(t,Ui.c.offset,Ui.c.ctx,Ui.line.color,Ui.line.color2,Ui.type,Ui.target,Ui.ptb,Ui.line.width)}function ii(t){t.preventDefault(),null==Ui.ptb&&(Ui.ptb=yi(t,Ui.c.offset)),null!=Ui.pte&&ki(Ui.color,null,Ui.type,Ui.pte,null,Ui.ptb)}function ni(t){t.preventDefault(),null!=Ui.ptb&&(Ui.pte=Ci(t,Ui.c.offset,Ui.c.ctx,Ui.color,null,Ui.type,null,Ui.ptb))}function ai(t){t.preventDefault();var e=Ui.line;Mi(e.color,Ui.pte,e.width,e.style,e.type,e.color2,Ui.move,Ui.ptb)}function si(t){var e,i,n;t.preventDefault(),e=pointerEventToXY(t),i=parseInt(e.x-Ui.c.offset.left),Ui.move=i-Ui.x1,Ui.move<100||(K(),n=Ui.line,Y(Ui.c.ctx,n.type,n.color,n.style,n.width,Ui.move,Ui.ptb,Ui.pte,n.color2))}function oi(t){t.preventDefault();var e=Ui.line;null!=Ui.pte&&Mi(e.color,Ui.pte,e.width,e.style,e.type,e.color2,e.h,Ui.ptb)}function ri(t){t.preventDefault();var e=Ui.line;Ui.pte=Ti(t,Ui.c.offset,Ui.c.ctx,e.color,e.width,e.style,e.h,e.type,e.color2,Ui.ptb)}function li(t){t.preventDefault();var e=Ui.line,i=pointerEventToXY(t),n=parseInt(i.y-Ui.c.offset.top+(e.RealY1-e.RealY0)/2);Ui.rh=e.RealY1-n,K(),Y(Ui.c.ctx,"p",e.color,e.style,e.width,-Ui.rh,{mx:e.RealX0,my:e.RealY0},{mx:e.RealX1,my:e.RealY1},e.color2)}function hi(t){t.preventDefault();var e=Ui.line,i=Ui.rh/Fi[0].PxPointY,n=e.y0,a=e.y1;0<i&&(n+=i,a+=i),Yi.push(new oe(e.x0,n,e.x1,a,e.color,e.RealX0,e.RealX1,e.width,e.style,"p",Math.abs(i),e.color2)),it($i.symbol,Yi),Pe(),xe(Yi.length-1)}function ci(t){var e,i,n,a;t.preventDefault(),e=Ui.pte,i=Ui.ptb,null!=e&&(n=$i.set.semilog&&null!=$i.logData?xt(i.my,$i.logData):(Fi[0].V0*Fi[0].PxPointY-i.my)/Fi[0].PxPointY,a=Ui.height/Fi[0].PxPointY,e.mx<i.mx?Yi.push(new oe(e.x,e.y,i.x,n,Ui.color,e.mx,i.mx,Ui.width,Ui.style,"p",a,Ui.color2)):Yi.push(new oe(i.x,n,e.x,e.y,Ui.color,i.mx,e.mx,Ui.width,Ui.style,"p",a,Ui.color2)),it($i.symbol,Yi),Pe(),xe(Yi.length-1))}function di(t){t.preventDefault(),Ui.pte=Ti(t,Ui.c.offset,Ui.c.ctx,Ui.color,Ui.width,Ui.style,Ui.height,"p",Ui.color2,Ui.ptb)}function ui(t){if(t.preventDefault(),null!=Ui.ptb)if(null==Ui.pte||null!=Ui.rh){var e=Ui.ptb.y,i=Ui.rh/Fi[0].PxPointY;0<i&&(e+=i,Ui.pte.y=Ui.pte.y+i),i=Math.abs(i),Ui.pte.mx<Ui.ptb.mx?Yi.push(new oe(Ui.pte.x,Ui.pte.y,Ui.ptb.x,e,Ui.color,Ui.pte.mx,Ui.ptb.mx,1,null,"p",i)):Yi.push(new oe(Ui.ptb.x,e,Ui.pte.x,Ui.pte.y,Ui.color,Ui.ptb.mx,Ui.pte.mx,1,null,"p",i)),it($i.symbol,Yi),Pe(),xe(Yi.length-1)}else Ui.step1=!0;else Ui.ptb=yi(t,Ui.c.offset)}function pi(t){if(t.preventDefault(),null!=Ui.ptb){if(null!=Ui.ptb&&!Ui.step1)return void(Ui.pte=Ti(t,Ui.c.offset,Ui.c.ctx,null,null,null,null,"p",null,Ui.ptb));var e=Ui.c.ctx,i=pointerEventToXY(t),n=parseInt(i.y-Ui.c.offset.top);Ui.rh=Ui.pte.my-n,K(),e.strokeStyle=Ui.color,e.lineWidth=1,e.beginPath(),e.moveTo(Ui.ptb.mx,Ui.ptb.my),e.lineTo(Ui.pte.mx,Ui.pte.my),e.moveTo(Ui.ptb.mx,Ui.ptb.my-Ui.rh),e.lineTo(Ui.pte.mx,Ui.pte.my-Ui.rh),e.stroke()}}function fi(t){t.preventDefault(),K();var e=Ui.line,i=pointerEventToXY(t),n=parseInt(i.y-Ui.c.offset.top),a=parseInt(i.x-Ui.c.offset.left);n=bi(n),Ui.pte=new ke(a,n),H(Ui.c.ctx,e.color,e.style,e.width,Ui.ptb,Ui.pte,e.color2)}function mi(t){t.preventDefault();var e=Ui.line;null!=Ui.pte&&(Yi.push(new oe(Ui.ptb.x,Ui.ptb.y,Ui.pte.x,Ui.pte.y,e.color,Ui.ptb.mx,Ui.pte.mx,e.width,e.style,"c",null,e.color2)),it($i.symbol,Yi),Pe(),xe(Yi.length-1))}function gi(t){var e;t.preventDefault();var i=Ui.ptb,n=Ui.type,a=Ui.color,s=Ui.c.ctx;if(null!=i){K();var o=pointerEventToXY(t),r=parseInt(o.y-Ui.c.offset.top),l=parseInt(o.x-Ui.c.offset.left);switch(r=bi(r),Ui.pte=new ke(l,r),"mv"==n&&(Ui.pte.mx=i.mx,Ui.pte.x=i.x),"mh"==n&&(Ui.pte.my=i.my,Ui.pte.y=i.y),n){case"an":e=Math.atan2(i.my-Ui.pte.my,Ui.pte.mx-i.mx),B(s,a,null,null,i,Ui.pte,e);break;case"af":R(s,a,null,null,i,Ui.pte);break;case"c":H(s,a,null,null,i,Ui.pte);break;case"gg":I(s,a,null,null,i,Ui.pte);break;case"ga":O(s,a,null,null,i,Ui.pte);break;case"cf":k(s,a,null,null,i,Ui.pte);break;case"ff":L(s,a,null,null,i,Ui.pte);break;case"o":case"f":case"ef":case"mv":case"mh":Y(s,n,a,null,null,null,i,Ui.pte)}}}function vi(t){var e,i=Ui.pte,n=Ui.ptb,a=Ui.type;if(null!=n){if(null==i)return Pe(),void l();switch(e=null,"ef"==a&&(e=250),"an"==a&&(e=Math.atan2(n.my-i.my,i.mx-n.mx)),a){case"o":case"f":case"ef":i.mx<n.mx?Yi.push(new oe(i.x,i.y,n.x,n.y,Ui.color,i.mx,n.mx,null,null,a,"f"==a?-1:e)):Yi.push(new oe(n.x,n.y,i.x,i.y,Ui.color,n.mx,i.mx,null,null,a,"f"==a?1:e));break;default:Yi.push(new oe(n.x,n.y,i.x,i.y,Ui.color,n.mx,i.mx,null,null,a,e))}it($i.symbol,Yi),Pe(),xe(Yi.length-1)}else Ui.ptb=yi(t,Ui.c.offset)}function bi(t){return t<0&&(t=0),t>Fi[0].HeightPx&&(t=Fi[0].HeightPx),t}function yi(t,e){var i=pointerEventToXY(t);return new ke(parseInt(i.x-e.left),parseInt(i.y-e.top))}function xi(t,e,i,n,a,s,o){var r;K();var l=pointerEventToXY(e),h=parseInt(l.y-i.top),c=parseInt(l.x-i.left);switch(h<0&&(h=1),h>Fi[0].HeightPx&&(h=Fi[0].HeightPx-1),r=new ke(c,h),t){case"sr":$(n,r,s,o,a);break;case"v":V(n,r,s,o,a,!0);break;default:G(n,r,s,o,a,!0)}return r}function wi(t,e,i,n){var a=new ke(e.RealX0+i,e.RealY0+n),s=new ke(e.RealX1+i,e.RealY1+n),o=null;switch(e.type){case"t":N(t,a,s,o=new ke(e.h.C.mx+i,e.h.C.my+n),e.color,e.color2,e.width);break;case"a":F(t,a,e.style,e.color,unescape(e.h));break;case"r":z(t,e.color,e.color2,a.mx,s.mx,a.my,s.my,e.type,null,e.width);break;case"m":z(t,e.color,e.color2,a.mx,s.mx,a.my,s.my,e.type,e.h,e.width);break;case"rf":J(t,e.color,e.color2,a.mx,s.mx,s.my,a.my,e.width);break;case"c":H(t,e.color,e.style,e.width,a,s,e.color2);break;case"an":B(t,e.color,e.style,e.width,a,s,e.h);break;case"af":R(t,e.color,e.style,e.width,a,s);break;case"cf":k(t,e.color,e.style,e.width,a,s);break;case"gg":I(t,e.color,e.style,e.width,a,s);break;case"ga":O(t,e.color,e.style,e.width,a,s);break;case"ff":L(t,e.color,e.style,e.width,a,s);break;case"sr":$(t,a,e.style,e.width,e.color);break;case"v":V(t,a,e.style,e.width,e.color,!0);break;case"h":G(t,a,e.style,e.width,e.color,!0);break;case"arrup":case"arrdw":case"arrrt":case"arrlt":E(t,a,e.color,e.type,e.color2,e.width);break;case"sm1":case"sm2":P(t,a,e.color,e.type,e.width);break;default:Y(t,e.type,e.color,e.style,e.width,e.h,a,s,e.color2)}return{ptb:a,pte:s,C:o}}function Ti(t,e,i,n,a,s,o,r,l,h){var c,d;K();var u=pointerEventToXY(t),p=parseInt(u.x-e.left),f=parseInt(u.y-e.top);switch(c=new ke(p,f=bi(f)),"mv"==r&&(c.mx=h.mx,c.x=h.x),"mh"==r&&(c.my=h.my,c.y=h.y),r){case"an":d=Math.atan2(h.my-c.my,c.mx-h.mx),c.mx=B(i,n,s,a,h,c,d);break;case"af":R(i,n,s,a,h,c);break;case"gg":I(i,n,s,a,h,c);break;case"ga":O(i,n,s,a,h,c);break;case"ff":L(i,n,s,a,h,c);break;case"cf":k(i,n,s,a,h,c);break;default:Y(i,r,n,s,a,o,h,c,l)}return c}function Ci(t,e,i,n,a,s,o,r,l){var h,c;K();var d=pointerEventToXY(t),u=parseInt(d.x-e.left),p=parseInt(d.y-e.top);return h=new ke(u,p=bi(p)),"rf"==s&&("handler0oblic"==o?J(i,n,a,r.mx,h.mx,r.my,h.my,l):J(i,n,a,r.mx,h.mx,h.my,r.my,l)),("r"==s||"m"==s)&&(c={db:r.x,de:h.x,s:0},r.my>h.my&&(c.s=1),z(i,n,a,Math.min(r.mx,h.mx),Math.max(r.mx,h.mx),Math.min(r.my,h.my),Math.max(r.my,h.my),s,c,l)),h}function Si(t,e,i,n,a){switch(t){case"sr":Yi.push(new oe(i.x,i.y,0,i.y,e,i.mx,null,a,n,t));break;case"v":Yi.push(new oe(i.x,0,i.x,2e4,e,i.mx,i.mx,a,n,t));break;default:Yi.push(new oe(0,i.y,0,i.y,e,null,null,a,n,"h"))}it($i.symbol,Yi),Pe(),xe(Yi.length-1)}function Mi(t,e,i,n,a,s,o,r){switch(null==t&&(t=qe()),"ef"==a&&null==o&&(o=250),a){case"an":o=Math.atan2(r.my-e.my,e.mx-r.mx),Yi.push(new oe(r.x,r.y,e.x,e.y,t,r.mx,e.mx,i,n,a,o));break;case"af":case"cf":Yi.push(new oe(r.x,r.y,e.x,e.y,t,r.mx,e.mx,i,n,a));break;default:e.mx<r.mx?Yi.push(new oe(e.x,e.y,r.x,r.y,t,e.mx,r.mx,i,n,a,"f"==a?-1:o,s)):Yi.push(new oe(r.x,r.y,e.x,e.y,t,r.mx,e.mx,i,n,a,"f"==a?1:o,s))}it($i.symbol,Yi),Pe(),xe(Yi.length-1)}function Ai(t,e){null==t.color&&(t.color=qe());var i=e.ptb,n=e.pte,a=e.C,s=i.y,o=i.x,r=n.y,l=n.x;switch(t.type){case"t":Yi.push(new oe(o,s,l,r,t.color,i.mx,n.mx,t.width,null,t.type,{C:a},t.color2));break;case"a":Yi.push(new oe(o,s,o,s,t.color,i.mx,n.mx,t.width,t.style,t.type,t.h));break;case"r":case"rf":Yi.push(new oe(o,s,l,r,t.color,i.mx,n.mx,t.width,null,t.type,null,t.color2));break;case"ef":case"m":Yi.push(new oe(o,s,l,r,t.color,i.mx,n.mx,t.width,t.style,t.type,t.h,t.color2));break;case"c":Yi.push(new oe(o,s,l,r,t.color,i.mx,n.mx,t.width,t.style,t.type,null,t.color2));break;case"an":case"f":Yi.push(new oe(o,s,l,r,t.color,i.mx,n.mx,t.width,t.style,t.type,t.h));break;case"mv":case"mh":case"af":case"gg":case"ga":case"ff":case"cf":Yi.push(new oe(o,s,l,r,t.color,i.mx,n.mx,t.width,t.style,t.type));break;case"sr":Yi.push(new oe(o,i.y,0,i.y,t.color,i.mx,null,t.width,t.style,t.type));break;case"v":Yi.push(new oe(o,0,e.x,2e4,t.color,i.mx,i.mx,t.width,t.style,t.type));break;case"h":Yi.push(new oe(0,i.y,0,i.y,t.color,null,null,t.width,t.style,"h"));break;case"arrup":case"arrdw":case"arrrt":case"arrlt":Yi.push(new oe(o,i.y,o,i.y,t.color,i.mx,i.mx,t.width,null,t.type,null,t.color2));break;case"sm1":case"sm2":Yi.push(new oe(o,i.y,o,i.y,t.color,i.mx,i.mx,t.width,null,t.type,null,null));break;default:Yi.push(new oe(o,s,l,r,t.color,i.mx,n.mx,t.width,t.style))}it($i.symbol,Yi),Pe(),xe(Yi.length-1)}function ki(t,e,i,n,a,s,o){var r=s.y,l=n.y,h=Math.min(s.x,n.x),c=Math.max(s.x,n.x),d=Math.min(s.mx,n.mx),u=Math.max(s.mx,n.mx),p=0;switch(s.my>n.my&&(p=1),i){case"r":case"m":Yi.push(new oe(h,Math.max(r,l),c,Math.min(r,l),t,d,u,o,null,i,"r"==i?null:p,e));break;case"rf":"handler0oblic"==a?Yi.push(new oe(h,l,c,r,t,d,u,o,null,i,null,e)):Yi.push(new oe(h,r,c,l,t,d,u,o,null,i,null,e))}it($i.symbol,Yi),Pe(),xe(Yi.length-1)}function Di(){var t=nn.gi(Dt("trace-"));return{offset:offset(t),ctx:t.getContext("2d")}}function Pi(t,e,i){var n="w"+i;null!=e[n]&&(t.lineWidth=e[n])}function Ei(t,e,i){var n,a;if(t.setLineDash)switch(null!=i?null!=i[a="s"+e]&&(n=i[a]):n=e,n){case 2:t.setLineDash([2,2]);break;case 3:t.setLineDash([4]);break;case 4:t.setLineDash([7,2,2,2])}}function _i(t,e,i){var n=function(t,e,i){return t+i*(e-t)},a=t.RealX1-t.RealX0,s=t.RealY1-t.RealY0,o=((e-t.RealX0)*a+(i-t.RealY0)*s)/(a*a+s*s);return{x:n(t.RealX0,t.RealX1,o),y:n(t.RealY0,t.RealY1,o)}}function Ni(t,e,i){if(("arrrt"==i.type||"arrlt"==i.type)&&e>=i.RealY0-5&&e<=i.RealY0+5)switch(i.type){case"arrrt":if(t>=i.RealX0-16&&t<=i.RealX0)return!0;break;case"arrlt":if(t<=i.RealX0+16&&t>=i.RealX0)return!0}if(t>=i.RealX0-5&&t<=i.RealX0+5)switch(i.type){case"arrup":if(e>=i.RealY0&&e<=i.RealY0+16)return!0;break;case"arrdw":if(e<=i.RealY0&&e>=i.RealY0-16)return!0;break;case"sm1":case"sm2":if(e>=i.RealY0-10&&e<=i.RealY0+10)return!0}return!1}function Li(t,e,i){for(var n,a,s,o,r,l=i.h.length,h=1;h<l;h++)if(o=i.h[h-1],r=i.h[h],t>Math.min(o.mx,r.mx)&&t<Math.max(o.mx,r.mx)&&(a=t-(n=_i({RealX0:o.mx,RealY0:o.my,RealX1:r.mx,RealY1:r.my},t,e)).x,s=e-n.y,Math.abs(Math.sqrt(a*a+s*s))<4))return!0;return!1}function Oi(t,e,i){for(var n,a,s,o=[{RealX0:i.RealX0,RealY0:i.RealY0,RealX1:i.RealX1,RealY1:i.RealY1},{RealX0:i.RealX1,RealY0:i.RealY1,RealX1:i.h.C.mx,RealY1:i.h.C.my},{RealX0:i.RealX0,RealY0:i.RealY0,RealX1:i.h.C.mx,RealY1:i.h.C.my}],r=o.length,l=0;l<r;l++)if(t>Math.min(o[l].RealX0,o[l].RealX1)&&t<Math.max(o[l].RealX0,o[l].RealX1)&&(a=t-(n=_i(o[l],t,e)).x,s=e-n.y,Math.abs(Math.sqrt(a*a+s*s))<5))return!0;return!1}function Ii(t,e,i){var n,a,s,o,r,l,h={QuoteTab:t.QuoteTab},c=[],d=h.QuoteTab.length,u=gs(h.QuoteTab[0],i),p=gs(h.QuoteTab[0],i);if(d<3)return!1;for(gs(h.QuoteTab[1],i)>=gs(h.QuoteTab[0],i)?p+=e:u-=e,n=2;n<d;n++){if(o=gs(l=h.QuoteTab[n],i)-p-e,r=gs(l,i)-u+e,0<o){for(s=(o+e)/e>>0,a=0;a<s;a++)c.push({d:l.d,l:u+e*(a+1),h:p+e*(a+1),s:1,c:l.c});p+=e*s,u+=e*s}if(r<0){for(s=Math.abs((r-e)/e>>0),a=0;a<s;a++)c.push({d:l.d,l:u-e*(a+1),h:p-e*(a+1),s:0,c:l.c});p-=e*s,u-=e*s}}return 1==c.length&&(c=[]),{Name:t.Name,High:t.High,Low:t.Low,QuoteTab:c}}this.clickHandler=["click"],this.callID=t.callID,this.doc=nn.gi(this.callID),("ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints)&&(this.clickHandler=["touchend","click"]),null==VGP.callType&&(VGP.callType="POST"),null==t.symbol&&(t.symbol="PX1p");var Bi=window.getComputedStyle(this.doc),Ri={widthGraph:parseInt(Bi.width),heightGraph:parseInt(Bi.height),paddingTop:17,paddingLeft:10,paddingBottom:20,paddingRight:45,histoLength:365,chartPeriod:0,padBarCandle:0,searchConfig:"",isIntraday:!1,mainChart:{type:"line",indicators:[]},indicators:[],set:{bkcolor:"#fff",txtColor:"#606060",gridV:!0,gridH:!0,gridLine:!0,gridColor:"#e0e0e0",isEncadre:!0,yaxis:!1,nosticky:!1,reticColor:"#114257",semilog:!1,cadreColor:"#e0e0e0",traceColor:null,noVeilleIntra:!1,fontSize:11,splitStyle:"band",splitColor:"rgba(153,153,153,1)"},cursor:"r"},Hi=this,$i=Zi(Ri,t),Vi=$i.set.fontSize-11;$i.paddingBottom+=Vi,$i.paddingTop+=Vi,$i.paddingRight+=4*Vi,$i.paddingLeft+=4*Vi;var Gi,Fi=[],Yi=[],Wi={maxY:0,minY:0,maxX:null,minX:0},ji=[],zi={},Xi={},Ui={},qi={initViewBegin:0,initViewEnd:0,initMaxY:0,initMinY:0,lineNumber:999,evtList:[],cursorState:!1,moveZoomX:0,moveZoomY:0,moveLayer:!1,activeLayer:null,datas2:null,flagSave:!1,fiEvt:[],tmp1:null,tmp2:null};this.duree_menu=function(t,e){if(""!=t&&(t=parseInt(t),e=null!=e?parseInt(e):$i.chartPeriod,t!=$i.histoLength||e!=$i.chartPeriod)){qi.flagSave=!0,ee();var i={chartPeriod:$i.chartPeriod,isIntraday:$i.isIntraday,histoLength:$i.histoLength};e<0&&20<t&&(e=0),0<=e&&t<=20&&(e=-1),$i.chartPeriod=e,$i.histoLength=t,ct(!0,i)}},this.period_menu=function(t,e){(t=parseInt(t))!=$i.chartPeriod&&((e=null!=e?parseInt(e):$i.histoLength)!=$i.histoLength||t!=$i.chartPeriod)&&(qi.flagSave=!0,ee(),t<0&&20<e&&(e=1),0<=t&&e<=20&&(e=365),$i.chartPeriod=t,$i.histoLength=e,ct(!0))},this.settings_changeFont=function(t){var e=t-$i.set.fontSize;0!=e&&($i.paddingBottom+=e,$i.paddingTop+=e,$i.paddingRight+=4*e,$i.paddingLeft+=4*e,$i.set.fontSize=t,this.set_screenSize())},this.style_menu_template=function(t){null!=Gi&&Pt(t,!0)},this.style_menu=function(t){null!=Gi&&t!=$i.mainChart.type&&Pt(t)},this.indic1_menu=function(t){if(null!=Gi&&"perf"!=$i.mainChart.type&&!$i.mainChart.typedef.nolinearX){var e,i=$i.mainChart.indicators.length;if("sar"==t||"ichimoku"==t||"pivots"==t)for(e=0;e<i;e++)if($i.mainChart.indicators[e].type==t)return;if("evt"==t||"actu"==t)for(e=0;e<i;e++)if("evt"==$i.mainChart.indicators[e].type||"actu"==$i.mainChart.indicators[e].type)return;if(("pivots"==t||"VWAP"==t)&&!$i.isIntraday)return void DisplayAlert("Cet indicateur n'est disponible qu'en vision intraday");("evt"==t||"actu"==t)&&$i.isIntraday||($i.mainChart.indicators.push(Qi(t)),Z(0))}},this.indics_menu=function(t){if(null!=Gi&&!$i.mainChart.typedef.nolinearX){if(null==qi.datas2&&"fr"==t)return void("function"==typeof DisplayAlert&&DisplayAlert("La Force Relative ne peut être appliquée que quand 2 valeurs sont comparées"));if(5==Fi.length&&"function"==typeof DisplayAlert)return void DisplayAlert(lang.l_msg1,1);e=Qi(t),o=Fi.length,new re(0,0,e,Dt("indic-")+o).Create(),(i=nn.gi(Dt("overlay-"))).parentNode.insertBefore(nn.gi(Dt("indic-")+o),i),n=te(Hi.callID+o,e.type,$i.paddingLeft+5,Fi[o].RealY+5),1<o&&null!=(a=n.querySelector(".eodupdown"))&&((s=document.createElement("span")).setAttribute("class","eodmoveup"),a.appendChild(s)),Hi.doc.appendChild(n),ne(),Q()}var e,i,n,a,s,o},this.loadDefautChart=function(t){nn.idempty(Hi.callID),kt();for(var e=t.indicators.length,i=[],n=0;n<e;n++)"object"==typeof t.indicators[n]?i.push(Zi(Qi(t.indicators[n].type),t.indicators[n])):i.push(Qi(t.indicators[n]));t.indicators=i,h(t),ht(!1)},this.loadTemplateJSON=function(t,e){var i,n;nn.idempty(Hi.callID),kt(),qi.fiEvt=[],delete(i=JSON.parse(t)).logData;var a,s=[],o=JSON.parse(e),r=o.length;if(1<r){for(a=1;a<r;a++)s.push(o[a].Indicator);i.indicators=s}else i.indicators=[];for(null!=$i&&null!=$i.symbol&&(i.symbol=$i.symbol),h(i,o),n=nn.qsa(".indicname"),a=0;a<n.length;a++)n[a].removeAttribute("style");ht(!1)},this.loadTemplate=function(t){var e;qi.flagSave=!0,ee(),nn.idempty(Hi.callID),kt(),qi.fiEvt=[],delete(e=JSON.parse(t.Parametres)).logData,e.set=Zi({bkcolor:"#fff",txtColor:"#606060",gridV:!0,gridH:!0,gridLine:!0,gridColor:"#e0e0e0",isEncadre:!0,yaxis:!1,nosticky:!1,reticColor:"#114257",semilog:!1,cadreColor:"#e0e0e0",traceColor:null,noVeilleIntra:!1,fontSize:11,splitStyle:"band",splitColor:"rgba(153,153,153,1)"},e.set);var i,n,a=[],s=JSON.parse(t.Layers),o=s.length;if(1<o){for(n=1;n<o;n++)a.push(s[n].Indicator);e.indicators=a}else e.indicators=[];switch(null!=$i&&null!=$i.symbol&&(e.symbol=$i.symbol),delete $i.indicators,delete $i.mainChart,h(e,s),$i.mainChart.type){case"heikin ashi":i="heikin";break;case"line break":i="linebreak";break;case"point figure":i="pnf";break;default:i=$i.mainChart.type}return ht(!1),i},this.change_symbol=function(t){qi.fiEvt=[],$i.symbol=t,ht(!0)},this.set_screenSize=function(){var t,e,i,n;if(qi.flagSave=!0,ee(),Hi.doc=nn.gi(Hi.callID),t=window.getComputedStyle(Hi.doc),$i.widthGraph=parseInt(t.width),$i.heightGraph=parseInt(t.height),$i.innerWidth=$i.widthGraph-$i.paddingLeft-$i.paddingRight,$i.usableHeight=$i.heightGraph-$i.paddingTop-$i.paddingBottom-$i.indicators.length*$i.marginInter,e=Fi.length,$i.mainChart.typedef.nolinearX)return 1<e&&Fi.splice(0,1),void Qt();for(i=0;i<e;i++)Fi[i].Bars=0==i?[]:{},delete Fi[i].canvas,delete Fi[i].ctx;n=tn(Fi),kt(!0),lt(n),null!=Gi&&(Q(),VGP.chartSimple||(l(),At()))},this.saveTemplate=function(t){var e,i,n,a,s,o;if(null!=Gi){for(delete(i=tn($i)).widthGraph,delete i.heightGraph,delete i.paddingTop,delete i.paddingLeft,delete i.paddingBottom,delete i.paddingRight,delete i.indicators,delete i.usableHeight,delete i.marginInter,delete i.innerWidth,delete i.symbol,delete i.padBarCandle,delete i.mainChart.typedef.params,delete i.cursor,delete i.logData,i=function(t){for(var e={bkcolor:"#fff",txtColor:"#606060",gridV:!0,gridH:!0,gridLine:!0,gridColor:"#e0e0e0",isEncadre:!0,yaxis:!1,nosticky:!1,reticColor:"#114257",semilog:!1,cadreColor:"#e0e0e0",traceColor:null,noVeilleIntra:!1,fontSize:11,splitStyle:"band",splitColor:"rgba(153,153,153,1)"},i=Object.keys(e),n=i.length,a=0;a<n;a++)t.set[i[a]]==e[i[a]]&&delete t.set[i[a]];return t}(i),e=0;e<i.mainChart.indicators.length;e++)delete i.mainChart.indicators[e].params;for(n=Fi.length,e=0;e<n;e++)Fi[e].Bars=0==e?[]:{};for(e=0;e<n;e++)delete Fi[e].canvas,delete Fi[e].ctx;for(a=tn(Fi),e=0;e<a.length;e++)delete a[e].Bars,delete a[e].RealY,delete a[e].PxPointX,delete a[e].PxPointY,delete a[e].V0,delete a[e].id,delete a[e].HeightPx,delete a[e].Indicator.params;if(s=tn(Fi),$i.mainChart.typedef.nolinearX&&(a.splice(1),i.mainChart.indicators=[],s.splice(1)),kt(!0),lt(s),Q(),At(),l(),null==t)return{l:JSON.stringify(a),p:JSON.stringify(i)};(o=new XMLHttpRequest).open("POST",VGP.urlWS+"UpdateConfigEOD",!0),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send(JSON.stringify({configname:escape(t),parametres:JSON.stringify(i),layers:JSON.stringify(a)}))}},this.SynchronizeLines=function(){Yi=nt($i.symbol),K()},this.get_symbol=function(){return $i.symbol},this.delete_chart=function(){nn.idempty(Hi.callID),kt()},this.get_id=function(){return Hi.callID},this.get_name=function(){return null==Gi?"":Gi.Name},this.get_chartType=function(){return $i.mainChart.type},this.get_parametres=function(){return $i},this.settings_setdefaut=function(){null!=Gi&&($i.set={bkcolor:"#fff",txtColor:"#606060",gridV:!0,gridH:!0,gridLine:!0,gridColor:"#e0e0e0",isEncadre:!0,yaxis:!1,nosticky:!1,reticColor:"#114257",semilog:!1,cadreColor:"#e0e0e0",traceColor:null,noVeilleIntra:!1,fontSize:11,splitStyle:"band",splitColor:"rgba(153,153,153,1)"},$i.paddingLeft=10,$i.paddingRight=45,$i.paddingTop=17,$i.paddingBottom=20,this.set_screenSize())},this.settings_setAxis=function(t){var e=4*($i.set.fontSize-11);"left"==t?($i.set.yaxis=!0,$i.paddingLeft=45+e,$i.paddingRight=10+e):($i.set.yaxis=!1,$i.paddingLeft=10+e,$i.paddingRight=45+e),nn.idcss(Dt("eod_mainchartinfos-"),"left",$i.paddingLeft+2+"px"),nn.clcss("infoindic","left",$i.paddingLeft+5+"px"),nn.idcss(Dt("trace-"),"left",$i.paddingLeft+"px"),Q()},this.settings_setAxisLog=function(t){t?$i.set.semilog=!0:($i.set.semilog=!1,delete $i.logData),Q()},this.settings_setSticky=function(t){$i.set.nosticky=t,Q()},this.settings_setHLSticky=function(t){$i.set.nohighlow=t,Q()},this.stop_events=function(){le()},this.set_events=function(){l()},this.settings_setNoVeilleIntra=function(t){if($i.set.noVeilleIntra=t,1==$i.histoLength){if(Wi.minX=0,Wi.maxX=Gi.QuoteTab.length-1,Wi.maxY=Gi.High,Wi.minY=Gi.Low,!$i.set.noVeilleIntra){var e=Gi.qv.c;e>Wi.maxY&&(Wi.maxY=e),e<Wi.minY&&(Wi.minY=e)}Q()}},this.settings_setTraceColor=function(t){null!=Gi&&($i.set.traceColor=t)},this.settings_getTraceColor=function(){return qe()},this.settings_setGridlineShow=function(t){$i.set.gridLine=t,Q()},this.settings_setGridlineH=function(t){$i.set.gridH=t,Q()},this.settings_setGridlineV=function(t){$i.set.gridV=t,Q()},this.settings_setSplitdayStyle=function(t){$i.set.splitStyle=t,Q()},this.settings_setSplitdayColor=function(t){$i.set.splitColor=hexToRgb(t,1),Q()},this.settings_setGridColor=function(t){null!=Gi&&($i.set.gridColor=t,Q())},this.settings_setCadreColor=function(t){null!=Gi&&($i.set.cadreColor=t,Q())},this.settings_setReticuleColor=function(t){null!=Gi&&($i.set.reticColor=t,nn.gi(Dt("overlay-")).getContext("2d").strokeStyle=$i.set.reticColor)},this.settings_setEncadreShow=function(t){$i.set.isEncadre=t,Q()},this.settings_setBackColor=function(t){null!=Gi&&($i.set.bkcolor=t,nn.idcss(Dt("rodgraph-"),"background-color",t))},this.settings_setTextColor=function(t){null!=Gi&&(nn.clcss("indicname","color",t),nn.idcss(Dt("eod_mainchartinfos-"),"color",t),nn.idcss(Dt("eod_topinfo-"),"color",t),$i.set.txtColor=t,Q())},this.updateQuoteEODrefresh=function(t){var e=Gi.QuoteTab[Gi.QuoteTab.length-1],i=e.d;0==$i.chartPeriod?((e=t).d=i,Gi.QuoteTab[Gi.QuoteTab.length-1]=e):(t.h>e.h&&(e.h=t.h),t.l<e.l&&(e.l=t.l),e.c=t.c,e.v=t.v),Q()},this.updateQuoteIntraRefresh=function(t){var e=Gi.QuoteTab.length-1,i=Gi.QuoteTab[e].d,n=0,a=t.qt;if(null==a)return!1;for(var s=Wi.maxY,o=Wi.minY,r=a.length-1;0<=r;r--)a[r].d>=i&&(a[r].d==i?Gi.QuoteTab[e]=a[r]:(Gi.QuoteTab.push(a[r]),n++),a[r].h>s&&(s=a[r].h),a[r].l<o&&(o=a[r].l),a[r].h>Gi.High&&(Gi.High=a[r].h),a[r].l<Gi.Low&&(Gi.Low=a[r].l));Gi.qd&&(Gi.qd.h=t.h,Gi.qd.l=t.l,Gi.qd.c=t.c,Gi.qd.v=t.v),Wi.maxY=s,Wi.minY=o,Wi.maxX=Wi.maxX+n,Q()},this.stopGomme=function(){je()},this.stopMZoom=function(){o()},this.zoom=function(t){qi.flagSave=!0,ee(),t?u(3):p(3)},this.order_level=function(t,e){"perf"!=$i.mainChart.type?(ee(),function(t){var e,i,n;le(),Xi.sens=t,Xi.last=Fi[0].Bars[0][0].c,e="buy"==t?.98*Xi.last:1.02*Xi.last,Xi.popup=nn.gi("orderzn"),null==Hi.doc.querySelector("orderzn")&&Hi.doc.appendChild(Xi.popup),Xi.cvs=nn.gi(Dt("overlay-")),Xi.ctx=Xi.cvs.getContext("2d"),Xi.oft=offset(nn.gi(Dt("rodgraph-"))),i=Xi.popup.querySelector("div:nth-of-type(2)"),n=window.getComputedStyle(i).backgroundColor,Xi.ctx.strokeStyle=n,Xi.ctx.lineWidth=2,Xi.ctx.setLineDash&&Xi.ctx.setLineDash([]);var a=window.getComputedStyle(Xi.popup).width.replace("px",""),s=parseInt(($i.widthGraph-a)/2);Xi.popup.style.left=s+"px",Xi.popup.style.display="block",Bt(e),Xi.isMove=!1,["touchstart","mousedown"].forEach(function(t){nn.gi("ordertype").addEventListener(t,Nt)}),Hi.clickHandler.forEach(function(t){nn.qs(".closeorder").addEventListener(t,Et)}),nn.gi("orderlevel").addEventListener("keydown",_t)}(t)):DisplayAlert("Le passage d'ordre n'est pas disponible en mode 'performance'")},this.tools_menu=function(t){if(null!=Gi)switch(t){case"g":if(0==Yi.length)return;le(),Ui={c:Di(),idLine:999},["touchstart","mousedown"].forEach(function(t){Hi.doc.addEventListener(t,We)}),Hi.doc.addEventListener("mousemove",Ye),De("mousemove",Ye),De("mousedown",We),De("touchstart",We);break;case"r":Pe(),l(),$i.cursor="r";break;case"m":Pe(),l(),$i.cursor="m";break;case"z":le(),X("zi"),Hi.doc.addEventListener("mousedown",e),Hi.doc.addEventListener("touchstart",e),De("mousedown",e),De("touchstart",e),Hi.doc.addEventListener("touchmove",i),Hi.doc.addEventListener("mousemove",i),De("touchmove",i),De("mousemove",i)}},this.addSearch=function(t){null==Gi||$i.mainChart.typedef.nolinearX||($i.searchConfig=t,qi.flagSave=!0,ee(),Q())},this.removeSearch=function(){null!=Gi&&($i.searchConfig="",Q())},this.closeToolsParams=function(){qi.flagSave=!0,ee()},this.CloseTools=function(t){t||(qi.flagSave=!0),ee()},this.saveTrace=function(){ie()},this.saveTraceFull=function(){var t=ie(!0),e=this.saveTemplate();return{Traces:t,Parametres:e.p,Layers:e.l,Symbol:$i.symbol}},this.readTraceFull=function(t){if(null!=t){if(null!=t.Symbol&&($i.symbol=t.Symbol),null!=t.Traces){var e=t.Traces;it($i.symbol,JSON.parse(e)),VGP.drawings[$i.symbol]=1,Yi=JSON.parse(e)}this.loadTemplate(t)}},this.readTrace=function(){f(!1,!0,!1)},this.screenCapture=function(t){var e,i,n,a,s,o,r,l,h,c,d,u,p;if(null!=Gi){if(qi.flagSave=!0,ee(),(e=document.createElement("canvas")).id="canvasflatten",e.width=$i.widthGraph,e.height=$i.heightGraph,Hi.doc.parentNode.insertBefore(e,Hi.doc.nextSibling),(i=e.getContext("2d")).fillStyle=$i.set.bkcolor,i.fillRect(0,0,e.width,e.height),i.font="11px Arial",n=nn.gi(Dt("rodgraph-")),i.drawImage(n,0,0),i.drawImage(Fi[0].canvas,0,$i.paddingTop),null==Yi.length||"perf"==$i.mainChart.type||$i.mainChart.typedef.nolinearX||(a=nn.gi(Dt("trace-")),i.drawImage(a,$i.paddingLeft,$i.paddingTop)),!$i.mainChart.typedef.nolinearX)for(s=1;s<Fi.length;s++)i.drawImage(Fi[s].canvas,0,Fi[s].RealY),i.fillStyle=Fi[s].Indicator.color,o=Fi[s].Indicator.type.toUpperCase(),null!=Fi[s].Indicator.param1&&(o+=" ("+Fi[s].Indicator.param1,null!=Fi[s].Indicator.param2&&(o+=", "+Fi[s].Indicator.param2,null!=Fi[s].Indicator.param3&&(o+=", "+Fi[s].Indicator.param3)),o+=")"),i.fillText(o,$i.paddingLeft+5,Fi[s].RealY+13);if(i.fillStyle="#808080",t=null!=t?" - "+t:"",i.fillText(Gi.Name.toUpperCase()+t,$i.paddingLeft,13),null!=(l=document.querySelector(".eod_topinfo span:last-child"))&&(r=l.textContent),h=i.measureText(r).width,i.fillText(r,$i.widthGraph-$i.paddingRight-h,13),!$i.mainChart.typedef.nolinearX)for(c=$i.paddingLeft+5,s=0;s<$i.mainChart.indicators.length;s++)("evt"!=(d=$i.mainChart.indicators[s]).type||"actu"!=d.type)&&(i.fillStyle=d.color,u="",null!=d.param1&&(u+=" ("+d.param1,null!=d.param2&&(u+=", "+d.param2),u+=")"),u="compare"==d.type?qi.datas2.Name:d.type.toUpperCase()+u,i.fillText(u,c,$i.paddingTop+12),c+=i.measureText(u).width+15);return p=(p=e.toDataURL("image/png")).replace("data:image/png;base64,",""),nn.idrem("canvasflatten"),p}},this.daysToDate=function(t,e){return $i.histoLength<20?formatMinutes(t):daysToDate(t,e)},this.trace_menu=function(t){if(null!=Gi&&!$i.mainChart.typedef.nolinearX)switch(le(),t){case"ewi":He(t,6);break;case"ewc":He(t,4);break;case"t":He(t,3);break;case"a":Ui={c:Di(),color:qe()},X("c"),["touchstart","mousedown"].forEach(function(t){Hi.doc.addEventListener(t,Xe)}),De("touchstart",Xe),De("mousedown",Xe);break;case"fa":X("c"),Ui={c:Di(),color:qe(),color2:"#4040ff"},["touchstart","click"].forEach(function(t){Hi.doc.addEventListener(t,Ge)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,Fe)}),De("click",Ge),De("mousemove",Fe),De("touchstart",Ge),De("touchmove",Fe);break;case"arrup":case"arrdw":case"arrrt":case"arrlt":case"sm1":case"sm2":n=t,X("c"),Ui={c:Di(),t:n},["touchstart","mousedown"].forEach(function(t){Hi.doc.addEventListener(t,ze)}),De("mousedown",ze),De("touchstart",ze);break;case"h":case"v":case"sr":Ui={type:t,c:Di(),pt:null,color:qe()},["touchend","mousedown"].forEach(function(t){Hi.doc.addEventListener(t,Be)}),["touchstart","touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,Re)}),De("mousedown",Be),De("mousemove",Re),De("touchend",Be),De("touchstart",Re),De("touchmove",Re);break;case"p":X("c"),Ui={c:Di(),color:qe(),step1:!1},["touchstart","touchend","mousedown"].forEach(function(t){Hi.doc.addEventListener(t,ui)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,pi)}),De("touchend",ui),De("touchstart",ui),De("mousedown",ui),De("mousemove",pi),De("touchmove",pi);break;case"rf":case"r":case"m":i=t,X("c"),Ui={c:Di(),type:i,color:qe()},["touchstart","mousedown"].forEach(function(t){Hi.doc.addEventListener(t,ii)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,ni)}),De("touchstart",ii),De("mousedown",ii),De("mousemove",ni),De("touchmove",ni);break;case"e":Yi=[],Ji()&&($i.isIntraday?sessionStorage.removeItem($i.symbol):(localStorage.removeItem($i.symbol),VGP.noAutoSaveTrace||(Rt(),delete VGP.drawings[$i.symbol]))),K(),l();break;default:e=t,X("c"),Ui={type:e,c:Di(),color:qe()},["touchstart","touchend","mousedown"].forEach(function(t){Hi.doc.addEventListener(t,vi)}),["touchmove","mousemove"].forEach(function(t){Hi.doc.addEventListener(t,gi)}),De("touchend",vi),De("touchstart",vi),De("mousedown",vi),De("mousemove",gi),De("touchmove",gi)}var e,i,n},this.compare=function(e){var t,i;null==Gi||$i.mainChart.typedef.nolinearX||"perf"==$i.mainChart.type||(qi.datas2=null,function(){for(var t=$i.mainChart.indicators.length,e=0;e<t;e++)if("compare"==$i.mainChart.indicators[e].type){$i.mainChart.indicators.splice(e,1),$i.isCompare=null,Fi[0].Bars.splice(e+1,1);break}}(),t=VGP.urlWS+"GetTicksEOD","GET"==VGP.callType&&(t=t+"?symbol="+e+"&length="+$i.histoLength+"&period="+$i.chartPeriod+"&guid="+nn.gigt("guid")),(i=new XMLHttpRequest).open(VGP.callType,t,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onload=function(){if(200<=i.status&&i.status<400){var t=JSON.parse(i.responseText);if(null==t||null==t.d)return;qi.datas2=en(t.d),$i.mainChart.indicators.push(Qi("compare")),$i.isCompare=e,pt(Gi.High,Gi.Low,qi.datas2.High,qi.datas2.Low,Gi.QuoteTab[0].c,qi.datas2.QuoteTab[0].c),Z(0)}},i.send(JSON.stringify({symbol:e,length:$i.histoLength,period:$i.chartPeriod,guid:nn.gigt("guid")})))},re.prototype.Create=function(){this.canvas=document.createElement("canvas"),this.canvas.width=$i.widthGraph,this.canvas.height=this.HeightPx,this.canvas.style.top=this.RealY+"px",this.canvas.id=this.id,Hi.doc.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),Fi.push(this)},re.prototype.Resize=function(t,e,i){this.Y=t,this.RealY=Math.round(t*$i.usableHeight)+$i.paddingTop+i,this.Height=e,this.HeightPx=Math.round(e*$i.usableHeight),this.canvas.style.top=this.RealY+"px",this.canvas.height=this.HeightPx},re.prototype.Move=function(t,e,i){this.RealY=t,this.HeightPx=this.HeightPx+e,this.Y=(this.RealY-$i.paddingTop-$i.marginInter*i)/$i.usableHeight,this.Height=this.HeightPx/$i.usableHeight,this.canvas.style.top=this.RealY+"px",this.canvas.height=this.HeightPx},re.prototype.DrawEncadre=function(){this.ctx.clearRect(0,0,$i.widthGraph,this.HeightPx),$i.set.isEncadre&&(this.ctx.strokeStyle=$i.set.cadreColor,this.ctx.strokeRect($i.paddingLeft+.5,.5,$i.innerWidth,this.HeightPx-1))}},window.RODGraph=t}(),mydragg={move:function(t,e,i){t.style.left=e+"px",t.style.top=i+"px"},startMoving:function(s,t,e){var o,r;if("linemodif"!=e.target.className)return!1;var i=(e=e||window.event).clientX,n=e.clientY,a=s.style.top,l=s.style.left,h=s.clientWidth,c=s.clientHeight,d=document.getElementById(t).clientWidth,u=document.getElementById(t).clientHeight;a=a.replace("px",""),l=l.replace("px",""),o=i-l,r=n-a,document.onmousemove=function(t){var e=(t=t||window.event).clientX,i=t.clientY,n=e-o,a=i-r;n<10&&(n=10),a<18&&(a=18),d-6<n+h&&(n=d-h-6),u+12<a+c&&(a=u-c+12),mydragg.move(s,n,a)}},stopMoving:function(){document.onmousemove=function(){}}},RODTA=new function(){function r(t){var e,i,n,a,s,o,r,l,h,c,d,u,p=function(t){return t-Math.floor(t)},f=t.getJulian(),m=t.getFullYear(),g=3.14159265/180;for(s=2415020+29*(e=Math.floor(12.3685*(m-1900))),o=1178e-7*(n=(i=(m-1899.5)/100)*i)-155e-9*(a=i*i*i)+(.75933+.53058868*e)-(837e-6*i+335e-6*n),r=360*p(.08084821133*e)+359.2242-333e-7*n-347e-8*a,l=360*p(.07171366128*e)+306.0253+.0107306*n+1236e-8*a,h=360*p(.08519585128*e)+21.2964-.0016528*n-239e-8*a,u=d=0;u<f;){var v=o+1.530588*d,b=(r+29.10535608*d)*g,y=(l+385.81691806*d)*g,x=(h+390.67050646*d)*g;v-=.4068*Math.sin(y)+(.1734-393e-6*i)*Math.sin(b),v+=.0161*Math.sin(2*y)+.0104*Math.sin(2*x),v-=.0074*Math.sin(b-y)-.0051*Math.sin(b+y),v+=.0021*Math.sin(2*b)+.001*Math.sin(2*x-y),v+=.5/1440,c=u,u=s+28*d+Math.floor(v),d++}return(f-c)/29.53059}this.computeMovingAverage=function(t,e,i){for(var n=[],a=t.length,s=0,o=0;o<a;o++)o<e?(s+=gs(t[o],i),n[o]={d:t[o].d,v1:s/(o+1)}):(s=s+gs(t[o],i)-gs(t[o-e],i),n[o]={d:t[o].d,v1:s/e});return{Values:n}},this.computeFR=function(t,e){for(var i,n=[],a=t.length,s=e.length,o=0,r=-100,l=0,h=999999,c=[],d=0;d<s;d++)c[e[d].d]=e[d];for(d=0;d<a;d++)null!=c[t[d].d]&&(-100==r?(r=t[d].c,i=c[t[d].d].c):(l<(o=100*((t[d].c-r)/r-(c[t[d].d].c-i)/i))&&(l=o),o<h&&(h=o))),n[d]={d:t[d].d,v1:o};return{High:l,Low:h,Values:n}},this.computeCMO=function(t,e){var i,n=[],a=t.length,s=0,o=0,r=[];for(r[0]=0,i=1;i<a;i++)r[i]=100*(t[i].c-t[i-1].c)/t[i-1].c;for(n[0]={d:t[0].d,v1:0},i=1;i<a;i++)i<e?0<=r[i]?s+=r[i]:o-=r[i]:(0<=r[i]?s+=r[i]:o-=r[i],0<=r[i-e]?s-=r[i-e]:o+=r[i-e]),n[i]={d:t[i].d,v1:100*(s-o)/(s+o)};return{High:100,Low:-100,Values:n}},this.computeHighLow=function(t,e){var i,n,a,s,o,r=t.length;if(r<e)return null;for(o=[],i=0;i<e;i++)o[i]={d:t[i].d,v1:0,v2:0};for(i=e;i<r;i++){for(a=0,s=9999999,n=1;n<e&&!(i-n<0);n++)t[i-n].h>a&&(a=t[i-n].h),t[i-n].l<s&&(s=t[i-n].l);o[i]=a<t[i].h?{d:t[i].d,v1:t[i].h,v2:0}:s>t[i].l?{d:t[i].d,v1:0,v2:t[i].l}:{d:t[i].d,v1:0,v2:0}}return{Values:o}},this.computeSupertrend=function(t,e,i){var n,a,s,o,r,l,h=[],c=t.length,d=this.computeATR(t,e,"ema");if(null==d)return!1;for(n=(s=(t[0].h+t[0].l)/2)+i*d.Values[0].v1,a=s-i*d.Values[0].v1,h[0]={d:t[0].d,v1:n,v2:a},(l=[])[0]={u:n,d:a},r=1;r<c;r++)n=(s=(t[r].h+t[r].l)/2)+i*d.Values[r].v1,a=s-i*d.Values[r].v1,l[r]={u:n,d:a};for(r=1;r<c;r++)t[r].c>l[r-1].u?o=1:t[r].c<l[r-1].d&&(o=-1),-1==o?(l[r].u>l[r-1].u&&(l[r].u=l[r-1].u),h[r]={d:t[r].d,v1:l[r].u,v2:0}):(l[r].d<l[r-1].d&&(l[r].d=l[r-1].d),h[r]={d:t[r].d,v1:0,v2:l[r].d});return{Values:h}},this.computeVolume=function(t,e){var i,n=[],a=0,s=9999999999999,o=t.length;for(n[0]={d:t[0].d,v1:t[0].v,v2:1},e.minX<=0&&(t[0].v>a&&(a=t[0].v),t[0].v<s&&(s=t[0].v)),i=1;i<o;i++)n[i]=0<=t[i].c-t[i-1].c?{d:t[i].d,v1:t[i].v,v2:1}:{d:t[i].d,v1:t[i].v,v2:-1},i>=e.minX&&i<=e.maxX&&(t[i].v>a&&(a=t[i].v),t[i].v<s&&(s=t[i].v));return{High:a,Low:s,Values:n}},this.computeBollingerBandwith=function(t,e,i,n){for(var a=t.length,s=0,o=999999,r=[],l=this.computeBollinger(t,e,i,n),h=this.computeMovingAverage(t,e,n),c=0,d=0;d<a;d++)c=100*(l.Values[d].v1-l.Values[d].v2)/h.Values[d].v1,r[d]={d:t[d].d,v1:c},s<c&&(s=c),c<o&&(o=c);return{High:s,Low:o,Values:r}},this.computeVortex=function(t,e){var i,n=t.length;if(n<e+2)return null;var a=[],s=[],o=0,r=999999,l=[];for(a[0]={p:Math.abs(t[0].h-t[0].l),m:Math.abs(t[0].l-t[0].h)},s[0]=t[0].h-t[0].l,i=1;i<n;i++)a[i]={p:Math.abs(t[i].h-t[i-1].l),m:Math.abs(t[i].l-t[i-1].h)},s[i]=Math.max(t[i].h-t[i].l,Math.abs(t[i].h-t[i-1].c),Math.abs(t[i].l-t[i-1].c));var h,c,d=0,u=0,p=0;for(i=0;i<n;i++)i<e?(u+=a[i].p,h=(d+=a[i].m)/(i+1)/(p+=s[i]),c=u/(i+1)/p):(u=u+a[i].p-a[i-e].p,d=d+a[i].m-a[i-e].m,o<(c=u/e/(p=p+s[i]-s[i-e]))&&(o=c),c<r&&(r=c),o<(h=d/e/p)&&(o=h),h<r&&(r=h)),l[i]={d:t[i].d,v1:c,v2:h};for(i=0;i<e;i++)l[i]={d:t[i].d,v1:l[e].v1,v2:l[e].v2};return{High:o,Low:r,Values:l}},this.computeMFI=function(t,e){var i,n=t.length,a=[],s=[],o=[];for(o[0]={p:0,n:0},s[0]=(t[0].h+t[0].l+t[0].c)/3,i=1;i<n;i++)s[i]=(t[i].h+t[i].l+t[i].c)/3,o[i]=s[i]>=s[i-1]?{p:s[i]*t[0].v,n:0}:{p:0,n:s[i]*t[0].v};var r=0,l=0,h=[];for(i=0;i<n;i++)i<e?(r+=o[i].p,l+=o[i].n,h[i]={p:r/(i+1),n:l/(i+1)}):(r=r+o[i].p-o[i-e].p,l=l+o[i].n-o[i-e].n,h[i]={p:r/e,n:l/e}),a[i]=0==h[i].n?{d:t[i].d,v1:0}:{d:t[i].d,v1:100-100/(1+h[i].p/h[i].n)};return{High:100,Low:0,Values:a}},this.computeOBV=function(t){var e,i,n=-1e5,a=9999999999,s=t.length,o=[],r=0;for(o[0]={d:t[0].d,v1:0},e=1;e<s;e++)t[e].c>t[e-1].c&&(r+=t[e].v),t[e].c<t[e-1].c&&(r-=t[e].v),i=r/1e3,o[e]={d:t[e].d,v1:i},n<i&&(n=i),i<a&&(a=i);return{High:n,Low:a,Values:o}},this.computeAccDist=function(t){var e,i,n=[],a=-1e6,s=9999999999,o=t.length,r=0;for(n[0]={d:t[0].d,v1:0},e=1;e<o;e++)0!=(i=t[e].h-t[e].l)&&(r+=(t[e].c-t[e].l-(t[e].h-t[e].c))*(t[e].v/1e3)/i),n[e]={d:t[e].d,v1:r},a<r&&(a=r),r<s&&(s=r);return{High:a,Low:s,Values:n}},this.computeBollinger=function(t,e,i,n){for(var a,s,o,r,l,h,c,d,u=[],p=t.length,f=this.computeMovingAverage(t,e,n),m=[],g=0,v=0;v<p;v++)a=gs(t[v],n),v<e?(g+=a*a,m[v]=g*e/(v+1)):(g=g+a*a-(s=gs(t[v-e],n))*s,m[v]=g);for(o=[],v=r=0;v<p;v++)a=gs(t[v],n),v<e?(l=(r+=a)*e/(v+1),o[v]=l*l):(r=r+a-(s=gs(t[v-e],n)),o[v]=r*r);for(c=e*(e-1),v=0;v<p;v++)h=(d=e*m[v]-o[v])<0?0:Math.pow(d/c,.5)*i,u[v]={d:t[v].d,v1:f.Values[v].v1+h,v2:f.Values[v].v1-h};return{Values:u}},this.computeBollingerB=function(t,e,i,n){for(var a,s,o=this.computeBollinger(t,e,i,n),r=[],l=o.Values.length,h=0,c=100,d=0;d<l;d++)0==(s=o.Values[d].v1-o.Values[d].v2)&&(s=1),a=100*(gs(t[d],n)-o.Values[d].v2)/s,r[d]={d:t[d].d,v1:a},h<a&&(h=a),a<c&&(c=a);return{High:h,Low:c,Values:r}},this.computeDMI=function(t,e,i){var n,a,s,o,r=[],l=t.length,h=0;if(l<2*e)return null;var c=[],d=[],u=[],p=[],f=0,m=0,g=0,v=[],b=[],y=[];for(c[0]={p:0,m:0},n=d[0]=1;n<l;n++)a=t[n].h-t[n-1].h,s=t[n-1].l-t[n].l,d[n]=Math.max(Math.abs(t[n].h-t[n].l),Math.abs(t[n].h-t[n-1].c),Math.abs(t[n].l-t[n-1].c)),c[n]=s<a?{p:Math.max(0,a),m:0}:{p:0,m:0},a<s&&(c[n].m=Math.max(0,s));for(n=1;n<=e;n++)g+=d[n],f+=c[n].p,m+=c[n].m;for(u[e]=g,p[e]={p:f,m:m},v[e]={p:100*p[e].p/u[e],m:100*p[e].m/u[e]},b[e]=Math.abs(p[e].p-p[e].m)/(p[e].p+p[e].m)*100,y[e]=b[e],r[e]="dmi"==i?{d:t[e].d,v1:v[e].p,v2:v[e].m,v3:y[e]}:{d:t[e].d,v1:y[e],v2:y[e]},n=e+1;n<l;n++)u[n]=u[n-1]-u[n-1]/e+d[n],f=p[n-1].p-p[n-1].p/e+c[n].p,m=p[n-1].m-p[n-1].m/e+c[n].m,p[n]={p:f,m:m},v[n]={p:100*p[n].p/u[n],m:100*p[n].m/u[n]},b[n]=Math.abs(p[n].p-p[n].m)/(p[n].p+p[n].m)*100,y[n]=(y[n-1]*(e-1)+b[n])/e,"dmi"==i&&(v[n].p>h&&(h=v[n].p),v[n].m>h&&(h=v[n].m),r[n]={d:t[n].d,v1:v[n].p,v2:v[n].m,v3:y[n]}),y[n]>h&&(h=y[n]);if(100<h&&(h=90),"dmi"==i)for(o=(r[e+1].v1+r[e+1].v2+r[e+1].v3)/3,n=0;n<=e;n++)r[n]={d:t[n].d,v1:o,v2:o,v3:o};if("adx"==i&&2*e<l){for(n=e+1;n<2*e;n++)r[n]={d:t[n].d,v1:y[n],v2:(y[e]+y[n])/2};for(n=2*e;n<l;n++)r[n]={d:t[n].d,v1:y[n],v2:(y[n-e]+y[n])/2};for(n=0;n<=e;n++)r[n]={d:t[n].d,v1:r[e].v1,v2:r[e].v2}}return{High:h,Low:0,Values:r}},this.computeLinearCurve=function(t,e,i,n){var a,s,o,r,l,h,c,d,u=[],p=t.length;if(p<=e)return null;if(1==i)for(a=0;a<=e;a++)u[a]={d:t[a].d,v1:gs(t[a],n)};else for(a=0;a<=e;a++)u[a]={d:t[a].d,v1:0};for(o=-100,r=100,a=p-1;e<a;a--){var f=0,m=0,g=0,v=0;for(s=e;1<=s;s--)f+=s*(h=gs(t[a-(e-s)],n)),m+=s,g+=h,v+=s*s;c=(g-(d=(f*e-m*g)/(e*v-m*m))*m)/e,1==i?u[a]={d:t[a].d,v1:c+d*e}:(o<(l=gs(t[a],n)-(c+d*e))&&(o=l),l<r&&(r=l),u[a]={d:t[a].d,v1:l})}return 1==i?{Values:u}:{High:o,Low:r,Values:u}},this.computeCCI=function(t,e){var i,n,a,s,o,r,l,h,c,d,u,p=[],f=t.length,m=0,g=0;if(f<=e)return null;for(i=[],a=n=0;a<f;a++)i[a]=(t[a].h+t[a].l+t[a].c)/3;for(s=[],a=0;a<f;a++)a<e?(n+=i[a],s[a]=n/(a+1)):(n=n+i[a]-i[a-e],s[a]=n/e);for(o=[],a=r=0;a<f;a++)l=i[a],a<e?(r+=l*l,o[a]=r*e/(a+1)):(r=r+l*l-(h=i[a-e])*h,o[a]=r);for(c=[],a=d=0;a<f;a++)l=i[a],a<e?(u=(d+=l)*e/(a+1),c[a]=u*u):(d=d+l-(h=i[a-e]),c[a]=d*d);for(a=0;a<e-1;a++)p[a]={d:t[a].d,v1:0};var v=[],b=0,y=e*(e-1);for(a=e-1;a<f;a++)l=e*o[a]-c[a],v[a]=l<0?0:Math.pow(l/y,.5),b=(i[a]-s[a])/(.015*v[a]),p[a]={d:t[a].d,v1:b},m<b&&(m=b),b<g&&(g=b);return{High:m,Low:g,Values:p}},this.computeMM=function(t,e){for(var i=t.length,n=0,a=0;a<i;a++)a<e?(n+=t[a].v1,t[a].vm=n/(a+1)):(n=n+t[a].v1-t[a-e].v1,t[a].vm=n/e);return t},this.computeUltimateOsc=function(t,e,i,n){var a,s,o,r=[],l=t.length,h=[],c=[];for(h[0]=t[0].c-t[0].l,c[0]=t[0].h-t[0].l,a=1;a<l;a++)o=Math.min(t[a].l,t[a-1].c),h[a]=t[a].c-o,c[a]=Math.max(t[a].h,t[a-1].c)-o;var d,u,p=[],f=[],m=[];for(a=0;a<l;a++){for(s=u=d=0;s<e&&!(a-s<0);s++)d+=h[a-s],u+=c[a-s];p[a]=d/u}for(a=0;a<l;a++){for(s=u=d=0;s<i&&!(a-s<0);s++)d+=h[a-s],u+=c[a-s];f[a]=d/u}for(a=0;a<l;a++){for(s=u=d=0;s<n&&!(a-s<0);s++)d+=h[a-s],u+=c[a-s];m[a]=d/u}for(a=0;a<l;a++)r[a]={d:t[a].d,v1:100*(4*p[a]+2*f[a]+m[a])/7};return{High:95,Low:5,Values:r}},this.computeKST=function(t,e,i,n,a,s){for(var o,r=[],l=t.length,h=0,c=999999,d=this.computeROC(t,e,null,s),u=this.computeROC(t,i,null,s),p=this.computeROC(t,n,null,s),f=this.computeROC(t,a,null,s),m=this.computeMM(d.Values,10),g=this.computeMM(u.Values,10),v=this.computeMM(p.Values,10),b=this.computeMM(f.Values,15),y=[],x=0;x<l;x++)y[x]={v1:m[x].vm+2*g[x].vm+3*v[x].vm+4*b[x].vm},y[x].v1>h&&(h=y[x].v1),y[x].v1<c&&(c=y[x].v1);for(o=this.computeMM(y,9),x=0;x<l;x++)r[x]={d:t[x].d,v1:y[x].v1,v2:o[x].vm};return{High:h,Low:c,Values:r}},this.computeZigZag=function(t,e,i){var n,a,s,o,r=[],l=t.length,h=0,c=gs(t[0],i),d=t[0].d;for(r[0]={d:t[0].d,v1:c},s="h",n=0;n<l;n++)a=((o=gs(t[n],i))-c)/c,"h"==s?0<a?(c=o,d=t[n].d,h=n):Math.abs(a)>=e&&(r[h]={d:d,v1:c},c=o,d=t[n].d,s="b",h=n):a<0?(c=o,d=t[n].d,h=n):Math.abs(a)>=e&&(r[h]={d:d,v1:c},c=o,d=t[n].d,s="h",h=n);return r[l-1]={d:t[l-1].d,v1:t[l-1].c},{Values:r}},this.computeMovingAverageT=function(t,e,i){e=Math.round((e+1)/2);for(var n=this.computeMovingAverage(t,e,i),a=[],s=n.Values.length,o=0,r=0;r<s;r++)r<e?(o+=n.Values[r].v1,a[r]={d:n.Values[r].d,v1:o/(r+1)}):(o=o+n.Values[r].v1-n.Values[r-e].v1,a[r]={d:n.Values[r].d,v1:o/e});return{Values:a}},this.computeEVMM=function(t,e,i,n){var a,s=[],o=t.length,r=0;for(i/=100,a=0;a<o;a++)a<e?(r+=gs(t[a],n),s[a]={d:t[a].d,v1:r/(a+1)*(1+i),v2:r/(a+1)*(1-i)}):(r=r+gs(t[a],n)-gs(t[a-e],n),s[a]={d:t[a].d,v1:r/e*(1+i),v2:r/e*(1-i)});return{Values:s}},this.computeDPO=function(t,e){var i,n,a,s,o=[],r=0,l=9999,h=t.length;if(h<e+1)return null;for(n=this.computeMovingAverage(t,e),(s=Math.round(e/2-1))<1&&(s=1),i=0;i<s;i++)o[i]={d:t[i].d,v1:0};for(i=s;i<h;i++)r<(a=t[i].c-n.Values[i-s].v1)&&(r=a),a<l&&(l=a),o[i]={d:t[i].d,v1:a};return{High:r,Low:l,Values:o}},this.computeCMF=function(t,e){var i,n,a,s,o,r=[],l=t.length,h=0,c=0,d=9999;for(r[0]={d:t[0].d,v1:0},i=1;i<l;i++){for(n=a=h=0;n<e&&!(i-n<0);n++)0!=(o=t[i-n].h-t[i-n].l)&&(a+=t[i-n].v*(t[i-n].c-t[i-n].l-(t[i-n].h-t[i-n].c))/o),h+=t[i-n].v;c<(s=a/h)&&(c=s),s<d&&(d=s),r[i]={d:t[i].d,v1:s}}return{High:c,Low:d,Values:r}},this.computeBOP=function(t){var e,i,n,a,s=[],o=t.length;for(a=0!=(n=t[0].h-t[0].l)?(t[0].c-t[0].o)/n:0,s[0]=a<0?{d:t[0].d,v2:a}:{d:t[0].d,v1:a},e=1;e<o;e++)i=0!=(n=t[e].h-t[e].l)?(t[e].c-t[e].o)/n:0,s[e]=0<=i&&0<=a?a<=i?{d:t[e].d,v1:i}:{d:t[e].d,v3:i}:i<0&&a<0?i<=a?{d:t[e].d,v2:i}:{d:t[e].d,v3:i}:i<0?{d:t[e].d,v2:i}:{d:t[e].d,v1:i},a=i;return{High:1.2,Low:-1.05,Values:s}},this.computeAwesomeIndicator=function(t,e,i){for(var n,a,s=[],o=t.length,r=[],l=0;l<o;l++)n=(t[l].h+t[l].l)/2,r[l]={d:t[l].d,c:n};var h,c=this.computeMovingAverage(r,e,"c"),d=this.computeMovingAverage(r,i,"c"),u=0,p=99999;for(h=c.Values[0].v1-d.Values[0].v1,s[0]={d:t[0].d,v1:h},a=h,l=1;l<o;l++)u<(h=c.Values[l].v1-d.Values[l].v1)&&(u=h),h<p&&(p=h),s[l]=a<=h?{d:t[l].d,v1:h}:{d:t[l].d,v2:h},a=h;return{High:u,Low:p,Values:s}},this.computeGMMA=function(t){for(var e,i=[],n=[],a=t.length,s=[3,5,8,10,12,15,30,35,40,45,50,60],o=s.length,r=0;r<o;r++)n[r]=this.computeMovingAverageE(t,s[r]);for(r=0;r<a;r++)for(i[r]={d:t[r].d},e=0;e<12;e++)i[r]["v"+(e+1)]=n[e].Values[r].v1;return{Values:i}},this.computeAlligator=function(t,e,i,n){var a,s=[],o=t.length,r=0,l=[],h=[],c=[],d=0,u=Math.max(e,i,n);if(o<u+1||u<13)return null;for(a=0;a<e;a++)r+=gs(t[a],"m"),l[a]=r/(a+1);for(d=r,a=e;a<o;a++)d=d+gs(t[a],"m")-l[a-1],l[a]=d/e;for(a=r=0;a<i;a++)r+=gs(t[a],"m"),h[a]=r/(a+1);for(d=r,a=i;a<o;a++)d=d+gs(t[a],"m")-h[a-1],h[a]=d/i;for(a=r=0;a<n;a++)r+=gs(t[a],"m"),c[a]=r/(a+1);for(d=r,a=n;a<o;a++)d=d+gs(t[a],"m")-c[a-1],c[a]=d/n;for(a=u;a<o;a++)s[a]={d:t[a].d,v1:l[a-8],v2:h[a-5],v3:c[a-3]};return{Values:s}},this.computeMovingAverageHull=function(t,e,i){var n,a,s=t.length,o=Math.floor(e/2);o<1&&(o=1),(a=Math.floor(Math.sqrt(e)))<1&&(a=1);var r=this.computeMovingAverageP(t,o,i),l=this.computeMovingAverageP(t,e,i),h=[];for(n=0;n<s;n++)h[n]={d:r.Values[n].d,c:2*r.Values[n].v1-l.Values[n].v1};return{Values:this.computeMovingAverageP(h,a).Values}},this.computeMovingAverageP=function(t,e,i){var n,a,s,o,r,l=[],h=t.length;for(l[0]={d:t[0].d,v1:gs(t[0],i)},n=1;n<h;n++){for(a=s=0;a<e&&!(n-a<0);a++)r=gs(t[n-a],i),s=n<e?s+(n-a+1)*r:s+(e-a)*r;o=(a+1)*a*.5,l[n]={d:t[n].d,v1:s/o}}return{Values:l}},this.computeMovingAverageE=function(t,e,i){var n,a=[],s=t.length;a[0]={d:t[0].d,v1:gs(t[0],i)};var o=gs(t[0],i),r=2/(e+1),l=1-r;for(n=1;n<s;n++)o=gs(t[n],i)*r+o*l,a[n]={d:t[n].d,v1:o};return{Values:a}},this.computeDoubleEMA=function(t,e,i){var n,a,s,o=this.computeMovingAverageE(t,e,i),r=[],l=o.Values.length;for(r[0]={d:o.Values[0].d,v1:o.Values[0].v1},a=o.Values[0].v1,s=2/(e+1),n=1;n<l;n++)a=o.Values[n].v1*s+a*(1-s),r[n]={d:o.Values[n].d,v1:2*o.Values[n].v1-a};return{Values:r}},this.computeTripleEMA=function(t,e,i){var n,a=this.computeMovingAverageE(t,e,i),s=[],o=a.Values.length;s[0]={d:a.Values[0].d,v1:a.Values[0].v1};var r=a.Values[0].v1,l=a.Values[0].v1,h=2/(e+1);for(n=1;n<o;n++)l=(r=a.Values[n].v1*h+r*(1-h))*h+l*(1-h),s[n]={d:a.Values[n].d,v1:3*a.Values[n].v1-3*r+l};return{Values:s}},this.computeTSI=function(t,e,i,n){var a,s,o,r,l,h,c,d,u,p,f,m,g=[],v=t.length,b=-100,y=100;if(v<i)return null;for((s=[])[0]=0,a=1;a<v;a++)s[a]=t[a].c-t[a-1].c;for(o=s[0],(r=[])[0]=o,l=2/(i+1),a=1;a<v;a++)o=s[a]*l+o*(1-l),r[a]=o;for(o=r[0],(h=[])[0]=o,c=2/(e+1),a=1;a<v;a++)o=r[a]*c+o*(1-c),h[a]=o;for(o=Math.abs(s[0]),(d=[])[0]=o,a=1;a<v;a++)o=Math.abs(s[a])*l+o*(1-l),d[a]=o;for(o=d[0],u=[],d[0]=o,a=1;a<v;a++)o=d[a]*c+o*(1-c),u[a]=o;for((p=[])[0]=0,a=1;a<v;a++)p[a]=100*h[a]/u[a];for(a=15;a<v;a++)p[a]>b&&(b=p[a]),p[a]<y&&(y=p[a]);for(f=[],o=p[0],f[0]=o,m=2/(n+1),a=1;a<v;a++)o=p[a]*m+o*(1-m),f[a]=o;for(a=0;a<15;a++)g[a]={d:t[a].d,v1:0,v2:0};for(a=15;a<v;a++)g[a]={d:t[a].d,v1:p[a],v2:f[a]};return{High:b,Low:y,Values:g}},this.computeMassIndex=function(t,e){var i,n,a,s,o,r,l,h=[],c=t.length,d=[],u=0,p=9999;if(c<9||c<e)return null;for(i=0;i<c;i++)d[i]=t[i].h-t[i].l;for(a=d[0],(s=[])[0]=a,i=1;i<c;i++)a=.2*d[i]+.8*a,s[i]=a;for(a=s[0],(o=[])[0]=a,i=1;i<c;i++)a=.2*s[i]+.8*a,o[i]=a;for(r=[],i=0;i<c;i++)r[i]=s[i]/o[i];for(i=l=0;i<c;i++){for(n=l=0;n<e;n++){if(i-n<0){l=l*e/n;break}l+=r[i-n]}u<l&&(u=l),l<p&&(p=l),h[i]={d:t[i].d,v1:l}}return{High:u,Low:p,Values:h}},this.computeRSI=function(t,e,i){var n;if(e<2)return null;var a,s,o,r,l=[],h=t.length,c=[],d=[];for(c[0]={h:0,b:0},d[0]={mmh:0,mmb:0},l[0]={d:t[0].d,v1:50},n=e-1,s=1;s<h;s++)a=gs(t[s],i)-gs(t[s-1],i),c[s]=0==a?{h:0,b:0}:0<a?{h:a,b:0}:{h:0,b:-1*a},o=(d[s-1].mmh*n+c[s].h)/e,r=(d[s-1].mmb*n+c[s].b)/e,d[s]={mmh:o,mmb:r},l[s]=0==r?{d:t[s].d,v1:100}:{d:t[s].d,v1:100-100/(1+o/r)};return{High:100,Low:0,Values:l}},this.computeForceIndex=function(t,e,i){var n,a,s,o=t.length,r=[],l=-9999,h=9999;for(r[0]={d:t[0].d,c:0},n=1;n<o;n++)r[n]={d:t[n].d,c:t[n].v*(gs(t[n],i)-gs(t[n-1],i))};for(s=(a=this.computeMovingAverageE(r,e,"c")).Values.length,n=0;n<s;n++)a.Values[n].v1>l&&(l=a.Values[n].v1),a.Values[n].v1<h&&(h=a.Values[n].v1);return{High:l,Low:h,Values:a.Values}},this.computeElderRay=function(t,e,i){var n,a,s=this.computeMovingAverageE(t,e,"c"),o=[],r=s.Values.length,l=-1e3,h=1e3;if("bear"==i)for(n=0;n<r;n++)l<(a=t[n].l-s.Values[n].v1)&&(l=a),a<h&&(h=a),o[n]={d:t[n].d,v1:a};else for(n=0;n<r;n++)l<(a=t[n].h-s.Values[n].v1)&&(l=a),a<h&&(h=a),o[n]={d:t[n].d,v1:a};return{High:l,Low:h,Values:o}},this.computeQStick=function(t,e){for(var i,n,a=[],s=-1e3,o=1e3,r=t.length,l=[],h=0;h<r;h++)l[h]=t[h].c-t[h].o;for(h=0;h<r;h++){for(n=i=0;n<e&&!(h-n<0);n++)i+=l[h-n];s<(i/=n)&&(s=i),i<o&&(o=i),a[h]={d:t[h].d,v1:i}}return{High:s,Low:o,Values:a}},this.computeATR=function(t,e,i){var n,a,s,o,r=[],l=0,h=9999,c=t.length,d=0,u=0,p=0,f=[];if(c<e+1)return null;for(f[0]=t[0].h-t[0].l,r[0]={d:t[0].d,v1:f[0]},n=1;n<c;n++)d=t[n].h-t[n].l,u=Math.abs(t[n-1].c-t[n].h),p=Math.abs(t[n-1].c-t[n].l),f[n]=Math.max(d,u,p);if(s=f[0],o=2/(e+1),"ema"==i)for(n=1;n<c;n++)l<(s=f[n]*o+s*(1-o))&&(l=s),s<h&&(h=s),r[n]={d:t[n].d,v1:s};if("sma"==i){for(n=1;n<e;n++){for(a=0;a<=n;a++)s+=f[a];l<(s/=a)&&(l=s),s<h&&(h=s),r[n]={d:t[n].d,v1:s},s=0}for(n=e;n<c;n++){for(a=0;a<e;a++)s+=f[n-a];s/=e,r[n]={d:t[n].d,v1:s},l<s&&(l=s),s<h&&(h=s),s=0}}return{High:l,Low:h,Values:r}},this.computeEaseOfMovement=function(t,e){var i,n,a,s=[],o=0,r=999999,l=t.length,h=0,c=[];for(c[0]=0,i=1;i<l;i++)h=0!=t[i].v?((t[i].h+t[i].l)/2-(t[i-1].h+t[i-1].l)/2)/(t[i].v/(t[i].h-t[i].l)):0,c[i]=1e6*h,h=0;for(s[0]={d:t[0].d,v1:0},n=0,a=2/(e+1),i=1;i<l;i++)n=c[i]*a+n*(1-a),s[i]={d:t[i].d,v1:n},o<n&&(o=n),n<r&&(r=n);return{High:o,Low:r,Values:s}},this.computeIchimoku=function(t,e,i,n){var a,s,o,r=[],l=t.length,h=0,c=999999;if(l<2*e+1)return null;for(a=0;a<e;a++){for(s=a;0<=s;s--)t[s].h>h&&(h=t[s].h),t[s].l<c&&(c=t[s].l);r[a]={d:t[a].d,v1:(h+c)/2},h=0,c=999999}for(a=e;a<l;a++){for(s=0;s<e;s++)t[a-s].h>h&&(h=t[a-s].h),t[a-s].l<c&&(c=t[a-s].l);r[a]={d:t[a].d,v1:(h+c)/2},h=0,c=999999}for(c=999999,a=h=0;a<i;a++){for(s=a;0<=s;s--)t[s].h>h&&(h=t[s].h),t[s].l<c&&(c=t[s].l);r[a].v2=(h+c)/2,h=0,c=999999}for(a=i;a<l;a++){for(s=0;s<i;s++)t[a-s].h>h&&(h=t[a-s].h),t[a-s].l<c&&(c=t[a-s].l);r[a].v2=(h+c)/2,h=0,c=999999}for(a=0;a<l-e;a++)r[a].v3=t[a+e].c;for(a=e;a<l;a++)r[a].v4=(r[a-e].v1+r[a-e].v2)/2;for(o=t[l-1].d,a=0;a<e;a++)r[l+a]={d:o+(a+1)*n,v4:(r[l+a-e].v1+r[l+a-e].v2)/2};for(c=999999,a=h=0;a<2*e;a++){for(s=a;0<=s;s--)t[s].h>h&&(h=t[s].h),t[s].l<c&&(c=t[s].l);r[a+e].v5=(h+c)/2,h=0,c=999999}for(a=2*e;a<l;a++){for(s=0;s<2*e;s++)t[a-s].h>h&&(h=t[a-s].h),t[a-s].l<c&&(c=t[a-s].l);r[a+e].v5=(h+c)/2,h=0,c=999999}for(a=e;a<l+e;a++)r[a].v4>r[a].v5?(r[a].v6=r[a].v4,r[a].v7=r[a].v5):(r[a].v6=r[a].v5,r[a].v7=r[a].v4);return{Values:r}},this.computeKVO=function(t){var e,i,n=[],a=0,s=999999,o=t.length,r=[],l=[];for(l[0]={d:t[0].d,c:t[0].v},r[0]=(t[0].c+t[0].l+t[0].h)/3,e=1;e<o;e++)r[e]=(t[e].c+t[e].l+t[e].h)/3,l[e]=r[e]>=r[e-1]?{d:t[e].d,c:t[e].v}:{d:t[e].d,c:-1*t[e].v};var h=this.computeMovingAverageE(l,34,"c"),c=this.computeMovingAverageE(l,55,"c"),d=[];for(e=0;e<o;e++)d[e]={d:t[e].d,c:h.Values[e].v1-c.Values[e].v1},d[e].c>a&&(a=d[e].c),d[e].c<s&&(s=d[e].c);for(i=this.computeMovingAverageE(d,13,"c"),e=0;e<o;e++)n[e]={d:t[e].d,v1:d[e].c,v2:i.Values[e].v1};return{High:a,Low:s,Values:n}},this.computeMomentum=function(t,e,i){var n,a,s,o=[],r=0,l=999999,h=t.length;if(h<e+1)return null;for(s=gs(t[0],i),n=0;n<e;n++)a=gs(t[n],i)-s,o[n]={d:t[n].d,v1:a},r<a&&(r=a),a<l&&(l=a);for(n=e;n<h;n++)a=gs(t[n],i)-gs(t[n-e],i),o[n]={d:t[n].d,v1:a},r<a&&(r=a),a<l&&(l=a);return{High:r,Low:l,Values:o}},this.computeNVIPVI=function(t,e,i){var n,a,s,o=[],r=0,l=999999,h=t.length,c=1;for(o[0]={d:t[0].d,v1:c},n=1;n<h;n++)0==t[n].v||(s=gs(t[n-1],e),a=gs(t[n],e),"nvi"==i?t[n].v<t[n-1].v&&(c+=(a-s)*c/s):t[n].v>t[n-1].v&&(c+=(a-s)*c/s)),o[n]={d:t[n].d,v1:c},r<c&&(r=c),c<l&&(l=c);return{High:r,Low:l,Values:o}},this.computeWaveTrendOsc=function(t,e,i){var n,a,s,o,r,l,h,c=[],d=t.length;if(d<=e||d<i)return null;for(a=this.computeMovingAverageE(t,e,"m2"),s=[],n=0;n<d;n++)s[n]={d:t[n].d,c:Math.abs(gs(t[n],"m2")-a.Values[n].v1)};for(o=this.computeMovingAverageE(s,e),r=[],n=0;n<d;n++)r[n]=0!=o.Values[n].v1?{d:t[n].d,c:(gs(t[n],"m2")-a.Values[n].v1)/(.015*o.Values[n].v1)}:{d:t[n].d,c:0};for(l=this.computeMovingAverageE(r,i),h=this.computeMM(l.Values,4),n=0;n<d;n++)c[n]={d:t[n].d,v1:l.Values[n].v1,v2:h[n].vm};return{High:85,Low:-90,Values:c}},this.computeMACDZL=function(t,e,i,n){var a,s,o=[],r=0,l=999999,h=t.length;if(h<=e||h<i||h<n)return null;var c,d=this.computeDoubleEMA(t,e),u=this.computeDoubleEMA(t,i),p=[];for(a=0;a<h;a++)c=d.Values[a].v1-u.Values[a].v1,p[a]={c:c,d:d.Values[a].d},r<c&&(r=c),c<l&&(l=c);for(s=this.computeDoubleEMA(p,n),a=0;a<h;a++)o[a]={d:t[a].d,v1:p[a].c,v2:s.Values[a].v1};return{High:r,Low:l,Values:o}},this.computeMACD=function(t,e,i,n,a,s){var o,r,l,h=[],c=0,d=999999,u=t.length,p=[],f=[];if(u<=e||u<i||u<n)return null;p[0]=gs(t[0],s),f[0]=gs(t[0],s),(l=[])[(r=[])[0]=0]=0;var m,g,v=2/(e+1),b=2/(i+1),y=2/(n+1);for(o=1;o<u;o++)m=gs(t[o],s),p[o]=m*v+p[o-1]*(1-v),f[o]=m*b+f[o-1]*(1-b),r[o]=p[o]-f[o],l[o]=r[o]*y+l[o-1]*(1-y);if("macd"==a)for(o=0;o<u;o++)h[o]={d:t[o].d,v1:r[o],v2:l[o]},r[o]>c&&(c=r[o]),r[o]<d&&(d=r[o]);else for(o=0;o<u;o++)g=r[o]-l[o],h[o]={d:t[o].d,v1:g},c<g&&(c=g),g<d&&(d=g);return{High:c,Low:d,Values:h}},this.computeCoppock=function(t,e,i,n,a){var s,o=0,r=999999;if(t.length<n+5)return null;var l,h=this.computeROC(t,e,null,a),c=this.computeROC(t,i,null,a),d=h.Values.length,u=[];for(s=1;s<d;s++)o<(l=h.Values[s].v1+c.Values[s].v1)&&(o=l),l<r&&(r=l),u[s]={d:h.Values[s].d,c:l};return u[0]={d:h.Values[0].d,c:u[1].c},{High:o,Low:r,Values:this.computeMovingAverageP(u,n,"c").Values}},this.computeROC=function(t,e,i,n){var a,s,o=[],r=0,l=999999,h=0,c=t.length,d=gs(t[0],i);if(n)for(o[0]={d:t[0].d,v1:100},a=1;a<c;a++)r<(h=a-e<0?100*gs(t[a],i)/d:100*gs(t[a],i)/gs(t[a-e],i))&&(r=h),h<l&&(l=h),o[a]={d:t[a].d,v1:h};else for(o[0]={d:t[0].d,v1:0},a=1;a<c;a++)a-e<0?h=100*(gs(t[a],i)-d)/d:(s=gs(t[a-e],i),h=100*(gs(t[a],i)-s)/s),r<h&&(r=h),h<l&&(l=h),o[a]={d:t[a].d,v1:h};return{High:r,Low:l,Values:o}},this.computeSTD=function(t,e,i){for(var n,a,s=[],o=0,r=t.length,l=0,h=this.computeMovingAverage(t,e,i),c=0;c<r;c++){for(n=0;n<e&&!(c-n<0);n++)l+=(a=gs(t[c-n],i)-h.Values[c].v1)*a;l=Math.sqrt(l/n),s[c]={d:t[c].d,v1:l},o<l&&(o=l),l=0}return{High:o,Low:0,Values:s}},this.computeSMI=function(t,e,i,n,a){var s,o=[],r=t.length;if(r<e+1)return null;for(var l,h=[],c=[],d=t[0].l,u=t[0].h,p=0;p<r;p++){for(l=0;l<e&&!(p-l<0);l++)t[p-l].h>u&&(u=t[p-l].h),t[p-l].l<d&&(d=t[p-l].l);c[p]={h:u,l:d},h[p]={d:t[p].d,c:t[p].c-(u+d)/2},u=0,d=999999}var f=this.computeMovingAverageE(h,i,"c"),m=this.computeMovingAverageE(f.Values,n,"v1"),g=[];for(p=0;p<r;p++)g[p]={d:t[p].d,c:c[p].h-c[p].l};var v=this.computeMovingAverageE(g,i,"c"),b=this.computeMovingAverageE(v.Values,n,"v1"),y=[];for(p=0;p<r;p++)y[p]=100*m.Values[p].v1/(b.Values[p].v1/2);for(p=s=0;p<r;p++){for(l=s=0;l<a&&!(p-l<0);l++)s+=y[p-l];o[p]={d:t[p].d,v1:y[p],v2:s/l}}return{High:110,Low:-100,Values:o}},this.computeASI=function(t){var e,i=[],n=t.length;if(n<3)return null;var a,s,o,r,l,h,c=0,d=0,u=999999;for(i[0]={d:t[0].d,v1:0},e=1;e<n;e++)o=Math.abs(t[e].h-t[e-1].c),r=Math.abs(t[e].l-t[e-1].c),l=t[e].h-t[e].l,h=Math.abs(t[e-1].c-t[e-1].o),r<o&&l<o&&(a=o-.5*r+.25*h),o<r&&l<r&&(a=r-.5*o+.25*h),o<l&&r<l&&(a=l+.25*h),s=Math.max(o,r),0!=a&&(c+=(t[e].c-t[e-1].c+.5*(t[e].c-t[e].o)+.25*(t[e-1].c-t[e-1].o))/a*50*(s/300)),d<c&&(d=c),c<u&&(u=c),i[e]={d:t[e].d,v1:c};return{High:d,Low:u,Values:i}},this.computeStochRSI=function(t,e,i,n,a,s){var o,r,l,h;if(t.length<a+1||null==(r=this.computeRSI(t,a,s)))return null;for(l=[],h=r.Values.length,o=0;o<h;o++)l[o]={d:r.Values[o].d,h:r.Values[o].v1,l:r.Values[o].v1,c:r.Values[o].v1};return this.computeSTOCH(l,e,i,n)},this.computeSTOCH=function(t,e,i,n){var a,s,o=[],r=t.length,l=0,h=9999;if(r<e+1)return null;var c,d,u=[],p=t[0].l,f=t[0].h,m=f-p;for(u[0]=0!=m?100*(t[0].c-p)/m:0,c=1;c<e;c++){for(d=0;d<=c;d++)t[d].h>f&&(f=t[d].h),t[d].l<p&&(p=t[d].l);m=f-p,u[c]=0==m?0:100*(t[c].c-p)/m,f=0,p=999999}for(c=e;c<r;c++){for(d=0;d<e;d++)t[c-d].h>f&&(f=t[c-d].h),t[c-d].l<p&&(p=t[c-d].l);m=f-p,u[c]=0==m?0:100*(t[c].c-p)/m,f=0,p=999999}for(a=[],c=0;c<r;c++){for(d=s=0;d<i&&!(c-d<0);d++)s+=u[c-d];a[c]=s/d,a[c]>l&&(l=a[c]),a[c]<h&&(h=a[c])}for(null==n&&(n=3),c=0;c<r;c++){for(d=s=0;d<n&&!(c-d<0);d++)s+=a[c-d];o[c]={d:t[c].d,v1:a[c],v2:s/d}}return{High:l,Low:h,Values:o}},this.computeTRIX=function(t,e,i){var n,a,s,o,r,l=this.computeMovingAverageE(t,e,i),h=[],c=l.Values.length,d=0,u=999999;for(h[0]={d:l.Values[0].d,v1:0},a=l.Values[0].v1,(s=[])[0]=l.Values[0].v1,o=0,r=2/(e+1),n=1;n<c;n++)a=l.Values[n].v1*r+a*(1-r),s[n]=a*r+s[n-1]*(1-r),o=100*(s[n]-s[n-1])/s[n-1],h[n]={d:l.Values[n].d,v1:o},d<o&&(d=o),o<u&&(u=o);return{High:d,Low:u,Values:h}},this.computeVROC=function(t,e){var i,n,a=[],s=0,o=999999,r=t.length;if(r<=e)return null;for(i=0;i<e;i++)a[i]={d:t[i].d,v1:0};for(n=0,i=e;i<r;i++)0!=t[i].v?((n=100*t[i].v/t[i-1].v)<100&&(n*=-1),a[i]={d:t[i].d,v1:n},s<n&&(s=n),n<o&&(o=n)):a[i]={d:t[i].d,v1:0},n=0;return{High:s,Low:o,Values:a}},this.computeWILAC=function(t){var e=[],i=0,n=999999,a=t.length;e[0]={d:t[0].d,v1:0};for(var s=0,o=99999,r=0,l=1;l<a;l++)s=Math.max(t[l-1].c,t[l].h),o=Math.min(t[l-1].c,t[l].l),t[l].c==t[l-1].c||(r=t[l].c>t[l-1].c?r+t[l].c-o:r+t[l].c-s),e[l]={d:t[l].d,v1:r},i<r&&(i=r),r<n&&(n=r),s=0,o=99999;return{High:i,Low:n,Values:e}},this.computeKeltner=function(t,e,i,n){var a,s,o=this.computeMovingAverageE(t,e,"c"),r=[],l=o.Values.length,h=this.computeATR(t,n,"sma");if(null==h)return null;for(a=0;a<l;a++)s=i*h.Values[a].v1,r[a]={d:o.Values[a].d,v1:o.Values[a].v1+s,v2:o.Values[a].v1-s};return{Values:r}},this.computeDonchian=function(t,e){var i,n,a,s,o,r=t.length;if(r<e)return null;for(o=[],i=0;i<r;i++){for(s=999999,n=a=0;n<e&&!(i-n<0);n++)t[i-n].h>a&&(a=t[i-n].h),t[i-n].l<s&&(s=t[i-n].l);o[i]={d:t[i].d,v1:a,v2:s}}return{Values:o}},this.ComputeAroon=function(t,e){var i,n,a=t.length;if(a<e)return null;var s=[],o=0,r=999999,l=0,h=0;for(i=0;i<e;i++){for(n=0;n<=i;n++)t[i-n].h>o&&(o=t[i-n].h,l=n),t[i-n].l<r&&(r=t[i-n].l,h=n);s[i]={d:t[i].d,v1:(e-l)/e*100,v2:(e-h)/e*100},o=0,r=999999}for(i=e;i<a;i++){for(n=0;n<=e;n++)t[i-n].h>o&&(o=t[i-n].h,l=n),t[i-n].l<r&&(r=t[i-n].l,h=n);s[i]={d:t[i].d,v1:(e-l)/e*100,v2:(e-h)/e*100},o=0,r=999999}return{High:110,Low:-5,Values:s}},this.computeWILR=function(t,e){var i=t.length;if(i<e)return null;for(var n,a=9999999,s=0,o=[],r=0;r<e+1;r++)o[r]={d:t[r].d,v1:0};for(r=e+1;r<i;r++){for(n=0;n<e;n++)t[r-n].h>s&&(s=t[r-n].h),t[r-n].l<a&&(a=t[r-n].l);o[r]=s-a==0?{d:t[r].d,v1:0}:{d:t[r].d,v1:-100*(s-t[r].c)/(s-a)},s=0,a=999999}return{High:0,Low:-100,Values:o}},this.computeMarteau=function(t){for(var e,i,n,a=[],s=t.length,o=2;o<s;o++)null!=t[o-2]&&null!=t[o-1]&&null!=t[o]&&t[o-2].l>t[o-1].l&&t[o-1].l>t[o].l&&(e=Math.min(t[o].o,t[o].c),i=Math.max(t[o].o,t[o].c),n=e-t[o].l,(t[o].h-i)/(t[o].h-t[o].l)<.04&&i-e<=n&&a.push({i:o,d:t[o].d,v1:t[o].l,v2:0}));return{Values:a}},this.computePinces=function(t){for(var e=[],i=t.length,n=3;n<i;n++)null!=t[n-3]&&null!=t[n-2]&&null!=t[n-1]&&null!=t[n]&&(t[n-3].h<t[n-2].h&&t[n-2].h<t[n-1].h&&100*Math.abs(1-t[n-1].h/t[n].h)<.05&&e.push({i:n,d:t[n-1].d,v1:0,v2:t[n].h}),t[n-3].l>t[n-2].l&&t[n-2].l>t[n-1].l&&100*Math.abs(1-t[n-1].l/t[n].l)<.05&&e.push({i:n,d:t[n-1].d,v1:t[n].l,v2:0}));return{Values:e}},this.computeMarubozu=function(t){for(var e,i,n=[],a=t.length,s=1;s<a;s++)null!=t[s]&&1.2<Math.abs(100*(t[s].c-t[s].o)/t[s].c)&&(e=Math.abs(100*(t[s].l-t[s].o)/t[s].c),i=Math.abs(100*(t[s].h-t[s].c)/t[s].c),e<.05&&i<.05&&n.push({i:s,d:t[s-1].d,v1:0,v2:t[s].h}),e=Math.abs(100*(t[s].l-t[s].c)/t[s].c),i=Math.abs(100*(t[s].h-t[s].o)/t[s].c),e<.05&&i<.05&&n.push({i:s,d:t[s-1].d,v1:t[s].l,v2:0}));return{Values:n}},this.computeSoldiers=function(t){for(var e=[],i=t.length,n=3;n<i;n++)if(null!=t[n-2]&&null!=t[n-1]&&null!=t[n])if(t[n-2].c<t[n-1].c&&t[n-1].c<t[n].c){if(t[n-2].o<t[n-1].o&&t[n-1].o<t[n].o&&t[n-2].h<t[n-1].h&&t[n-1].h<t[n].h){if(t[n-2].c-t[n-2].o<=0||t[n-1].c-t[n-1].o<=0||t[n].c-t[n].o<=0)continue;e.push({i:n,d:t[n-1].d,v1:0,v2:t[n].h})}}else if(t[n-2].c>t[n-1].c&&t[n-1].c>t[n].c&&t[n-2].o>t[n-1].o&&t[n-1].o>t[n].o&&t[n-2].l>t[n-1].l&&t[n-1].l>t[n].l){if(0<=t[n-2].c-t[n-2].o||0<=t[n-1].c-t[n-1].o||0<=t[n].c-t[n].o)continue;e.push({i:n,d:t[n-1].d,v1:t[n].l,v2:0})}return{Values:e}},this.computePendu=function(t){for(var e,i,n,a=[],s=t.length,o=2;o<s;o++)null!=t[o-2]&&null!=t[o-1]&&null!=t[o]&&t[o-2].h<t[o-1].h&&t[o-1].h<t[o].h&&(e=Math.min(t[o].o,t[o].c),i=Math.max(t[o].o,t[o].c),n=e-t[o].l,(t[o].h-i)/(t[o].h-t[o].l)<.04&&i-e<=n&&a.push({i:o,d:t[o-1].d,v1:0,v2:t[o].h}));return{Values:a}},this.computeHarami=function(t){for(var e=[],i=t.length,n=1;n<i;n++)null!=t[n-1]&&null!=t[n]&&(t[n].l>t[n-1].c&&t[n].h<t[n-1].o&&t[n-1].o>t[n-1].c?e.push({i:n,d:t[n-1].d,v1:t[n].l,v2:0}):t[n].l>t[n-1].o&&t[n].h<t[n-1].c&&t[n-1].o<t[n-1].c&&e.push({i:n,d:t[n-1].d,v1:0,v2:t[n].h}));return{Values:e}},this.computeEnglobante=function(t){for(var e=[],i=t.length,n=1;n<i;n++)null!=t[n-1]&&null!=t[n]&&(t[n].c>t[n-1].o&&t[n].o<t[n-1].c&&t[n-1].o>t[n-1].c?e.push({i:n,d:t[n].d,v1:t[n].l,v2:0}):t[n].c<t[n-1].o&&t[n].o>t[n-1].c&&t[n-1].o<t[n-1].c&&e.push({i:n,d:t[n].d,v1:0,v2:t[n].h}));return{Values:e}},this.computeGAP=function(t){for(var e=[],i=t.length,n=1;n<i;n++)null!=t[n-1]&&null!=t[n]&&(t[n-1].h<t[n].l?e.push({i:n,d:t[n].d,v1:t[n-1].l,v2:0}):t[n-1].l>t[n].h&&e.push({i:n,d:t[n].d,v1:0,v2:t[n-1].h}));return{Values:e}},this.computeDOJI=function(t,e){var i,n=[],a=t.length,s=.05;for(e<0&&(s=.002),i=0;i<a;i++)null!=t[i]&&(Math.abs(100*(t[i].o-t[i].c)/t[i].o)<s&&t[i].h>t[i].c&&t[i].l<t[i].c&&n.push({i:i,d:t[i].d,v1:t[i].l,v2:0}));return{Values:n}},this.computeKEYR=function(t){for(var e=[],i=t.length,n=2;n<i;n++)if(null!=t[n-2]&&null!=t[n-1]&&null!=t[n]){if(t[n-2].h<t[n-1].h&&t[n-1].h<t[n].h){t[n].o>t[n-1].c&&t[n].c<t[n-1].l&&e.push({i:n,d:t[n].d,v1:0,v2:t[n-1].h});continue}t[n-2].l>t[n-1].l&&t[n-1].l>t[n].l&&t[n].o<t[n-1].c&&t[n].c>t[n-1].h&&e.push({i:n,d:t[n].d,v1:t[n-1].l,v2:0})}return{Values:e}},this.computePERFORMANCE=function(t,e){var i={QuoteTab:t.QuoteTab},n=[],a=0,s=9999999;n[0]=e?{d:i.QuoteTab[0].d,v1:0}:{d:i.QuoteTab[0].d,c:0};for(var o,r=0,l=i.QuoteTab.length,h=i.QuoteTab[0].c,c=1;c<l;c++)null!=(o=i.QuoteTab[c])&&(r=100*(o.c-h)/h,n[c]=e?{d:o.d,v1:r}:{d:o.d,c:r},a<r&&(a=r),r<s&&(s=r));return e?{High:a,Low:s,Values:n}:{Name:t.Name,High:a,Low:s,QuoteTab:n}},this.computeSAR=function(t,e,i){var n,a=[],s=[],o=[],r=[],l=[],h=t.length,c=0,d=0;for(o[0]=t[0].c>t[0].l,s[0]=t[0].c,r[0]=e,l[0]=t[0].c,l[1]=o[0]?t[1].l:t[0].h,r[1]=e,s[1]=r[1]*(l[1]-l[0])+l[0],o[1]=o[0]?s[1]>t[0].h:s[1]>t[0].c,n=2;n<h;n++)l[n]=o[n-1]==o[n-2]?o[n-1]?t[n].l<l[n-1]?t[n].l:l[n-1]:t[n].h>l[n-1]?t[n].h:l[n-1]:o[n-1]?t[n].l:t[n].h,r[n]=o[n-1]==o[n-2]?l[n-1]==l[n]?r[n-1]:r[n-1]<i?r[n-1]+e:i:e,s[n]=o[n-1]==o[n-2]?r[n]*(l[n]-s[n-1])+s[n-1]:r[n]*(l[n]-l[n-1])+l[n-1],o[n]=o[n-1]?s[n]>t[n].h:s[n]>t[n].l,o[n]?(c=0,d=o[n]==o[n-1]?s[n]:l[n]):(d=0,c=o[n]==o[n-1]?s[n]:l[n]),a[n]={d:t[n].d,v1:d,v2:c};return{Values:a}},this.computeMoonPhase=function(t,e){if(e)return null;for(var i,n,a=[],s=t.length,o=0;o<s;o++)i=new Date(864e5*t[o].d),.5<(n=r(new Date(i.getFullYear(),i.getMonth(),i.getDate())))&&(n=1-n),a[o]={d:t[o].d,v1:2*n};return i=new Date(864e5*t[s-1].d),new Date(i.getFullYear(),i.getMonth()+1,i.getDate()),{High:1,Low:0,Values:a}},Date.prototype.getJulian=function(){return this/864e5-this.getTimezoneOffset()/1440+2440587.5}},function(){var t=function(t){if(this.wrapperEl="#color1",this.value="#ffffff",this.onChange=function(){},this.colors=["ffaaaa","ff5656","ff0000","bf0000","7f0000","ffffff","ffd4aa","ffaa56","ff7f00","bf5f00","7f3f00","e5e5e5","ffffaa","ffff56","ffff00","bfbf00","7f7f00","cccccc","aaffaa","56ff56","00ff00","00bf00","008000","999999","aaffff","56ffff","00ffff","00bfbf","007f7f","666666","aad4ff","56aaff","007fff","005fbf","003f7f","4c4c4c","aaaaff","5656ff","0000ff","0000bf","00007f","333333","d4aaff","aa56ff","7f00ff","5f00bf","3f007f","191919","ffaaff","ff56ff","ff00ff","bf00bf","7f007f","000000"],t)for(var e in t)this[e]=t[e];this.init()};t.prototype={init:function(){function o(){var t=document.querySelector(".palette");null!=t&&(t.parentNode.removeChild(t),document.removeEventListener("mousedown",o))}var r=this;this.input=document.querySelector(this.wrapperEl),this.input.style.display="none",this.wrapper=document.createElement("div"),this.wrapper.setAttribute("class","colorPicker-picker"),this.wrapper.style.backgroundColor=r.value,this.input.parentNode.insertBefore(this.wrapper,this.input.nextSibling),this.wrapper.addEventListener("mousedown",function(t){var e,i,n,a,s;if(t.stopPropagation(),null!=(e=document.querySelector(".palette")))return"palettein"==t.target.className&&(i=window.getComputedStyle(t.target).backgroundColor,r.wrapper.style.backgroundColor=i,r.input.setAttribute("value",i),r.onChange(rgb2hex(i))),e.parentNode.removeChild(e),void document.removeEventListener("mousedown",o);for((e=document.createElement("div")).setAttribute("class","palette"),a=r.colors.length,s="",n=0;n<a;n++)s=s+'<div class="palettein" style="background-color:#'+r.colors[n]+'" ></div>';e.innerHTML=s,r.wrapper.appendChild(e),document.addEventListener("mousedown",o)})},change:function(t){this.wrapper.style.backgroundColor=t,this.input.setAttribute("value",t)}},window.ColorPicker=t}(),function(){var t=function(t){if(this.wrapperEl="#slidercontainer",this.value=0,this.onSlide=function(){},this.isMove=!1,t)for(var e in t)this[e]=t[e];this.init()};t.prototype={init:function(){function e(t){t.preventDefault(),h.isMove=!0,["touchmove","mousemove"].forEach(function(t){document.addEventListener(t,i)}),["touchend","mouseup"].forEach(function(t){document.addEventListener(t,n)})}function i(t){var e,i,n;if(t.preventDefault(),h.isMove){var a=offset(h.wrapper),s=pointerEventToXY(t),o=parseInt(s.x-a.left)-20;o<0&&(o=0),o>h.width-20&&(o=h.width-20),l.style.left=o+"px",r.style.width=o+5+"px",(e=o/(h.width-20))<0&&(e=0),i=h.max-h.min,n=h.min+i*e,n=1==h.increment?Math.round(n):Math.round(n/h.increment)*h.increment,h.onSlide(n)}}function n(t){t.preventDefault(),["touchmove","mousemove"].forEach(function(t){document.removeEventListener(t,i)}),["touchend","mouseup"].forEach(function(t){document.removeEventListener(t,n)}),h.isMove=!1}var t,r,l,a,s,o,h=this;this.wrapper=document.querySelector(this.wrapperEl),(t=document.createElement("div")).setAttribute("class","sliderbar"),(r=document.createElement("div")).setAttribute("class","sliderin"),this.divIn=r,t.appendChild(r),(l=document.createElement("div")).setAttribute("class","sliderpointer"),this.divCursor=l,this.wrapper.appendChild(t),this.wrapper.appendChild(l),a=window.getComputedStyle(this.wrapper.parentNode).width,this.width=a.replace("px",""),this.min=parseFloat(this.wrapper.getAttribute("min")),this.max=parseFloat(this.wrapper.getAttribute("max")),this.increment=parseFloat(this.wrapper.getAttribute("step")),(s=this.wrapper.getAttribute("value"))&&(this.value=parseFloat(s)),(o=(h.value-this.min)/(this.max-this.min)*(this.width-20))<0&&(o=0),this.divCursor.style.left=o+"px",this.divIn.style.width=o+5+"px",["touchstart","mousedown"].forEach(function(t){h.divCursor.addEventListener(t,e)})},set:function(t){var e=(t-this.min)/(this.max-this.min)*(this.width-20);e<0&&(e=0),this.divCursor.style.left=e+"px",this.divIn.style.width=e+5+"px"}},window.Slider=t}(),function(){var o;window.AmCharts?o=window.AmCharts:(o={},(window.AmCharts=o).themes={},o.maps={},o.inheriting={},o.charts=[],o.onReadyArray=[],o.useUTC=!1,o.updateRate=60,o.uid=0,o.lang={},o.translations={},o.mapTranslations={},o.windows={},o.initHandlers=[],o.amString="am",o.pmString="pm"),o.Class=function(t){var e=function(){arguments[0]!==o.inheriting&&(this.events={},this.construct.apply(this,arguments))};for(var i in t.inherits?(e.prototype=new t.inherits(o.inheriting),e.base=t.inherits.prototype,delete t.inherits):(e.prototype.createEvents=function(){for(var t=0;t<arguments.length;t++)this.events[arguments[t]]=[]},e.prototype.listenTo=function(t,e,i){this.removeListener(t,e,i),t.events[e].push({handler:i,scope:this})},e.prototype.addListener=function(t,e,i){this.removeListener(this,t,e),t&&this.events[t]&&this.events[t].push({handler:e,scope:i})},e.prototype.removeListener=function(t,e,i){if(t&&t.events&&(t=t.events[e]))for(e=t.length-1;0<=e;e--)t[e].handler===i&&t.splice(e,1)},e.prototype.fire=function(t){for(var e=this.events[t.type],i=0;i<e.length;i++){var n=e[i];n.handler.call(n.scope,t)}}),t)e.prototype[i]=t[i];return e},o.addChart=function(t){window.requestAnimationFrame?o.animationRequested||(o.animationRequested=!0,window.requestAnimationFrame(o.update)):o.updateInt||(o.updateInt=setInterval(function(){o.update()},Math.round(1e3/o.updateRate))),o.charts.push(t)},o.removeChart=function(t){for(var e=o.charts,i=e.length-1;0<=i;i--)e[i]==t&&e.splice(i,1);0===e.length&&(o.requestAnimation&&(window.cancelAnimationFrame(o.requestAnimation),o.animationRequested=!1),o.updateInt&&(clearInterval(o.updateInt),o.updateInt=NaN))},o.isModern=!0,o.getIEVersion=function(){var t,e=0;return"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,null!==/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(t)&&(e=parseFloat(RegExp.$1))),e},o.applyLang=function(t,e){var i=o.translations;e.dayNames=o.extend({},o.dayNames),e.shortDayNames=o.extend({},o.shortDayNames),e.monthNames=o.extend({},o.monthNames),e.shortMonthNames=o.extend({},o.shortMonthNames),e.amString="am",e.pmString="pm",i&&(i=i[t])&&(o.lang=i,(e.langObj=i).monthNames&&(e.dayNames=o.extend({},i.dayNames),e.shortDayNames=o.extend({},i.shortDayNames),e.monthNames=o.extend({},i.monthNames),e.shortMonthNames=o.extend({},i.shortMonthNames)),i.am&&(e.amString=i.am),i.pm&&(e.pmString=i.pm)),o.amString=e.amString,o.pmString=e.pmString},o.IEversion=o.getIEVersion(),o.IEversion<9&&0<o.IEversion&&(o.isModern=!1,o.isIE=!0),o.dx=0,o.dy=0,(document.addEventListener||window.opera)&&(o.isNN=!0,o.isIE=!1,o.dx=.5,o.dy=.5),document.attachEvent&&(o.isNN=!1,o.isIE=!0,o.isModern||(o.dx=0,o.dy=0)),window.chrome&&(o.chrome=!0),o.handleMouseUp=function(t){for(var e=o.charts,i=0;i<e.length;i++){var n=e[i];n&&n.handleReleaseOutside&&n.handleReleaseOutside(t)}},o.handleMouseMove=function(t){for(var e=o.charts,i=0;i<e.length;i++){var n=e[i];n&&n.handleMouseMove&&n.handleMouseMove(t)}},o.handleWheel=function(t){for(var e=o.charts,i=0;i<e.length;i++){var n=e[i];if(n&&n.mouseIsOver){(n.mouseWheelScrollEnabled||n.mouseWheelZoomEnabled)&&n.handleWheel&&n.handleWheel(t);break}}},o.resetMouseOver=function(){for(var t=o.charts,e=0;e<t.length;e++){var i=t[e];i&&(i.mouseIsOver=!1)}},o.ready=function(t){o.onReadyArray.push(t)},o.handleLoad=function(){o.isReady=!0;for(var t=o.onReadyArray,e=0;e<t.length;e++){var i=t[e];isNaN(o.processDelay)?i():setTimeout(i,o.processDelay*e)}},o.addInitHandler=function(t,e){o.initHandlers.push({method:t,types:e})},o.callInitHandler=function(t){var e=o.initHandlers;if(o.initHandlers)for(var i=0;i<e.length;i++){var n=e[i];n.types?o.isInArray(n.types,t.type)&&n.method(t):n.method(t)}},o.getUniqueId=function(){return o.uid++,"AmChartsEl-"+o.uid},o.isNN&&(document.addEventListener("mousemove",o.handleMouseMove),document.addEventListener("mouseup",o.handleMouseUp,!0),window.addEventListener("load",o.handleLoad,!0),window.addEventListener("DOMMouseScroll",o.handleWheel,!0),document.addEventListener("mousewheel",o.handleWheel,!0)),o.isIE&&(document.attachEvent("onmousemove",o.handleMouseMove),document.attachEvent("onmouseup",o.handleMouseUp),window.attachEvent("onload",o.handleLoad),document.attachEvent("onmousewheel",o.handleWheel)),o.clear=function(){var t=o.charts;if(t)for(var e=t.length-1;0<=e;e--)t[e].clear();o.updateInt&&clearInterval(o.updateInt),o.requestAnimation&&window.cancelAnimationFrame(o.requestAnimation),o.charts=[],o.isNN&&(document.removeEventListener("mousemove",o.handleMouseMove,!0),document.removeEventListener("mouseup",o.handleMouseUp,!0),window.removeEventListener("load",o.handleLoad,!0),window.removeEventListener("DOMMouseScroll",o.handleWheel,!0),document.removeEventListener("mousewheel",o.handleWheel,!0)),o.isIE&&(document.detachEvent("onmousemove",o.handleMouseMove),document.detachEvent("onmouseup",o.handleMouseUp),window.detachEvent("onload",o.handleLoad))},o.makeChart=function(t,e,i){var n,a=e.type,s=e.theme;switch(o.isString(s)&&(s=o.themes[s],e.theme=s),a){case"serial":n=new o.AmSerialChart(s);break;case"xy":n=new o.AmXYChart(s);break;case"pie":n=new o.AmPieChart(s);break;case"radar":n=new o.AmRadarChart(s);break;case"gauge":n=new o.AmAngularGauge(s);break;case"funnel":n=new o.AmFunnelChart(s);break;case"map":n=new o.AmMap(s);break;case"stock":n=new o.AmStockChart(s);break;case"gantt":n=new o.AmGanttChart(s)}return o.extend(n,e),o.isReady?isNaN(i)?n.write(t):setTimeout(function(){o.realWrite(n,t)},i):o.ready(function(){isNaN(i)?n.write(t):setTimeout(function(){o.realWrite(n,t)},i)}),n},o.realWrite=function(t,e){t.write(e)},o.updateCount=0,o.validateAt=Math.round(o.updateRate/10),o.update=function(){var t=o.charts;o.updateCount++;var e=!1;if(o.updateCount==o.validateAt&&(e=!0,o.updateCount=0),t)for(var i=t.length-1;0<=i;i--)t[i].update&&t[i].update(),e&&(t[i].autoResize?t[i].validateSize&&t[i].validateSize():t[i].premeasure&&t[i].premeasure());window.requestAnimationFrame&&(o.requestAnimation=window.requestAnimationFrame(o.update))},o.bezierX=3,o.bezierY=6,"complete"==document.readyState&&o.handleLoad()}(),function(){var d=window.AmCharts;d.toBoolean=function(t,e){if(void 0===t)return e;switch(String(t).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!t}},d.removeFromArray=function(t,e){var i;if(void 0!==e&&void 0!==t)for(i=t.length-1;0<=i;i--)t[i]==e&&t.splice(i,1)},d.getPath=function(){var t=document.getElementsByTagName("script");if(t)for(var e=0;e<t.length;e++){var i=t[e].src;if(-1!==i.search(/\/(amcharts|ammap)\.js/))return i.replace(/\/(amcharts|ammap)\.js.*/,"/")}},d.normalizeUrl=function(t){return""!==t&&-1===t.search(/\/$/)?t+"/":t},d.isAbsolute=function(t){return 0===t.search(/^http[s]?:|^\//)},d.isInArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},d.getDecimals=function(t){var e=0;return isNaN(t)||(-1!=(t=String(t)).indexOf("e-")?e=Number(t.split("-")[1]):-1!=t.indexOf(".")&&(e=t.split(".")[1].length)),e},d.wordwrap=function(t,e,i,n){var a,s,o,r;if(t+="",e<1)return t;for(a=-1,t=(r=t.split(/\r\n|\n|\r/)).length;++a<t;r[a]+=o){for(o=r[a],r[a]="";o.length>e;r[a]+=d.trim(o.slice(0,s))+((o=o.slice(s)).length?i:""))s=2==n||(s=o.slice(0,e+1).match(/\S*(\s)?$/))[1]?e:s.input.length-s[0].length||1==n&&e||s.input.length+(s=o.slice(e).match(/^\S*/))[0].length;o=d.trim(o)}return r.join(i)},d.trim=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},d.wrappedText=function(t,e,i,n,a,s,o,r){var l=d.text(t,e,i,n,a,s,o);if(l){var h=l.getBBox();if(h.width>r){var c="\n";d.isModern||(c="<br>"),2<(r=Math.floor(r/(h.width/e.length)))&&(r-=2),e=d.wordwrap(e,r,c,!0),l.remove(),l=d.text(t,e,i,n,a,s,o)}}return l},d.getStyle=function(t,e){var i="";if(document.defaultView&&document.defaultView.getComputedStyle)try{i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e)}catch(t){}else t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),i=t.currentStyle[e]);return i},d.removePx=function(t){if(void 0!==t)return Number(t.substring(0,t.length-2))},d.getURL=function(t,e){if(t)if("_self"!=e&&e)if("_top"==e&&window.top)window.top.location.href=t;else if("_parent"==e&&window.parent)window.parent.location.href=t;else if("_blank"==e)window.open(t);else{var i=document.getElementsByName(e)[0];i?i.src=t:(i=d.windows[e])&&i.opener&&!i.opener.closed?i.location.href=t:d.windows[e]=window.open(t)}else window.location.href=t},d.ifArray=function(t){return!!(t&&"object"==typeof t&&0<t.length)},d.callMethod=function(t,e){var i;for(i=0;i<e.length;i++){var n=e[i];if(n){n[t]&&n[t]();var a,s=n.length;if(0<s)for(a=0;a<s;a++){var o=n[a];o&&o[t]&&o[t]()}}}},d.toNumber=function(t){return"number"==typeof t?t:Number(String(t).replace(/[^0-9\-.]+/g,""))},d.toColor=function(t){if(""!==t&&void 0!==t)if(-1!=t.indexOf(",")){var e;for(t=t.split(","),e=0;e<t.length;e++){var i=t[e].substring(t[e].length-6,t[e].length);t[e]="#"+i}}else t="#"+(t=t.substring(t.length-6,t.length));return t},d.toCoordinate=function(t,e,i){var n;return void 0!==t&&(t=String(t),i&&i<e&&(e=i),n=Number(t),-1!=t.indexOf("!")&&(n=e-Number(t.substr(1))),-1!=t.indexOf("%")&&(n=e*Number(t.substr(0,t.length-1))/100)),n},d.fitToBounds=function(t,e,i){return t<e&&(t=e),i<t&&(t=i),t},d.isDefined=function(t){return void 0!==t},d.stripNumbers=function(t){return t.replace(/[0-9]+/g,"")},d.roundTo=function(t,e){if(e<0)return t;var i=Math.pow(10,e);return Math.round(t*i)/i},d.toFixed=function(t,e){var i=String(Math.round(t*Math.pow(10,e)));if(0<e){var n,a=i.length;if(a<e)for(n=0;n<e-a;n++)i="0"+i;return""===(a=i.substring(0,i.length-e))&&(a=0),a+"."+i.substring(i.length-e,i.length)}return String(i)},d.formatDuration=function(t,e,i,n,a,s){var o=d.intervals,r=s.decimalSeparator;if(t>=o[e].contains){var l=t-Math.floor(t/o[e].contains)*o[e].contains;return"ss"==e?1==(l=d.formatNumber(l,s)).split(r)[0].length&&(l="0"+l):l=d.roundTo(l,s.precision),("mm"==e||"hh"==e)&&l<10&&(l="0"+l),i=l+""+n[e]+i,t=Math.floor(t/o[e].contains),e=o[e].nextInterval,d.formatDuration(t,e,i,n,a,s)}if("ss"==e&&(1==(t=d.formatNumber(t,s)).split(r)[0].length&&(t="0"+t)),("mm"==e||"hh"==e)&&t<10&&(t="0"+t),i=t+""+n[e]+i,o[a].count>o[e].count)for(t=o[e].count;t<o[a].count;t++)"ss"==(e=o[e].nextInterval)||"mm"==e||"hh"==e?i="00"+n[e]+i:"DD"==e&&(i="0"+n[e]+i);return":"==i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)),i},d.formatNumber=function(t,e,i,n,a){t=d.roundTo(t,e.precision),isNaN(i)&&(i=e.precision);var s,o=e.decimalSeparator;e=e.thousandsSeparator,s=t<0?"-":"",t=Math.abs(t);var r=!1;-1!=(c=String(t)).indexOf("e")&&(r=!0),0<=i&&!r&&(c=d.toFixed(t,i));var l="";if(r)l=c;else{var h,c=c.split(".");for(h=(r=String(c[0])).length;0<=h;h-=3)l=h!=r.length?0!==h?r.substring(h-3,h)+e+l:r.substring(h-3,h)+l:r.substring(h-3,h);void 0!==c[1]&&(l=l+o+c[1]),void 0!==i&&0<i&&"0"!=l&&(l=d.addZeroes(l,o,i))}return l=s+l,""===s&&!0===n&&0!==t&&(l="+"+l),!0===a&&(l+="%"),l},d.addZeroes=function(t,e,i){return void 0===(t=t.split(e))[1]&&0<i&&(t[1]="0"),t[1].length<i?(t[1]+="0",d.addZeroes(t[0]+e+t[1],e,i)):void 0!==t[1]?t[0]+e+t[1]:t[0]},d.scientificToNormal=function(t){var e,i;if("-"==(t=String(t).split("e"))[1].substr(0,1)){for(e="0.",i=0;i<Math.abs(Number(t[1]))-1;i++)e+="0";e+=t[0].split(".").join("")}else{var n=0;for((e=t[0].split("."))[1]&&(n=e[1].length),e=t[0].split(".").join(""),i=0;i<Math.abs(Number(t[1]))-n;i++)e+="0"}return e},d.toScientific=function(t,e){if(0===t)return"0";var i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n=String(n).split(".").join(e);return String(n)+"e"+i},d.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},d.hitTest=function(t,e,i){var n=!1,a=t.x,s=t.x+t.width,o=t.y,r=t.y+t.height,l=d.isInRectangle;return n||(n=l(a,o,e)),n||(n=l(a,r,e)),n||(n=l(s,o,e)),n||(n=l(s,r,e)),n||!0===i||(n=d.hitTest(e,t,!0)),n},d.isInRectangle=function(t,e,i){return t>=i.x-5&&t<=i.x+i.width+5&&e>=i.y-5&&e<=i.y+i.height+5},d.isPercents=function(t){if(-1!=String(t).indexOf("%"))return!0},d.formatValue=function(t,e,i,n,a,s,o,r){var l;if(e)for(void 0===a&&(a=""),l=0;l<i.length;l++){var h=i[l],c=e[h];void 0!==c&&(c=s?d.addPrefix(c,r,o,n):d.formatNumber(c,n),t=t.replace(new RegExp("\\[\\["+a+h+"\\]\\]","g"),c))}return t},d.formatDataContextValue=function(t,e){if(t){var i,n=t.match(/\[\[.*?\]\]/g);for(i=0;i<n.length;i++){var a;void 0!==e[a=(a=n[i]).substr(2,a.length-4)]&&(t=t.replace(new RegExp("\\[\\["+a+"\\]\\]","g"),e[a]))}}return t},d.massReplace=function(t,e){for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];void 0===n&&(n=""),t=t.replace(i,n)}return t},d.cleanFromEmpty=function(t){return t.replace(/\[\[[^\]]*\]\]/g,"")},d.addPrefix=function(t,e,i,n,a){var s,o,r,l=d.formatNumber(t,n),h="";if(0===t)return"0";if(t<0&&(h="-"),1<(t=Math.abs(t))){for(s=e.length-1;-1<s;s--)if(t>=e[s].number&&(o=t/e[s].number,(r=Number(n.precision))<1&&(r=1),i=d.roundTo(o,r),r=d.formatNumber(i,{precision:-1,decimalSeparator:n.decimalSeparator,thousandsSeparator:n.thousandsSeparator}),!a||o==i)){l=h+""+r+e[s].prefix;break}}else for(s=0;s<i.length;s++)if(t<=i[s].number){o=t/i[s].number,r=Math.abs(Math.floor(Math.log(o)*Math.LOG10E)),l=h+""+(o=d.roundTo(o,r))+i[s].prefix;break}return l},d.remove=function(t){t&&t.remove()},d.getEffect=function(t){return">"==t&&(t="easeOutSine"),"<"==t&&(t="easeInSine"),"elastic"==t&&(t="easeOutElastic"),t},d.getObjById=function(t,e){var i,n;for(n=0;n<t.length;n++){var a=t[n];if(a.id==e){i=a;break}}return i},d.applyTheme=function(t,e,i){e||(e=d.theme);try{e=JSON.parse(JSON.stringify(e))}catch(t){}e&&e[i]&&d.extend(t,e[i])},d.isString=function(t){return"string"==typeof t},d.extend=function(t,e,i){var n;for(n in t||(t={}),e)i&&t.hasOwnProperty(n)||(t[n]=e[n]);return t},d.copyProperties=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"events"!=i&&void 0!==t[i]&&"function"!=typeof t[i]&&"cname"!=i&&(e[i]=t[i])},d.processObject=function(t,e,i,n){if(!1==t instanceof e&&(t=n?d.extend(new e(i),t):d.extend(t,new e(i),!0)).listeners)for(var a in t.listeners)e=t.listeners[a],t.addListener(e.event,e.method);return t},d.fixNewLines=function(t){var e=RegExp("\\n","g");return t&&(t=t.replace(e,"<br />")),t},d.fixBrakes=function(t){if(d.isModern){var e=RegExp("<br>","g");t&&(t=t.replace(e,"\n"))}else t=d.fixNewLines(t);return t},d.deleteObject=function(t,e){if(t&&(null==e&&(e=20),0!==e))if("[object Array]"===Object.prototype.toString.call(t))for(var i=0;i<t.length;i++)d.deleteObject(t[i],e-1),t[i]=null;else if(t&&!t.tagName)try{for(i in t.theme=null,t)t[i]&&("object"==typeof t[i]&&d.deleteObject(t[i],e-1),"function"!=typeof t[i]&&(t[i]=null))}catch(t){}},d.bounce=function(t,e,i,n,a){return(e/=a)<1/2.75?7.5625*n*e*e+i:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},d.easeInOutQuad=function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},d.easeInSine=function(t,e,i,n,a){return-n*Math.cos(e/a*(Math.PI/2))+n+i},d.easeOutSine=function(t,e,i,n,a){return n*Math.sin(e/a*(Math.PI/2))+i},d.easeOutElastic=function(t,e,i,n,a){t=1.70158;var s=0,o=n;return 0===e?i:1==(e/=a)?i+n:(s||(s=.3*a),o<Math.abs(n)?(o=n,t=s/4):t=s/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*e)*Math.sin(2*(e*a-t)*Math.PI/s)+n+i)},d.fixStepE=function(t){t=t.toExponential(0).split("e");var e=Number(t[1]);return 9==Number(t[0])&&e++,d.generateNumber(1,e)},d.generateNumber=function(t,e){var i,n,a="";for(i=e<0?Math.abs(e)-1:Math.abs(e),n=0;n<i;n++)a+="0";return e<0?Number("0."+a+String(t)):Number(String(t)+a)},d.setCN=function(t,e,i,n){if(t.addClassNames&&e&&(e=e.node)&&i){var a=e.getAttribute("class");t=t.classNamePrefix+"-",n&&(t=""),a?e.setAttribute("class",a+" "+t+i):e.setAttribute("class",t+i)}},d.removeCN=function(t,e,i){e&&(e=e.node)&&i&&(e=e.classList)&&e.remove(t.classNamePrefix+"-"+i)},d.parseDefs=function(t,e){for(var i in t){var n=typeof t[i];if(0<t[i].length&&"object"==n)for(var a=0;a<t[i].length;a++)n=document.createElementNS(d.SVG_NS,i),e.appendChild(n),d.parseDefs(t[i][a],n);else"object"==n?(n=document.createElementNS(d.SVG_NS,i),e.appendChild(n),d.parseDefs(t[i],n)):e.setAttribute(i,t[i])}}}(),function(){var M=window.AmCharts;M.AxisBase=M.Class({construct:function(t){this.createEvents("clickItem","rollOverItem","rollOutItem"),this.titleDY=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,this.bcn="axis-",this.centerLabels=!1,this.firstDayOfWeek=1,this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0,this.periods=[{period:"fff",count:1},{period:"fff",count:5},{period:"fff",count:10},{period:"fff",count:50},{period:"fff",count:100},{period:"fff",count:500},{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"NN:SS.QQQ"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"},M.applyTheme(this,t,"AxisBase")},zoom:function(t,e){this.start=t,this.end=e,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var t=this.position;"H"==this.orientation?("left"==t&&(t="bottom"),"right"==t&&(t="top")):("bottom"==t&&(t="left"),"top"==t&&(t="right")),this.position=t},init:function(){this.createBalloon()},draw:function(){var t=this.chart;this.prevBY=this.prevBX=NaN,this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.setBalloonBounds(),this.labels=[];var e=t.container,i=e.set();t.gridSet.push(i),this.set=i,e=e.set(),t.axesLabelsSet.push(e),this.labelsSet=e,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?(t=this.height/this.minVerticalGap)<3&&(t=3):t=this.width/this.minHorizontalGap,this.gridCountR=Math.max(t,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(t){this.orientation=t?"H":"V"},addTitle:function(){var t=this.title;if(this.titleLabel=null,t){var e=this.chart,i=this.titleColor;void 0===i&&(i=e.color);var n=this.titleFontSize;isNaN(n)&&(n=e.fontSize+1),t=M.text(e.container,t,i,e.fontFamily,n,this.titleAlign,this.titleBold),M.setCN(e,t,this.bcn+"title"),this.titleLabel=t}},positionTitle:function(){var t=this.titleLabel;if(t){var e,i,n={};0<(a=this.labelsSet).length()?n=a.getBBox():(n.x=0,n.y=0,n.width=this.width,n.height=this.height,M.VML&&(n.y+=this.y,n.x+=this.x)),a.push(t);var a=n.x,s=n.y;M.VML&&(s-=this.y,a-=this.x);var o=n.width,r=(n=n.height,this.width),l=this.height,h=0,c=t.getBBox().height/2,d=this.inside,u=this.titleAlign;switch(this.position){case"top":e="left"==u?-1:"right"==u?r:r/2,i=s-10-c;break;case"bottom":e="left"==u?-1:"right"==u?r:r/2,i=s+n+10+c;break;case"left":e=a-10-c,d&&(e-=5),h=-90,i=("left"==u?l+1:"right"==u?-1:l/2)+this.titleDY;break;case"right":e=a+o+10+c,d&&(e+=7),i=("left"==u?l+2:"right"==u?-2:l/2)+this.titleDY,h=-90}this.marginsChanged?(t.translate(e,i),this.tx=e,this.ty=i):t.translate(this.tx,this.ty),this.marginsChanged=!1,isNaN(this.titleRotation)||(h=this.titleRotation),0!==h&&t.rotate(h)}},pushAxisItem:function(e,t){var i=this,n=e.graphics();0<n.length()&&(t?i.labelsSet.push(n):i.set.push(n)),(n=e.getLabel())&&(i.labelsSet.push(n),n.click(function(t){i.handleMouse(t,e,"clickItem")}).touchend(function(t){i.handleMouse(t,e,"clickItem")}).mouseover(function(t){i.handleMouse(t,e,"rollOverItem")}).mouseout(function(t){i.handleMouse(t,e,"rollOutItem")}))},handleMouse:function(t,e,i){this.fire({type:i,value:e.value,serialDataItem:e.serialDataItem,axis:this,target:e.label,chart:this.chart,event:t})},addGuide:function(t){for(var e=this.guides,i=!1,n=e.length,a=0;a<e.length;a++)e[a]==t&&(i=!0,n=a);(t=M.processObject(t,M.Guide,this.theme)).id||(t.id="guideAuto"+n+"_"+(new Date).getTime()),i||e.push(t)},removeGuide:function(t){var e,i=this.guides;for(e=0;e<i.length;e++)i[e]==t&&i.splice(e,1)},handleGuideOver:function(t){clearTimeout(this.chart.hoverInt);var e=t.graphics.getBBox(),i=this.x+e.x+e.width/2,n=(e=this.y+e.y+e.height/2,t.fillColor);void 0===n&&(n=t.lineColor),this.chart.showBalloon(t.balloonText,n,!0,i,e)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(t,e){var i=this;t.mouseover(function(){i.handleGuideOver(e)}),t.touchstart(function(){i.handleGuideOver(e)}),t.mouseout(function(){i.handleGuideOut(e)})},getBBox:function(){var t;return this.labelsSet&&(t=this.labelsSet.getBBox()),t?M.VML||(t={x:t.x+this.x,y:t.y+this.y,width:t.width,height:t.height}):t={x:0,y:0,width:0,height:0},t},destroy:function(){M.remove(this.set),M.remove(this.labelsSet);var t=this.axisLine;t&&M.remove(t.axisSet),M.remove(this.grid0)},chooseMinorFrequency:function(t){for(var e=10;0<e;e--)if(t/e==Math.round(t/e))return t/e},parseDatesDraw:function(){var t,e,i,n,a,s,o,r=this.chart,l=this.showFirstLabel,h=this.showLastLabel,c="",d=M.extractPeriod(this.minPeriod),u=M.getPeriodDuration(d.period,d.count),p=this.firstDayOfWeek,f=this.boldPeriodBeginning;t=this.minorGridEnabled;var m,g,v=this.gridAlpha,b=(y=this.choosePeriod(0)).period,y=y.count,x=M.getPeriodDuration(b,y);x<u&&(b=d.period,y=d.count,x=u),"WW"==(d=b)&&(d="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var w=Math.ceil(this.timeDifference/x)+5,T=i=M.resetDateToMin(new Date(this.startTime-x),b,y,p).getTime();(d==b&&1==y&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)&&(a=x*this.stepWidth,this.autoWrap&&!this.centerLabels&&(a=-a)),this.cellWidth=u*this.stepWidth,u=-1,(s=Math.round(i/x))/2==Math.round(s/2)&&(u=-2,i-=x),s=this.firstTime;var C=0,S=0;if(t&&1<y&&(m=this.chooseMinorFrequency(y),g=M.getPeriodDuration(b,m),"DD"==b&&(g+=M.getPeriodDuration("hh")),"fff"==b&&(g=1)),0<this.gridCountR)for(w-5-u>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),t=u;t<=w;t++){if(o=s+x*(t+Math.floor((T-s)/x))-C,"DD"==b&&(o+=36e5),o=M.resetDateToMin(new Date(o),b,y,p).getTime(),"MM"==b&&(1.5<=(e=(o-i)/x)&&(o=o-(e-1)*x+M.getPeriodDuration("DD",3),o=M.resetDateToMin(new Date(o),b,1).getTime(),C+=x)),e=(o-this.startTime)*this.stepWidth,"radar"==r.type){if((e=this.axisWidth-e)<0||e>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(S=-x*this.stepWidth/2):"date"==this.type&&(e=this.axisWidth-e);if(c=!1,this.nextPeriod[d]&&(c=this.checkPeriodChange(this.nextPeriod[d],1,o,i,d)),i=!1,c&&this.markPeriodChange?(c=this.dateFormatsObject[this.nextPeriod[d]],this.twoLineMode&&(c=this.dateFormatsObject[d]+"\n"+c,c=M.fixBrakes(c)),i=!0):c=this.dateFormatsObject[d],f||(i=!1),this.currentDateFormat=c,c=M.formatDate(new Date(o),c,r),(t==u&&!l||t==w&&!h)&&(c=" "),this.labelFunction&&(c=this.labelFunction(c,new Date(o),this,b,y,n).toString()),this.boldLabels&&(i=!0),n=new this.axisItemRenderer(this,e,c,!1,a,S,!1,i),this.pushAxisItem(n),n=i=o,!isNaN(m))for(e=1;e<y;e+=m)this.gridAlpha=this.minorGridAlpha,c=o+g*e,c=M.resetDateToMin(new Date(c),b,m,p).getTime(),c=new this.axisItemRenderer(this,(c-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(c);this.gridAlpha=v}},choosePeriod:function(t){var e=M.getPeriodDuration(this.periods[t].period,this.periods[t].count),i=this.periods;return this.timeDifference<e&&0<t?i[t-1]:Math.ceil(this.timeDifference/e)<=this.gridCountR?i[t]:t+1<i.length?this.choosePeriod(t+1):i[t]},getStepWidth:function(t){var e;return this.startOnAxis?(e=this.axisWidth/(t-1),1==t&&(e=this.axisWidth)):e=this.axisWidth/t,e},timeZoom:function(t,e){this.startTime=t,this.endTime=e},minDuration:function(){var t=M.extractPeriod(this.minPeriod);return M.getPeriodDuration(t.period,t.count)},checkPeriodChange:function(t,e,i,n,a){i=new Date(i);var s=new Date(n),o=this.firstDayOfWeek;return n=e,"DD"==t&&(e=1),i=M.resetDateToMin(i,t,e,o).getTime(),e=M.resetDateToMin(s,t,e,o).getTime(),!("DD"==t&&"hh"!=a&&i-e<M.getPeriodDuration(t,n)-M.getPeriodDuration("hh",1))&&i!=e},generateDFObject:function(){var t;for(this.dateFormatsObject={},t=0;t<this.dateFormats.length;t++){var e=this.dateFormats[t];this.dateFormatsObject[e.period]=e.format}},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide(),this.prevBY=this.prevBX=NaN},formatBalloonText:function(t){return t},showBalloon:function(t,e,i,n){var a,s=this.offset;switch(this.position){case"bottom":e=this.height+s;break;case"top":e=-s;break;case"left":t=-s;break;case"right":t=this.width+s}if(i||(i=this.currentDateFormat),"V"==this.orientation){if(e<0||e>this.height)return;if(isNaN(e))return void this.hideBalloon();e=this.adjustBalloonCoordinate(e,n),n=this.coordinateToValue(e)}else{if(t<0||t>this.width)return;if(isNaN(t))return void this.hideBalloon();t=this.adjustBalloonCoordinate(t,n),n=this.coordinateToValue(t)}(s=this.chart.chartCursor)&&(a=s.index),this.balloon&&void 0!==n&&this.balloon.enabled&&(this.balloonTextFunction?("date"!=this.type&&!0!==this.parseDates||(n=new Date(n)),n=this.balloonTextFunction(n)):this.balloonText?n=this.formatBalloonText(this.balloonText,a,i):isNaN(n)||(n=this.formatValue(n,i)),t==this.prevBX&&e==this.prevBY||(this.balloon.setPosition(t,e),this.prevBX=t,this.prevBY=e,n&&this.balloon.showBalloon(n)))},adjustBalloonCoordinate:function(t){return t},createBalloon:function(){var t=this.chart,e=t.chartCursor;e&&("mouse"!=(e=e.cursorPosition)&&(this.stickBalloonToCategory=!0),"start"==e&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1)),this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),M.extend(this.balloon,t.balloon,!0))},setBalloonBounds:function(){var t=this.balloon;if(t){var e=this.chart;t.cornerRadius=0,t.shadowAlpha=0,t.borderThickness=1,t.borderAlpha=1,t.adjustBorderColor=!1,t.showBullet=!1,(this.balloon=t).chart=e,t.mainSet=e.plotBalloonsSet,t.pointerWidth=this.tickLength,(this.parseDates||"date"==this.type)&&(t.pointerWidth=0),t.className=this.id,(e="V")==this.orientation&&(e="H"),this.stickBalloonToCategory||(t.animationDuration=0);var i,n,a,s,o=this.inside,r=this.width,l=this.height;switch(this.position){case"bottom":i=0,n=r,o?(a=0,s=l):s=(a=l)+1e3;break;case"top":i=0,n=r,o?(a=0,s=l):(a=-1e3,s=0);break;case"left":a=0,s=l,o?(i=0,n=r):(i=-1e3,n=0);break;case"right":a=0,s=l,o?(i=0,n=r):n=(i=r)+1e3}t.drop||(t.pointerOrientation=e),t.setBounds(i,a,n,s)}}})}(),function(){var k=window.AmCharts;k.ValueAxis=k.Class({inherits:k.AxisBase,construct:function(t){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed","axisIntZoomed"),k.ValueAxis.base.construct.call(this,t),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.axisFrequency=1,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.pointPosition="axis",this.minMaxMultiplier=1,this.logGridLimit=2,this.totalTextOffset=this.treatZeroAs=0,this.minPeriod="ss",this.relativeStart=0,this.relativeEnd=1,k.applyTheme(this,t,this.cname)},updateData:function(){this.gridCountR<=0&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var t=this.chart;"xy"!=t.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(k.isString(this.synchronizeWith)&&(this.synchronizeWith=t.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&this.strictMinMax&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR),this.strictMinMax&&(this.minimumDate&&(this.fullMin=this.minimumDate.getTime()),this.maximumDate&&(this.fullMax=this.maximumDate.getTime())))))},draw:function(){k.ValueAxis.base.draw.call(this);var t=this.chart,e=this.set;this.labelRotationR=this.labelRotation,k.setCN(t,this.set,"value-axis value-axis-"+this.id),k.setCN(t,this.labelsSet,"value-axis value-axis-"+this.id),k.setCN(t,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var i=this.type;if("duration"==i&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==i&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax()),this.logarithmic){var n=this.treatZeroAs,a=this.getExtremes(0,this.data.length-1).min;if(!isNaN(this.minimum)&&this.minimum<a&&(a=this.minimum),this.logMin=a,this.minReal<a&&(this.minReal=a),isNaN(this.minReal)&&(this.minReal=a),0<n&&0===a&&(this.minReal=a=n),a<=0||this.minimum<=0)return void this.fire({type:"logarithmicAxisFailed",chart:t})}this.grid0=null;var s,o,r=t.dx,l=t.dy;n=!1,a=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||1/0==this.min||-1/0==this.max)n=!0;else{"date"==this.type&&this.min==this.max&&(this.max+=this.minDuration(),this.min-=this.minDuration());var h=this.labelFrequency,c=this.showFirstLabel,d=this.showLastLabel,u=1,p=0;if(this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min==this.max))return;if(isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.logarithmic){o=Math.log(this.fullMax)*Math.LOG10E-Math.log(this.fullMin)*Math.LOG10E;var f=Math.log(this.max)/Math.LN10-Math.log(this.fullMin)*Math.LOG10E;this.relativeStart=k.roundTo((Math.log(this.minReal)/Math.LN10-Math.log(this.fullMin)*Math.LOG10E)/o,5),this.relativeEnd=k.roundTo(f/o,5)}else this.relativeStart=k.roundTo(k.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),5),this.relativeEnd=k.roundTo(k.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1),5);var m;f=Math.round((this.maxCalc-this.minCalc)/this.step)+1;!0===a?(m=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/m,m>this.logGridLimit&&(f=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,p=Math.round(Math.log(this.minReal)*Math.LOG10E),f>this.gridCountR&&(u=Math.ceil(f/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var g=0;this.step<1&&-1<this.step&&(g=k.getDecimals(this.step)),this.integersOnly&&(g=0),g>this.maxDecCount&&(g=this.maxDecCount);var v,b=this.precision;for(isNaN(b)||(g=b),isNaN(this.maxZoom)&&(this.max=k.roundTo(this.max,this.maxDecCount),this.min=k.roundTo(this.min,this.maxDecCount)),(o={}).precision=g,o.decimalSeparator=t.nf.decimalSeparator,o.thousandsSeparator=t.nf.thousandsSeparator,this.numberFormatter=o,this.exponential=!1,o=p;o<f;o+=u){var y=k.roundTo(this.step*o+this.min,g);-1!=String(y).indexOf("e")&&(this.exponential=!0)}this.duration&&(this.maxInterval=k.getMaxInterval(this.max,this.duration));var x;g=this.step,y=this.minorGridAlpha;if(this.minorGridEnabled&&(x=this.getMinorGridStep(g,this.stepWidth*g)),this.autoGridCount||0!==this.gridCount)if("date"==i)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(f>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),i=this.minCalc,a&&(f++,i=this.maxCalc-f*g),this.gridCountReal=f,o=this.startCount=p;o<f;o+=u)if(p=g*o+i,p=k.roundTo(p,this.maxDecCount+1),(!this.integersOnly||Math.round(p)==p)&&(isNaN(b)||Number(k.toFixed(p,b))==p)){if(!0===a)if(m>this.logGridLimit)p=Math.pow(10,o);else if(p<=0&&(p=i+g*o+g/2)<=0)continue;var w;if(v=this.formatValue(p,!1,o),Math.round(o/h)!=o/h&&(v=void 0),(0===o&&!c||o==f-1&&!d)&&(v=" "),s=this.getCoordinate(p),this.rotate&&this.autoWrap&&(w=this.stepWidth*g-10),v=new this.axisItemRenderer(this,s,v,void 0,w,void 0,void 0,this.boldLabels),this.pushAxisItem(v),p==this.baseValue&&"radar"!=t.type){var T,C,S=this.width,M=this.height;"H"==this.orientation?0<=s&&s<=S+1&&(T=[s,s,s+r],C=[M,0,l]):0<=s&&s<=M+1&&(T=[0,S,S+r],C=[s,s,s+l]),T&&(s=k.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(s=this.zeroGridAlpha),(s=k.line(t.container,T,C,this.gridColor,s,1,this.dashLength)).translate(this.x,this.y),this.grid0=s,t.axesSet.push(s),s.toBack(),k.setCN(t,s,this.bcn+"zero-grid-"+this.id),k.setCN(t,s,this.bcn+"zero-grid"))}if(!isNaN(x)&&0<y&&o<f-1){for(s=g/x,a&&(x=g*(o+u)+this.minCalc,x=k.roundTo(x,this.maxDecCount+1),m>this.logGridLimit&&(x=Math.pow(10,o+u)),x=(x-p)/(s=9)),S=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,M=1;M<s;M++){var A=this.getCoordinate(p+x*M);A=new this.axisItemRenderer(this,A,"",!1,0,0,!1,!1,0,!0);this.pushAxisItem(A)}this.gridAlpha=S}}if(0<(w=(m=this.guides).length)){for(T=this.fillAlpha,o=this.fillAlpha=0;o<w;o++)r=NaN,x=(C=m[o]).above,isNaN(C.toValue)||(r=this.getCoordinate(C.toValue),v=new this.axisItemRenderer(this,r,"",!0,NaN,NaN,C),this.pushAxisItem(v,x)),l=NaN,isNaN(C.value)||(l=this.getCoordinate(C.value),v=new this.axisItemRenderer(this,l,C.label,!0,NaN,(r-l)/2,C),this.pushAxisItem(v,x)),isNaN(r)&&(r=(l-=3)+3),C.balloonText&&v&&(h=v.label)&&this.addEventListeners(h,C),isNaN(r-l)||l<0&&r<0||(r=new this.guideFillRenderer(this,l,r,C),this.pushAxisItem(r,x),x=r.graphics(),C.graphics=x,C.balloonText&&this.addEventListeners(x,C));this.fillAlpha=T}v=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(v=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(v=this.max),a&&v<this.minReal&&(v=this.minReal),this.baseCoord=this.getCoordinate(v,!0),(v={type:"axisChanged",target:this,chart:t}).min=a?this.minReal:this.min,v.max=this.max,this.fire(v),this.axisCreated=!0}a=this.axisLine.set,v=this.labelsSet,e.translate(this.x,this.y),v.translate(this.x,this.y),this.positionTitle(),"radar"!=t.type&&a.toFront(),!this.visible||n?(e.hide(),a.hide(),v.hide()):(e.show(),a.show(),v.show()),this.axisY=this.y,this.axisX=this.x},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=k.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=k.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(t,e,i){var n=this.exponential,a=this.logarithmic,s=this.numberFormatter,o=this.chart;if(s)return!0===this.logarithmic&&(n=-1!=String(t).indexOf("e")),this.useScientificNotation&&(n=!0),this.usePrefixes&&(n=!1),n?(n=(i=-1==String(t).indexOf("e")?t.toExponential(15):String(t)).split("e"),i=Number(n[0]),n=Number(n[1]),i=k.roundTo(i,14),e||isNaN(this.precision)||(i=k.roundTo(i,this.precision)),10==i&&(n+=i=1),i=i+"e"+n,0===t&&(i="0"),1==t&&(i="1")):(a&&((n=String(t).split("."))[1]?(s.precision=n[1].length,i<0&&(s.precision=Math.abs(i)),e&&1<t&&(s.precision=0),e||isNaN(this.precision)||(s.precision=this.precision)):s.precision=-1),i=this.usePrefixes?k.addPrefix(t,o.prefixesOfBigNumbers,o.prefixesOfSmallNumbers,s,!e):k.formatNumber(t,s,s.precision)),this.duration&&(e&&(s.precision=0),i=k.formatDuration(t,this.duration,"",this.durationUnits,this.maxInterval,s)),"date"==this.type&&(i=k.formatDate(new Date(t),this.currentDateFormat,o)),this.recalculateToPercents?i+="%":(e=this.unit)&&(i="left"==this.unitPosition?e+i:i+e),this.labelFunction&&(i="date"==this.type?this.labelFunction(i,new Date(t),this).toString():this.labelFunction(t,i,this).toString()),i},getMinorGridStep:function(t,e){var i=[5,4,2];e<60&&i.shift();for(var n=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),a=0;a<i.length;a++){var s=t/i[a],o=Math.floor(Math.log(Math.abs(s))*Math.LOG10E);if(!(1<Math.abs(n-o)))if(t<1){if((o=Math.pow(10,-o)*s)==Math.round(o))return s}else if(s==Math.round(s))return s}},stackGraphs:function(t){var e=this.stackType;"stacked"==e&&(e="regular"),"line"==e&&(e="none"),"100% stacked"==e&&(e="100%"),this.stackType=e;var i,n,a,s,o,r,l=[],h=[],c=[],d=[],u=this.chart.graphs,p=this.baseValue,f=!1;if("line"!=t&&"step"!=t&&"smoothedLine"!=t||(f=!0),f&&("regular"==e||"100%"==e))for(o=0;o<u.length;o++)(s=u[o]).stackGraph=null,s.hidden||(a=s.type,s.chart==this.chart&&s.valueAxis==this&&t==a&&s.stackable&&(n&&(s.stackGraph=n),n=s));for(s=this.start-10,n=this.end+10,o=this.data.length-1,s=k.fitToBounds(s,0,o),n=k.fitToBounds(n,0,o),r=s;r<=n;r++){var m=0;for(o=0;o<u.length;o++)if((s=u[o]).hidden)s.newStack&&(c[r]=NaN,h[r]=NaN);else if(a=s.type,s.chart==this.chart&&s.valueAxis==this&&t==a&&s.stackable)if(i=(a=this.data[r].axes[this.id].graphs[s.id]).values.value,isNaN(i))s.newStack&&(c[r]=NaN,h[r]=NaN);else{var g=k.getDecimals(i);m<g&&(m=g),isNaN(d[r])?d[r]=Math.abs(i):d[r]+=Math.abs(i),d[r]=k.roundTo(d[r],m),g=s.fillToGraph,f&&g&&(g=this.data[r].axes[this.id].graphs[g.id])&&(a.values.open=g.values.value),"regular"==e&&(f&&(isNaN(l[r])?(l[r]=i,a.values.close=i,a.values.open=this.baseValue):(isNaN(i)?a.values.close=l[r]:a.values.close=i+l[r],a.values.open=l[r],l[r]=a.values.close)),"column"==t&&(s.newStack&&(c[r]=NaN,h[r]=NaN),(a.values.close=i)<0?(a.values.close=i,isNaN(h[r])?a.values.open=p:(a.values.close+=h[r],a.values.open=h[r]),h[r]=a.values.close):(a.values.close=i,isNaN(c[r])?a.values.open=p:(a.values.close+=c[r],a.values.open=c[r]),c[r]=a.values.close)))}}for(r=this.start;r<=this.end;r++)for(o=0;o<u.length;o++)(s=u[o]).hidden?s.newStack&&(c[r]=NaN,h[r]=NaN):(a=s.type,s.chart==this.chart&&s.valueAxis==this&&t==a&&s.stackable&&(i=(a=this.data[r].axes[this.id].graphs[s.id]).values.value,isNaN(i)||(l=i/d[r]*100,a.values.percents=l,a.values.total=d[r],s.newStack&&(c[r]=NaN,h[r]=NaN),"100%"==e&&(isNaN(h[r])&&(h[r]=0),isNaN(c[r])&&(c[r]=0),l<0?(a.values.close=k.fitToBounds(l+h[r],-100,100),a.values.open=h[r],h[r]=a.values.close):(a.values.close=k.fitToBounds(l+c[r],-100,100),a.values.open=c[r],c[r]=a.values.close)))))},recalculate:function(){var t,e=this.chart,i=e.graphs;for(t=0;t<i.length;t++){var n=i[t];if(n.valueAxis==this){var a="value";"candlestick"!=n.type&&"ohlc"!=n.type||(a="open");var s,o,r,l=this.end+2;l=k.fitToBounds(this.end+1,0,this.data.length-1);if(0<(u=this.start)&&u--,o=this.start,n.compareFromStart&&(o=0),!isNaN(e.startTime)&&(r=e.categoryAxis)){var h=r.minDuration(),c=(h=new Date(e.startTime+h/2),k.resetDateToMin(new Date(e.startTime),r.minPeriod).getTime());k.resetDateToMin(new Date(h),r.minPeriod).getTime()>c&&o++}for((r=e.recalculateFromDate)&&(r=k.getDate(r,e.dataDateFormat,"fff"),o=e.getClosestIndex(e.chartData,"time",r.getTime(),!0,0,e.chartData.length),l=e.chartData.length-1),r=o;r<=l&&(s=(o=this.data[r].axes[this.id].graphs[n.id]).values[a],n.recalculateValue&&(s=o.dataContext[n.valueField+n.recalculateValue]),isNaN(s));r++);for(this.recBaseValue=s,a=u;a<=l;a++){(o=this.data[a].axes[this.id].graphs[n.id]).percents={};var d,u=o.values;for(d in u)o.percents[d]="percents"!=d?u[d]/s*100-100:u[d]}}}},getMinMax:function(){var t,e=!1,i=this.chart,n=i.graphs;for(t=0;t<n.length;t++){var a=n[t].type;("line"==a||"step"==a||"smoothedLine"==a)&&this.expandMinMax&&(e=!0)}if(e&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==i.type&&(!0!==i.categoryAxis.parseDates||e||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),e=this.minMaxMultiplier,i=this.getExtremes(this.start,this.end),this.min=i.min,this.max=i.max,this.minRR=this.min,this.maxRR=this.max,e=(this.max-this.min)*(e-1),this.min-=e,this.max+=e,e=this.guides.length,this.includeGuidesInMinMax&&0<e)for(i=0;i<e;i++)(n=this.guides[i]).toValue<this.min&&(this.min=n.toValue),n.value<this.min&&(this.min=n.value),n.toValue>this.max&&(this.max=n.toValue),n.value>this.max&&(this.max=n.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),"date"==this.type&&this.getDateMinMax(),this.min>this.max&&(e=this.max,this.max=this.min,this.min=e),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.minCalc=this.min,this.maxCalc=this.max,this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),e=this.min,i=this.max,t=0===(n=this.max-this.min)?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10,isNaN(this.maximum)&&(this.max=Math.ceil(this.max/t)*t+t),isNaN(this.minimum)&&(this.min=Math.floor(this.min/t)*t-t),this.min<0&&0<=e&&(this.min=0),0<this.max&&i<=0&&(this.max=0),"100%"==this.stackType&&(this.min=this.min<0?-100:0,this.max=this.max<0?0:100),n=this.max-this.min,t=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10,this.step=Math.ceil(n/this.gridCountR/t)*t,n=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),n=k.fixStepE(n),5<(t=Math.ceil(this.step/n))&&(t=10),t<=5&&2<t&&(t=5),this.step=Math.ceil(this.step/(n*t))*n*t,isNaN(this.setStep)||(this.step=this.setStep),n<1?(this.maxDecCount=Math.abs(Math.log(Math.abs(n))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=k.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),this.min<0&&0<=e&&(this.min=0),0<this.max&&i<=0&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),n=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=n),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),this.logarithmic&&(2<Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),this.maxReal=this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(i))*Math.LOG10E))):(e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<e&&(this.minReal=this.min=10*e)))},getExtremes:function(t,e){var i,n,a;for(a=t;a<=e;a++){var s,o=this.data[a].axes[this.id].graphs;for(s in o)if(o.hasOwnProperty(s)){var r,l=this.chart.graphsById[s];if(l.includeInMinMax&&(!l.hidden||this.includeHidden))if(isNaN(i)&&(i=1/0),isNaN(n)&&(n=-1/0),this.foundGraphs=!0,l=o[s].values,this.recalculateToPercents&&(l=o[s].percents),this.minMaxField)(r=l[this.minMaxField])<i&&(i=r),n<r&&(n=r);else for(var h in l)l.hasOwnProperty(h)&&"percents"!=h&&"total"!=h&&"error"!=h&&((r=l[h])<i&&(i=r),n<r&&(n=r))}}return{min:i,max:n}},zoomOut:function(t){this.maxZoom=this.minZoom=NaN,this.zoomToRelativeValues(0,1,t)},zoomToRelativeValues:function(t,e,i){if(this.reversed){var n=t;t=1-e,e=1-n}var a=this.fullMax,s=(n=this.fullMin)+(a-n)*t,o=n+(a-n)*e;return 0<=this.minimum&&s<0&&(s=0),this.logarithmic&&(a=Math.log(a)*Math.LOG10E-Math.log(n)*Math.LOG10E,s=Math.pow(10,a*t+Math.log(n)*Math.LOG10E),o=Math.pow(10,a*e+Math.log(n)*Math.LOG10E)),this.zoomToValues(s,o,i)},zoomToValues:function(t,e,i){if(e<t){var n=e;e=t,t=n}var a=this.fullMax;n=this.fullMin;if(this.relativeStart=(t-n)/(a-n),this.relativeEnd=(e-n)/(a-n),this.logarithmic){a=Math.log(a)*Math.LOG10E-Math.log(n)*Math.LOG10E;var s=Math.log(e)/Math.LN10-Math.log(n)*Math.LOG10E;this.relativeStart=(Math.log(t)/Math.LN10-Math.log(n)*Math.LOG10E)/a,this.relativeEnd=s/a}if(this.minZoom!=t||this.maxZoom!=e)return this.minZoom=t,this.maxZoom=e,(n={type:"axisZoomed"}).chart=this.chart,n.valueAxis=this,n.startValue=t,n.endValue=e,n.relativeStart=this.relativeStart,n.relativeEnd=this.relativeEnd,this.prevStartValue==t&&this.prevEndValue==e||this.fire(n),this.prevStartValue=t,this.prevEndValue=e,i||(t={},k.copyProperties(n,t),t.type="axisIntZoomed",this.fire(t)),0===this.relativeStart&&1==this.relativeEnd&&(this.maxZoom=this.minZoom=NaN),!0},coordinateToValue:function(t){if(isNaN(t))return NaN;var e=this.axisWidth,i=this.stepWidth,n=this.reversed,a=this.rotate,s=this.min,o=this.minReal;return!0===this.logarithmic?Math.pow(10,(a?!0===n?(e-t)/i:t/i:!0===n?t/i:(e-t)/i)+Math.log(o)*Math.LOG10E):!0===n?a?s-(t-e)/i:t/i+s:a?t/i+s:s-(t-e)/i},getCoordinate:function(t,e){if(isNaN(t))return NaN;var i=this.rotate,n=this.reversed,a=this.axisWidth,s=this.stepWidth,o=this.min,r=this.minReal;return!0===this.logarithmic?(0===t&&(t=this.treatZeroAs),o=Math.log(t)*Math.LOG10E-Math.log(r)*Math.LOG10E,i=i?!0===n?a-s*o:s*o:!0===n?s*o:a-s*o):i=!0===n?i?a-s*(t-o):s*(t-o):i?s*(t-o):a-s*(t-o),1e7<Math.abs(i)&&(i=i/Math.abs(i)*1e7),e||(i=Math.round(i)),i},synchronizeWithAxis:function(t){this.synchronizeWith=t,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){k.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var t=(i=this.synchronizeWith).min,e=i.max,i=i.step,n=this.synchronizationMultiplier;n&&(this.min=t*n,this.max=e*n,this.step=i*n,t=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=t=Math.round(t),this.draw())}}})}(),function(){var p=window.AmCharts;p.RecAxis=p.Class({construct:function(t){var e=t.chart,i=t.axisThickness,n=t.axisColor,a=t.axisAlpha,s=t.offset,o=t.dx,r=t.dy,l=t.x,h=t.y,c=t.height,d=t.width,u=e.container;"H"==t.orientation?(n=p.line(u,[0,d],[0,0],n,a,i),this.axisWidth=t.width,"bottom"==t.position?(r=i/2+s+c+h-1,i=l):(r=-i/2-s+h+r,i=o+l)):(this.axisWidth=t.height,"right"==t.position?(n=p.line(u,[0,0,-o],[0,c,c-r],n,a,i),r=h+r,i=i/2+s+o+d+l-1):(n=p.line(u,[0,0],[0,c],n,a,i),r=h,i=-i/2-s+l)),n.translate(i,r),(i=e.container.set()).push(n),e.axesSet.push(i),p.setCN(e,n,t.bcn+"line"),this.axisSet=i,this.set=n}})}(),function(){var K=window.AmCharts;K.RecItem=K.Class({construct:function(t,e,i,n,a,s,o,r,l,h,c,d){e=Math.round(e);var u=t.chart;null==(this.value=i)&&(i=""),l||(l=0),null==n&&(n=!0);var p=u.fontFamily,f=t.fontSize;null==f&&(f=u.fontSize);var m=t.color;null==m&&(m=u.color),void 0!==c&&(m=c);var g=t.chart.container,v=g.set();this.set=v;var b=t.axisThickness,y=t.axisColor,x=t.axisAlpha,w=t.tickLength,T=t.gridAlpha,C=t.gridThickness,S=t.gridColor,M=t.dashLength,A=t.fillColor,k=t.fillAlpha,D=t.labelsEnabled;c=t.labelRotationR;var P,E,_=t.counter,N=t.inside,L=t.labelOffset,O=t.dx,I=t.dy,B=t.orientation,R=t.position,H=t.previousCoord,$=t.height,V=t.width,G=t.offset;o?(void 0!==o.id&&(d=u.classNamePrefix+"-guide-"+o.id),D=!0,isNaN(o.tickLength)||(w=o.tickLength),null!=o.lineColor&&(S=o.lineColor),null!=o.color&&(m=o.color),isNaN(o.lineAlpha)||(T=o.lineAlpha),isNaN(o.dashLength)||(M=o.dashLength),isNaN(o.lineThickness)||(C=o.lineThickness),!0===o.inside&&(N=!0,0<G&&(G=0)),isNaN(o.labelRotation)||(c=o.labelRotation),isNaN(o.fontSize)||(f=o.fontSize),o.position&&(R=o.position),void 0!==o.boldLabel&&(r=o.boldLabel),isNaN(o.labelOffset)||(L=o.labelOffset)):""===i&&(w=0),h&&!isNaN(t.minorTickLength)&&(w=t.minorTickLength);var F="start";0<a&&(F="middle"),t.centerLabels&&(F="middle");var Y,W,j,z=c*Math.PI/180,X=0,U=0,q=0,Q=Y=0,Z=0;"V"==B&&(c=0),D&&""!==i&&(Q=(F=(j=t.autoWrap&&0===c?K.wrappedText(g,i,m,p,f,F,r,Math.abs(a),0):K.text(g,i,m,p,f,F,r)).getBBox()).width,Z=F.height),"H"==B?(0<=e&&e<=V+1&&(0<w&&0<x&&e+l<=V+1&&(P=K.line(g,[e+l,e+l],[0,w],y,x,C),v.push(P)),0<T&&(E=K.line(g,[e,e+O,e+O],[$,$+I,I],S,T,C,M),v.push(E))),U=0,X=e,o&&90==c&&N&&(X-=f),!1===n?(F="start",U="bottom"==R?N?U+w:U-w:N?U-w:U+w,X+=3,0<a&&(X+=a/2-3,F="middle"),0<c&&(F="middle")):F="middle",1==_&&0<k&&!o&&!h&&H<V&&(0<(Y=(n=K.fitToBounds(e,0,V))-(H=K.fitToBounds(H,0,V)))&&((W=K.rect(g,Y,t.height,A,k)).translate(n-Y+O,I),v.push(W))),"bottom"==R?(U+=$+f/2+G,N?(0<c?(U=$-Q/2*Math.sin(z)-w-3,t.centerRotatedLabels||(X+=Q/2*Math.cos(z)-4+2)):c<0?(U=$+Q*Math.sin(z)-w-3+2,X+=-Q*Math.cos(z)-Z*Math.sin(z)-4):U-=w+f+3+3,U-=L):(0<c?(U=$+Q/2*Math.sin(z)+w+3,t.centerRotatedLabels||(X-=Q/2*Math.cos(z))):c<0?(U=$+w+3-Q/2*Math.sin(z)+2,X+=Q/2*Math.cos(z)):U+=w+b+3+3,U+=L)):(U+=I+f/2-G,X+=O,N?(0<c?(U=Q/2*Math.sin(z)+w+3,t.centerRotatedLabels||(X-=Q/2*Math.cos(z))):U+=w+3,U+=L):(0<c?(U=-Q/2*Math.sin(z)-w-6,t.centerRotatedLabels||(X+=Q/2*Math.cos(z))):U-=w+f+3+b+3,U-=L)),"bottom"==R?Y=(N?$-w-1:$+b-1)+G:(q=O,Y=(N?I:I-w-b+1)-G),s&&(X+=s),f=X,0<c&&(f+=Q/2*Math.cos(z)),j&&(s=0,N&&(s=Q/2*Math.cos(z)),V+2<f+s||f<0)&&(j.remove(),j=null)):(0<=e&&e<=$+1&&(0<w&&0<x&&e+l<=$+1&&(P=K.line(g,[0,w+1],[e+l,e+l],y,x,C),v.push(P)),0<T&&(E=K.line(g,[0,O,V+O],[e,e+I,e+I],S,T,C,M),v.push(E))),F="end",(!0===N&&"left"==R||!1===N&&"right"==R)&&(F="start"),U=e-Z/2+2,1==_&&0<k&&!o&&!h&&(z=(n=K.fitToBounds(e,0,$))-(H=K.fitToBounds(H,0,$)),(W=K.polygon(g,[0,t.width,t.width,0],[0,0,z,z],A,k)).translate(O,n-z+I),v.push(W)),U+=f/2,"right"==R?(X+=O+V+G,U+=I,N?(s||(U-=f/2+3),X=X-(w+4)-L):(X+=w+4+b,U-=2,X+=L)):N?(X+=w+4-G,s||(U-=f/2+3),o&&(X+=O,U+=I),X+=L):(X+=-w-b-4-2-G,U-=2,X-=L),P&&("right"==R?(q+=O+G+V-1,Y+=I,q=N?q-b:q+b):(q-=G,N||(q-=w+b))),s&&(U+=s),N=-3,"right"==R&&(N+=I),j&&($+1<U||U<N-f/10)&&(j.remove(),j=null)),P&&(P.translate(q,Y),K.setCN(u,P,t.bcn+"tick"),K.setCN(u,P,d,!0),o&&K.setCN(u,P,"guide")),!1===t.visible&&(P&&P.remove(),j&&(j.remove(),j=null)),j&&(j.attr({"text-anchor":F}),j.translate(X,U,NaN,!0),0!==c&&j.rotate(-c,t.chart.backgroundColor),t.allLabels.push(j),this.label=j,K.setCN(u,j,t.bcn+"label"),K.setCN(u,j,d,!0),o&&K.setCN(u,j,"guide")),E&&(K.setCN(u,E,t.bcn+"grid"),K.setCN(u,E,d,!0),o&&K.setCN(u,E,"guide")),W&&(K.setCN(u,W,t.bcn+"fill"),K.setCN(u,W,d,!0)),h?E&&K.setCN(u,E,t.bcn+"grid-minor"):(t.counter=0===_?1:0,t.previousCoord=e),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var d=window.AmCharts;d.RecFill=d.Class({construct:function(t,e,i,n){var a=t.dx,s=t.dy,o=t.orientation,r=0;if(i<e){var l=e;e=i,i=l}var h=n.fillAlpha;isNaN(h)&&(h=0);l=t.chart.container;var c=n.fillColor;"V"==o?(e=d.fitToBounds(e,0,t.height),i=d.fitToBounds(i,0,t.height)):(e=d.fitToBounds(e,0,t.width),i=d.fitToBounds(i,0,t.width)),i-=e,isNaN(i)&&(i=4,r=2,h=0),i<0&&"object"==typeof c&&(c=c.join(",").split(",").reverse()),"V"==o?(o=d.rect(l,t.width,i,c,h)).translate(a,e-r+s):(o=d.rect(l,i,t.height,c,h)).translate(e-r+a,s),d.setCN(t.chart,o,"guide-fill"),n.id&&d.setCN(t.chart,o,"guide-fill-"+n.id),this.set=l.set([o])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var d=window.AmCharts;d.AmChart=d.Class({construct:function(t){this.svgIcons=this.tapToActivate=!0,this.theme=t,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.20.20",d.addChart(this),this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.autoResize=!0,this.autoDisplay=!1,this.addCodeCredits=this.accessible=!0,this.touchStartTime=this.touchClickDuration=0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var e=document.createElement("div"),i=e.style;i.overflow="hidden",i.position="relative",i.textAlign="left",this.chartDiv=e,(i=(e=document.createElement("div")).style).overflow="hidden",i.position="relative",i.textAlign="left",this.legendDiv=e,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.cssScale=this.handDrawThickness=1,this.cssAngle=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"μ"},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new d.AmBalloon(this.theme),(this.balloon.chart=this).processTimeout=0,this.processCount=1e3,this.animatable=[],this.langObj={},d.applyTheme(this,t,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(t,e,i){this.accessible&&t&&(i&&t.setAttr("role",i),t.setAttr("aria-label",e))},drawBackground:function(){d.remove(this.background);var t=this.container,e=this.backgroundColor,i=this.backgroundAlpha,n=this.set;d.isModern||0!==i||(i=.001);var a=this.updateWidth();this.realWidth=a;var s=this.updateHeight();this.realHeight=s,e=d.polygon(t,[0,a-1,a-1,0],[0,0,s-1,s-1],e,i,1,this.borderColor,this.borderAlpha),d.setCN(this,e,"bg"),this.background=e,n.push(e),(e=this.backgroundImage)&&(t=t.image(e,0,0,a,s),d.setCN(this,e,"bg-image"),this.bgImg=t,n.push(t))},drawTitles:function(t){var e=this.titles;if(this.titleHeight=0,d.ifArray(e)){var i,n=20;for(i=0;i<e.length;i++){var a=e[i];if(!1!==(a=d.processObject(a,d.Title,this.theme)).enabled){var s=a.color;void 0===s&&(s=this.color);var o=a.size;isNaN(o)&&(o=this.fontSize+2),isNaN(a.alpha);var r=this.marginLeft,l=!0;void 0!==a.bold&&(l=a.bold),(s=d.wrappedText(this.container,a.text,s,this.fontFamily,o,"middle",l,this.realWidth-35)).translate(r+(this.realWidth-this.marginRight-r)/2,n),s.node.style.pointerEvents="none",a.sprite=s,void 0!==a.tabIndex&&s.setAttr("tabindex",a.tabIndex),d.setCN(this,s,"title"),a.id&&d.setCN(this,s,"title-"+a.id),s.attr({opacity:a.alpha}),n+=s.getBBox().height+5,t?s.remove():this.freeLabelsSet.push(s)}}this.titleHeight=n-10}},write:function(t){var e=this;if(e.listeners)for(var i=0;i<e.listeners.length;i++){var n=e.listeners[i];e.addListener(n.event,n.method)}e.fire({type:"buildStarted",chart:e}),e.afterWriteTO&&clearTimeout(e.afterWriteTO),0<e.processTimeout?e.afterWriteTO=setTimeout(function(){e.afterWrite.call(e,t)},e.processTimeout):e.afterWrite(t)},afterWrite:function(t){var e;if(e="object"!=typeof t?document.getElementById(t):t){for(;e.firstChild;)e.removeChild(e.firstChild);(this.div=e).style.overflow="hidden",e.style.textAlign="left",t=this.chartDiv;var i=this.legendDiv,n=this.legend,a=i.style,s=t.style;this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth;var o,r=document.createElement("div");if((o=r.style).position="relative",(this.containerDiv=r).className=this.classNamePrefix+"-main-div",t.className=this.classNamePrefix+"-chart-div",e.appendChild(r),(e=this.exportConfig)&&d.AmExport&&!this.AmExport&&(this.AmExport=new d.AmExport(this,e)),this.amExport&&d.AmExport&&(this.AmExport=d.extend(this.amExport,new d.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),n){if((n=this.addLegend(n,n.divId)).enabled)switch(a.left=null,a.top=null,a.right=null,s.left=null,s.right=null,s.top=null,a.position="relative",s.position="relative",o.width="100%",o.height="100%",n.position){case"bottom":r.appendChild(t),r.appendChild(i);break;case"top":r.appendChild(i),r.appendChild(t);break;case"absolute":a.position="absolute",s.position="absolute",void 0!==n.left&&(a.left=n.left+"px"),void 0!==n.right&&(a.right=n.right+"px"),void 0!==n.top&&(a.top=n.top+"px"),void 0!==n.bottom&&(a.bottom=n.bottom+"px"),n.marginLeft=0,n.marginRight=0,r.appendChild(t),r.appendChild(i);break;case"right":a.position="relative",s.position="absolute",r.appendChild(t),r.appendChild(i);break;case"left":a.position="absolute",s.position="relative",r.appendChild(t),r.appendChild(i);break;case"outside":r.appendChild(t)}else r.appendChild(t);this.prevLegendPosition=n.position}else r.appendChild(t);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),this.initChart()}},createLabelsSet:function(){d.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=d.processObject(this.balloon,d.AmBalloon,this.theme),window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=d.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=d.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(d.callInitHandler(this),this.initHC=!0),d.applyLang(this.language,this);var t=this.numberFormatter;t&&(isNaN(t.precision)||(this.precision=t.precision),void 0!==t.thousandsSeparator&&(this.thousandsSeparator=t.thousandsSeparator),void 0!==t.decimalSeparator&&(this.decimalSeparator=t.decimalSeparator)),(t=this.percentFormatter)&&!isNaN(t.precision)&&(this.percentPrecision=t.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(t=this.container)?(t.container.innerHTML="",t.width=this.realWidth,t.height=this.realHeight,t.addDefs(this),this.chartDiv.appendChild(t.container)):t=new d.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=t,this.extension=".png",this.svgIcons&&d.SVG&&(this.extension=".svg"),this.checkDisplay(),this.checkTransform(this.div),t.chart=this,d.VML||d.SVG?(t.handDrawn=this.handDrawn,t.handDrawScatter=this.handDrawScatter,t.handDrawThickness=this.handDrawThickness,d.remove(this.set),this.set=t.set(),d.remove(this.gridSet),this.gridSet=t.set(),d.remove(this.cursorLineSet),this.cursorLineSet=t.set(),d.remove(this.graphsBehindSet),this.graphsBehindSet=t.set(),d.remove(this.bulletBehindSet),this.bulletBehindSet=t.set(),d.remove(this.columnSet),this.columnSet=t.set(),d.remove(this.graphsSet),this.graphsSet=t.set(),d.remove(this.trendLinesSet),this.trendLinesSet=t.set(),d.remove(this.axesSet),this.axesSet=t.set(),d.remove(this.cursorSet),this.cursorSet=t.set(),d.remove(this.scrollbarsSet),this.scrollbarsSet=t.set(),d.remove(this.bulletSet),this.bulletSet=t.set(),d.remove(this.freeLabelsSet),this.freeLabelsSet=t.set(),d.remove(this.axesLabelsSet),this.axesLabelsSet=t.set(),d.remove(this.balloonsSet),this.balloonsSet=t.set(),d.remove(this.plotBalloonsSet),this.plotBalloonsSet=t.set(),d.remove(this.zoomButtonSet),this.zoomButtonSet=t.set(),d.remove(this.zbSet),this.zbSet=null,d.remove(this.linkSet),this.linkSet=t.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var t=this.div;if(t){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch(t){}var e=t.offsetWidth,i=t.offsetHeight;t.clientHeight&&(e=t.clientWidth,i=t.clientHeight),e==this.mw&&i==this.mh||(this.mw=e,this.mh=i,this.measure())}},measure:function(){if(a=this.div){var t=this.chartDiv,e=a.offsetWidth,i=a.offsetHeight,n=this.container;a.clientHeight&&(e=a.clientWidth,i=a.clientHeight);i=Math.round(i),e=Math.round(e);var a=Math.round(d.toCoordinate(this.width,e)),s=Math.round(d.toCoordinate(this.height,i));(e!=this.previousWidth||i!=this.previousHeight)&&0<a&&0<s&&(t.style.width=a+"px",t.style.height=s+"px",t.style.padding=0,n&&n.setSize(a,s),this.balloon=d.processObject(this.balloon,d.AmBalloon,this.theme)),this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,a-2,s),this.updateWidth(),(this.balloon.chart=this).realWidth=a,this.realHeight=s,this.divRealWidth=e,this.divRealHeight=i}},checkDisplay:function(){if(this.autoDisplay&&this.container){var t=d.rect(this.container,10,10),e=t.getBBox();0===e.width&&0===e.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),t.remove()}},checkTransform:function(t){if(this.autoTransform&&window.getComputedStyle&&t){if(t.style)if((e=window.getComputedStyle(t,null))&&(e=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform"))&&"none"!==e){var e=(i=e.split("(")[1].split(")")[0].split(","))[0],i=i[1];e=Math.sqrt(e*e+i*i);isNaN(e)||(this.cssScale*=e)}t.parentNode&&this.checkTransform(t.parentNode)}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy()},clearTimeOuts:function(){var t,e=this.timeOuts;if(e)for(t=0;t<e.length;t++)clearTimeout(e[t]);this.timeOuts=[]},clear:function(t){try{document.removeEventListener("touchstart",this.docfn1,!0),document.removeEventListener("touchend",this.docfn2,!0)}catch(t){}if(d.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),t||d.removeChart(this),t=this.div)for(;t.firstChild;)t.removeChild(t.firstChild);this.legend&&this.legend.destroy(),this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(t){"auto"==t&&d.isNN&&(t="default"),this.chartDiv.style.cursor=t,this.legendDiv.style.cursor=t},redrawLabels:function(){this.labels=[];var t,e=this.allLabels;for(this.createLabelsSet(),t=0;t<e.length;t++)this.drawLabel(e[t])},drawLabel:function(t){var e=this;if(e.container&&!1!==t.enabled){var i=(t=d.processObject(t,d.Label,e.theme)).y,n=t.text,a=t.align,s=t.size,o=t.color,r=t.rotation,l=t.alpha,h=t.bold,c=d.toCoordinate(t.x,e.realWidth);c||(c=0),(i=d.toCoordinate(i,e.realHeight))||(i=0),void 0===o&&(o=e.color),isNaN(s)&&(s=e.fontSize),a||(a="start"),"left"==a&&(a="start"),"right"==a&&(a="end"),"center"==a&&(a="middle",r?i=e.realHeight-i+i/2:c=e.realWidth/2-c),void 0===l&&(l=1),void 0===r&&(r=0),i+=s/2,(n=d.text(e.container,n,o,e.fontFamily,s,a,h,l)).translate(c,i),void 0!==t.tabIndex&&n.setAttr("tabindex",t.tabIndex),d.setCN(e,n,"label"),t.id&&d.setCN(e,n,"label-"+t.id),0!==r&&n.rotate(r),t.url?(n.setAttr("cursor","pointer"),n.click(function(){d.getURL(t.url,e.urlTarget)})):n.node.style.pointerEvents="none",e.labelsSet.push(n),e.labels.push(n)}},addLabel:function(t,e,i,n,a,s,o,r,l,h){t={x:t,y:e,text:i,align:n,size:a,color:s,alpha:r,rotation:o,bold:l,url:h,enabled:!0},this.container&&this.drawLabel(t),this.allLabels.push(t)},clearLabels:function(){var t,e=this.labels;for(t=e.length-1;0<=t;t--)e[t].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var t=this.divRealHeight;if(e=this.legend){var e,i=this.legendDiv.offsetHeight;"top"!=(e=e.position)&&"bottom"!=e||(((t-=i)<0||isNaN(t))&&(t=0),this.chartDiv.style.height=t+"px")}return t},updateWidth:function(){var t=this.divRealWidth,e=this.divRealHeight,i=this.legend;if(i){var n=(s=this.legendDiv).offsetWidth;isNaN(i.width)||(n=i.width),i.ieW&&(n=i.ieW);var a=s.offsetHeight,s=s.style,o=this.chartDiv.style,r=i.position;"right"!=r&&"left"!=r||void 0!==i.divId||(((t-=n)<0||isNaN(t))&&(t=0),o.width=t+"px",this.balloon.setBounds(2,2,t-2,this.realHeight),"left"==r?(o.left=n+"px",s.left="0px"):(o.left="0px",s.left=t+"px"),a<e&&(s.top=(e-a)/2+"px"))}return t},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(t,e,i,n,a){return isNaN(e)&&(e=this.fontSize+2),t={text:t,size:e,color:i,alpha:n,bold:a,enabled:!0},this.titles.push(t),t},handleWheel:function(t){var e=0;t||(t=window.event),t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e&&this.handleWheelReal(e,t.shiftKey),t.preventDefault&&t.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.handleMouseMove(),this.tmx=this.mouseX,this.tmy=this.mouseY,this.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),Math.abs(this.mouseX-this.tmx)<4&&Math.abs(this.mouseY-this.tmy)<4?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(t){var e=this,i=(new Date).getTime();if(t)if(t.touches)e.isTouchEvent=!0;else if(!e.isTouchEvent)return!0;if(i-e.touchStartTime>e.touchClickDuration)return!0;setTimeout(function(){e.resetTouchDuration()},300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){if(4<Math.abs(this.mouseX-this.tmx)||4<Math.abs(this.mouseY-this.tmy))return!0},addListeners:function(){var e=this,t=e.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(t.addEventListener("touchstart",function(t){e.handleTouchStart.call(e,t)},!0),t.addEventListener("touchmove",function(t){e.handleMouseMove.call(e,t)},!0),t.addEventListener("touchend",function(t){e.handleTouchEnd.call(e,t)},!0),e.docfn1=function(t){e.handleDocTouchStart.call(e,t)},e.docfn2=function(t){e.handleDocTouchEnd.call(e,t)},document.addEventListener("touchstart",e.docfn1,!0),document.addEventListener("touchend",e.docfn2,!0)),t.addEventListener("mousedown",function(t){e.mouseIsOver=!0,e.handleMouseMove.call(e,t),e.handleMouseDown.call(e,t),e.handleDocTouchStart.call(e,t)},!0),t.addEventListener("mouseover",function(t){e.handleMouseOver.call(e,t)},!0),t.addEventListener("mouseout",function(t){e.handleMouseOut.call(e,t)},!0),t.addEventListener("mouseup",function(t){e.handleDocTouchEnd.call(e,t)},!0)):(t.attachEvent("onmousedown",function(t){e.handleMouseDown.call(e,t)}),t.attachEvent("onmouseover",function(t){e.handleMouseOver.call(e,t)}),t.attachEvent("onmouseout",function(t){e.handleMouseOut.call(e,t)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this})),this.skipEvents=!1},validateSize:function(){var t=this;if(t.premeasure(),t.checkDisplay(),t.cssScale=1,t.cssAngle=0,t.checkTransform(t.div),t.divRealWidth!=t.previousWidth||t.divRealHeight!=t.previousHeight){var e=t.legend;if(0<t.realWidth&&0<t.realHeight){if(t.sizeChanged=!0,e){t.legendInitTO&&clearTimeout(t.legendInitTO);var i=setTimeout(function(){e.invalidateSize()},10);t.timeOuts.push(i),t.legendInitTO=i}t.marginsUpdated=!1,clearTimeout(t.initTO),i=setTimeout(function(){t.initChart()},10),t.timeOuts.push(i),t.initTO=i}t.renderFix(),e&&e.renderFix&&e.renderFix(),clearTimeout(t.resizedTO),t.resizedTO=setTimeout(function(){t.fire({type:"resized",chart:t})},10),t.previousHeight=t.divRealHeight,t.previousWidth=t.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var t=this;t.marginsUpdated=!1,clearTimeout(t.validateTO);var e=setTimeout(function(){t.validateSize()},5);t.timeOuts.push(e),t.validateTO=e},validateData:function(t){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(t))},validateNow:function(t,e){this.initTO&&clearTimeout(this.initTO),t&&(this.dataChanged=!0,this.marginsUpdated=!1),this.skipEvents=e,this.chartRendered=!1;var i=this.legend;i&&i.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,i.invalidateSize&&(i.invalidateSize(),this.validateSize())),this.write(this.div)},showItem:function(t){t.hidden=!1,this.initChart()},hideItem:function(t){t.hidden=!0,this.initChart()},hideBalloon:function(){var t=this;clearTimeout(t.hoverInt),clearTimeout(t.balloonTO),t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},t.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var t=this.balloon;t&&t.hide&&t.hide()},showBalloon:function(t,e,i,n,a){var s=this;clearTimeout(s.balloonTO),clearTimeout(s.hoverInt),s.balloonTO=setTimeout(function(){s.showBalloonReal.call(s,t,e,i,n,a)},1)},showBalloonReal:function(t,e,i,n,a){this.handleMouseMove();var s=this.balloon;s.enabled&&(s.followCursor(!1),s.changeColor(e),!i||s.fixedPosition?(s.setPosition(n,a),isNaN(n)||isNaN(a)?s.followCursor(!0):s.followCursor(!1)):s.followCursor(!0),t&&s.showBalloon(t))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),d.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var t=this;d.resetMouseOver(),t.outTO&&clearTimeout(t.outTO),t.outTO=setTimeout(function(){t.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(t){var e,i,n,a;if(t||(t=window.event),this.mouse2Y=this.mouse2X=NaN,t){if(t.touches){var s=t.touches.item(1);if(s&&this.panEventsEnabled&&this.boundingRect&&(n=s.clientX-this.boundingRect.left,a=s.clientY-this.boundingRect.top),!(t=t.touches.item(0)))return}else this.wasTouched=!1;this.boundingRect&&t.clientX&&(e=t.clientX-this.boundingRect.left,i=t.clientY-this.boundingRect.top),isNaN(n)?this.mouseX=e:(this.mouseX=Math.min(e,n),this.mouse2X=Math.max(e,n)),isNaN(a)?this.mouseY=i:(this.mouseY=Math.min(i,a),this.mouse2Y=Math.max(i,a)),this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(t){this.hideBalloonReal(),t&&(t.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(t),this.handleMouseDown(t))},handleTouchEnd:function(t){this.wasTouched=!0,this.handleMouseMove(t),d.resetMouseOver(),this.handleReleaseOutside(t)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(t){d.resetMouseOver(),this.mouseIsOver=!0,t&&t.preventDefault&&(this.panEventsEnabled?t.preventDefault():t.touches||t.preventDefault())},addLegend:function(t,e){var i;return(t=d.processObject(t,d.AmLegend,this.theme)).divId=e,t.ieW=0,i="object"!=typeof e&&e?document.getElementById(e):e,(this.legend=t).chart=this,i?(t.div=i,t.position="outside",t.autoMargins=!1):t.div=this.legendDiv,t},removeLegend:function(){this.legend=void 0,this.previousWidth=0,this.legendDiv.innerHTML=""},handleResize:function(){(d.isPercents(this.width)||d.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!d.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){if(d.hasSVG)return this.container},animate:function(t,e,i,n,a,s,o){return t["an_"+e]&&d.removeFromArray(this.animations,t["an_"+e]),i={obj:t,frame:0,attribute:e,from:i,to:n,time:a,effect:s,suffix:o},t["an_"+e]=i,this.animations.push(i),i},setLegendData:function(t){var e=this.legend;e&&e.setData(t)},stopAnim:function(t){d.removeFromArray(this.animations,t)},updateAnimations:function(){var t;if(this.container&&this.container.update(),this.animations)for(t=this.animations.length-1;0<=t;t--){var e=this.animations[t],i=d.updateRate*e.time,n=e.frame+1,a=e.obj,s=e.attribute;if(n<=i){e.frame++;var o=Number(e.from),r=Number(e.to)-o;i=d[e.effect](0,n,o,r,i);0===r?(this.animations.splice(t,1),a.node.style[s]=Number(e.to)+e.suffix):a.node.style[s]=i+e.suffix}else a.node.style[s]=Number(e.to)+e.suffix,a.animationFinished=!0,this.animations.splice(t,1)}},update:function(){this.updateAnimations();var t=this.animatable;if(0<t.length){for(var e=!0,i=t.length-1;0<=i;i--){var n=t[i];n&&(n.animationFinished?t.splice(i,1):e=!1)}e&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch(t){return!0}},brr:function(){}}),d.Slice=d.Class({construct:function(){}}),d.SerialDataItem=d.Class({construct:function(){}}),d.GraphDataItem=d.Class({construct:function(){}}),d.Guide=d.Class({construct:function(t){this.cname="Guide",d.applyTheme(this,t,this.cname)}}),d.Title=d.Class({construct:function(t){this.cname="Title",d.applyTheme(this,t,this.cname)}}),d.Label=d.Class({construct:function(t){this.cname="Label",d.applyTheme(this,t,this.cname)}})}(),function(){var qe=window.AmCharts;qe.AmGraph=qe.Class({construct:function(t){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.accessibleLabel="[[title]] [[category]] [[value]]",this.accessibleSkipText="Press enter to skip [[title]]",this.y=this.x=0,this.switchable=!0,this.tcc=this.minDistance=1,this.labelRotation=0,this.labelAnchor="auto",this.labelOffset=3,this.bcn="graph-",this.dateFormat="MMM DD, YYYY",this.noRounding=!0,qe.applyTheme(this,t,this.cname)},init:function(){this.createBalloon()},draw:function(){var t=this.chart;t.isRolledOverBullet=!1;var e=t.type;if(t.drawGraphs){isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:t.decimalSeparator,thousandsSeparator:t.thousandsSeparator});var i=t.container;this.container=i,this.destroy();var n=i.set();(this.set=n).translate(this.x,this.y);var a=i.set();(this.bulletSet=a).translate(this.x,this.y),this.behindColumns?(t.graphsBehindSet.push(n),t.bulletBehindSet.push(a)):(t.graphsSet.push(n),t.bulletSet.push(a));var s=this.bulletAxis;qe.isString(s)&&(this.bulletAxis=t.getValueAxisById(s)),i=i.set(),qe.remove(this.columnsSet),this.columnsSet=i,qe.setCN(t,n,"graph-"+this.type),qe.setCN(t,n,"graph-"+this.id),qe.setCN(t,a,"graph-"+this.type),qe.setCN(t,a,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],(a=this.labelPosition)||(s=this.valueAxis.stackType,a="top","column"==this.type&&(t.rotate&&(a="right"),"100%"==s||"regular"==s)&&(a="middle"),this.labelPosition=a),qe.ifArray(this.data)&&(t=!1,"xy"==e?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(t=!0):this.valueAxis.axisCreated&&(t=!0),!this.hidden&&t&&this.createGraph()),n.push(i)}},createGraph:function(){var t=this,e=t.chart;t.startAlpha=e.startAlpha,t.seqAn=e.sequencedAnimation,t.baseCoord=t.valueAxis.baseCoord,void 0===t.fillAlphas&&(t.fillAlphas=0),t.bulletColorR=t.bulletColor,void 0===t.bulletColorR&&(t.bulletColorR=t.lineColorR,t.bulletColorNegative=t.negativeLineColor),void 0===t.bulletAlpha&&(t.bulletAlpha=t.lineAlpha),("step"==i||qe.VML)&&(t.noRounding=!1);var i=e.type;if("gantt"==i&&(i="serial"),clearTimeout(t.playedTO),!isNaN(t.valueAxis.min)&&!isNaN(t.valueAxis.max)){switch(i){case"serial":t.categoryAxis&&(t.createSerialGraph(),"candlestick"==t.type&&t.valueAxis.minMaxMultiplier<1&&t.positiveClip(t.set));break;case"radar":t.createRadarGraph();break;case"xy":t.createXYGraph()}t.playedTO=setTimeout(function(){t.setAnimationPlayed.call(t)},500*t.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var t,e=[],i=[],n=this.xAxis,a=this.yAxis;for(this.pmh=a.height,this.pmw=n.width,this.pmy=this.pmx=0,t=this.start;t<=this.end;t++){var s=this.data[t].axes[n.id].graphs[this.id],o=(l=s.values).x,r=l.y,l=n.getCoordinate(o,this.noRounding),h=a.getCoordinate(r,this.noRounding);if(!isNaN(o)&&!isNaN(r)&&(e.push(l),i.push(h),s.x=l,s.y=h,o=this.createBullet(s,l,h,t),r=this.labelText)){r=this.createLabel(s,r);var c=0;o&&(c=o.size),this.positionLabel(s,l,h,r,c)}}this.drawLineGraph(e,i),this.launchAnimation()},createRadarGraph:function(){var t,e,i,n,a,s=this.valueAxis.stackType,o=[],r=[],l=[],h=[];for(a=this.start;a<=this.end;a++){var c,d,u=this.data[a].axes[this.valueAxis.id].graphs[this.id];if("none"==s||"3d"==s?c=u.values.value:(c=u.values.close,d=u.values.open),isNaN(c))this.connect||(this.drawLineGraph(o,r,l,h),o=[],r=[],l=[],h=[]);else{var p=(p=this.valueAxis.getCoordinate(c,this.noRounding)-this.height)*this.valueAxis.rMultiplier,f=-360/(this.end-this.start+1)*a;if("middle"==this.valueAxis.pointPosition&&(f-=180/(this.end-this.start+1)),c=p*Math.sin(f/180*Math.PI),p*=Math.cos(f/180*Math.PI),o.push(c),r.push(p),!isNaN(d)){var m,g=(m=(m=this.valueAxis.getCoordinate(d,this.noRounding)-this.height)*this.valueAxis.rMultiplier)*Math.sin(f/180*Math.PI);f=m*Math.cos(f/180*Math.PI);l.push(g),h.push(f),isNaN(i)&&(i=g),isNaN(n)&&(n=f)}f=this.createBullet(u,c,p,a),u.x=c,u.y=p,(g=this.labelText)&&(g=this.createLabel(u,g),m=0,f&&(m=f.size),this.positionLabel(u,c,p,g,m)),isNaN(t)&&(t=c),isNaN(e)&&(e=p)}}o.push(t),r.push(e),isNaN(i)||(l.push(i),h.push(n)),this.drawLineGraph(o,r,l,h),this.launchAnimation()},positionLabel:function(t,e,i,n,a){if(n){var s=this.chart,o=this.valueAxis,r="middle",l=!1,h=this.labelPosition,c=n.getBBox(),d=this.chart.rotate,u=t.isNegative;switch(void 0===(p=this.fontSize)&&(p=this.chart.fontSize),i-=c.height/2-p/2-1,void 0!==t.labelIsNegative&&(u=t.labelIsNegative),h){case"right":h=d&&u?"left":"right";break;case"top":h=d?"top":u?"bottom":"top";break;case"bottom":h=d?"bottom":u?"top":"bottom";break;case"left":h=d&&u?"right":"left"}var p,f=0,m=0;(p=t.columnGraphics)&&(f=p.x,m=p.y);var g=this.labelOffset;switch(h){case"right":r="start",e+=a/2+g;break;case"top":i=o.reversed?i+(a/2+c.height/2+g):i-(a/2+c.height/2+g);break;case"bottom":i=o.reversed?i-(a/2+c.height/2+g):i+(a/2+c.height/2+g);break;case"left":r="end",e-=a/2+g;break;case"inside":"column"==this.type&&(l=!0,d?u?(r="end",e=f-3-g):(r="start",e=f+3+g):i=u?m+7+g:m-10-g);break;case"middle":"column"==this.type&&(l=!0,d?e-=(e-f)/2+g-3:i-=(i-m)/2+g-3)}return"auto"!=this.labelAnchor&&(r=this.labelAnchor),n.attr({"text-anchor":r}),this.labelRotation&&n.rotate(this.labelRotation),n.translate(e,i),!this.showAllValueLabels&&p&&l&&((c=n.getBBox()).height>t.columnHeight||c.width>t.columnWidth)&&(n.remove(),n=null),n&&"radar"!=s.type&&(d?((i<0||i>this.height)&&(n.remove(),n=null),!this.showAllValueLabels&&n&&(e<0||e>this.width)&&(n.remove(),n=null)):((e<0||e>this.width)&&(n.remove(),n=null),!this.showAllValueLabels&&n&&(i<0||i>this.height)&&(n.remove(),n=null))),n&&this.allBullets.push(n),n}},getGradRotation:function(){var t=270;return"horizontal"==this.gradientOrientation&&(t=0),this.gradientRotation=t},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var t=this.chart,e=this.id,i=this.index,n=this.data,a=this.chart.container,s=this.valueAxis,o=this.type,r=this.columnWidthReal,l=this.showBulletsAt;isNaN(this.columnWidth)||(r=this.columnWidth),isNaN(r)&&(r=.8);var h,c,d,u,p,f=this.useNegativeColorIfDown,m=this.width,g=this.height,v=this.y,b=this.rotate,y=this.columnCount,x=qe.toCoordinate(this.cornerRadiusTop,r/2),w=this.connect,T=[],C=[],S=this.chart.graphs.length,M=this.dx/this.tcc,A=this.dy/this.tcc,k=s.stackType,D=this.start,P=this.end,E=this.scrollbar,_="graph-column-";E&&(_="scrollbar-graph-column-");var N,L=this.categoryAxis,O=this.baseCoord,I=this.negativeBase,B=this.columnIndex,R=this.lineThickness,H=this.lineAlpha,$=this.lineColorR,V=this.dashLength,G=this.set,F=this.getGradRotation(),Y=this.chart.columnSpacing,W=L.cellWidth,j=(W*r-y)/y;j<Y&&(Y=j);var z,X,U,q,Q,Z,K,J=g,tt=m,et=0,it=0,nt=this.fillColorsR,at=this.negativeFillColors,st=this.negativeLineColor,ot=this.fillAlphas,rt=this.negativeFillAlphas;"object"==typeof ot&&(ot=ot[0]),"object"==typeof rt&&(rt=rt[0]);var lt=this.noRounding;"step"==o&&(lt=!1);var ht=s.getCoordinate(s.min);if(s.logarithmic&&(ht=s.getCoordinate(s.minReal)),this.minCoord=ht,this.resetBullet&&(this.bullet="none"),!(E||"line"!=o&&"smoothedLine"!=o&&"step"!=o||(1==n.length&&"step"!=o&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!at&&null==st||f))){var ct=I;ct>s.max&&(ct=s.max),ct<s.min&&(ct=s.min),s.logarithmic&&(ct=s.minReal);var dt=s.getCoordinate(ct),ut=s.getCoordinate(s.max);b?(J=g,tt=Math.abs(ut-dt),q=g,Q=Math.abs(ht-dt),K=it=0,s.reversed?(et=0,Z=dt):(et=dt,Z=0)):(tt=m,J=Math.abs(ut-dt),Q=m,q=Math.abs(ht-dt),Z=et=0,s.reversed?(K=v,it=dt):K=dt)}var pt=Math.round;this.pmx=pt(et),this.pmy=pt(it),this.pmh=pt(J),this.pmw=pt(tt),this.nmx=pt(Z),this.nmy=pt(K),this.nmh=pt(q),this.nmw=pt(Q),qe.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(y=1),(r="column"==o?(W*r-Y*(y-1))/y:W*r)<1&&(r=1);var ft,mt=this.fixedColumnWidth;if(isNaN(mt)||(r=mt),"line"==o||"step"==o||"smoothedLine"==o){if(0<D){for(ft=D-1;-1<ft;ft--)if(U=(X=(z=n[ft]).axes[s.id].graphs[e]).values.value,!isNaN(U)){D=ft;break}if(this.lineColorField)for(ft=D;-1<ft;ft--)if((X=(z=n[ft]).axes[s.id].graphs[e]).lineColor){this.lineColorSwitched=X.lineColor,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched);break}if(this.fillColorsField)for(ft=D;-1<ft;ft--)if((X=(z=n[ft]).axes[s.id].graphs[e]).fillColors){this.fillColorsSwitched=X.fillColors;break}if(this.dashLengthField)for(ft=D;-1<ft;ft--)if(X=(z=n[ft]).axes[s.id].graphs[e],!isNaN(X.dashLength)){this.dashLengthSwitched=X.dashLength;break}}if(P<n.length-1)for(ft=P+1;ft<n.length;ft++)if(U=(X=(z=n[ft]).axes[s.id].graphs[e]).values.value,!isNaN(U)){P=ft;break}}P<n.length-1&&P++;var gt=[],vt=[],bt=!1;"line"!=o&&"step"!=o&&"smoothedLine"!=o||(this.stackable&&"regular"==k||"100%"==k||this.fillToGraph)&&(bt=!0);var yt=this.noStepRisers,xt=-1e3,wt=-1e3,Tt=this.minDistance,Ct=!0,St=!1;for(ft=D;ft<=P;ft++){(X=(z=n[ft]).axes[s.id].graphs[e]).index=ft;var Mt,At=NaN;if(f&&null==this.openField)for(var kt=ft+1;kt<n.length&&(!n[kt]||!(Mt=n[ft+1].axes[s.id].graphs[e])||!Mt.values||(At=Mt.values.value,isNaN(At)));kt++);var Dt,Pt,Et,_t,Nt,Lt,Ot=NaN,It=NaN,Bt=NaN,Rt=NaN,Ht=NaN,$t=NaN,Vt=NaN,Gt=NaN,Ft=NaN,Yt=NaN,Wt=NaN,jt=NaN,zt=NaN,Xt=NaN,Ut=NaN,qt=NaN,Qt=NaN,Zt=void 0,Kt=nt,Jt=ot,te=$,ee=this.proCandlesticks,ie=this.topRadius,ne=g-1,ae=m-1,se=this.pattern;null!=X.pattern&&(se=X.pattern),isNaN(X.alpha)||(Jt=X.alpha),isNaN(X.dashLength)||(V=X.dashLength);var oe=X.values;if(s.recalculateToPercents&&(oe=X.percents),"none"==k&&(B=isNaN(X.columnIndex)?this.columnIndex:X.columnIndex),oe){if(Xt=this.stackable&&"none"!=k&&"3d"!=k?oe.close:oe.value,"candlestick"!=o&&"ohlc"!=o||(Xt=oe.close,qt=oe.low,Vt=s.getCoordinate(qt),Ut=oe.high,Ft=s.getCoordinate(Ut)),Qt=oe.open,Bt=s.getCoordinate(Xt,lt),isNaN(Qt)||(Ht=s.getCoordinate(Qt,lt),f&&"regular"!=k&&"100%"!=k&&(At=Qt,Qt=Ht=NaN)),f&&(null==this.openField?Mt&&(Mt.isNegative=At<Xt,isNaN(At)&&(X.isNegative=!Ct)):X.isNegative=Xt<At),!E)switch(this.showBalloonAt){case"close":X.y=Bt;break;case"open":X.y=Ht;break;case"high":X.y=Ft;break;case"low":X.y=Vt}Ot=z.x[L.id];var re=this.periodSpan-1;"step"!=o||isNaN(z.cellWidth)||(W=z.cellWidth);var le=Math.floor(W/2)+Math.floor(re*W/2),he=le;if("left"==this.stepDirection&&(Ot-=(2*W+re*W)/2),"center"==this.stepDirection&&(Ot-=W/2),"start"==this.pointPosition&&(Ot-=W/2+Math.floor(re*W/2),le=0,he=Math.floor(W)+Math.floor(re*W)),"end"==this.pointPosition&&(Ot+=W/2+Math.floor(re*W/2),le=Math.floor(W)+Math.floor(re*W),he=0),yt){var ce=this.columnWidth;isNaN(ce)||(le*=ce,he*=ce)}E||(X.x=Ot),Ot<-1e5&&(Ot=-1e5),m+1e5<Ot&&(Ot=m+1e5),b?(It=Bt,Rt=Ht,Ht=Bt=Ot,isNaN(Qt)&&!this.fillToGraph&&(Rt=O),$t=Vt,Gt=Ft):(Rt=It=Ot,isNaN(Qt)&&!this.fillToGraph&&(Ht=O)),(!ee&&Xt<Qt||ee&&Xt<N)&&(X.isNegative=!0,at&&(Kt=at),rt&&(Jt=rt),null!=st&&(te=st)),St=!1,isNaN(Xt)||(f?At<Xt?(Ct&&(St=!0),Ct=!1):(Ct||(St=!0),Ct=!0):X.isNegative=Xt<I,N=Xt);var de=!1;switch(E&&t.chartScrollbar.ignoreCustomColors&&(de=!0),de||(null!=X.color&&(Kt=X.color),X.fillColors&&(Kt=X.fillColors)),Bt=qe.fitToBounds(Bt,-3e4,3e4),o){case"line":isNaN(Xt)?w||(this.drawLineGraph(T,C,gt,vt),T=[],C=[],gt=[],vt=[]):((Math.abs(It-xt)>=Tt||Math.abs(Bt-wt)>=Tt)&&(T.push(It),C.push(Bt),xt=It,wt=Bt),jt=Yt=It,zt=Wt=Bt,!bt||isNaN(Ht)||isNaN(Rt)||(gt.push(Rt),vt.push(Ht)),(St||null!=X.lineColor&&X.lineColor!=this.lineColorSwitched||null!=X.fillColors&&X.fillColors!=this.fillColorsSwitched||!isNaN(X.dashLength))&&(this.drawLineGraph(T,C,gt,vt),T=[It],C=[Bt],gt=[],vt=[],!bt||isNaN(Ht)||isNaN(Rt)||(gt.push(Rt),vt.push(Ht)),f?(Ct?(this.lineColorSwitched=$,this.fillColorsSwitched=nt):(this.lineColorSwitched=st,this.fillColorsSwitched=at),void 0===this.bulletColor&&(this.bulletColorSwitched=$)):(this.lineColorSwitched=X.lineColor,this.fillColorsSwitched=X.fillColors,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched)),this.dashLengthSwitched=X.dashLength),X.gap&&(this.drawLineGraph(T,C,gt,vt),T=[],C=[],gt=[],vt=[]));break;case"smoothedLine":isNaN(Xt)?w||(this.drawSmoothedGraph(T,C,gt,vt),T=[],C=[],gt=[],vt=[]):((Math.abs(It-xt)>=Tt||Math.abs(Bt-wt)>=Tt)&&(T.push(It),C.push(Bt),xt=It,wt=Bt),jt=Yt=It,zt=Wt=Bt,!bt||isNaN(Ht)||isNaN(Rt)||(gt.push(Rt),vt.push(Ht)),null==X.lineColor&&null==X.fillColors&&isNaN(X.dashLength)||(this.drawSmoothedGraph(T,C,gt,vt),T=[It],C=[Bt],gt=[],vt=[],!bt||isNaN(Ht)||isNaN(Rt)||(gt.push(Rt),vt.push(Ht)),this.lineColorSwitched=X.lineColor,this.fillColorsSwitched=X.fillColors,this.dashLengthSwitched=X.dashLength),X.gap&&(this.drawSmoothedGraph(T,C,gt,vt),T=[],C=[],gt=[],vt=[]));break;case"step":if(isNaN(Xt))w||((this.periodSpan<=1||1<this.periodSpan&&le+he<It-h)&&(h=c=NaN),this.drawLineGraph(T,C,gt,vt),T=[],C=[],gt=[],vt=[]);else{if(b?(isNaN(h)||(T.push(h),C.push(Bt-le)),C.push(Bt-le),T.push(It),C.push(Bt+he),T.push(It),!bt||isNaN(Ht)||isNaN(Rt)||(isNaN(d)||(gt.push(d),vt.push(Ht-le)),gt.push(Rt),vt.push(Ht-le),gt.push(Rt),vt.push(Ht+he))):(isNaN(c)||(C.push(c),T.push(It-le)),T.push(It-le),C.push(Bt),T.push(It+he),C.push(Bt),!bt||isNaN(Ht)||isNaN(Rt)||(isNaN(u)||(gt.push(Rt-le),vt.push(u)),gt.push(Rt-le),vt.push(Ht),gt.push(Rt+he),vt.push(Ht))),d=Rt,u=Ht,jt=Yt=h=It,zt=Wt=c=Bt,St||null!=X.lineColor||null!=X.fillColors||!isNaN(X.dashLength)){var ue=T[T.length-2],pe=C[C.length-2];T.pop(),C.pop(),gt.pop(),vt.pop(),this.drawLineGraph(T,C,gt,vt),T=[ue],C=[pe],gt=[],vt=[],bt&&(gt=[ue,ue+le+he],vt=[u,u]),b?(C.push(Bt+he),T.push(It)):(T.push(It+he),C.push(Bt)),this.lineColorSwitched=X.lineColor,this.fillColorsSwitched=X.fillColors,this.dashLengthSwitched=X.dashLength,f&&(Ct?(this.lineColorSwitched=$,this.fillColorsSwitched=nt):(this.lineColorSwitched=st,this.fillColorsSwitched=at))}(yt||X.gap)&&(h=c=NaN,this.drawLineGraph(T,C,gt,vt),T=[],C=[],gt=[],vt=[])}break;case"column":if(Nt=te,null!=X.lineColor&&(Nt=X.lineColor),!isNaN(Xt)){f||(X.isNegative=Xt<I),X.isNegative&&(at&&(Kt=at),null!=st&&(Nt=st));var fe,me=s.min,ge=s.max,ve=Qt;if(isNaN(ve)&&(ve=I),!(Xt<me&&ve<me||ge<Xt&&ge<ve))if(b)"3d"==k?(Pt=Bt-(y/2-this.depthCount+1)*(r+Y)+Y/2+A*B,Dt=Rt+M*B,fe=B):(Pt=Math.floor(Bt-(y/2-B)*(r+Y)+Y/2),Dt=Rt,fe=0),zt=Wt=Pt+(Et=r)/2,g+fe*A<Pt+Et&&(Et=g-Pt+fe*A),Pt<fe*A&&(Et+=Pt,Pt=fe*A),_t=(jt=Yt=It)-Rt,_t+=Dt-(Dt=qe.fitToBounds(Dt,0,m)),_t=qe.fitToBounds(_t,-Dt,m-Dt+M*B),X.labelIsNegative=_t<0,0===_t&&1/Xt==-1/0&&(X.labelIsNegative=!0),isNaN(z.percentWidthValue)||(Wt=(Pt=Ot-(Et=this.height*z.percentWidthValue/100)/2)+Et/2),Et=qe.roundTo(Et,2),_t=qe.roundTo(_t,2),Pt<g&&0<Et&&(Zt=new qe.Cuboid(a,_t,Et,M-t.d3x,A-t.d3y,Kt,Jt,R,Nt,H,F,x,b,V,se,ie,_),X.columnWidth=Math.abs(_t),X.columnHeight=Math.abs(Et));else"3d"==k?(Dt=It-(y/2-this.depthCount+1)*(r+Y)+Y/2+M*B,Pt=Ht+A*B,fe=B):(Dt=It-(y/2-B)*(r+Y)+Y/2,Pt=Ht,fe=0),jt=Yt=Dt+(Et=r)/2,m+fe*M<Dt+Et&&(Et=m-Dt+fe*M),Dt<fe*M&&(Et+=Dt-fe*M,Dt=fe*M),_t=(zt=Wt=Bt)-Ht,X.labelIsNegative=0<_t,0===_t&&1/Xt!=1/Math.abs(Xt)&&(X.labelIsNegative=!0),_t+=Pt-(Pt=qe.fitToBounds(Pt,this.dy,g)),_t=qe.fitToBounds(_t,A*fe-Pt,g-Pt),isNaN(z.percentWidthValue)||(Yt=(Dt=Ot-(Et=this.width*z.percentWidthValue/100)/2)+Et/2),Et=qe.roundTo(Et,2),_t=qe.roundTo(_t,2),Dt<m+B*M&&0<Et&&(this.showOnAxis&&(Pt-=A/2),Zt=new qe.Cuboid(a,Et,_t,M-t.d3x,A-t.d3y,Kt,Jt,R,Nt,this.lineAlpha,F,x,b,V,se,ie,_),X.columnHeight=Math.abs(_t),X.columnWidth=Math.abs(Et));Zt&&(Lt=Zt.set,qe.setCN(t,Zt.set,"graph-"+this.type),qe.setCN(t,Zt.set,"graph-"+this.id),X.className&&qe.setCN(t,Zt.set,X.className,!0),X.columnGraphics=Lt,Dt=qe.roundTo(Dt,2),Pt=qe.roundTo(Pt,2),Lt.translate(Dt,Pt),(X.url||this.showHandOnHover)&&Lt.setAttr("cursor","pointer"),E||("none"==k&&(p=b?(this.end+1-ft)*S-i:S*ft+i),"3d"==k&&(b?(p=(this.end+1-ft)*S-i-1e3*this.depthCount,Yt+=M*B,jt+=M*B,X.y+=M*B):(p=(S-i)*(ft+1)+1e3*this.depthCount,Wt+=A*B,zt+=A*B,X.y+=A*B)),"regular"!=k&&"100%"!=k||(p=b?0<oe.value?(this.end+1-ft)*S+i:(this.end+1-ft)*S-i:0<oe.value?S*ft+i:S*ft-i),this.columnsArray.push({column:Zt,depth:p}),X.x=b?Pt+Et/2:Dt+Et/2,this.ownColumns.push(Zt),this.animateColumns(Zt,ft,It,Rt,Bt,Ht),this.addListeners(Lt,X),void 0!==this.tabIndex&&Lt.setAttr("tabindex",this.tabIndex)),this.columnsSet.push(Lt))}break;case"candlestick":if(!isNaN(Qt)&&!isNaN(Xt)){var be,ye;if(Nt=te,null!=X.lineColor&&(Nt=X.lineColor),zt=Wt=Bt,jt=Yt=It,b){if("open"==l&&(jt=Rt),"high"==l&&(jt=Gt),"low"==l&&(jt=$t),It=qe.fitToBounds(It,0,ae),Rt=qe.fitToBounds(Rt,0,ae),$t=qe.fitToBounds($t,0,ae),Gt=qe.fitToBounds(Gt,0,ae),0===It&&0===Rt&&0===$t&&0===Gt)continue;if(It==ae&&Rt==ae&&$t==ae&&Gt==ae)continue;var xe,we;if(Dt=Rt,g<(Pt=Bt-r/2)+(Et=r)&&(Et=g-Pt),Pt<0&&(Et+=Pt,Pt=0),Pt<g&&0<Et)Qt<Xt?(xe=[It,Gt],we=[Rt,$t]):(xe=[Rt,Gt],we=[It,$t]),!isNaN(Gt)&&!isNaN($t)&&Bt<g&&0<Bt&&(be=qe.line(a,xe,[Bt,Bt],Nt,H,R),ye=qe.line(a,we,[Bt,Bt],Nt,H,R)),_t=It-Rt,Zt=new qe.Cuboid(a,_t,Et,M,A,Kt,ot,R,Nt,H,F,x,b,V,se,ie,_)}else{if("open"==l&&(zt=Ht),"high"==l&&(zt=Ft),"low"==l&&(zt=Vt),Bt=qe.fitToBounds(Bt,0,ne),Ht=qe.fitToBounds(Ht,0,ne),Vt=qe.fitToBounds(Vt,0,ne),Ft=qe.fitToBounds(Ft,0,ne),0===Bt&&0===Ht&&0===Vt&&0===Ft)continue;if(Bt==ne&&Ht==ne&&Vt==ne&&Ft==ne)continue;if(Pt=Ht+R/2,m<(Dt=It-r/2)+(Et=r)&&(Et=m-Dt),Dt<0&&(Et+=Dt,Dt=0),_t=Bt-Ht,Dt<m&&0<Et){ee&&Qt<=Xt&&(Jt=0);var Te,Ce;Zt=new qe.Cuboid(a,Et,_t,M,A,Kt,Jt,R,Nt,H,F,x,b,V,se,ie,_);Qt<Xt?(Te=[Bt,Ft],Ce=[Ht,Vt]):(Te=[Ht,Ft],Ce=[Bt,Vt]),!isNaN(Ft)&&!isNaN(Vt)&&It<m&&0<It&&(be=qe.line(a,[It,It],Te,Nt,H,R),ye=qe.line(a,[It,It],Ce,Nt,H,R),qe.setCN(t,be,this.bcn+"line-high"),X.className&&qe.setCN(t,be,X.className,!0),qe.setCN(t,ye,this.bcn+"line-low"),X.className&&qe.setCN(t,ye,X.className,!0))}}Zt&&(Lt=Zt.set,X.columnGraphics=Lt,G.push(Lt),Lt.translate(Dt,Pt-R/2),(X.url||this.showHandOnHover)&&Lt.setAttr("cursor","pointer"),be&&(G.push(be),G.push(ye)),E||(X.x=b?Pt+Et/2:Dt+Et/2,this.animateColumns(Zt,ft,It,Rt,Bt,Ht),this.addListeners(Lt,X),void 0!==this.tabIndex&&Lt.setAttr("tabindex",this.tabIndex)))}break;case"ohlc":if(!(isNaN(Qt)||isNaN(Ut)||isNaN(qt)||isNaN(Xt))){var Se,Me,Ae,ke=a.set();if(G.push(ke),Xt<Qt&&(X.isNegative=!0,null!=st&&(te=st)),null!=X.lineColor&&(te=X.lineColor),b){if(zt=Bt,jt=It,"open"==l&&(jt=Rt),"high"==l&&(jt=Gt),"low"==l&&(jt=$t),$t=qe.fitToBounds($t,0,ae),Gt=qe.fitToBounds(Gt,0,ae),0===It&&0===Rt&&0===$t&&0===Gt)continue;if(It==ae&&Rt==ae&&$t==ae&&Gt==ae)continue;var De=Bt-r/2,Pe=(De=qe.fitToBounds(De,0,g),qe.fitToBounds(Bt,0,g)),Ee=Bt+r/2;Ee=qe.fitToBounds(Ee,0,g);0<=Rt&&Rt<=ae&&(Me=qe.line(a,[Rt,Rt],[De,Pe],te,H,R,V)),0<Bt&&Bt<g&&(Se=qe.line(a,[$t,Gt],[Bt,Bt],te,H,R,V)),0<=It&&It<=ae&&(Ae=qe.line(a,[It,It],[Pe,Ee],te,H,R,V))}else{zt=Bt,"open"==l&&(zt=Ht),"high"==l&&(zt=Ft),"low"==l&&(zt=Vt);jt=It,Vt=qe.fitToBounds(Vt,0,ne),Ft=qe.fitToBounds(Ft,0,ne);var _e=It-r/2,Ne=(_e=qe.fitToBounds(_e,0,m),qe.fitToBounds(It,0,m)),Le=It+r/2;Le=qe.fitToBounds(Le,0,m);0<=Ht&&Ht<=ne&&(Me=qe.line(a,[_e,Ne],[Ht,Ht],te,H,R,V)),0<It&&It<m&&(Se=qe.line(a,[It,It],[Vt,Ft],te,H,R,V)),0<=Bt&&Bt<=ne&&(Ae=qe.line(a,[Ne,Le],[Bt,Bt],te,H,R,V))}G.push(Me),G.push(Se),G.push(Ae),qe.setCN(t,Me,this.bcn+"stroke-open"),qe.setCN(t,Ae,this.bcn+"stroke-close"),qe.setCN(t,Se,this.bcn+"stroke"),X.className&&qe.setCN(t,ke,X.className,!0),Yt=It,Wt=Bt}}if(!E&&!isNaN(Xt)){var Oe=this.hideBulletsCount;if(this.end-this.start<=Oe||0===Oe){var Ie=this.createBullet(X,jt,zt,ft),Be=this.labelText;if(Be&&!isNaN(Yt)&&!isNaN(Yt)){var Re=this.createLabel(X,Be),He=0;Ie&&(He=Ie.size),this.positionLabel(X,Yt,Wt,Re,He)}if("regular"==k||"100%"==k){var $e=s.totalText;if($e){var Ve=this.createLabel(X,$e,s.totalTextColor);if(qe.setCN(t,Ve,this.bcn+"label-total"),this.allBullets.push(Ve),Ve){var Ge,Fe,Ye=Ve.getBBox(),We=Ye.width,je=Ye.height,ze=s.totalTextOffset,Xe=s.totals[ft];Xe&&Xe.remove();var Ue=0;"column"!=o&&(Ue=this.bulletSize),b?(Fe=Wt,Ge=Xt<0?It-We/2-2-Ue-ze:It+We/2+3+Ue+ze):(Ge=Yt,Fe=Xt<0?Bt+je/2+Ue+ze:Bt-je/2-3-Ue-ze),Ve.translate(Ge,Fe),s.totals[ft]=Ve,b?(Fe<0||g<Fe)&&Ve.remove():(Ge<0||m<Ge)&&Ve.remove()}}}}}}}this.lastDataItem=X,"line"!=o&&"step"!=o&&"smoothedLine"!=o||("smoothedLine"==o?this.drawSmoothedGraph(T,C,gt,vt):this.drawLineGraph(T,C,gt,vt),E||this.launchAnimation()),this.bulletsHidden&&this.hideBullets(),this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(t,e){var i=this,n=i.chart.startDuration;0<n&&!i.animationPlayed&&(i.seqAn?(t.set.hide(),i.animationArray.push(t),n=setTimeout(function(){i.animate.call(i)},n/(i.end-i.start+1)*(e-i.start)*1e3),i.timeOuts.push(n)):i.animate(t),i.chart.animatable.push(t))},createLabel:function(t,e,i){var n=this.chart,a=t.labelColor;a||(a=this.color),a||(a=n.color),i&&(a=i),void 0===(i=this.fontSize)&&(this.fontSize=i=n.fontSize);var s=this.labelFunction;if(e=n.formatString(e,t),e=qe.cleanFromEmpty(e),s&&(e=s(t,e)),void 0!==e&&""!==e)return(t=qe.text(this.container,e,a,n.fontFamily,i)).node.style.pointerEvents="none",qe.setCN(n,t,this.bcn+"label"),this.bulletSet.push(t),t},positiveClip:function(t){t.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(t){t.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(t,e,i,n){var a=this;if(1<t.length){var s=a.noRounding,o=a.set,r=a.chart,l=a.container,h=l.set(),c=l.set();o.push(c),o.push(h);var d=a.lineAlpha,u=a.lineThickness,p=(o=a.fillAlphas,a.lineColorR),f=a.negativeLineAlpha;isNaN(f)&&(f=d),(m=a.lineColorSwitched)&&(p=m);var m=a.fillColorsR;(v=a.fillColorsSwitched)&&(m=v);var g=a.dashLength;(v=a.dashLengthSwitched)&&(g=v);var v=a.negativeLineColor,b=a.negativeFillColors,y=a.negativeFillAlphas,x=a.baseCoord;0!==a.negativeBase&&((x=a.valueAxis.getCoordinate(a.negativeBase,s))>a.height&&(x=a.height),x<0&&(x=0)),(d=qe.line(l,t,e,p,d,u,g,!1,!0,s)).node.setAttribute("stroke-linejoin","round"),qe.setCN(r,d,a.bcn+"stroke"),h.push(d),h.click(function(t){a.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){a.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){a.handleGraphEvent(t,"rollOutGraph")}).touchmove(function(t){a.chart.handleMouseMove(t)}).touchend(function(t){a.chart.handleTouchEnd(t)}),void 0===v||a.useNegativeColorIfDown||((u=qe.line(l,t,e,v,f,u,g,!1,!0,s)).node.setAttribute("stroke-linejoin","round"),qe.setCN(r,u,a.bcn+"stroke"),qe.setCN(r,u,a.bcn+"stroke-negative"),c.push(u)),(0<o||0<y)&&(u=t.join(";").split(";"),f=e.join(";").split(";"),"serial"==(d=r.type)||"radar"==d?0<i.length?(i.reverse(),n.reverse(),u=t.concat(i),f=e.concat(n)):"radar"==d?(f.push(0),u.push(0)):a.rotate?(f.push(f[f.length-1]),u.push(x),f.push(f[0]),u.push(x),f.push(f[0]),u.push(u[0])):(u.push(u[u.length-1]),f.push(x),u.push(u[0]),f.push(x),u.push(t[0]),f.push(f[0])):"xy"==d&&(e=a.fillToAxis)&&(qe.isString(e)&&(e=r.getValueAxisById(e)),"H"==e.orientation?(x="top"==e.position?0:e.height,u.push(u[u.length-1]),f.push(x),u.push(u[0]),f.push(x),u.push(t[0]),f.push(f[0])):(x="left"==e.position?0:e.width,f.push(f[f.length-1]),u.push(x),f.push(f[0]),u.push(x),f.push(f[0]),u.push(u[0]))),t=a.gradientRotation,0<o&&((e=qe.polygon(l,u,f,m,o,1,"#000",0,t,s)).pattern(a.pattern,NaN,r.path),qe.setCN(r,e,a.bcn+"fill"),h.push(e)),(b||void 0!==v)&&(isNaN(y)&&(y=o),b||(b=v),s=qe.polygon(l,u,f,b,y,1,"#000",0,t,s),qe.setCN(r,s,a.bcn+"fill"),qe.setCN(r,s,a.bcn+"fill-negative"),s.pattern(a.pattern,NaN,r.path),c.push(s),c.click(function(t){a.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){a.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){a.handleGraphEvent(t,"rollOutGraph")}).touchmove(function(t){a.chart.handleMouseMove(t)}).touchend(function(t){a.chart.handleTouchEnd(t)}))),a.applyMask(c,h)}},applyMask:function(t,e){var i=t.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(e),0<i&&this.negativeClip(t))},drawSmoothedGraph:function(t,e,i,n){if(1<t.length){var a=this.set,s=this.chart,o=this.container,r=o.set(),l=o.set();a.push(l),a.push(r);var h=this.lineAlpha,c=this.lineThickness,d=(a=this.dashLength,this.fillAlphas),u=this.lineColorR,p=this.fillColorsR,f=this.negativeLineColor,m=this.negativeFillColors,g=this.negativeFillAlphas,v=this.baseCoord,b=this.lineColorSwitched;b&&(u=b),(b=this.fillColorsSwitched)&&(p=b);var y=this.negativeLineAlpha;isNaN(y)&&(y=h),b=this.getGradRotation(),h=new qe.Bezier(o,t,e,u,h,c,p,0,a,void 0,b),qe.setCN(s,h,this.bcn+"stroke"),r.push(h.path),void 0!==f&&(c=new qe.Bezier(o,t,e,f,y,c,p,0,a,void 0,b),qe.setCN(s,c,this.bcn+"stroke"),qe.setCN(s,c,this.bcn+"stroke-negative"),l.push(c.path)),0<d&&(h=t.join(";").split(";"),u=e.join(";").split(";"),c="",0<i.length?(i.push("M"),n.push("M"),i.reverse(),n.reverse(),h=t.concat(i),u=e.concat(n)):(this.rotate?(c+=" L"+v+","+e[e.length-1],c+=" L"+v+","+e[0]):(c+=" L"+t[t.length-1]+","+v,c+=" L"+t[0]+","+v),c+=" L"+t[0]+","+e[0]),i=new qe.Bezier(o,h,u,NaN,0,0,p,d,a,c,b),qe.setCN(s,i,this.bcn+"fill"),i.path.pattern(this.pattern,NaN,s.path),r.push(i.path),m||void 0!==f)&&(g||(g=d),m||(m=f),(t=new qe.Bezier(o,t,e,NaN,0,0,m,g,a,c,b)).path.pattern(this.pattern,NaN,s.path),qe.setCN(s,t,this.bcn+"fill"),qe.setCN(s,t,this.bcn+"fill-negative"),l.push(t.path)),this.applyMask(l,r)}},launchAnimation:function(){var t=this,e=t.chart.startDuration;if(0<e&&!t.animationPlayed){var i=t.set,n=t.bulletSet;qe.VML||(i.attr({opacity:t.startAlpha}),n.attr({opacity:t.startAlpha})),i.hide(),n.hide(),t.seqAn?(e=setTimeout(function(){t.animateGraphs.call(t)},t.index*e*1e3),t.timeOuts.push(e)):t.animateGraphs()}},animateGraphs:function(){var t=this.chart,e=this.set,i=this.bulletSet,n=this.x,a=this.y;e.show(),i.show();var s=t.startDuration,o=t.startEffect;e&&(this.rotate?(e.translate(-1e3,a),i.translate(-1e3,a)):(e.translate(n,-1e3),i.translate(n,-1e3)),e.animate({opacity:1,translate:n+","+a},s,o),i.animate({opacity:1,translate:n+","+a},s,o),t.animatable.push(e))},animate:function(t){var e=this.chart,i=this.animationArray;!t&&0<i.length&&(t=i[0],i.shift()),i=qe[qe.getEffect(e.startEffect)],e=e.startDuration,t&&(this.rotate?t.animateWidth(e,i):t.animateHeight(e,i),t.set.show())},legendKeyColor:function(){var t=this.legendColor,e=this.lineAlpha;return void 0===t&&(t=this.lineColorR,0===e&&(e=this.fillColorsR)&&(t="object"==typeof e?e[0]:e)),t},legendKeyAlpha:function(){var t=this.legendAlpha;return void 0===t&&(t=this.lineAlpha,this.fillAlphas>t&&(t=this.fillAlphas),0===t&&(t=this.bulletAlpha),0===t&&(t=1)),t},createBullet:function(t,e,i){if(!isNaN(e)&&!isNaN(i)&&("none"!=this.bullet||this.customBullet||t.bullet||t.customBullet)){var n=this.chart,a=this.container,s=this.bulletOffset,o=this.bulletSize;isNaN(t.bulletSize)||(o=t.bulletSize);var r,l=t.values.value,h=this.maxValue,c=this.minValue,d=this.maxBulletSize,u=this.minBulletSize;isNaN(h)||(isNaN(l)||(o=(l-c)/(h-c)*(d-u)+u),c==h&&(o=d)),h=o,this.bulletAxis&&(o=t.values.error,isNaN(o)||(l=o),o=this.bulletAxis.stepWidth*l),o<this.minBulletSize&&(o=this.minBulletSize),this.rotate?e=t.isNegative?e-s:e+s:i=t.isNegative?i+s:i-s,u=this.bulletColorR,t.lineColor&&void 0===this.bulletColor&&(this.bulletColorSwitched=t.lineColor),this.bulletColorSwitched&&(u=this.bulletColorSwitched),t.isNegative&&void 0!==this.bulletColorNegative&&(u=this.bulletColorNegative),void 0!==t.color&&(u=t.color),"xy"==n.type&&this.valueField&&(r=this.pattern,t.pattern&&(r=t.pattern)),s=this.bullet,t.bullet&&(s=t.bullet);l=this.bulletBorderThickness,c=this.bulletBorderColorR,d=this.bulletBorderAlpha;var p=this.bulletAlpha;c||(c=u),this.useLineColorForBulletBorder&&(c=this.lineColorR,t.isNegative&&this.negativeLineColor&&(c=this.negativeLineColor),this.lineColorSwitched&&(c=this.lineColorSwitched));var f=t.alpha;return isNaN(f)||(p=f),r=qe.bullet(a,s,o,u,p,l,c,d,h,0,r,n.path),h=this.customBullet,t.customBullet&&(h=t.customBullet),h&&(r&&r.remove(),"function"==typeof h?((h=new h).chart=n,t.bulletConfig&&(h.availableSpace=i,h.graph=this,h.graphDataItem=t,h.bulletY=i,t.bulletConfig.minCoord=this.minCoord-i,h.bulletConfig=t.bulletConfig),h.write(a),r&&h.showBullet&&h.set.push(r),t.customBulletGraphics=h.cset,r=h.set):(r=a.set(),h=a.image(h,0,0,o,o),r.push(h),this.centerCustomBullets&&h.translate(-o/2,-o/2))),r&&((t.url||this.showHandOnHover)&&r.setAttr("cursor","pointer"),"serial"!=n.type&&"gantt"!=n.type||(e<-.5||e>this.width||i<-o/2||i>this.height)&&(r.remove(),r=null),r&&(this.bulletSet.push(r),r.translate(e,i),this.addListeners(r,t),this.allBullets.push(r)),t.bx=e,t.by=i,qe.setCN(n,r,this.bcn+"bullet"),t.className&&qe.setCN(n,r,t.className,!0)),r?(r.size=o||0,(n=this.bulletHitAreaSize)&&((a=qe.circle(a,n,"#FFFFFF",.001,0)).translate(e,i),t.hitBullet=a,this.bulletSet.push(a),this.addListeners(a,t)),t.bulletGraphics=r,void 0!==this.tabIndex&&r.setAttr("tabindex",this.tabIndex)):r={size:0},r.graphDataItem=t,r}},showBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!1,t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!0,t=0;t<e.length;t++)e[t].hide()},showCustomBullets:function(){var t,e=this.allBullets;for(this.customBulletsHidden=!1,t=0;t<e.length;t++){var i=e[t].graphDataItem;i.customBulletGraphics&&i.customBulletGraphics.show()}},hideCustomBullets:function(){var t,e=this.allBullets;for(this.customBulletsHidden=!0,t=0;t<e.length;t++){var i=e[t].graphDataItem;i.customBulletGraphics&&i.customBulletGraphics.hide()}},addListeners:function(t,e){var i=this;t.mouseover(function(t){i.handleRollOver(e,t)}).mouseout(function(t){i.handleRollOut(e,t)}).touchend(function(t){i.handleRollOver(e,t),i.chart.panEventsEnabled&&i.handleClick(e,t)}).touchstart(function(t){i.handleRollOver(e,t)}).click(function(t){i.handleClick(e,t)}).dblclick(function(t){i.handleDoubleClick(e,t)}).contextmenu(function(t){i.handleRightClick(e,t)});var n=i.chart;if(n.accessible&&i.accessibleLabel){var a=n.formatString(i.accessibleLabel,e);n.makeAccessible(t,a)}},handleRollOver:function(t,e){if(this.handleGraphEvent(e,"rollOverGraph"),t){var i=this.chart;t.bulletConfig&&(i.isRolledOverBullet=!0);var n={type:"rollOverGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(n),i.fire(n),clearTimeout(i.hoverInt),(i=i.chartCursor)&&i.valueBalloonsEnabled||this.showGraphBalloon(t,"V",!0)}},handleRollOut:function(t,e){var i=this.chart;if(t){var n={type:"rollOutGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(n),i.fire(n),i.isRolledOverBullet=!1}this.handleGraphEvent(e,"rollOutGraph"),(i=i.chartCursor)&&i.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(t,e){if(!this.chart.checkTouchMoved()&&this.chart.checkTouchDuration(e)){if(t){var i={type:"clickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(i),this.chart.fire(i),qe.getURL(t.url,this.urlTarget)}this.handleGraphEvent(e,"clickGraph")}},handleGraphEvent:function(t,e){var i={type:e,graph:this,target:this,chart:this.chart,event:t};this.fire(i),this.chart.fire(i)},handleRightClick:function(t,e){if(t){var i={type:"rightClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(i),this.chart.fire(i)}},handleDoubleClick:function(t,e){if(t){var i={type:"doubleClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(i),this.chart.fire(i)}},zoom:function(t,e){this.start=t,this.end=e,this.draw()},changeOpacity:function(t){var e,i=this.set;if(i&&i.setAttr("opacity",t),i=this.ownColumns)for(e=0;e<i.length;e++){var n=i[e].set;n&&n.setAttr("opacity",t)}(i=this.bulletSet)&&i.setAttr("opacity",t)},destroy:function(){qe.remove(this.set),qe.remove(this.bulletSet);var t,e=this.timeOuts;if(e)for(t=0;t<e.length;t++)clearTimeout(e[t]);this.timeOuts=[]},createBalloon:function(){var t=this.chart;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={};var e=this.balloon;qe.extend(e,t.balloon,!0),e.chart=t,e.mainSet=t.plotBalloonsSet,e.className=this.id},hideBalloon:function(){var t=this,e=t.chart;e.chartCursor&&e.chartCursor.valueBalloonsEnabled||e.hideBalloon(),clearTimeout(t.hoverInt),t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},e.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide(),this.fixBulletSize()},fixBulletSize:function(){if(qe.isModern){var t=this.resizedDItem;if(t){var e=t.bulletGraphics;if(e&&!e.doNotScale){e.translate(t.bx,t.by,1);var i=this.bulletAlpha;isNaN(t.alpha)||(i=t.alpha),e.setAttr("fill-opacity",i),e.setAttr("stroke-opacity",this.bulletBorderAlpha)}}this.resizedDItem=null}},showGraphBalloon:function(t,e,i,n,a){if(t){var s=this.chart,o=this.balloon,r=0,l=0,h=!0;if((c=s.chartCursor)&&c.valueBalloonsEnabled||(o=s.balloon,r=this.x,l=this.y,h=!1),clearTimeout(this.hoverInt),s.chartCursor&&(this.currentDataItem=t,"serial"==s.type&&s.isRolledOverBullet&&s.chartCursor.valueBalloonsEnabled))return void this.hideBalloonReal();if(this.resizeBullet(t,n,a),o&&o.enabled&&this.showBalloon&&!this.hidden){var c=s.formatString(this.balloonText,t,!0),d=this.balloonFunction;d&&(c=d(t,t.graph)),c&&(c=qe.cleanFromEmpty(c)),c&&""!==c?(n=s.getBalloonColor(this,t),o.drop||(o.pointerOrientation=e),e=t.x,a=t.y,s.rotate&&(e=t.y,a=t.x),e+=r,a+=l,isNaN(e)||isNaN(a)?this.hideBalloonReal():(t=this.width,d=this.height,h&&o.setBounds(r,l,t+r,d+l),o.changeColor(n),o.setPosition(e,a),o.fixPrevious(),o.fixedPosition&&(i=!1),!i&&"radar"!=s.type&&(e<r||t+r<e||a<l-.5||d+l<a)?(o.showBalloon(c),o.hide(0)):(o.followCursor(i),o.showBalloon(c)))):(this.hideBalloonReal(),o.hide(),this.resizeBullet(t,n,a))}else this.hideBalloonReal()}},resizeBullet:function(t,e,i){if(this.fixBulletSize(),t&&qe.isModern&&(1!=e||!isNaN(i))){var n=t.bulletGraphics;n&&!n.doNotScale&&(n.translate(t.bx,t.by,e),isNaN(i)||(n.setAttr("fill-opacity",i),n.setAttr("stroke-opacity",i)),this.resizedDItem=t)}}})}(),function(){var c=window.AmCharts;c.ChartCursor=c.Class({construct:function(t){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonText="[[category]]",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,this.leaveCursor=!1,this.leaveAfterTouch=!0,this.valueZoomable=!1,this.balloonPointerOrientation="horizontal",this.hLineEnabled=this.vLineEnabled=!0,this.vZoomEnabled=this.hZoomEnabled=!1,c.applyTheme(this,t,this.cname)},draw:function(){this.destroy();var t=this.chart;t.panRequired=!0;var e=t.container;this.rotate=t.rotate,this.container=e,this.prevLineHeight=this.prevLineWidth=NaN,(e=e.set()).translate(this.x,this.y),this.set=e,t.cursorSet.push(e),this.createElements(),c.isString(this.limitToGraph)&&(this.limitToGraph=c.getObjById(t.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle"),this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase(),this.isHidden=!1,this.hideLines(),this.valueLineAxis||(this.valueLineAxis=t.valueAxes[0])},createElements:function(){var t,e,i=this,n=i.chart,a=n.dx,s=n.dy,o=i.width,r=i.height,l=i.cursorAlpha,h=i.valueLineAlpha;i.rotate?(t=h,e=l):(e=h,t=l),"xy"==n.type&&(e=l,void 0!==h&&(e=h),t=l),i.vvLine=c.line(i.container,[a,0,0],[s,0,r],i.cursorColor,t,1),c.setCN(n,i.vvLine,"cursor-line"),c.setCN(n,i.vvLine,"cursor-line-vertical"),i.hhLine=c.line(i.container,[0,o,o+a],[0,0,s],i.cursorColor,e,1),c.setCN(n,i.hhLine,"cursor-line"),c.setCN(n,i.hhLine,"cursor-line-horizontal"),i.vLine=i.rotate?i.vvLine:i.hhLine,i.set.push(i.vvLine),i.set.push(i.hhLine),i.set.node.style.pointerEvents="none",i.fullLines=i.container.set(),(n=n.cursorLineSet).push(i.fullLines),n.translate(i.x,i.y),n.clipRect(-1,-1,o+2,r+2),void 0!==i.tabIndex&&(n.setAttr("tabindex",i.tabIndex),n.keyup(function(t){i.handleKeys(t)}).focus(function(t){i.showCursor()}).blur(function(t){i.hideCursor()})),i.set.clipRect(0,0,o,r)},handleKeys:function(t){var e=this.prevIndex,i=this.chart;if(i){var n=i.chartData;n&&(isNaN(e)&&(e=n.length-1),37!=t.keyCode&&40!=t.keyCode||e--,39!=t.keyCode&&38!=t.keyCode||e++,e=c.fitToBounds(e,i.startIndex,i.endIndex),(t=this.chart.chartData[e])&&this.setPosition(t.x.categoryAxis),this.prevIndex=e)}},update:function(){var t=this.chart;if(t){var e,i=t.mouseX-this.x,n=t.mouseY-this.y;if(this.mouseX=i,this.mouseY=n,this.mouse2X=t.mouse2X-this.x,this.mouse2Y=t.mouse2Y-this.y,t.chartData&&0<t.chartData.length){if(this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=e=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(t.rotate||!this.limitToGraph)&&this.vvLine.translate(i,0),!this.hhLine||!isNaN(this.fy)||t.rotate&&this.limitToGraph||this.hhLine.translate(0,n),isNaN(this.mouse2X)?this.dispatchMovedEvent(i,n):e=!1):this.forceShow||this.hideCursor(),this.zooming){if(!isNaN(this.mouse2X))return void(isNaN(this.mouse2X0)||this.dispatchPanEvent());if(this.pan)return void this.dispatchPanEvent();(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}e&&this.showCursor()}}},updateDrawing:function(){if(this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow&&(c.remove(this.drawingLine),1<Math.abs(this.drawStartX-this.mouseX)||1<Math.abs(this.drawStartY-this.mouseY))){var t=(e=this.chart).marginTop,e=e.marginLeft;this.drawingLine=c.line(this.container,[this.drawStartX+e,this.mouseX+e],[this.drawStartY+t,this.mouseY+t],this.cursorColor,1,1)}},fixWidth:function(t){if(this.fullWidth&&this.prevLineWidth!=t){var e=this.vvLine,i=0;e&&(e.remove(),i=e.x),(e=this.container.set()).translate(i,0),i=c.rect(this.container,t,this.height,this.cursorColor,this.cursorAlpha,this.cursorAlpha,this.cursorColor),c.setCN(this.chart,i,"cursor-fill"),i.translate(-t/2-1,0),e.push(i),this.vvLine=e,this.fullLines.push(e),this.prevLineWidth=t}},fixHeight:function(t){if(this.fullWidth&&this.prevLineHeight!=t){var e=this.hhLine,i=0;e&&(e.remove(),i=e.y),(e=this.container.set()).translate(0,i),(i=c.rect(this.container,this.width,t,this.cursorColor,this.cursorAlpha)).translate(0,-t/2),e.push(i),this.fullLines.push(e),this.hhLine=e,this.prevLineHeight=t}},fixVLine:function(t,e){if(!isNaN(t)){if(isNaN(this.prevLineX)){var i=0,n=this.mouseX;if(this.limitToGraph){var a=this.chart.categoryAxis;a&&(this.chart.rotate||(i="bottom"==a.position?this.height:-this.height),n=t)}this.vvLine.translate(n,i)}else this.prevLineX!=t&&this.vvLine.translate(this.prevLineX,this.prevLineY);this.fx=t,this.prevLineX!=t&&(i=this.animationDuration,this.zooming&&(i=0),this.vvLine.stop(),this.vvLine.animate({translate:t+","+e},i,"easeOutSine"),this.prevLineX=t,this.prevLineY=e)}},fixHLine:function(t,e){if(!isNaN(t)){if(isNaN(this.prevLineY)){var i=0,n=this.mouseY;if(this.limitToGraph){var a=this.chart.categoryAxis;a&&(this.chart.rotate&&(i="right"==a.position?this.width:-this.width),n=t)}this.hhLine.translate(i,n)}else this.prevLineY!=t&&this.hhLine.translate(this.prevLineX,this.prevLineY);this.fy=t,this.prevLineY!=t&&(i=this.animationDuration,this.zooming&&(i=0),this.hhLine.stop(),this.hhLine.animate({translate:e+","+t},i,"easeOutSine"),this.prevLineY=t,this.prevLineX=e)}},hideCursor:function(t){this.forceShow=!1,this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideCursorReal(),t?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideCursorReal:function(){this.hideLines(),this.isHidden=!0,this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN},hideLines:function(){this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.hide(),this.fullLines&&this.fullLines.hide(),this.isHidden=!0,this.chart.handleCursorHide()},showCursor:function(t){!this.drawing&&this.enabled&&(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),t||this.fire({target:this,chart:this.chart,type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?0<this.selection.height&&this.hhLine.hide():0<this.selection.width&&this.vvLine.hide())},updateSelection:function(){if(!this.pan&&this.enabled){var t=this.mouseX,e=this.mouseY;isNaN(this.fx)||(t=this.fx),isNaN(this.fy)||(e=this.fy),this.clearSelection();var i,n=this.mouseX0,a=this.mouseY0,s=this.width,o=this.height;(t=c.fitToBounds(t,0,s))<n&&(i=t,t=n,n=i),(e=c.fitToBounds(e,0,o))<a&&(i=e,e=a,a=i),this.hZoomEnabled?s=t-n:n=0,this.vZoomEnabled?o=e-a:a=0,isNaN(this.mouse2X)&&0<Math.abs(s)&&0<Math.abs(o)&&(t=this.chart,e=c.rect(this.container,s,o,this.cursorColor,this.selectionAlpha),c.setCN(t,e,"cursor-selection"),e.width=s,e.height=o,e.translate(n,a),this.set.push(e),this.selection=e),this.updateFullLine()}},mouseIsOver:function(){var t=this.mouseX,e=this.mouseY;return this.justReleased?!(this.justReleased=!1):!!this.mouseIsDown||(this.chart.mouseIsOver?0<t&&t<this.width&&0<e&&e<this.height||void this.handleMouseOut():(this.handleMouseOut(),!1))},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){if(this.update(),this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var t={chart:this.chart,target:this,type:"zoomStarted"};t.x=this.mouseX/this.width,t.y=this.mouseY/this.height,this.index0=t.index=this.index,this.timestamp0=this.timestamp,this.fire(t)}},registerInitialMouse:function(){},handleReleaseOutside:function(){if(this.mouseIsDown=!1,this.drawingNow){this.drawingNow=!1,c.remove(this.drawingLine);var t=this.drawStartX,e=this.drawStartY,i=this.mouseX,n=this.mouseY,a=this.chart;(2<Math.abs(t-i)||2<Math.abs(e-n))&&this.fire({type:"draw",target:this,chart:a,initialX:t,initialY:e,finalX:i,finalY:n})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY)),this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(t){if(!this.pan&&((h=this.selection)&&3<Math.abs(h.width)&&3<Math.abs(h.height))){var e=Math.min(this.index,this.index0),i=Math.max(this.index,this.index0),n=e,a=i,s=this.chart,o=s.chartData,r=s.categoryAxis;r&&r.parseDates&&!r.equalSpacing&&(n=o[e]?o[e].time:Math.min(this.timestamp0,this.timestamp),a=o[i]?s.getEndTime(o[i].time):Math.max(this.timestamp0,this.timestamp));var l,h={type:t,chart:this.chart,target:this,end:a,start:n,startIndex:e,endIndex:i,selectionHeight:h.height,selectionWidth:h.width,selectionY:h.y,selectionX:h.x};this.hZoomEnabled&&4<Math.abs(this.mouseX0-this.mouseX)&&(h.startX=this.mouseX0/this.width,h.endX=this.mouseX/this.width,l=!0),this.vZoomEnabled&&4<Math.abs(this.mouseY0-this.mouseY)&&(h.startY=1-this.mouseY0/this.height,h.endY=1-this.mouseY/this.height,l=!0),l&&(this.prevY=this.prevX=NaN,this.fire(h),"selected"!=t&&this.clearSelection()),this.hideCursor()}},dispatchMovedEvent:function(t,e,i,n){if(t=Math.round(t),e=Math.round(e),!this.isHidden&&(t!=this.prevX||e!=this.prevY||"changed"==i)){i||(i="moved");var a=this.fx,s=this.fy;isNaN(a)&&(a=t),isNaN(s)&&(s=e);var o=!1;this.zooming&&this.pan&&(o=!0),o={hidden:this.isHidden,type:i,chart:this.chart,target:this,x:t,y:e,finalX:a,finalY:s,zooming:this.zooming,panning:o,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:n,hideBalloons:this.hideGraphBalloons},this.prevIndex=this.index,this.rotate?(o.position=e,o.finalPosition=s):(o.position=t,o.finalPosition=a),this.prevX=t,this.prevY=e,n?this.chart.handleCursorMove(o):(this.fire(o),"changed"==i&&this.chart.fire(o))}},dispatchPanEvent:function(){if(this.mouseIsDown){var t=c.roundTo((this.mouseX-this.mouseX0)/this.width,3),e=c.roundTo((this.mouseY-this.mouseY0)/this.height,3),i=c.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),n=c.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),a=!1;0!==Math.abs(t)&&0!==Math.abs(e)&&(a=!0),this.prevDeltaX!=t&&this.prevDeltaY!=e||(a=!1),isNaN(i)||isNaN(n)||(0!==Math.abs(i)&&0!==Math.abs(n)&&(a=!0),this.prevDelta2X!=i&&this.prevDelta2Y!=n)||(a=!1),a&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:t,deltaY:e,delta2X:i,delta2Y:n,index:this.index}),this.prevDeltaX=t,this.prevDeltaY=e,this.prevDelta2X=i,this.prevDelta2Y=n)}},clearSelection:function(){var t=this.selection;t&&(t.width=0,t.height=0,t.remove())},destroy:function(){this.clear(),c.remove(this.selection),this.selection=null,clearTimeout(this.syncTO),c.remove(this.set)},clear:function(){},setTimestamp:function(t){this.timestamp=t},setIndex:function(t,e){t!=this.index&&(this.index=t,e||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(t){var e=this.chart.categoryAxis;e&&this.setPosition(e.categoryToCoordinate(t),t)},setPosition:function(t,e){var i,n,a=this.chart,s=a.categoryAxis;s&&(void 0===e&&(e=s.coordinateToValue(t)),s.showBalloonAt(e,t),this.forceShow=!0,s.stickBalloonToCategory?a.rotate?this.fixHLine(t,0):this.fixVLine(t,0):(this.showCursor(),a.rotate?this.hhLine.translate(0,t):this.vvLine.translate(t,0)),a.rotate?i=t:n=t,a.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(n,i,"moved",!0))},enableDrawing:function(t){this.enabled=!t,this.hideCursor(),this.drawing=t},syncWithCursor:function(t,e){clearTimeout(this.syncTO),t&&(t.isHidden?this.hideCursor(!0):this.syncWithCursorReal(t,e))},isZooming:function(t){this.zooming=t},syncWithCursorReal:function(t,e){var i=t.vvLine,n=t.hhLine;this.index=t.index,this.forceShow=!0,this.zooming&&this.pan||this.showCursor(!0),this.hideGraphBalloons=e,this.justReleased=t.justReleased,this.zooming=t.zooming,this.index0=t.index0,this.mouseX0=t.mouseX0,this.mouseY0=t.mouseY0,this.mouse2X0=t.mouse2X0,this.mouse2Y0=t.mouse2Y0,this.timestamp0=t.timestamp0,this.prevDeltaX=t.prevDeltaX,this.prevDeltaY=t.prevDeltaY,this.prevDelta2X=t.prevDelta2X,this.prevDelta2Y=t.prevDelta2Y,this.fx=t.fx,this.fy=t.fy,t.zooming&&this.updateSelection();var a=t.mouseX,s=t.mouseY;this.rotate?(a=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&n&&(isNaN(t.fy)?this.hhLine.translate(0,t.mouseY):this.fixHLine(t.fy,0))):(s=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&i&&(isNaN(t.fx)?this.vvLine.translate(t.mouseX,0):this.fixVLine(t.fx,0))),this.dispatchMovedEvent(a,s,"moved",!0)}})}(),function(){var p=window.AmCharts;p.SimpleChartScrollbar=p.Class({construct:function(t){this.createEvents("zoomed","zoomStarted","zoomEnded"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,document.documentMode<9&&(this.updateOnReleaseOnly=!0),this.dragIconHeight=this.dragIconWidth=35,this.dragIcon="dragIconRoundBig",this.dragCursorHover="cursor: move; cursor: grab; cursor: -moz-grab; cursor: -webkit-grab;",this.dragCursorDown="cursor: move; cursor: grab; cursor: -moz-grabbing; cursor: -webkit-grabbing;",this.vResizeCursor="ns-resize",this.hResizeCursor="ew-resize",this.enabled=!0,this.percentStart=this.offset=0,this.percentEnd=1,p.applyTheme(this,t,"SimpleChartScrollbar")},getPercents:function(){var t=(n=this.getDBox()).x,e=n.y,i=n.width,n=n.height;this.rotate?(t=1-e/this.height,e=1-(e+n)/this.height):(e=t/this.width,t=(t+i)/this.width),this.percentStart=e,this.percentEnd=t},draw:function(){var e=this;if(e.destroy(),e.enabled){var t=e.chart.container,i=e.rotate,n=e.chart;n.panRequired=!0;var a,s,o=t.set();if(e.set=o,i?p.setCN(n,o,"scrollbar-vertical"):p.setCN(n,o,"scrollbar-horizontal"),n.scrollbarsSet.push(o),i?(a=e.scrollbarHeight,s=n.plotAreaHeight):(s=e.scrollbarHeight,a=n.plotAreaWidth),e.width=a,(e.height=s)&&a){var r=p.rect(t,a,s,e.backgroundColor,e.backgroundAlpha,1,e.backgroundColor,e.backgroundAlpha);p.setCN(n,r,"scrollbar-bg"),e.bg=r,o.push(r),r=p.rect(t,a,s,"#000",.005),o.push(r),(e.invisibleBg=r).click(function(){e.handleBgClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}).touchend(function(){e.handleBgClick()}),r=p.rect(t,a,s,e.selectedBackgroundColor,e.selectedBackgroundAlpha),p.setCN(n,r,"scrollbar-bg-selected"),e.selectedBG=r,o.push(r),a=p.rect(t,a,s,"#000",.005),e.dragger=a,o.push(a),a.mousedown(function(t){e.handleDragStart(t)}).mouseup(function(){e.handleDragStop()}).mouseover(function(){e.handleDraggerOver()}).mouseout(function(){e.handleMouseOut()}).touchstart(function(t){e.handleDragStart(t)}).touchend(function(){e.handleDragStop()}),s=n.pathToImages;var l;r=e.dragIcon.replace(/\.[a-z]*$/i,"");p.isAbsolute(r)&&(s=""),i?(l=s+r+"H"+n.extension,s=e.dragIconWidth,i=e.dragIconHeight):(l=s+r+n.extension,i=e.dragIconWidth,s=e.dragIconHeight),r=t.image(l,0,0,i,s),p.setCN(n,r,"scrollbar-grip-left"),l=t.image(l,0,0,i,s),p.setCN(n,l,"scrollbar-grip-right");var h=10,c=20;n.panEventsEnabled&&(h=25,c=e.scrollbarHeight);var d=p.rect(t,h,c,"#000",.005),u=p.rect(t,h,c,"#000",.005);u.translate(-(h-i)/2,-(c-s)/2),d.translate(-(h-i)/2,-(c-s)/2),i=t.set([r,u]),t=t.set([l,d]),e.iconLeft=i,o.push(e.iconLeft),e.iconRight=t,o.push(t),e.updateGripCursor(!1),n.makeAccessible(i,e.accessibleLabel),n.makeAccessible(t,e.accessibleLabel),n.makeAccessible(a,e.accessibleLabel),i.setAttr("role","menuitem"),t.setAttr("role","menuitem"),a.setAttr("role","menuitem"),void 0!==e.tabIndex&&(i.setAttr("tabindex",e.tabIndex),i.keyup(function(t){e.handleKeys(t,1,0)})),void 0!==e.tabIndex&&(a.setAttr("tabindex",e.tabIndex),a.keyup(function(t){e.handleKeys(t,1,1)})),void 0!==e.tabIndex&&(t.setAttr("tabindex",e.tabIndex),t.keyup(function(t){e.handleKeys(t,0,1)})),i.mousedown(function(){e.leftDragStart()}).mouseup(function(){e.leftDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.leftDragStart()}).touchend(function(){e.leftDragStop()}),t.mousedown(function(){e.rightDragStart()}).mouseup(function(){e.rightDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.rightDragStart()}).touchend(function(){e.rightDragStop()}),p.ifArray(n.chartData)?o.show():o.hide(),e.hideDragIcons(),e.clipDragger(!1)}o.translate(e.x,e.y),o.node.style.msTouchAction="none",o.node.style.touchAction="none"}},handleKeys:function(t,e,i){this.getPercents();var n=this.percentStart,a=this.percentEnd;if(this.rotate){var s=a;a=n,n=s}37!=t.keyCode&&40!=t.keyCode||(n-=.02*e,a-=.02*i),39!=t.keyCode&&38!=t.keyCode||(n+=.02*e,a+=.02*i),this.rotate&&(t=a,a=n,n=t),isNaN(a)||isNaN(n)||this.percentZoom(n,a,!0)},updateScrollbarSize:function(t,e){if(!isNaN(t)&&!isNaN(e)){t=Math.round(t),e=Math.round(e);var i,n,a,s,o,r=this.dragger;this.rotate?(i=0,n=t,a=this.width+1,s=e-t,r.setAttr("height",e-t),r.setAttr("y",n)):(n=0,a=e-(i=t),s=this.height+1,o=e-t,r.setAttr("x",i),r.setAttr("width",o)),this.clipAndUpdate(i,n,a,s)}},update:function(){var t,e,i,n=!1,a=this.x,s=this.y,o=this.dragger;if(l=this.getDBox()){e=l.x+a,i=l.y+s;var r=l.width,l=l.height,h=this.rotate,c=this.chart,d=this.width,u=this.height,p=c.mouseX;c=c.mouseY;if(t=this.initialMouse,this.forceClip&&this.clipDragger(!0),this.dragging){var f=this.initialCoord;h?((t=f+(c-t))<0&&(t=0),(f=u-l)<t&&(t=f),o.setAttr("y",t)):((t=f+(p-t))<0&&(t=0),(f=d-r)<t&&(t=f),o.setAttr("x",t)),this.clipDragger(!0)}this.resizingRight&&(h?(t=c-i,!isNaN(this.maxHeight)&&t>this.maxHeight&&(t=this.maxHeight),u+s<t+i&&(t=u-i+s),t<0?(this.resizingRight=!1,n=this.resizingLeft=!0):((0===t||isNaN(t))&&(t=.1),o.setAttr("height",t))):(t=p-e,!isNaN(this.maxWidth)&&t>this.maxWidth&&(t=this.maxWidth),d+a<t+e&&(t=d-e+a),t<0?(this.resizingRight=!1,n=this.resizingLeft=!0):((0===t||isNaN(t))&&(t=.1),o.setAttr("width",t))),this.clipDragger(!0)),this.resizingLeft&&(h?(e=i,(i=c)<s&&(i=s),isNaN(i)&&(i=s),u+s<i&&(i=u+s),t=!0===n?e-i:l+e-i,!isNaN(this.maxHeight)&&t>this.maxHeight&&(t=this.maxHeight,i=e),t<0?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("y",e+l-s)):((0===t||isNaN(t))&&(t=.1),o.setAttr("y",i-s),o.setAttr("height",t))):((i=p)<a&&(i=a),isNaN(i)&&(i=a),d+a<i&&(i=d+a),t=!0===n?e-i:r+e-i,!isNaN(this.maxWidth)&&t>this.maxWidth&&(t=this.maxWidth,i=e),t<0?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("x",e+r-a)):((0===t||isNaN(t))&&(t=.1),o.setAttr("x",i-a),o.setAttr("width",t))),this.clipDragger(!0))}},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(t){if(a=this.getDBox()){var e=a.x,i=a.y,n=a.width,a=a.height,s=!1;this.rotate?(e=0,n=this.width+1,(this.clipY!=i||this.clipH!=a)&&(s=!0)):(i=0,a=this.height+1,(this.clipX!=e||this.clipW!=n)&&(s=!0)),s&&(this.clipAndUpdate(e,i,n,a),t&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(t,e,i,n){this.clipX=t,this.clipY=e,this.clipW=i,this.clipH=n,this.selectedBG.setAttr("width",i),this.selectedBG.setAttr("height",n),this.selectedBG.translate(t,e),this.updateDragIconPositions(),this.maskGraphs(t,e,i,n)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t=this.chart;t.hideBalloon();var e=(a=this.getDBox()).x,i=a.y,n=a.width,a=a.height;this.getPercents(),this.rotate?(e=i,n=this.height/a):n=this.width/n,this.fire({type:"zoomed",position:e,chart:t,target:this,multiplier:n,relativeStart:this.percentStart,relativeEnd:this.percentEnd})}},updateDragIconPositions:function(){var t,e,i=this.getDBox(),n=i.x,a=i.y,s=this.iconLeft,o=this.iconRight,r=this.scrollbarHeight;this.rotate?(t=this.dragIconWidth,e=this.dragIconHeight,s.translate((r-e)/2,a-t/2),o.translate((r-e)/2,a+i.height-t/2)):(t=this.dragIconHeight,e=this.dragIconWidth,s.translate(n-e/2,(r-t)/2),o.translate(n-e/2+i.width,(r-t)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||(!this.hideResizeGrips&&this.resizeEnabled||(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(t){this.fire({type:t,chart:this.chart,target:this})},percentZoom:function(t,e,i){var n,a;(t=p.fitToBounds(t,0,e),e=p.fitToBounds(e,t,1),this.dragger&&this.enabled)&&(this.dragger.stop(),isNaN(t)&&(t=0),isNaN(e)&&(e=1),this.rotate?(e=(n=this.height)-n*e,a=n-n*t):(a=(n=this.width)*e,e=n*t),this.updateScrollbarSize(e,a),this.clipDragger(!1),this.getPercents(),i&&this.dispatchScrollbarEvent())},destroy:function(){this.clear(),p.remove(this.set),p.remove(this.iconRight),p.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){this.fireZoomEvent("zoomStarted");var t=this.chart;this.dragger.stop(),this.removeCursors(),p.isModern&&this.dragger.node.setAttribute("style",this.dragCursorDown),this.dragging=!0;var e=this.getDBox();this.rotate?(this.initialCoord=e.y,this.initialMouse=t.mouseY):(this.initialCoord=e.x,this.initialMouse=t.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),p.isModern&&this.dragger.node.setAttribute("style",this.dragCursorHover),this.update(),this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver(),p.isModern&&this.dragger.node.setAttribute("style",this.dragCursorHover)},leftDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingLeft=!0,this.updateGripCursor(!0)},updateGripCursor:function(t){p.isModern&&(t=this.rotate?t?this.vResizeCursorDown:this.vResizeCursorHover:t?this.hResizeCursorDown:this.hResizeCursorHover)&&(this.iconRight&&this.iconRight.node.setAttribute("style",t),this.iconLeft&&this.iconLeft.node.setAttribute("style",t))},leftDragStop:function(){this.resizingLeft&&(this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},rightDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingRight=!0,this.updateGripCursor(!0)},rightDragStop:function(){this.resizingRight&&(this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.vResizeCursor&&this.chart.setMouseCursor(this.vResizeCursor):this.hResizeCursor&&this.chart.setMouseCursor(this.hResizeCursor),this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var t=this;if(!t.resizingRight&&!t.resizingLeft){t.zooming=!0;var e,i,n=t.scrollDuration,a=t.dragger,s=(e=t.getDBox()).height,o=e.width;i=t.chart;var r=t.y,l=t.x,h=t.rotate;h?(e="y",i=i.mouseY-s/2-r,i=p.fitToBounds(i,0,t.height-s)):(e="x",i=i.mouseX-o/2-l,i=p.fitToBounds(i,0,t.width-o)),t.updateOnReleaseOnly?(t.skipEvent=!1,a.setAttr(e,i),t.dispatchScrollbarEvent(),t.clipDragger()):(t.animating=!0,i=Math.round(i),h?a.animate({y:i},n,">"):a.animate({x:i},n,">"),t.forceClip=!0,clearTimeout(t.forceTO),t.forceTO=setTimeout(function(){t.stopForceClip.call(t)},5e3*n))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.dragging=this.resizingRight=this.resizingLeft=!1,this.updateOnRelease(),this.removeCursors()),this.animating=this.mouseIsOver=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons(),this.removeCursors()}})}(),function(){var v=window.AmCharts;v.ChartScrollbar=v.Class({inherits:v.SimpleChartScrollbar,construct:function(t){this.cname="ChartScrollbar",v.ChartScrollbar.base.construct.call(this,t),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.oppositeAxis=!0,this.accessibleLabel="Zoom chart using cursor arrows",v.applyTheme(this,t,this.cname)},init:function(){var t=this.categoryAxis,e=this.chart,i=this.gridAxis;t||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,(t=new v.CategoryAxis).id="scrollbar"):((t=new v.ValueAxis).data=e.chartData,t.id=i.id,t.type=i.type,t.maximumDate=i.maximumDate,t.minimumDate=i.minimumDate,t.minPeriod=i.minPeriod,t.minMaxField=i.minMaxField),this.categoryAxis=t);var n=(t.chart=e).categoryAxis;n&&(t.firstDayOfWeek=n.firstDayOfWeek),t.dateFormats=i.dateFormats,t.markPeriodChange=i.markPeriodChange,t.boldPeriodBeginning=i.boldPeriodBeginning,t.labelFunction=i.labelFunction,t.axisItemRenderer=v.RecItem,t.axisRenderer=v.RecAxis,t.guideFillRenderer=v.RecFill,t.inside=!0,t.fontSize=this.fontSize,t.tickLength=0,t.axisAlpha=0,v.isString(this.graph)&&(this.graph=v.getObjById(e.graphs,this.graph)),(t=this.graph)&&this.catScrollbar&&((i=this.valueAxis)||(this.valueAxis=i=new v.ValueAxis,i.visible=!1,i.scrollbar=!0,i.axisItemRenderer=v.RecItem,i.axisRenderer=v.RecAxis,i.guideFillRenderer=v.RecFill,i.labelsEnabled=!1,i.chart=e),(e=this.unselectedGraph)||((e=new v.AmGraph).scrollbar=!0,(this.unselectedGraph=e).negativeBase=t.negativeBase,e.noStepRisers=t.noStepRisers),(e=this.selectedGraph)||((e=new v.AmGraph).scrollbar=!0,(this.selectedGraph=e).negativeBase=t.negativeBase,e.noStepRisers=t.noStepRisers)),this.scrollbarCreated=!0},draw:function(){var t=this;if(v.ChartScrollbar.base.draw.call(t),t.enabled){t.scrollbarCreated||t.init();var e=t.chart,i=e.chartData,n=t.categoryAxis,a=t.rotate,s=t.x,o=t.y,r=t.width,l=t.height,h=t.gridAxis,c=t.set;if(n.setOrientation(!a),n.parseDates=h.parseDates,"ValueAxis"==t.categoryAxis.cname&&(n.rotate=!a),n.equalSpacing=h.equalSpacing,n.minPeriod=h.minPeriod,n.startOnAxis=h.startOnAxis,n.width=r-1,n.height=l,n.gridCount=t.gridCount,n.gridColor=t.gridColor,n.gridAlpha=t.gridAlpha,n.color=t.color,n.tickLength=0,n.axisAlpha=0,n.autoGridCount=t.autoGridCount,n.parseDates&&!n.equalSpacing&&n.timeZoom(e.firstTime,e.lastTime),n.minimum=t.gridAxis.fullMin,n.maximum=t.gridAxis.fullMax,n.strictMinMax=!0,n.zoom(0,i.length-1),(h=t.graph)&&t.catScrollbar){var d=t.valueAxis,u=h.valueAxis;d.id=u.id,d.rotate=a,d.setOrientation(a),d.width=r,d.height=l,d.dataProvider=i,d.reversed=u.reversed,d.logarithmic=u.logarithmic,d.gridAlpha=0,d.axisAlpha=0,c.push(d.set),a?(d.y=o,d.x=0):(d.x=s,d.y=0);var p;s=1/0,o=-1/0;for(p=0;p<i.length;p++){var f,m=i[p].axes[u.id].graphs[h.id].values;for(f in m)if(m.hasOwnProperty(f)&&"percents"!=f&&"total"!=f){var g=m[f];g<s&&(s=g),o<g&&(o=g)}}1/0!=s&&(d.minimum=s),-1/0!=o&&(d.maximum=o+.1*(o-s)),s==o&&(--d.minimum,d.maximum+=1),void 0!==t.minimum&&(d.minimum=t.minimum),void 0!==t.maximum&&(d.maximum=t.maximum),d.zoom(0,i.length-1),(f=t.unselectedGraph).id=h.id,f.bcn="scrollbar-graph-",f.rotate=a,f.chart=e,f.data=i,f.valueAxis=d,f.chart=h.chart,f.categoryAxis=t.categoryAxis,f.periodSpan=h.periodSpan,f.valueField=h.valueField,f.openField=h.openField,f.closeField=h.closeField,f.highField=h.highField,f.lowField=h.lowField,f.lineAlpha=t.graphLineAlpha,f.lineColorR=t.graphLineColor,f.fillAlphas=t.graphFillAlpha,f.fillColorsR=t.graphFillColor,f.connect=h.connect,f.hidden=h.hidden,f.width=r,f.height=l,f.pointPosition=h.pointPosition,f.stepDirection=h.stepDirection,f.periodSpan=h.periodSpan,(u=t.selectedGraph).id=h.id,u.bcn=f.bcn+"selected-",u.rotate=a,u.chart=e,u.data=i,u.valueAxis=d,u.chart=h.chart,u.categoryAxis=n,u.periodSpan=h.periodSpan,u.valueField=h.valueField,u.openField=h.openField,u.closeField=h.closeField,u.highField=h.highField,u.lowField=h.lowField,u.lineAlpha=t.selectedGraphLineAlpha,u.lineColorR=t.selectedGraphLineColor,u.fillAlphas=t.selectedGraphFillAlpha,u.fillColorsR=t.selectedGraphFillColor,u.connect=h.connect,u.hidden=h.hidden,u.width=r,u.height=l,u.pointPosition=h.pointPosition,u.stepDirection=h.stepDirection,u.periodSpan=h.periodSpan,(e=t.graphType)||(e=h.type),f.type=e,u.type=e,i=i.length-1,f.zoom(0,i),u.zoom(0,i),u.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),f.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),c.push(f.set),c.push(u.set)}c.push(n.set),c.push(n.labelsSet),t.bg.toBack(),t.invisibleBg.toFront(),t.dragger.toFront(),t.iconLeft.toFront(),t.iconRight.toFront()}},timeZoom:function(t,e,i){this.startTime=t,this.endTime=e,this.timeDifference=e-t,this.skipEvent=!v.toBoolean(i),this.zoomScrollbar(),this.dispatchScrollbarEvent()},zoom:function(t,e){this.start=t,this.end=e,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.categoryAxis&&"ValueAxis"==this.categoryAxis.cname)v.ChartScrollbar.base.dispatchScrollbarEvent.call(this);else if(this.skipEvent)this.skipEvent=!1;else{var t,e,i=this.chart.chartData;t=(s=this.dragger.getBBox()).x;var n=s.y,a=s.width,s=s.height,o=this.chart;this.rotate?(t=n,e=s):e=a,(a={type:"zoomed",target:this}).chart=o;var r=this.categoryAxis,l=this.stepWidth,h=(n=o.minSelectedTime,s=o.maxSelectedTime,!1);r.parseDates&&!r.equalSpacing?(i=o.lastTime,o=o.firstTime,r=Math.round(t/l)+o,(t=this.dragging?r+this.timeDifference:Math.round((t+e)/l)+o)<r&&(r=t),0<n&&t-r<n&&(r=(t=Math.round(r+(t-r)/2))-(h=Math.round(n/2)),t+=h,h=!0),0<s&&s<t-r&&(r=(t=Math.round(r+(t-r)/2))-(h=Math.round(s/2)),t+=h,h=!0),i<t&&(t=i),t-n<r&&(r=t-n),r<o&&(r=o),t<r+n&&(t=r+n),(r!=this.startTime||t!=this.endTime)&&(this.startTime=r,this.endTime=t,a.start=r,a.end=t,a.startDate=new Date(r),a.endDate=new Date(t),this.fire(a))):(r.startOnAxis||(t+=l/2),e-=this.stepWidth/2,n=r.xToIndex(t),t=r.xToIndex(t+e),n==this.start&&this.end==t||(r.startOnAxis&&(this.resizingRight&&n==t&&t++,this.resizingLeft&&n==t&&(0<n?n--:t=1)),this.start=n,this.end=this.dragging?this.start+this.difference:t,a.start=this.start,a.end=this.end,r.parseDates&&(i[this.start]&&(a.startDate=new Date(i[this.start].time)),i[this.end]&&(a.endDate=new Date(i[this.end].time))),this.fire(a)),this.percentStart=n,this.percentEnd=t),h&&this.zoomScrollbar(!0)}},zoomScrollbar:function(t){if((!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)||t)&&this.dragger&&this.enabled){var e,i,n=this.chart;t=n.chartData;var a=this.categoryAxis;a.parseDates&&!a.equalSpacing?(t=a.stepWidth,i=n.firstTime,e=t*(this.startTime-i),i=t*(this.endTime-i)):(t[this.start]&&(e=t[this.start].x[a.id]),t[this.end]&&(i=t[this.end].x[a.id]),t=a.stepWidth,a.startOnAxis||(e-=n=t/2,i+=n)),this.stepWidth=t,isNaN(e)||isNaN(i)||this.updateScrollbarSize(e,i)}},maskGraphs:function(t,e,i,n){var a=this.selectedGraph;a&&a.set.clipRect(t,e,i,n)},handleDragStart:function(){v.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,this.timeDifference<0&&(this.timeDifference=0)},handleBackgroundClick:function(){v.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,this.timeDifference<0&&(this.timeDifference=0))}})}(),function(){var N=window.AmCharts;N.AmBalloon=N.Class({construct:function(t){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!0,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,N.isModern||(this.offsetY*=1.5),this.sdy=this.sdx=0,N.applyTheme(this,t,this.cname)},draw:function(){var t=this.pointToX,e=this.pointToY;N.isModern||(this.drop=!1);var i=this.chart;if(N.VML&&(this.fadeOutDuration=0),this.xAnim&&i.stopAnim(this.xAnim),this.yAnim&&i.stopAnim(this.yAnim),this.sdy=this.sdx=0,!isNaN(t)){var n=this.follow,a=i.container,s=this.set;if(N.remove(s),this.removeDiv(),(s=a.set()).node.style.pointerEvents="none",this.set=s,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):i.balloonsSet.push(s),this.show){var o=this.l,r=this.t,l=this.r,h=this.b,c=this.balloonColor,d=this.fillColor,u=this.borderColor,p=d;null!=c&&(this.adjustBorderColor?p=u=c:d=c);var f=this.horizontalPadding,m=this.verticalPadding,g=this.pointerWidth,v=this.pointerOrientation,b=this.cornerRadius,y=i.fontFamily;null==(A=this.fontSize)&&(A=i.fontSize);c=document.createElement("div");var x=i.classNamePrefix;c.className=x+"-balloon-div",this.className&&(c.className=c.className+" "+x+"-balloon-div-"+this.className),x=c.style,this.disableMouseEvents&&(x.pointerEvents="none"),x.position="absolute";var w=this.minWidth,T="";isNaN(w)||(T="min-width:"+(w-2*f)+"px; "),c.innerHTML='<div style="text-align:'+this.textAlign+"; "+T+"max-width:"+this.maxWidth+"px; font-size:"+A+"px; color:"+this.color+"; font-family:"+y+'">'+this.text+"</div>",i.chartDiv.appendChild(c);var C=(this.textDiv=c).offsetWidth,S=c.offsetHeight;c.clientHeight&&(C=c.clientWidth,S=c.clientHeight),y=S+2*m,T=C+2*f,!isNaN(w)&&T<w&&(T=w),window.opera&&(y+=2);var M=!1,A=this.offsetY;i.handDrawn&&(A+=i.handDrawScatter+2),"H"!=v?(w=t-T/2,e<r+y+10&&"down"!=v?(M=!0,n&&(e+=A),A=e+g,this.deltaSignY=-1):(n&&(e-=A),A=e-y-g,this.deltaSignY=1)):(y<2*g&&(g=y/2),A=e-y/2,t<o+(l-o)/2?(w=t+g,this.deltaSignX=-1):(w=t-T-g,this.deltaSignX=1)),h<=A+y&&(A=h-y),A<r&&(A=r),w<o&&(w=o),l<w+T&&(w=l-T);r=A+m,h=w+f;var k,D=this.shadowAlpha,P=this.shadowColor,E=(f=this.borderThickness,this.bulletSize),_=(m=this.fillAlpha,this.borderAlpha);this.showBullet&&(k=N.circle(a,E,p,m),s.push(k)),this.drop?(o=T/1.6,l=0,"V"==v&&(v="down"),"H"==v&&(v="left"),"down"==v&&(w=t+1,A=e-o-o/3),"up"==v&&(l=180,w=t+1,A=e+o+o/3),"left"==v&&(l=270,w=t+o+o/3+2,A=e),"right"==v&&(l=90,w=t-o-o/3+2,A=e),r=A-S/2+1,h=w-C/2-1,d=N.drop(a,o,l,d,m,f,u,_)):0<b||0===g?(0<D&&(t=N.rect(a,T,y,d,0,f+1,P,D,b),N.isModern?t.translate(1,1):t.translate(4,4),s.push(t)),d=N.rect(a,T,y,d,m,f,u,_,b)):(p=[],b=[],"H"!=v?(T-g<(o=t-w)&&(o=T-g),o<g&&(o=g),p=[0,o-g,t-w,o+g,T,T,0,0],b=M?[0,0,e-A,0,0,y,y,0]:[y,y,e-A,y,y,0,0,y]):(y-g<(v=e-A)&&(v=y-g),v<g&&(v=g),b=[0,v-g,e-A,v+g,y,y,0,0],p=t<o+(l-o)/2?[0,0,w<t?0:t-w,0,0,T,T,0]:[T,T,t<w+T?T:t-w,T,T,0,0,T]),0<D&&((t=N.polygon(a,p,b,d,0,f,P,D)).translate(1,1),s.push(t)),d=N.polygon(a,p,b,d,m,f,u,_)),this.bg=d,s.push(d),d.toFront(),N.setCN(i,d,"balloon-bg"),this.className&&N.setCN(i,d,"balloon-bg-"+this.className),a=1*this.deltaSignX,h+=this.sdx,r+=this.sdy,x.left=h+"px",x.top=r+"px",s.translate(w-a,A,1,!0),d=d.getBBox(),this.bottom=A+y+1,this.yPos=d.y+A,k&&k.translate(this.pointToX-w+a,e-A),e=this.animationDuration,0<this.animationDuration&&!n&&!isNaN(this.prevX)&&(s.translate(this.prevX,this.prevY,NaN,!0),s.animate({translate:w-a+","+A},e,"easeOutSine"),c&&(x.left=this.prevTX+"px",x.top=this.prevTY+"px",this.xAnim=i.animate({node:c},"left",this.prevTX,h,e,"easeOutSine","px"),this.yAnim=i.animate({node:c},"top",this.prevTY,r,e,"easeOutSine","px"))),this.prevX=w-a,this.prevY=A,this.prevTX=h,this.prevTY=r}}},fixPrevious:function(){this.rPrevX=this.prevX,this.rPrevY=this.prevY,this.rPrevTX=this.prevTX,this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX,this.prevY=this.rPrevY,this.prevTX=this.rPrevTX,this.prevTY=this.rPrevTY},followMouse:function(){if(this.follow&&this.show){var t=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,e=this.chart.mouseY-this.sdy;if(this.pointToX=t,this.pointToY=e,t!=this.previousX||e!=this.previousY)if(this.previousX=t,this.previousY=e,0===this.cornerRadius)this.draw();else{var i=this.set;if(i){var n=i.getBBox(),a=(t=t-n.width/2,e-n.height-10);t<this.l&&(t=this.l),t>this.r-n.width&&(t=this.r-n.width),a<this.t&&(a=e+10),i.translate(t,a),(e=this.textDiv.style).left=t+this.horizontalPadding+"px",e.top=a+this.verticalPadding+"px"}}}},changeColor:function(t){this.balloonColor=t},setBounds:function(t,e,i,n){this.l=t,this.t=e,this.r=i,this.b=n,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(t){(this.text!=t||this.positionChanged)&&(this.text=t,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),t=this.chart,this.fadeAnim1&&t.stopAnim(this.fadeAnim1),this.fadeAnim2&&t.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(t){var e=this;e.text=void 0,isNaN(t)&&(t=e.fadeOutDuration);var i=e.chart;if(0<t&&!e.isHiding){e.isHiding=!0,e.destroyTO&&clearTimeout(e.destroyTO),e.destroyTO=setTimeout(function(){e.destroy.call(e)},1e3*t),e.follow=!1,e.show=!1;var n=e.set;n&&(n.setAttr("opacity",e.fillAlpha),e.fadeAnim1=n.animate({opacity:0},t,"easeInSine")),e.textDiv&&(e.fadeAnim2=i.animate({node:e.textDiv},"opacity",1,0,t,"easeInSine",""))}else e.show=!1,e.follow=!1,e.destroy()},setPosition:function(t,e){t==this.pointToX&&e==this.pointToY||(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=t,this.pointToY=e,this.positionChanged=!0)},followCursor:function(t){var e=this;e.follow=t,clearInterval(e.interval);var i=e.chart.mouseX-e.sdx,n=e.chart.mouseY-e.sdy;!isNaN(i)&&t&&(e.pointToX=i-e.offsetX*e.deltaSignX,e.pointToY=n,e.followMouse(),e.interval=setInterval(function(){e.followMouse.call(e)},40))},removeDiv:function(){if(this.textDiv){var t=this.textDiv.parentNode;t&&t.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),N.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var L=window.AmCharts;L.AmCoordinateChart=L.Class({inherits:L.AmChart,construct:function(t){L.AmCoordinateChart.base.construct.call(this,t),this.theme=t,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,L.applyTheme(this,t,"AmCoordinateChart")},initChart:function(){L.AmCoordinateChart.base.initChart.call(this),this.drawGraphs=!0;var t=this.categoryAxis;t&&(this.categoryAxis=L.processObject(t,L.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),L.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&(this.gridSet.toFront(),this.bulletSet.toFront(),this.balloonsSet.toFront())},createValueAxes:function(){if(0===this.valueAxes.length){var t=new L.ValueAxis;this.addValueAxis(t)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(t){if(this.chartData=[],t)if(0<this.processTimeout){this.processCount<1&&(this.processCount=1);var e=t.length/this.processCount;this.parseCount=Math.ceil(e)-1;for(var i=0;i<e;i++)this.delayParseSerialData(t,i)}else this.parseCount=0,this.parsePartSerialData(t,0,t.length,0);else this.onDataUpdated()},delayParseSerialData:function(t,e){var i=this,n=i.processCount;setTimeout(function(){i.parsePartSerialData.call(i,t,e*n,(e+1)*n,e)},i.processTimeout)},parsePartSerialData:function(t,e,i,n){i>t.length&&(i=t.length);var a=this.graphs,s={},o=this.seriesIdField;o||(o=this.categoryField);var r,l,h,c,d=!1,u=this.categoryAxis;u&&(d=u.parseDates,l=u.forceShowField,c=u.classNameField,h=u.labelColorField,r=u.categoryFunction);var p,f,m,g={};d&&(f=(p=L.extractPeriod(u.minPeriod)).period,p=p.count,m=L.getPeriodDuration(f,p));var v={};this.lookupTable=v;var b,y=this.dataDateFormat,x={};for(b=e;b<i;b++){var w={},T=t[b];if(e=T[this.categoryField],w.dataContext=T,w.category=r?r(e,T,u):String(e),l&&(w.forceShow=T[l]),c&&(w.className=T[c]),h&&(w.labelColor=T[h]),v[T[o]]=w,!d||(u.categoryFunction?e=u.categoryFunction(e,T,u):(!y||e instanceof Date||(e=e.toString()+" |"),e=L.getDate(e,y,u.minPeriod)),e=L.resetDateToMin(e,f,p,u.firstDayOfWeek),w.category=e,w.time=e.getTime(),!isNaN(w.time))){var C,S=this.valueAxes;for(w.axes={},w.x={},C=0;C<S.length;C++){var M,A=S[C].id;for(w.axes[A]={},w.axes[A].graphs={},M=0;M<a.length;M++){var k=(e=a[M]).id,D=1.1;isNaN(e.gapPeriod)||(D=e.gapPeriod);var P=e.periodValue;if(e.valueAxis.id==A){w.axes[A].graphs[k]={};var E={};E.index=b;var _=T;if(e.dataProvider&&(_=s),E.values=this.processValues(_,e,P),!e.connect||e.forceGap&&!isNaN(e.gapPeriod))if(x&&x[k]&&0<D&&w.time-g[k]>=m*D&&(x[k].gap=!0),e.forceGap){var N;D=0;for(N in E.values)D++;0<D&&(g[k]=w.time,x[k]=E)}else g[k]=w.time,x[k]=E;this.processFields(e,E,_),E.category=w.category,E.serialDataItem=w,E.graph=e,w.axes[A].graphs[k]=E}}}this.chartData[b]=w}}if(this.parseCount==n){for(t=0;t<a.length;t++)(e=a[t]).dataProvider&&this.parseGraphData(e);this.dataChanged=!1,this.dispatchDataUpdated=!0,this.onDataUpdated()}},processValues:function(t,e,i){var n,a={},s=!1;"candlestick"!=e.type&&"ohlc"!=e.type||""===i||(s=!0);for(var o="value error open close low high".split(" "),r=0;r<o.length;r++){var l=o[r];"value"!=l&&"error"!=l&&s&&(i=l.charAt(0).toUpperCase()+l.slice(1));var h=t[e[l+"Field"]+i];null!==h&&(n=Number(h),isNaN(n)||(a[l]=n),"date"==e.valueAxis.type&&void 0!==h&&(n=L.getDate(h,e.chart.dataDateFormat),a[l]=n.getTime()))}return a},parseGraphData:function(t){var e,i=t.dataProvider,n=t.seriesIdField;for(n||(n=this.seriesIdField),n||(n=this.categoryField),e=0;e<i.length;e++){var a=i[e],s=this.lookupTable[String(a[n])],o=t.valueAxis.id;s&&((o=s.axes[o].graphs[t.id]).serialDataItem=s,o.values=this.processValues(a,t,t.periodValue),this.processFields(t,o,a))}},addValueAxis:function(t){(t.chart=this).valueAxes.push(t),this.validateData()},removeValueAxesAndGraphs:function(){var t,e=this.valueAxes;for(t=e.length-1;-1<t;t--)this.removeValueAxis(e[t])},removeValueAxis:function(t){var e,i=this.graphs;for(e=i.length-1;0<=e;e--){var n=i[e];n&&n.valueAxis==t&&this.removeGraph(n)}for(e=(i=this.valueAxes).length-1;0<=e;e--)i[e]==t&&i.splice(e,1);this.validateData()},addGraph:function(t){this.graphs.push(t),this.chooseGraphColor(t,this.graphs.length-1),this.validateData()},removeGraph:function(t){var e,i=this.graphs;for(e=i.length-1;0<=e;e--)i[e]==t&&(i.splice(e,1),t.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t];i=L.processObject(i,L.ValueAxis,this.theme);(e[t]=i).chart=this,i.init(),this.listenTo(i,"axisIntZoomed",this.handleValueAxisZoom),i.id||(i.id="valueAxisAuto"+t+"_"+(new Date).getTime()),void 0===i.usePrefixes&&(i.usePrefixes=this.usePrefixes)}},processGuides:function(){var t=this.guides,e=this.categoryAxis;if(t)for(var i=0;i<t.length;i++){var n=t[i];(void 0!==n.category||void 0!==n.date)&&e&&e.addGuide(n),n.id||(n.id="guideAuto"+i+"_"+(new Date).getTime());var a=n.valueAxis;a?(L.isString(a)&&(a=this.getValueAxisById(a)),a?a.addGuide(n):this.valueAxes[0].addGuide(n)):isNaN(n.value)||this.valueAxes[0].addGuide(n)}},processGraphs:function(){var t,e=this.graphs;for(this.graphsById={},t=0;t<e.length;t++){var i=e[t];i=L.processObject(i,L.AmGraph,this.theme);e[t]=i,this.chooseGraphColor(i,t),i.chart=this,i.init(),L.isString(i.valueAxis)&&(i.valueAxis=this.getValueAxisById(i.valueAxis)),i.valueAxis||(i.valueAxis=this.valueAxes[0]),i.id||(i.id="graphAuto"+t+"_"+(new Date).getTime()),this.graphsById[i.id]=i}},formatString:function(t,e,i){var n=e.graph,a=n.valueAxis;return a.duration&&e.values.value&&(a=L.formatDuration(e.values.value,a.duration,"",a.durationUnits,a.maxInterval,a.numberFormatter),t=t.split("[[value]]").join(a)),t=L.massReplace(t,{"[[title]]":n.title,"[[description]]":e.description}),t=i?L.fixNewLines(t):L.fixBrakes(t),L.cleanFromEmpty(t)},getBalloonColor:function(t,e,i){var n=t.lineColor,a=t.balloonColor;return i&&(a=n),"object"==typeof(i=t.fillColorsR)?n=i[0]:void 0!==i&&(n=i),e.isNegative&&(i=t.negativeLineColor,"object"==typeof(t=t.negativeFillColors)?i=t[0]:void 0!==t&&(i=t),void 0!==i&&(n=i)),void 0!==e.color&&(n=e.color),void 0!==e.lineColor&&(n=e.lineColor),void 0!==(e=e.fillColors)&&(n=e,L.ifArray(e)&&(n=e[0])),void 0===a&&(a=n),a},getGraphById:function(t){return L.getObjById(this.graphs,t)},getValueAxisById:function(t){return L.getObjById(this.valueAxes,t)},processFields:function(t,e,i){if(t.itemColors){var n=t.itemColors,a=e.index;e.color=a<n.length?n[a]:L.randomColor()}for(n="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className columnIndex".split(" "),a=0;a<n.length;a++){var s=n[a],o=t[s+"Field"];o&&(o=i[o],L.isDefined(o)&&(e[s]=o))}e.dataContext=i},chooseGraphColor:function(t,e){var i;t.lineColor?t.lineColorR=t.lineColor:(i=this.colors.length>e?this.colors[e]:t.lineColorR?t.lineColorR:L.randomColor(),t.lineColorR=i);t.fillColorsR=t.fillColors?t.fillColors:t.lineColorR,t.bulletBorderColorR=t.bulletBorderColor?t.bulletBorderColor:t.useLineColorForBulletBorder?t.lineColorR:t.bulletColor,t.bulletColorR=t.bulletColor?t.bulletColor:t.lineColorR,(i=this.patterns)&&(t.pattern=i[e])},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem){var i=t.hidden,n=t.showBalloon;switch(e){case"clickMarker":this.textClickEnabled&&(n?this.hideGraphsBalloon(t):this.showGraphsBalloon(t));break;case"clickLabel":n?this.hideGraphsBalloon(t):this.showGraphsBalloon(t);break;case"rollOverItem":i||this.highlightGraph(t);break;case"rollOutItem":i||this.unhighlightGraph();break;case"hideItem":this.hideGraph(t);break;case"showItem":this.showGraph(t)}}},highlightGraph:function(t){var e=this.graphs;if(e){var i,n=.2;if(this.legend&&(n=this.legend.rollOverGraphAlpha),1!=n)for(i=0;i<e.length;i++){var a=e[i];a!=t&&a.changeOpacity(n)}}},unhighlightGraph:function(){var t,e;if(this.legend&&(t=this.legend.rollOverGraphAlpha),1!=t)for(t=this.graphs,e=0;e<t.length;e++)t[e].changeOpacity(1)},showGraph:function(t){t.switchable&&(t.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(t){t.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),t.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(t){t.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(t){t.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var t,e=this.graphs;if(e)for(t=0;t<e.length;t++)e[t].animationPlayed=!1},animateAgain:function(){this.resetAnimation(),this.validateNow()}})}(),function(){var x=window.AmCharts;x.TrendLine=x.Class({construct:function(t){this.cname="TrendLine",this.createEvents("click"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,x.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.destroy();var e,i,n,a,s=t.chart,o=s.container,r=t.categoryAxis,l=t.initialDate,h=t.initialCategory,c=t.finalDate,d=t.finalCategory,u=t.valueAxis,p=t.valueAxisX,f=t.initialXValue,m=t.finalXValue,g=t.initialValue,v=t.finalValue,b=u.recalculateToPercents,y=s.dataDateFormat;r&&(l&&(l=x.getDate(l,y,"fff"),t.initialDate=l,e=r.dateToCoordinate(l)),h&&(e=r.categoryToCoordinate(h)),c&&(c=x.getDate(c,y,"fff"),t.finalDate=c,i=r.dateToCoordinate(c)),d&&(i=r.categoryToCoordinate(d))),p&&!b&&(isNaN(f)||(e=p.getCoordinate(f)),isNaN(m)||(i=p.getCoordinate(m))),u&&!b&&(isNaN(g)||(n=u.getCoordinate(g)),isNaN(v)||(a=u.getCoordinate(v))),isNaN(e)||isNaN(i)||isNaN(n)||isNaN(n)||(s.rotate?(r=[n,a],a=[e,i]):(r=[e,i],a=[n,a]),l=t.lineColor,n=x.line(o,r,a,l,t.lineAlpha,t.lineThickness,t.dashLength),i=a,0===(d=(e=r)[1]-r[0])&&(d=.01),0===(u=a[1]-a[0])&&(u=.01),h=d/Math.abs(d),c=u/Math.abs(u),u=90*Math.PI/180-Math.asin(d/(d*u/Math.abs(d*u)*Math.sqrt(Math.pow(d,2)+Math.pow(u,2)))),d=Math.abs(5*Math.cos(u)),u=Math.abs(5*Math.sin(u)),e.push(r[1]-h*u,r[0]-h*u),i.push(a[1]+c*d,a[0]+c*d),a=x.polygon(o,e,i,l,.005,0),(o=o.set([a,n])).translate(s.marginLeftReal,s.marginTopReal),s.trendLinesSet.push(o),x.setCN(s,n,"trend-line"),x.setCN(s,n,"trend-line-"+t.id),t.line=n,t.set=o,(n=t.initialImage)&&((n=x.processObject(n,x.Image,t.theme)).chart=s,n.draw(),n.translate(e[0]+n.offsetX,i[0]+n.offsetY),o.push(n.set)),(n=t.finalImage)&&((n=x.processObject(n,x.Image,t.theme)).chart=s,n.draw(),n.translate(e[1]+n.offsetX,i[1]+n.offsetY),o.push(n.set)),a.mouseup(function(){t.handleLineClick()}).mouseover(function(){t.handleLineOver()}).mouseout(function(){t.handleLineOut()}),a.touchend&&a.touchend(function(){t.handleLineClick()}),o.clipRect(0,0,s.plotAreaWidth,s.plotAreaHeight))},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var t=this.rollOverColor;void 0!==t&&this.line.attr({stroke:t}),this.balloonText&&(clearTimeout(this.chart.hoverInt),t=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+t.x+t.width/2,this.y+t.y+t.height/2))},handleLineOut:function(){this.line.attr({stroke:this.lineColor}),this.balloonText&&this.chart.hideBalloon()},destroy:function(){x.remove(this.set)}})}(),function(){var e=window.AmCharts;e.Image=e.Class({construct:function(t){this.cname="Image",this.height=this.width=20,this.rotation=this.offsetY=this.offsetX=0,this.balloonColor=this.color="#000000",this.opacity=1,e.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.set&&t.set.remove();var e,i,n=t.chart.container;t.set=n.set(),t.url?(e=n.image(t.url,0,0,t.width,t.height),i=1):t.svgPath&&((e=n.path(t.svgPath)).setAttr("fill",t.color),e.setAttr("stroke",t.outlineColor),n=e.getBBox(),i=Math.min(t.width/n.width,t.height/n.height)),e&&(e.setAttr("opacity",t.opacity),t.set.rotate(t.rotation),e.translate(-t.width/2,-t.height/2,i),t.balloonText&&e.mouseover(function(){t.chart.showBalloon(t.balloonText,t.balloonColor,!0)}).mouseout(function(){t.chart.hideBalloon()}).touchend(function(){t.chart.hideBalloon()}).touchstart(function(){t.chart.showBalloon(t.balloonText,t.balloonColor,!0)}),t.set.push(e))},translate:function(t,e){this.set&&this.set.translate(t,e)}})}(),function(){var N=window.AmCharts;N.circle=function(t,e,i,n,a,s,o,r,l){return e<=0&&(e=.001),null!=a&&0!==a||(a=.01),void 0===s&&(s="#000000"),void 0===o&&(o=0),n={fill:i,stroke:s,"fill-opacity":n,"stroke-width":a,"stroke-opacity":o},t=isNaN(l)?t.circle(0,0,e).attr(n):t.ellipse(0,0,e,l).attr(n),r&&t.gradient("radialGradient",[i,N.adjustLuminosity(i,-.6)]),t},N.text=function(t,e,i,n,a,s,o,r){return s||(s="middle"),"right"==s&&(s="end"),"left"==s&&(s="start"),isNaN(r)&&(r=1),void 0!==e&&(e=String(e),N.isIE&&!N.isModern&&(e=(e=e.replace("&amp;","&")).replace("&","&amp;"))),i={fill:i,"font-family":n,"font-size":a+"px",opacity:r},!0===o&&(i["font-weight"]="bold"),i["text-anchor"]=s,t.text(e,i)},N.polygon=function(t,e,i,n,a,s,o,r,l,h,c){isNaN(s)&&(s=.01),isNaN(r)&&(r=a);var d=n,u=!1;"object"==typeof d&&1<d.length&&(u=!0,d=d[0]),void 0===o&&(o=d),a={fill:d,stroke:o,"fill-opacity":a,"stroke-width":s,"stroke-opacity":r},void 0!==c&&0<c&&(a["stroke-dasharray"]=c),c=N.dx,s=N.dy,t.handDrawn&&(e=(i=N.makeHD(e,i,t.handDrawScatter))[0],i=i[1]),o=Math.round,h&&(e[p]=N.roundTo(e[p],5),i[p]=N.roundTo(i[p],5),o=Number),r="M"+(o(e[0])+c)+","+(o(i[0])+s);for(var p=1;p<e.length;p++)h&&(e[p]=N.roundTo(e[p],5),i[p]=N.roundTo(i[p],5)),r+=" L"+(o(e[p])+c)+","+(o(i[p])+s);return t=t.path(r+" Z").attr(a),u&&t.gradient("linearGradient",n,l),t},N.rect=function(t,e,i,n,a,s,o,r,l,h,c){if(isNaN(e)||isNaN(i))return t.set();isNaN(s)&&(s=0),void 0===l&&(l=0),void 0===h&&(h=270),isNaN(a)&&(a=0);var d=n,u=!1;"object"==typeof d&&(d=d[0],u=!0),void 0===o&&(o=d),void 0===r&&(r=a),e=Math.round(e),i=Math.round(i);var p=0,f=0;return e<0&&(p=-(e=Math.abs(e))),i<0&&(f=-(i=Math.abs(i))),p+=N.dx,f+=N.dy,a={fill:d,stroke:o,"fill-opacity":a,"stroke-opacity":r},void 0!==c&&0<c&&(a["stroke-dasharray"]=c),t=t.rect(p,f,e,i,l,s).attr(a),u&&t.gradient("linearGradient",n,h),t},N.bullet=function(t,e,i,n,a,s,o,r,l,h,c,d,u){var p;switch("circle"==e&&(e="round"),e){case"round":p=N.circle(t,i/2,n,a,s,o,r);break;case"square":p=N.polygon(t,[-i/2,i/2,i/2,-i/2],[i/2,i/2,-i/2,-i/2],n,a,s,o,r,h-180,void 0,u);break;case"rectangle":p=N.polygon(t,[-i,i,i,-i],[i/2,i/2,-i/2,-i/2],n,a,s,o,r,h-180,void 0,u);break;case"diamond":p=N.polygon(t,[-i/2,0,i/2,0],[0,-i/2,0,i/2],n,a,s,o,r);break;case"triangleUp":p=N.triangle(t,i,0,n,a,s,o,r);break;case"triangleDown":p=N.triangle(t,i,180,n,a,s,o,r);break;case"triangleLeft":p=N.triangle(t,i,270,n,a,s,o,r);break;case"triangleRight":p=N.triangle(t,i,90,n,a,s,o,r);break;case"bubble":p=N.circle(t,i/2,n,a,s,o,r,!0);break;case"line":p=N.line(t,[-i/2,i/2],[0,0],n,a,s,o,r);break;case"yError":(p=t.set()).push(N.line(t,[0,0],[-i/2,i/2],n,a,s)),p.push(N.line(t,[-l,l],[-i/2,-i/2],n,a,s)),p.push(N.line(t,[-l,l],[i/2,i/2],n,a,s));break;case"xError":(p=t.set()).push(N.line(t,[-i/2,i/2],[0,0],n,a,s)),p.push(N.line(t,[-i/2,-i/2],[-l,l],n,a,s)),p.push(N.line(t,[i/2,i/2],[-l,l],n,a,s))}return p&&p.pattern(c,NaN,d),p},N.triangle=function(t,e,i,n,a,s,o,r){var l;return void 0!==s&&0!==s||(s=1),void 0===o&&(o="#000"),void 0===r&&(r=0),n={fill:n,stroke:o,"fill-opacity":a,"stroke-width":s,"stroke-opacity":r},e/=2,0===i&&(l=" M"+-e+","+e+" L0,"+-e+" L"+e+","+e+" Z"),180==i&&(l=" M"+-e+","+-e+" L0,"+e+" L"+e+","+-e+" Z"),90==i&&(l=" M"+-e+","+-e+" L"+e+",0 L"+-e+","+e+" Z"),270==i&&(l=" M"+-e+",0 L"+e+","+e+" L"+e+","+-e+" Z"),t.path(l).attr(n)},N.line=function(t,e,i,n,a,s,o,r,l,h,c){if(t.handDrawn&&!c)return N.handDrawnLine(t,e,i,n,a,s,o,r,l,h,c);for(s={fill:"none","stroke-width":s},void 0!==o&&0<o&&(s["stroke-dasharray"]=o),isNaN(a)||(s["stroke-opacity"]=a),n&&(s.stroke=n),n=Math.round,h&&(n=Number,e[0]=N.roundTo(e[0],5),i[0]=N.roundTo(i[0],5)),h=N.dx,a=N.dy,o="M"+(n(e[0])+h)+","+(n(i[0])+a),r=1;r<e.length;r++)e[r]=N.roundTo(e[r],5),i[r]=N.roundTo(i[r],5),o+=" L"+(n(e[r])+h)+","+(n(i[r])+a);return N.VML?t.path(o,void 0,!0).attr(s):(l&&(o+=" M0,0 L0,0"),t.path(o).attr(s))},N.makeHD=function(t,e,i){for(var n=[],a=[],s=1;s<t.length;s++)for(var o=Number(t[s-1]),r=Number(e[s-1]),l=Number(t[s]),h=Number(e[s]),c=Math.round(Math.sqrt(Math.pow(l-o,2)+Math.pow(h-r,2))/50)+1,d=(l=(l-o)/c,h=(h-r)/c,0);d<=c;d++){var u=r+d*h+Math.random()*i;n.push(o+d*l+Math.random()*i),a.push(u)}return[n,a]},N.handDrawnLine=function(t,e,i,n,a,s,o,r,l,h){var c,d=t.set();for(c=1;c<e.length;c++)for(var u=[e[c-1],e[c]],p=[i[c-1],i[c]],f=(u=(p=N.makeHD(u,p,t.handDrawScatter))[0],p=p[1],1);f<u.length;f++)d.push(N.line(t,[u[f-1],u[f]],[p[f-1],p[f]],n,a,s+Math.random()*t.handDrawThickness-t.handDrawThickness/2,o,r,l,h,!0));return d},N.doNothing=function(t){return t},N.drop=function(t,e,i,n,a,s,o,r){var l=1/180*Math.PI,h=i-20,c=Math.sin(h*l)*e,d=Math.cos(h*l)*e,u=.8*e,p=-e/3,f=e/3;return 0===i&&(p=-p,f=0),180==i&&(f=0),90==i&&(p=0),270==i&&(p=0,f=-f),i={fill:n,stroke:o,"stroke-width":s,"stroke-opacity":r,"fill-opacity":a},e="M"+c+","+d+" A"+e+","+e+",0,1,1,"+Math.sin((h+40)*l)*e+","+Math.cos((h+40)*l)*e+" A"+u+","+u+",0,0,0,"+(Math.sin((h+20)*l)*e+f)+","+(Math.cos((h+20)*l)*e+p),e+=" A"+u+","+u+",0,0,0,"+c+","+d,t.path(e,void 0,void 0,"1000,1000").attr(i)},N.wedge=function(t,e,i,n,a,s,o,r,l,h,c,d,u,p){var f=Math.round;s=f(s);var m=f((o=f(o))/s*(r=f(r))),g=N.VML;359.94<(x=359.5+s/100)&&(x=359.94),x<=a&&(a=x);var v,b,y=1/180*Math.PI,x=e+Math.sin(n*y)*r,w=i-Math.cos(n*y)*m,T=e+Math.sin(n*y)*s,C=i-Math.cos(n*y)*o,S=e+Math.sin((n+a)*y)*s,M=i-Math.cos((n+a)*y)*o,A=e+Math.sin((n+a)*y)*r,k=(y=i-Math.cos((n+a)*y)*m,{fill:N.adjustLuminosity(h.fill,-.2),"stroke-opacity":0,"fill-opacity":h["fill-opacity"]}),D=0;if(180<Math.abs(a)&&(D=1),n=t.set(),g&&(x=f(10*x),T=f(10*T),S=f(10*S),A=f(10*A),w=f(10*w),C=f(10*C),M=f(10*M),y=f(10*y),e=f(10*e),l=f(10*l),i=f(10*i),s*=10,o*=10,r*=10,m*=10,Math.abs(a)<1&&Math.abs(S-T)<=1&&Math.abs(M-C)<=1&&(v=!0)),a="",d&&(k["fill-opacity"]=0,k["stroke-opacity"]=h["stroke-opacity"]/2,k.stroke=h.stroke),0<l){b=" M"+x+","+(w+l)+" L"+T+","+(C+l),g?(v||(b+=" A"+(e-s)+","+(l+i-o)+","+(e+s)+","+(l+i+o)+","+T+","+(C+l)+","+S+","+(M+l)),b+=" L"+A+","+(y+l),0<r&&(v||(b+=" B"+(e-r)+","+(l+i-m)+","+(e+r)+","+(l+i+m)+","+A+","+(l+y)+","+x+","+(l+w)))):(b+=" A"+s+","+o+",0,"+D+",1,"+S+","+(M+l)+" L"+A+","+(y+l),0<r&&(b+=" A"+r+","+m+",0,"+D+",0,"+x+","+(w+l))),b+=" Z";var P=l;g&&(P/=10);for(var E=0;E<P;E+=10){var _=t.path(b,void 0,void 0,"1000,1000").attr(k);n.push(_),_.translate(0,-E)}b=t.path(" M"+x+","+w+" L"+x+","+(w+l)+" L"+T+","+(C+l)+" L"+T+","+C+" L"+x+","+w+" Z",void 0,void 0,"1000,1000").attr(k),l=t.path(" M"+S+","+M+" L"+S+","+(M+l)+" L"+A+","+(y+l)+" L"+A+","+y+" L"+S+","+M+" Z",void 0,void 0,"1000,1000").attr(k),n.push(b),n.push(l)}if(g?(v||(a=" A"+f(e-s)+","+f(i-o)+","+f(e+s)+","+f(i+o)+","+f(T)+","+f(C)+","+f(S)+","+f(M)),o=" M"+f(x)+","+f(w)+" L"+f(T)+","+f(C)+a+" L"+f(A)+","+f(y)):o=" M"+x+","+w+" L"+T+","+C+" A"+s+","+o+",0,"+D+",1,"+S+","+M+" L"+A+","+y,0<r&&(g?v||(o+=" B"+(e-r)+","+(i-m)+","+(e+r)+","+(i+m)+","+A+","+y+","+x+","+w):o+=" A"+r+","+m+",0,"+D+",0,"+x+","+w),t.handDrawn&&(r=N.line(t,[x,T],[w,C],h.stroke,h.thickness*Math.random()*t.handDrawThickness,h["stroke-opacity"]),n.push(r)),t=t.path(o+" Z",void 0,void 0,"1000,1000").attr(h),c){for(r=[],m=0;m<c.length;m++)r.push(N.adjustLuminosity(h.fill,c[m]));"radial"!=p||N.isModern||(r=[]),0<r.length&&t.gradient(p+"Gradient",r)}return N.isModern&&"radial"==p&&t.grad&&(t.grad.setAttribute("gradientUnits","userSpaceOnUse"),t.grad.setAttribute("r",s),t.grad.setAttribute("cx",e),t.grad.setAttribute("cy",i)),t.pattern(d,NaN,u),n.wedge=t,n.push(t),n},N.rgb2hex=function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},N.adjustLuminosity=function(t,e){t&&-1!=t.indexOf("rgb")&&(t=N.rgb2hex(t)),(t=String(t).replace(/[^0-9a-f]/gi,"")).length<6&&(t=String(t[0])+String(t[0])+String(t[1])+String(t[1])+String(t[2])+String(t[2])),e=e||0;var i,n,a="#";for(n=0;n<3;n++)i=parseInt(t.substr(2*n,2),16),a+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16))).substr(i.length);return a}}(),function(){var p=window.AmCharts;p.Bezier=p.Class({construct:function(t,e,i,n,a,s,o,r,l,h,c){var d,u;for("object"==typeof o&&1<o.length&&(u=!0,o=(d=o)[0]),"object"==typeof r&&(r=r[0]),0===r&&(o="none"),s={fill:o,"fill-opacity":r,"stroke-width":s},void 0!==l&&0<l&&(s["stroke-dasharray"]=l),isNaN(a)||(s["stroke-opacity"]=a),n&&(s.stroke=n),n="M"+Math.round(e[0])+","+Math.round(i[0]),a=[],l=0;l<e.length;l++)isNaN(e[l])||isNaN(i[l])?(n+=this.drawSegment(a),l<e.length-1&&(n+="L"+e[l+1]+","+i[l+1]),a=[]):a.push({x:Number(e[l]),y:Number(i[l])});n+=this.drawSegment(a),h?n+=h:p.VML||(n+="M0,0 L0,0"),this.path=t.path(n).attr(s),this.node=this.path.node,u&&this.path.gradient("linearGradient",d,c)},drawSegment:function(t){return 1<t.length?(t=this.interpolate(t),this.drawBeziers(t)):""},interpolate:function(t){var e=[];e.push({x:t[0].x,y:t[0].y});var i,n=t[1].x-t[0].x,a=t[1].y-t[0].y,s=p.bezierX,o=p.bezierY;for(e.push({x:t[0].x+n/s,y:t[0].y+a/o}),i=1;i<t.length-1;i++){var r=t[i-1],l=t[i];a=t[i+1];isNaN(a.x)&&(a=l),isNaN(l.x)&&(l=r),isNaN(r.x)&&(r=l),n=a.x-l.x,a=a.y-r.y,n<(r=l.x-r.x)&&(r=n),e.push({x:l.x-r/s,y:l.y-a/o}),e.push({x:l.x,y:l.y}),e.push({x:l.x+r/s,y:l.y+a/o})}return a=t[t.length-1].y-t[t.length-2].y,n=t[t.length-1].x-t[t.length-2].x,e.push({x:t[t.length-1].x-n/s,y:t[t.length-1].y-a/o}),e.push({x:t[t.length-1].x,y:t[t.length-1].y}),e},drawBeziers:function(t){var e,i="";for(e=0;e<(t.length-1)/3;e++)i+=this.drawBezierMidpoint(t[3*e],t[3*e+1],t[3*e+2],t[3*e+3]);return i},drawBezierMidpoint:function(t,e,i,n){var a=Math.round,s=this.getPointOnSegment(t,e,.75),o=this.getPointOnSegment(n,i,.75),r=(n.x-t.x)/16,l=(n.y-t.y)/16,h=this.getPointOnSegment(t,e,.375);return(t=this.getPointOnSegment(s,o,.375)).x-=r,t.y-=l,(e=this.getPointOnSegment(o,s,.375)).x+=r,e.y+=l,i=this.getPointOnSegment(n,i,.375),r=this.getMiddle(h,t),s=this.getMiddle(s,o),o=this.getMiddle(e,i),h=" Q"+a(h.x)+","+a(h.y)+","+a(r.x)+","+a(r.y),h+=" Q"+a(t.x)+","+a(t.y)+","+a(s.x)+","+a(s.y),(h+=" Q"+a(e.x)+","+a(e.y)+","+a(o.x)+","+a(o.y))+" Q"+a(i.x)+","+a(i.y)+","+a(n.x)+","+a(n.y)},getMiddle:function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},getPointOnSegment:function(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}})}(),function(){var l=window.AmCharts;l.AmDraw=l.Class({construct:function(t,e,i,n){l.SVG_NS="http://www.w3.org/2000/svg",l.SVG_XLINK="http://www.w3.org/1999/xlink",l.hasSVG=!!document.createElementNS&&!!document.createElementNS(l.SVG_NS,"svg").createSVGRect,e<1&&(e=10),i<1&&(i=10),this.div=t,this.width=e,this.height=i,this.rBin=document.createElement("div"),l.hasSVG?(l.SVG=!0,e=this.createSvgElement("svg"),t.appendChild(e),this.container=e,this.addDefs(n),this.R=new l.SVGRenderer(this)):l.isIE&&l.VMLRenderer&&(l.VML=!0,l.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),document.styleSheets.length<31?((e=document.createStyleSheet()).addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),l.vmlStyleSheet=e):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=t,this.R=new l.VMLRenderer(this,n),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(l.SVG_NS,t)},circle:function(t,e,i,n){var a=new l.AmDObject("circle",this);return a.attr({r:i,cx:t,cy:e}),this.addToContainer(a.node,n),a},ellipse:function(t,e,i,n,a){var s=new l.AmDObject("ellipse",this);return s.attr({rx:i,ry:n,cx:t,cy:e}),this.addToContainer(s.node,a),s},setSize:function(t,e){0<t&&0<e&&(this.container.style.width=t+"px",this.container.style.height=e+"px")},rect:function(t,e,i,n,a,s,o){var r=new l.AmDObject("rect",this);return l.VML&&(a=Math.round(100*a/Math.min(i,n)),i+=2*s,n+=2*s,r.bw=s,r.node.style.marginLeft=-s,r.node.style.marginTop=-s),i<1&&(i=1),n<1&&(n=1),r.attr({x:t,y:e,width:i,height:n,rx:a,ry:a,"stroke-width":s}),this.addToContainer(r.node,o),r},image:function(t,e,i,n,a,s){var o=new l.AmDObject("image",this);return o.attr({x:e,y:i,width:n,height:a}),this.R.path(o,t),this.addToContainer(o.node,s),o},addToContainer:function(t,e){e||(e=this.container),e.appendChild(t)},text:function(t,e,i){return this.R.text(t,e,i)},path:function(t,e,i,n){var a=new l.AmDObject("path",this);return n||(n="100,100"),a.attr({cs:n}),i?a.attr({dd:t}):a.attr({d:t}),this.addToContainer(a.node,e),a},set:function(t){return this.R.set(t)},remove:function(t){if(t){var e=this.rBin;e.appendChild(t),e.innerHTML=""}},renderFix:function(){var t=this.container,e=t.style;e.top="0px",e.left="0px";try{var i=t.getBoundingClientRect(),n=i.left-Math.round(i.left),a=i.top-Math.round(i.top);n&&(e.left=n+"px"),a&&(e.top=a+"px")}catch(t){}},update:function(){this.R.update()},addDefs:function(t){if(l.hasSVG){var e=this.createSvgElement("desc"),i=this.container;if(i.setAttribute("version","1.1"),i.style.position="absolute",this.setSize(this.width,this.height),t.accessibleTitle){var n=this.createSvgElement("text");i.appendChild(n),n.innerHTML=t.accessibleTitle,n.style.opacity=0}l.rtl&&(i.setAttribute("direction","rtl"),i.style.left="auto",i.style.right="0px"),t&&(t.addCodeCredits&&e.appendChild(document.createTextNode("JavaScript chart by amCharts "+t.version)),i.appendChild(e),t.defs&&(e=this.createSvgElement("defs"),i.appendChild(e),l.parseDefs(t.defs,e),this.defs=e))}}})}(),function(){var o=window.AmCharts;o.AmDObject=o.Class({construct:function(t,e){this.D=e,this.R=e.R,this.node=this.R.create(this,t),this.y=this.x=0,this.scale=1},attr:function(t){return this.R.attr(this,t),this},getAttr:function(t){return this.node.getAttribute(t)},setAttr:function(t,e){return this.R.setAttr(this,t,e),this},clipRect:function(t,e,i,n){this.R.clipRect(this,t,e,i,n)},translate:function(t,e,i,n){n||(t=Math.round(t),e=Math.round(e)),this.R.move(this,t,e,i),this.x=t,this.y=e,this.scale=i,this.angle&&this.rotate(this.angle)},rotate:function(t,e){this.R.rotate(this,t,e),this.angle=t},animate:function(t,e,i){for(var n in t)if(t.hasOwnProperty(n)){var a=n,s=t[n];i=o.getEffect(i),this.R.animate(this,a,s,e,i)}},push:function(t){if(t){var e=this.node;e.appendChild(t.node);var i=t.clipPath;i&&e.appendChild(i),(t=t.grad)&&e.appendChild(t)}},text:function(t){this.R.setText(this,t)},remove:function(){this.stop(),this.R.remove(this)},clear:function(){var t=this.node;if(t.hasChildNodes())for(;1<=t.childNodes.length;)t.removeChild(t.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;e&&e.appendChild(t)}},toPrevious:function(){var t=this.node;t&&this.prevNextNode&&(t=t.parentNode)&&t.insertBefore(this.prevNextNode,null)},toBack:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;if(e){var i=e.firstChild;i&&e.insertBefore(t,i)}}},mouseover:function(t){return this.R.addListener(this,"mouseover",t),this},mouseout:function(t){return this.R.addListener(this,"mouseout",t),this},click:function(t){return this.R.addListener(this,"click",t),this},dblclick:function(t){return this.R.addListener(this,"dblclick",t),this},mousedown:function(t){return this.R.addListener(this,"mousedown",t),this},mouseup:function(t){return this.R.addListener(this,"mouseup",t),this},touchmove:function(t){return this.R.addListener(this,"touchmove",t),this},touchstart:function(t){return this.R.addListener(this,"touchstart",t),this},touchend:function(t){return this.R.addListener(this,"touchend",t),this},keyup:function(t){return this.R.addListener(this,"keyup",t),this},focus:function(t){return this.R.addListener(this,"focus",t),this},blur:function(t){return this.R.addListener(this,"blur",t),this},contextmenu:function(t){return this.node.addEventListener?this.node.addEventListener("contextmenu",t,!0):this.R.addListener(this,"contextmenu",t),this},stop:function(){o.removeFromArray(this.R.animations,this.an_translate),o.removeFromArray(this.R.animations,this.an_y),o.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(t,e,i){this.R.gradient(this,t,e,i)},pattern:function(t,e,i){t&&this.R.pattern(this,t,e,i)}})}(),function(){var h=window.AmCharts;h.VMLRenderer=h.Class({construct:function(t,e){this.chart=e,this.D=t,this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(t,e){var i;if("group"==e)i=document.createElement("div"),t.type="div";else if("text"==e)i=document.createElement("div"),t.type="text";else if("image"==e)i=document.createElement("img"),t.type="image";else{t.type="shape",t.shapeType=this.cNames[e],i=document.createElement("amvml:"+this.cNames[e]);var n=document.createElement("amvml:stroke");i.appendChild(n),t.stroke=n;var a=document.createElement("amvml:fill");i.appendChild(a),(t.fill=a).className="amvml",n.className="amvml",i.className="amvml"}return i.style.position="absolute",i.style.top=0,i.style.left=0,i},path:function(t,e){t.node.setAttribute("src",e)},setAttr:function(t,e,i){if(void 0!==i){var n;8===document.documentMode&&(n=!0);var a=t.node,s=t.type,o=a.style;"r"==e&&(o.width=2*i,o.height=2*i),"oval"==t.shapeType&&("rx"==e&&(o.width=2*i),"ry"==e&&(o.height=2*i)),"roundrect"==t.shapeType&&("width"!=e&&"height"!=e||--i),"cursor"==e&&(o.cursor=i),"cx"==e&&(o.left=i-h.removePx(o.width)/2),"cy"==e&&(o.top=i-h.removePx(o.height)/2);var r=this.styleMap[e];if("width"==r&&i<0&&(i=0),void 0!==r&&(o[r]=i),"text"==s&&("text-anchor"==e&&(t.anchor=i,r=a.clientWidth,"end"==i&&(o.marginLeft=-r+"px"),"middle"==i&&(o.marginLeft=-r/2+"px",o.textAlign="center"),"start"==i&&(o.marginLeft="0px")),"fill"==e&&(o.color=i),"font-weight"==e&&(o.fontWeight=i)),o=t.children)for(r=0;r<o.length;r++)o[r].setAttr(e,i);"shape"==s&&("cs"==e&&(a.style.width="100px",a.style.height="100px",a.setAttribute("coordsize",i)),"d"==e&&a.setAttribute("path",this.svgPathToVml(i)),"dd"==e&&a.setAttribute("path",i),s=t.stroke,t=t.fill,"stroke"==e&&(n?s.color=i:s.setAttribute("color",i)),"stroke-width"==e&&(n?s.weight=i:s.setAttribute("weight",i)),"stroke-opacity"==e&&(n?s.opacity=i:s.setAttribute("opacity",i)),"stroke-dasharray"==e&&(o="solid",0<i&&i<3&&(o="dot"),3<=i&&i<=6&&(o="dash"),6<i&&(o="longdash"),n?s.dashstyle=o:s.setAttribute("dashstyle",o)),"fill-opacity"!=e&&"opacity"!=e||(0===i?n?t.on=!1:t.setAttribute("on",!1):n?t.opacity=i:t.setAttribute("opacity",i)),"fill"==e&&(n?t.color=i:t.setAttribute("color",i)),"rx"==e&&(n?a.arcSize=i+"%":a.setAttribute("arcsize",i+"%")))}},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},text:function(t,e,i){var n=new h.AmDObject("text",this.D),a=n.node;return a.style.whiteSpace="pre",a.innerHTML=t,this.D.addToContainer(a,i),this.attr(n,e),n},getBBox:function(t){return this.getBox(t.node)},getBox:function(t){var e,i=t.offsetLeft,n=t.offsetTop,a=t.offsetWidth,s=t.offsetHeight;if(t.hasChildNodes()){var o,r,l;for(l=0;l<t.childNodes.length;l++){var h=(e=this.getBox(t.childNodes[l])).x;isNaN(h)||(isNaN(o)?o=h:h<o&&(o=h));var c=e.y;isNaN(c)||(isNaN(r)?r=c:c<r&&(r=c)),h=e.width+h,isNaN(h)||(a=Math.max(a,h)),e=e.height+c,isNaN(e)||(s=Math.max(s,e))}o<0&&(i+=o),r<0&&(n+=r)}return{x:i,y:n,width:a,height:s}},setText:function(t,e){var i=t.node;i&&(i.innerHTML=e),this.setAttr(t,"text-anchor",t.anchor)},addListener:function(t,e,i){t.node["on"+e]=i},move:function(t,e,i){var n=t.node,a=n.style;"text"==t.type&&(i-=h.removePx(a.fontSize)/2-1),"oval"==t.shapeType&&(e-=h.removePx(a.width)/2,i-=h.removePx(a.height)/2),t=t.bw,isNaN(t)||(e-=t,i-=t),isNaN(e)||isNaN(i)||(n.style.left=e+"px",n.style.top=i+"px")},svgPathToVml:function(t){var e=t.split(" ");t="";var i,n,a=Math.round;for(n=0;n<e.length;n++){var s,o=(s=e[n]).substring(0,1),r=(s=s.substring(1)).split(","),l=a(r[0])+","+a(r[1]);if("M"==o&&(t+=" m "+l),"L"==o&&(t+=" l "+l),"Z"==o&&(t+=" x e"),"Q"==o){var h=i.length,c=i[h-1],d=r[0],u=r[1],p=(l=r[2],r[3]);t+=" c "+(i=a(i[h-2]/3+2/3*d))+","+(c=a(c/3+2/3*u))+","+(d=a(2/3*d+l/3))+","+(u=a(2/3*u+p/3))+","+l+","+p}"A"==o&&(t+=" wa "+s),"B"==o&&(t+=" at "+s),i=r}return t},animate:function(t,e,i,n,a){var s=t.node,o=this.chart;if(t.animationFinished=!1,"translate"==e){i=(e=i.split(","))[1];var r=s.offsetTop;o.animate(t,"left",s.offsetLeft,e[0],n,a,"px"),o.animate(t,"top",r,i,n,a,"px")}},clipRect:function(t,e,i,n,a){t=t.node,0===e&&0===i?(t.style.width=n+"px",t.style.height=a+"px",t.style.overflow="hidden"):t.style.clip="rect("+i+"px "+(e+n)+"px "+(i+a)+"px "+e+"px)"},rotate:function(t,e,i){if(0!==Number(e)){t=(l=t.node).style,i||(i=this.getBGColor(l.parentNode)),t.backgroundColor=i,t.paddingLeft=1,i=e*Math.PI/180;var n=Math.cos(i),a=Math.sin(i),s=h.removePx(t.left),o=h.removePx(t.top),r=l.offsetWidth,l=l.offsetHeight;e/=Math.abs(e),t.left=s+r/2-r/2*Math.cos(i)-e*l/2*Math.sin(i)+3,t.top=o-e*r/2*Math.sin(i)+e*l/2*Math.sin(i),t.cssText=t.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+n+"', M12='"+-a+"', M21='"+a+"', M22='"+n+"', sizingmethod='auto expand');"}},getBGColor:function(t){var e="#FFFFFF";if(t.style){var i=t.style.backgroundColor;""!==i?e=i:t.parentNode&&(e=this.getBGColor(t.parentNode))}return e},set:function(t){var e,i=new h.AmDObject("group",this.D);if(this.D.container.appendChild(i.node),t)for(e=0;e<t.length;e++)i.push(t[e]);return i},gradient:function(t,e,i,n){var a,s="";for("radialGradient"==e&&(e="gradientradial",i.reverse()),"linearGradient"==e&&(e="gradient"),a=0;a<i.length;a++)s+=Math.round(100*a/(i.length-1))+"% "+i[a],a<i.length-1&&(s+=",");t=t.fill,90==n?n=0:270==n?n=180:180==n?n=90:0===n&&(n=270),8===document.documentMode?(t.type=e,t.angle=n):(t.setAttribute("type",e),t.setAttribute("angle",n)),s&&(t.colors.value=s)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),this.D.remove(t.node)},disableSelection:function(t){t.onselectstart=function(){return!1},t.style.cursor="default"},pattern:function(t,e,i,n){i=t.node,t=t.fill;var a="none";e.color&&(a=e.color),i.fillColor=a,e=e.url,h.isAbsolute(e)||(e=n+e),8===document.documentMode?(t.type="tile",t.src=e):(t.setAttribute("type","tile"),t.setAttribute("src",e))},update:function(){}})}(),function(){var d=window.AmCharts;d.SVGRenderer=d.Class({construct:function(t){this.D=t,this.animations=[]},create:function(t,e){return document.createElementNS(d.SVG_NS,e)},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},setAttr:function(t,e,i){void 0!==i&&t.node.setAttribute(e,i)},animate:function(t,e,i,n,a){t.animationFinished=!1;var s=t.node;t["an_"+e]&&d.removeFromArray(this.animations,t["an_"+e]),"translate"==e?0===(s=(s=(s=(s=s.getAttribute("transform"))?String(s).substring(10,s.length-1):"0,0").split(", ").join(" ")).split(" ").join(","))&&(s="0,0"):s=Number(s.getAttribute(e)),i={obj:t,frame:0,attribute:e,from:s,to:i,time:n,effect:a},this.animations.push(i),t["an_"+e]=i},update:function(){var t,e=this.animations;for(t=e.length-1;0<=t;t--){var i,n,a,s=e[t],o=s.time*d.updateRate,r=s.frame+1,l=s.obj,h=s.attribute;if(r<=o){if(s.frame++,"translate"==h){if(i=s.from.split(","),h=Number(i[0]),i=Number(i[1]),isNaN(i)&&(i=0),n=s.to.split(","),a=Number(n[0]),n=Number(n[1]),a=0==a-h?a:Math.round(d[s.effect](0,r,h,a-h,o)),s=0==n-i?n:Math.round(d[s.effect](0,r,i,n-i,o)),h="transform",isNaN(a)||isNaN(s))continue;s="translate("+a+","+s+")"}else n=Number(s.from),a=(i=Number(s.to))-n,s=d[s.effect](0,r,n,a,o),isNaN(s)&&(s=i),0===a&&this.animations.splice(t,1);this.setAttr(l,h,s)}else"translate"==h?(n=s.to.split(","),a=Number(n[0]),n=Number(n[1]),l.translate(a,n)):(i=Number(s.to),this.setAttr(l,h,i)),l.animationFinished=!0,this.animations.splice(t,1)}},getBBox:function(t){if(t=t.node)try{return t.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(t,e){t.node.setAttributeNS(d.SVG_XLINK,"xlink:href",e)},clipRect:function(t,e,i,n,a){var s=t.node,o=t.clipPath;o&&this.D.remove(o);var r=s.parentNode;r&&(s=document.createElementNS(d.SVG_NS,"clipPath"),o=d.getUniqueId(),s.setAttribute("id",o),this.D.rect(e,i,n,a,0,0,s),r.appendChild(s),e="#",d.baseHref&&!d.isIE&&(e=this.removeTarget(window.location.href)+e),this.setAttr(t,"clip-path","url("+e+o+")"),this.clipPathC++,t.clipPath=s)},text:function(t,e,i){var n=new d.AmDObject("text",this.D);t=String(t).split("\n");var a,s=d.removePx(e["font-size"]);for(a=0;a<t.length;a++){var o=this.create(null,"tspan");o.appendChild(document.createTextNode(t[a])),o.setAttribute("y",(s+2)*a+Math.round(s/2)),o.setAttribute("x",0),n.node.appendChild(o)}return n.node.setAttribute("y",Math.round(s/2)),this.attr(n,e),this.D.addToContainer(n.node,i),n},setText:function(t,e){var i=t.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(e)))},move:function(t,e,i,n){isNaN(e)&&(e=0),isNaN(i)&&(i=0),e="translate("+e+","+i+")",n&&(e=e+" scale("+n+")"),this.setAttr(t,"transform",e)},rotate:function(t,e){var i=t.node.getAttribute("transform"),n="rotate("+e+")";i&&(n=i+" "+n),this.setAttr(t,"transform",n)},set:function(t){var e,i=new d.AmDObject("g",this.D);if(this.D.container.appendChild(i.node),t)for(e=0;e<t.length;e++)i.push(t[e]);return i},addListener:function(t,e,i){t.node["on"+e]=i},gradient:function(t,e,i,n){var a=t.node,s=t.grad;if(s&&this.D.remove(s),e=document.createElementNS(d.SVG_NS,e),s=d.getUniqueId(),e.setAttribute("id",s),!isNaN(n)){var o=0,r=0,l=0,h=0;90==n?l=100:270==n?h=100:180==n?o=100:0===n&&(r=100),e.setAttribute("x1",o+"%"),e.setAttribute("x2",r+"%"),e.setAttribute("y1",l+"%"),e.setAttribute("y2",h+"%")}for(n=0;n<i.length;n++)o=document.createElementNS(d.SVG_NS,"stop"),r=100*n/(i.length-1),0===n&&(r=0),o.setAttribute("offset",r+"%"),o.setAttribute("stop-color",i[n]),e.appendChild(o);a.parentNode.appendChild(e),i="#",d.baseHref&&!d.isIE&&(i=this.removeTarget(window.location.href)+i),a.setAttribute("fill","url("+i+s+")"),t.grad=e},removeTarget:function(t){return t.split("#")[0]},pattern:function(t,e,i,n){var a=t.node;isNaN(i)&&(i=1),(s=t.patternNode)&&this.D.remove(s);var s=document.createElementNS(d.SVG_NS,"pattern"),o=d.getUniqueId(),r=e;e.url&&(r=e.url),d.isAbsolute(r)||-1!=r.indexOf("data:image")||(r=n+r),n=Number(e.width),isNaN(n)&&(n=4);var l=Number(e.height);isNaN(l)&&(l=4),n/=i,l/=i,i=e.x,isNaN(i)&&(i=0);var h=-Math.random()*Number(e.randomX);isNaN(h)||(i=h),h=e.y,isNaN(h)&&(h=0);var c=-Math.random()*Number(e.randomY);isNaN(c)||(h=c),s.setAttribute("id",o),s.setAttribute("width",n),s.setAttribute("height",l),s.setAttribute("patternUnits","userSpaceOnUse"),s.setAttribute("xlink:href",r),e.color&&((c=document.createElementNS(d.SVG_NS,"rect")).setAttributeNS(null,"height",n),c.setAttributeNS(null,"width",l),c.setAttributeNS(null,"fill",e.color),s.appendChild(c)),this.D.image(r,0,0,n,l,s).translate(i,h),r="#",d.baseHref&&!d.isIE&&(r=this.removeTarget(window.location.href)+r),a.setAttribute("fill","url("+r+o+")"),t.patternNode=s,a.parentNode.appendChild(s)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),t.grad&&this.D.remove(t.grad),t.patternNode&&this.D.remove(t.patternNode),this.D.remove(t.node)}})}(),function(){var A=window.AmCharts;A.AmLegend=A.Class({construct:function(t){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.accessibleLabel="[[title]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,this.labelDx=0,A.applyTheme(this,t,this.cname)},setData:function(t){this.legendData=t,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[];var t=this.legendData;this.enabled&&(A.ifArray(t)||A.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var t=this.chart,e=this.position,i=this.width,n=t.divRealWidth,a=t.divRealHeight,s=this.div,o=this.legendData;if(this.data&&(o=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=t.fontSize),this.maxColumnsReal=this.maxColumns,"right"==e||"left"==e)this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=t.marginRight,this.marginLeft=t.marginLeft;var r=t.autoMarginOffset;"bottom"==e?(this.marginBottom=r,this.marginTop=0):(this.marginTop=r,this.marginBottom=0)}if(i=void 0!==i?A.toCoordinate(i,n):"right"!=e&&"left"!=e?t.realWidth:0<this.ieW?this.ieW:t.realWidth,"outside"==e?(i=s.offsetWidth,a=s.offsetHeight,s.clientHeight&&(i=s.clientWidth,a=s.clientHeight)):(isNaN(i)||(s.style.width=i+"px"),s.className="amChartsLegend "+t.classNamePrefix+"-legend-div"),this.divWidth=i,(e=this.container)?(e.container.innerHTML="",s.appendChild(e.container),e.width=i,e.height=a,e.setSize(i,a),e.addDefs(t)):e=new A.AmDraw(s,i,a,t),this.container=e,this.lx=0,this.ly=8,(a=this.markerSize)>this.fontSize&&(this.ly=a/2-1),0<a&&(this.lx+=a+this.markerLabelGap),this.titleWidth=0,(a=this.title)&&(a=A.text(this.container,a,this.color,t.fontFamily,this.fontSize,"start",!0),A.setCN(t,a,"legend-title"),a.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),t=a.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(t=0;t<o.length;t++)this.createEntry(o[t]);for(t=this.index=0;t<o.length;t++)this.createValue(o[t])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var t=this.position,e=this.marginLeft+this.titleWidth,i=this.marginRight,n=this.marginTop,a=this.marginBottom,s=this.horizontalGap,o=this.div,r=this.divWidth,l=this.maxColumnsReal,h=this.verticalGap,c=this.spacing,d=r-i-e,u=0,p=0,f=this.container;this.set&&this.set.remove();var m=f.set();this.set=m;var g=f.set();m.push(g);var v,b,y=this.entries;for(b=0;b<y.length;b++){u<(x=(v=y[b].getBBox()).width)&&(u=x),p<(v=v.height)&&(p=v)}var x=p=0,w=s,T=0,C=0;for(b=0;b<y.length;b++){var S,M=y[b];this.reversedOrder&&(M=y[y.length-b-1]),v=M.getBBox(),this.equalWidths?S=x*(u+c+this.markerLabelGap):w=(S=w)+v.width+s+c,S+v.width>d&&0<b&&0!==x&&(p++,w=(S=x=0)+v.width+s+c,T=T+C+h,C=0),v.height>C&&(C=v.height),M.translate(S,T),x++,!isNaN(l)&&l<=x&&(p++,T=T+C+h,w=s,C=x=0),g.push(M)}l=(v=g.getBBox()).height+2*h-1,"left"==t||"right"==t?(r=(c=v.width+2*s)+e+i,o.style.width=r+"px",this.ieW=r):c=r-e-i-1,i=A.polygon(this.container,[0,c,c,0],[0,0,l,l],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),A.setCN(this.chart,i,"legend-bg"),m.push(i),m.translate(e,n),i.toBack(),e=s,"top"!=t&&"bottom"!=t&&"absolute"!=t&&"outside"!=t||("center"==this.align?e=s+(c-v.width)/2:"right"==this.align&&(e=s+c-v.width)),g.translate(e,h+1),this.titleHeight>l&&(l=this.titleHeight),(n=l+n+a+1)<0&&(n=0),"absolute"!=t&&"outside"!=t&&n>this.chart.divRealHeight&&(o.style.top="0px"),o.style.height=Math.round(n)+"px",f.setSize(this.divWidth,n)},createEntry:function(e){if(!1!==e.visibleInLegend&&!e.hideFromLegend){var i=this,t=i.chart,n=i.useGraphSettings,a=e.markerType;a&&(n=!1),e.legendEntryWidth=i.markerSize,a||(a=i.markerType);var s,o=e.color,r=e.alpha;e.legendKeyColor&&(o=e.legendKeyColor()),e.legendKeyAlpha&&(r=e.legendKeyAlpha()),!0===e.hidden&&(s=o=i.markerDisabledColor);var l,h=e.pattern,c=e.customMarker;c||(c=i.customMarker);var d,u,p=i.container,f=i.markerSize,m=0,g=0,v=f/2;if(n)n=e.type,i.switchType=void 0,"line"==n||"step"==n||"smoothedLine"==n||"ohlc"==n?(l=p.set(),e.hidden||(o=e.lineColorR,s=e.bulletBorderColorR),m=A.line(p,[0,2*f],[f/2,f/2],o,e.lineAlpha,e.lineThickness,e.dashLength),A.setCN(t,m,"graph-stroke"),l.push(m),e.bullet&&(e.hidden||(o=e.bulletColorR),m=A.bullet(p,e.bullet,e.bulletSize,o,e.bulletAlpha,e.bulletBorderThickness,s,e.bulletBorderAlpha))&&(A.setCN(t,m,"graph-bullet"),m.translate(f+1,f/2),l.push(m)),v=0,g=(m=f)/3):(e.getGradRotation&&(0===(l=e.getGradRotation())&&(l=180)),m=e.fillColorsR,!0===e.hidden&&(m=o),(l=i.createMarker("rectangle",m,e.fillAlphas,e.lineThickness,o,e.lineAlpha,l,h,e.dashLength))&&(v=f,l.translate(v,f/2)),m=f),A.setCN(t,l,"graph-"+n),A.setCN(t,l,"graph-"+e.id);else if(c)l=p.image(c,0,0,f,f);else{var b;isNaN(i.gradientRotation)||(b=180+i.gradientRotation),(l=i.createMarker(a,o,r,void 0,void 0,void 0,b,h))&&l.translate(f/2,f/2)}A.setCN(t,l,"legend-marker"),i.addListeners(l,e),p=p.set([l]),i.switchable&&e.switchable&&p.setAttr("cursor","pointer"),void 0!==e.id&&A.setCN(t,p,"legend-item-"+e.id),A.setCN(t,p,e.className,!0),(s=i.switchType)&&"none"!=s&&0<f&&("x"==s?(d=i.createX()).translate(f/2,f/2):d=i.createV(),!0!==(d.dItem=e).hidden?"x"==s?d.hide():d.show():"x"!=s&&d.hide(),i.switchable||d.hide(),i.addListeners(d,e),e.legendSwitch=d,p.push(d),A.setCN(t,d,"legend-switch")),s=i.color,e.showBalloon&&i.textClickEnabled&&void 0!==i.selectedColor&&(s=i.selectedColor),i.useMarkerColorForLabels&&!h&&(s=o),!0===e.hidden&&(s=i.markerDisabledColor),o=A.massReplace(i.labelText,{"[[title]]":e.title}),void 0!==i.tabIndex&&(p.setAttr("tabindex",i.tabIndex),p.setAttr("role","menuitem"),p.keyup(function(t){13==t.keyCode&&i.clickMarker(e,t)})),t.accessible&&i.accessibleLabel&&(h=A.massReplace(i.accessibleLabel,{"[[title]]":e.title}),t.makeAccessible(p,h)),h=i.fontSize,l&&(f<=h&&(f=f/2+i.ly-h/2+(h+2-f)/2-g,l.translate(v,f),d&&d.translate(d.x,f)),e.legendEntryWidth=l.getBBox().width),o&&(o=A.fixBrakes(o),e.legendTextReal=o,u=i.labelWidth,u=isNaN(u)?A.text(i.container,o,s,t.fontFamily,h,"start"):A.wrappedText(i.container,o,s,t.fontFamily,h,"start",!1,u,0),A.setCN(t,u,"legend-label"),u.translate(i.lx+m,i.ly),p.push(u),i.labelDx=m,t=u.getBBox().width,i.maxLabelWidth<t&&(i.maxLabelWidth=t)),i.entries[i.index]=p,e.legendEntry=i.entries[i.index],e.legendMarker=l,e.legendLabel=u,i.index++}},addListeners:function(t,e){var i=this;t&&t.mouseover(function(t){i.rollOverMarker(e,t)}).mouseout(function(t){i.rollOutMarker(e,t)}).click(function(t){i.clickMarker(e,t)})},rollOverMarker:function(t,e){this.switchable&&this.dispatch("rollOverMarker",t,e),this.dispatch("rollOverItem",t,e)},rollOutMarker:function(t,e){this.switchable&&this.dispatch("rollOutMarker",t,e),this.dispatch("rollOutItem",t,e)},clickMarker:function(t,e){this.switchable&&(!0===t.hidden?this.dispatch("showItem",t,e):this.dispatch("hideItem",t,e)),this.dispatch("clickMarker",t,e)},rollOverLabel:function(t,e){t.hidden||this.textClickEnabled&&t.legendLabel&&t.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",t,e)},rollOutLabel:function(t,e){if(!t.hidden&&this.textClickEnabled&&t.legendLabel){var i=this.color;void 0!==this.selectedColor&&t.showBalloon&&(i=this.selectedColor),this.useMarkerColorForLabels&&(void 0===(i=t.lineColor)&&(i=t.color)),t.legendLabel.attr({fill:i})}this.dispatch("rollOutItem",t,e)},clickLabel:function(t,e){this.textClickEnabled?t.hidden||this.dispatch("clickLabel",t,e):this.switchable&&(!0===t.hidden?this.dispatch("showItem",t,e):this.dispatch("hideItem",t,e))},dispatch:function(t,e,i){t={type:t,dataItem:e,target:this,event:i,chart:this.chart},this.chart&&this.chart.handleLegendEvent(t),this.fire(t)},createValue:function(e){var i=this,t=i.fontSize,n=i.chart;if(!1!==e.visibleInLegend&&!e.hideFromLegend){var a=i.maxLabelWidth;i.forceWidth&&(a=i.labelWidth),i.equalWidths||(i.valueAlign="left"),"left"==i.valueAlign&&e.legendLabel&&(a=e.legendLabel.getBBox().width);var s=a;if(i.valueText&&0<i.valueWidth){var o=i.color;i.useMarkerColorForValues&&(o=e.color,e.legendKeyColor&&(o=e.legendKeyColor())),!0===e.hidden&&(o=i.markerDisabledColor);var r=i.valueText,l=(a=a+i.lx+i.labelDx+i.markerLabelGap+i.valueWidth,"end");"left"==i.valueAlign&&(a-=i.valueWidth,l="start"),o=A.text(i.container,r,o,i.chart.fontFamily,t,l),A.setCN(n,o,"legend-value"),o.translate(a,i.ly),i.entries[i.index].push(o),s+=i.valueWidth+2*i.markerLabelGap,o.dItem=e,i.valueLabels.push(o)}i.index++,(n=i.markerSize)<t+7&&(n=t+7,A.VML&&(n+=3)),(t=i.container.rect(e.legendEntryWidth,0,s,n,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005})).dItem=e,i.entries[i.index-1].push(t),t.mouseover(function(t){i.rollOverLabel(e,t)}).mouseout(function(t){i.rollOutLabel(e,t)}).click(function(t){i.clickLabel(e,t)})}},createV:function(){var t=this.markerSize;return A.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=(this.markerSize-4)/2,e={stroke:this.switchColor,"stroke-width":3},i=this.container,n=A.line(i,[-t,t],[-t,t]).attr(e);t=A.line(i,[-t,t],[t,-t]).attr(e);return this.container.set([n,t])},createMarker:function(t,e,i,n,a,s,o,r,l){var h=this.markerSize,c=this.container;return a||(a=this.markerBorderColor),a||(a=e),isNaN(n)&&(n=this.markerBorderThickness),isNaN(s)&&(s=this.markerBorderAlpha),A.bullet(c,t,h,e,i,n,a,s,h,o,r,this.chart.path,l)},validateNow:function(){this.invalidateSize()},updateValues:function(){var t,e=this.valueLabels,i=this.chart,n=this.data;if(e)for(t=0;t<e.length;t++){var a=e[t],s=a.dItem;s.periodDataItem=void 0,s.periodPercentDataItem=void 0;var o=" ";if(n)s.value?a.text(s.value):a.text("");else{var r=null;if(void 0!==s.type){r=s.currentDataItem;var l=this.periodValueText;s.legendPeriodValueText&&(l=s.legendPeriodValueText),r?(o=this.valueText,s.legendValueText&&(o=s.legendValueText),o=i.formatString(o,r)):l&&i.formatPeriodString&&(l=A.massReplace(l,{"[[title]]":s.title}),o=i.formatPeriodString(l,s))}else o=i.formatString(this.valueText,s);l=s,r&&(l=r);var h,c=this.valueFunction;c&&(o=c(l,o,i.periodDataItem)),this.useMarkerColorForLabels&&!r&&s.lastDataItem&&(r=s.lastDataItem),r?h=i.getBalloonColor(s,r):s.legendKeyColor&&(h=s.legendKeyColor()),s.legendColorFunction&&(h=s.legendColorFunction(l,o,s.periodDataItem,s.periodPercentDataItem)),a.text(o),!s.pattern&&(this.useMarkerColorForValues&&a.setAttr("fill",h),this.useMarkerColorForLabels)&&((a=s.legendMarker)&&(a.setAttr("fill",h),a.setAttr("stroke",h)),(s=s.legendLabel)&&s.setAttr("fill",h))}}},renderFix:function(){if(!A.VML&&this.enabled){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="",A.remove(this.set)}})}(),function(){var g=window.AmCharts;g.formatMilliseconds=function(t,e){if(-1!=t.indexOf("fff")){var i=e.getMilliseconds(),n=String(i);i<10&&(n="00"+i),10<=i&&i<100&&(n="0"+i),t=t.replace(/fff/g,n)}return t},g.extractPeriod=function(t){var e=g.stripNumbers(t),i=1;return e!=t&&(i=Number(t.slice(0,t.indexOf(e)))),{period:e,count:i}},g.getDate=function(t,e,i){return t instanceof Date?g.newDate(t,i):e&&isNaN(t)?g.stringToDate(t,e):new Date(t)},g.daysInMonth=function(t){return new Date(t.getYear(),t.getMonth()+1,0).getDate()},g.newDate=function(t,e){return e&&-1==e.indexOf("fff")?new Date(t):new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},g.resetDateToMin=function(t,e,i,n){var a,s,o,r,l,h,c;switch(void 0===n&&(n=1),g.useUTC?(a=t.getUTCFullYear(),s=t.getUTCMonth(),o=t.getUTCDate(),r=t.getUTCHours(),l=t.getUTCMinutes(),h=t.getUTCSeconds(),c=t.getUTCMilliseconds(),t=t.getUTCDay()):(a=t.getFullYear(),s=t.getMonth(),o=t.getDate(),r=t.getHours(),l=t.getMinutes(),h=t.getSeconds(),c=t.getMilliseconds(),t=t.getDay()),e){case"YYYY":a=Math.floor(a/i)*i,o=1,c=h=l=r=s=0;break;case"MM":s=Math.floor(s/i)*i,o=1,c=h=l=r=0;break;case"WW":o=n<=t?o-t+n:o-(7+t)+n,c=h=l=r=0;break;case"DD":c=h=l=r=0;break;case"hh":r=Math.floor(r/i)*i,c=h=l=0;break;case"mm":l=Math.floor(l/i)*i,c=h=0;break;case"ss":h=Math.floor(h/i)*i,c=0;break;case"fff":c=Math.floor(c/i)*i}return g.useUTC?((t=new Date).setUTCFullYear(a,s,o),t.setUTCHours(r,l,h,c)):t=new Date(a,s,o,r,l,h,c),t},g.getPeriodDuration=function(t,e){var i;switch(void 0===e&&(e=1),t){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*e},g.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},g.getMaxInterval=function(t,e){var i=g.intervals;return t>=i[e].contains?(t=Math.round(t/i[e].contains),e=i[e].nextInterval,g.getMaxInterval(t,e)):"ss"==e?i[e].nextInterval:e},g.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),g.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),g.monthNames="January February March April May June July August September October November December".split(" "),g.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),g.getWeekNumber=function(t){(t=new Date(t)).setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+1)/7)},g.stringToDate=function(t,e){var i={},n=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],a=!0;-1!=(l=e.indexOf("AA"))&&(t.substr(l,2),"pm"==t.toLowerCase&&(a=!1));var s,o,r,l=e;for(r=0;r<n.length;r++)i[o=n[r].period]=0,"date"==o&&(i[o]=1);for(r=0;r<n.length;r++)if(s=n[r].pattern,o=n[r].period,-1!=e.indexOf(s)){var h=g.getFromDateString(s,t,l);e=e.replace(s,""),"KK"!=s&&"K"!=s&&"LL"!=s&&"L"!=s||a||(h+=12),i[o]=h}return g.useUTC?((n=new Date).setUTCFullYear(i.year,i.month,i.date),n.setUTCHours(i.hours,i.minutes,i.seconds,i.milliseconds)):n=new Date(i.year,i.month,i.date,i.hours,i.minutes,i.seconds,i.milliseconds),n},g.getFromDateString=function(t,e,i){if(void 0!==e)return i=i.indexOf(t),"0"==(e=(e=String(e)).substr(i,t.length)).charAt(0)&&(e=e.substr(1,e.length-1)),e=Number(e),isNaN(e)&&(e=0),-1!=t.indexOf("M")&&e--,e},g.formatDate=function(t,e,i){i||(i=g);var n,a,s,o,r,l,h,c,d=g.getWeekNumber(t);g.useUTC?(n=t.getUTCFullYear(),a=t.getUTCMonth(),s=t.getUTCDate(),o=t.getUTCDay(),r=t.getUTCHours(),l=t.getUTCMinutes(),h=t.getUTCSeconds(),c=t.getUTCMilliseconds()):(n=t.getFullYear(),a=t.getMonth(),s=t.getDate(),o=t.getDay(),r=t.getHours(),l=t.getMinutes(),h=t.getSeconds(),c=t.getMilliseconds());var u=String(n).substr(2,2),p="0"+o;e=e.replace(/W/g,d),24==(d=r)&&(d=0);var f=d;f<10&&(f="0"+f),e=(e=e.replace(/JJ/g,f)).replace(/J/g,d),0===(f=r)&&(f=24,-1!=e.indexOf("H")&&(0===--s&&((n=new Date(t)).setDate(n.getDate()-1),a=n.getMonth(),s=n.getDate(),n=n.getFullYear()))),t=a+1,a<9&&(t="0"+t),(d=s)<10&&(d="0"+s);var m=f;return m<10&&(m="0"+m),e=(e=e.replace(/HH/g,m)).replace(/H/g,f),11<(f=r)&&(f-=12),(m=f)<10&&(m="0"+m),e=(e=e.replace(/KK/g,m)).replace(/K/g,f),0===(f=r)&&(f=12),12<f&&(f-=12),(m=f)<10&&(m="0"+m),e=(e=e.replace(/LL/g,m)).replace(/L/g,f),(f=l)<10&&(f="0"+f),e=(e=e.replace(/NN/g,f)).replace(/N/g,l),(l=h)<10&&(l="0"+l),e=(e=e.replace(/SS/g,l)).replace(/S/g,h),(h=c)<10?h="00"+h:h<100&&(h="0"+h),(l=c)<10&&(l="00"+l),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/A/g,"@A@")).replace(/QQQ/g,h)).replace(/QQ/g,l)).replace(/Q/g,c)).replace(/YYYY/g,"@IIII@")).replace(/YY/g,"@II@")).replace(/MMMM/g,"@XXXX@")).replace(/MMM/g,"@XXX@")).replace(/MM/g,"@XX@")).replace(/M/g,"@X@")).replace(/DD/g,"@RR@")).replace(/D/g,"@R@")).replace(/EEEE/g,"@PPPP@")).replace(/EEE/g,"@PPP@")).replace(/EE/g,"@PP@")).replace(/E/g,"@P@")).replace(/@IIII@/g,n)).replace(/@II@/g,u)).replace(/@XXXX@/g,i.monthNames[a])).replace(/@XXX@/g,i.shortMonthNames[a])).replace(/@XX@/g,t)).replace(/@X@/g,a+1)).replace(/@RR@/g,d)).replace(/@R@/g,s)).replace(/@PPPP@/g,i.dayNames[o])).replace(/@PPP@/g,i.shortDayNames[o])).replace(/@PP@/g,p)).replace(/@P@/g,o),r<12?e.replace(/@A@/g,i.amString):e.replace(/@A@/g,i.pmString)},g.changeDate=function(t,e,i,n,a){if(g.useUTC)return g.changeUTCDate(t,e,i,n,a);var s=-1;switch(void 0===n&&(n=!0),void 0===a&&(a=!1),!0===n&&(s=1),e){case"YYYY":t.setFullYear(t.getFullYear()+i*s),n||a||t.setDate(t.getDate()+1);break;case"MM":e=t.getMonth(),t.setMonth(t.getMonth()+i*s),t.getMonth()>e+i*s&&t.setDate(t.getDate()-1),n||a||t.setDate(t.getDate()+1);break;case"DD":t.setDate(t.getDate()+i*s);break;case"WW":t.setDate(t.getDate()+i*s*7);break;case"hh":t.setHours(t.getHours()+i*s);break;case"mm":t.setMinutes(t.getMinutes()+i*s);break;case"ss":t.setSeconds(t.getSeconds()+i*s);break;case"fff":t.setMilliseconds(t.getMilliseconds()+i*s)}return t},g.changeUTCDate=function(t,e,i,n,a){var s=-1;switch(void 0===n&&(n=!0),void 0===a&&(a=!1),!0===n&&(s=1),e){case"YYYY":t.setUTCFullYear(t.getUTCFullYear()+i*s),n||a||t.setUTCDate(t.getUTCDate()+1);break;case"MM":e=t.getUTCMonth(),t.setUTCMonth(t.getUTCMonth()+i*s),t.getUTCMonth()>e+i*s&&t.setUTCDate(t.getUTCDate()-1),n||a||t.setUTCDate(t.getUTCDate()+1);break;case"DD":t.setUTCDate(t.getUTCDate()+i*s);break;case"WW":t.setUTCDate(t.getUTCDate()+i*s*7);break;case"hh":t.setUTCHours(t.getUTCHours()+i*s);break;case"mm":t.setUTCMinutes(t.getUTCMinutes()+i*s);break;case"ss":t.setUTCSeconds(t.getUTCSeconds()+i*s);break;case"fff":t.setUTCMilliseconds(t.getUTCMilliseconds()+i*s)}return t}}(),function(){var l=window.AmCharts;l.AmSlicedChart=l.Class({inherits:l.AmChart,construct:function(t){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),l.AmSlicedChart.base.construct.call(this,t),this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" "),this.alpha=1,this.groupPercent=0,this.groupedTitle="Other",this.groupedPulled=!1,this.groupedAlpha=1,this.marginLeft=0,this.marginBottom=this.marginTop=10,this.marginRight=0,this.hoverAlpha=1,this.outlineColor="#FFFFFF",this.outlineAlpha=0,this.outlineThickness=1,this.startAlpha=0,this.startDuration=1,this.startEffect="bounce",this.sequencedAnimation=!0,this.pullOutDuration=1,this.pullOutEffect="bounce",this.pullOnHover=this.pullOutOnlyOne=!1,this.labelsEnabled=!0,this.labelTickColor="#000000",this.labelTickAlpha=.2,this.hideLabelsPercent=0,this.urlTarget="_self",this.autoMarginOffset=10,this.gradientRatio=[],this.maxLabelWidth=200,this.accessibleLabel="[[title]]: [[percents]]% [[value]] [[description]]",l.applyTheme(this,t,"AmSlicedChart")},initChart:function(){l.AmSlicedChart.base.initChart.call(this),this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData)),this.drawChart()},handleLegendEvent:function(t){var e=t.type,i=t.dataItem,n=this.legend;if(i.wedge&&i){var a=i.hidden;switch(t=t.event,e){case"clickMarker":a||n.switchable||this.clickSlice(i,t);break;case"clickLabel":a||this.clickSlice(i,t,!1);break;case"rollOverItem":a||this.rollOverSlice(i,!1,t);break;case"rollOutItem":a||this.rollOutSlice(i,t);break;case"hideItem":this.hideSlice(i,t);break;case"showItem":this.showSlice(i,t)}}},invalidateVisibility:function(){this.recalculatePercents(),this.initChart();var t=this.legend;t&&t.invalidateSize()},addEventListeners:function(t,e){var i=this;t.mouseover(function(t){i.rollOverSlice(e,!0,t)}).mouseout(function(t){i.rollOutSlice(e,t)}).touchend(function(t){i.rollOverSlice(e,t)}).mouseup(function(t){i.clickSlice(e,t)}).contextmenu(function(t){i.handleRightClick(e,t)})},formatString:function(t,e,i){t=l.formatValue(t,e,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var n=this.pf.precision;return isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec),t=l.formatValue(t,e,["percents"],this.pf),t=l.massReplace(t,{"[[title]]":e.title,"[[description]]":e.description}),this.pf.precision=n,-1!=t.indexOf("[[")&&(t=l.formatDataContextValue(t,e.dataContext)),t=i?l.fixNewLines(t):l.fixBrakes(t),l.cleanFromEmpty(t)},startSlices:function(){var t;for(t=0;t<this.chartData.length;t++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(t):this.startSlice(this.chartData[t])},setStartTO:function(t){var e=this;t=setTimeout(function(){e.startSequenced.call(e)},e.startDuration/e.chartData.length*500*t),e.timeOuts.push(t)},pullSlices:function(t){var e,i=this.chartData;for(e=0;e<i.length;e++){var n=i[e];n.pulled&&this.pullSlice(n,1,t)}},startSequenced:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(t){t.started=!0;var e=t.wedge,i=this.startDuration,n=t.labelSet;e&&0<i&&(0<t.alpha&&e.show(),e.translate(t.startX,t.startY),this.animatable.push(e),e.animate({opacity:1,translate:"0,0"},i,this.startEffect)),n&&0<i&&(0<t.alpha&&n.show(),n.translate(t.startX,t.startY),n.animate({opacity:1,translate:"0,0"},i,this.startEffect))},showLabels:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i=e[t];if(0<i.alpha){var n=i.label;n&&n.show(),(i=i.tick)&&i.show()}}},showSlice:function(t){isNaN(t)?t.hidden=!1:this.chartData[t].hidden=!1,this.invalidateVisibility()},hideSlice:function(t){isNaN(t)?t.hidden=!0:this.chartData[t].hidden=!0,this.hideBalloon(),this.invalidateVisibility()},rollOverSlice:function(t,e,i){if(isNaN(t)||(t=this.chartData[t]),clearTimeout(this.hoverInt),!t.hidden){this.pullOnHover&&this.pullSlice(t,1),this.hoverAlpha<1&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha});var n=t.balloonX,a=t.balloonY;t.pulled&&(n+=t.pullX,a+=t.pullY);var s=this.formatString(this.balloonText,t,!0),o=this.balloonFunction;o&&(s=o(t,s)),o=l.adjustLuminosity(t.color,-.15),s?this.showBalloon(s,o,e,n,a):this.hideBalloon(),0===t.value&&this.hideBalloon(),this.fire({type:"rollOverSlice",dataItem:t,chart:this,event:i})}},rollOutSlice:function(t,e){isNaN(t)||(t=this.chartData[t]),t.wedge&&t.wedge.attr({opacity:1}),this.hideBalloon(),this.fire({type:"rollOutSlice",dataItem:t,chart:this,event:e})},clickSlice:function(t,e,i){this.checkTouchDuration(e)&&(isNaN(t)||(t=this.chartData[t]),t.pulled?this.pullSlice(t,0):this.pullSlice(t,1),l.getURL(t.url,this.urlTarget),i||this.fire({type:"clickSlice",dataItem:t,chart:this,event:e}))},handleRightClick:function(t,e){isNaN(t)||(t=this.chartData[t]),this.fire({type:"rightClickSlice",dataItem:t,chart:this,event:e})},drawTicks:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i=e[t];if(i.label&&!i.skipTick){var n=i.ty;n=l.line(this.container,[i.tx0,i.tx,i.tx2],[i.ty0,n,n],this.labelTickColor,this.labelTickAlpha);l.setCN(this,n,this.type+"-tick"),l.setCN(this,n,i.className,!0),i.tick=n,i.wedge.push(n),"AmFunnelChart"==this.cname&&n.toBack()}}},initialStart:function(){var t=this,e=t.startDuration,i=setTimeout(function(){t.showLabels.call(t)},1e3*e);t.timeOuts.push(i),t.chartCreated?t.pullSlices(!0):(t.startSlices(),0<e?(e=setTimeout(function(){t.pullSlices.call(t)},1200*e),t.timeOuts.push(e)):t.pullSlices(!0))},pullSlice:function(t,e,i){var n=this.pullOutDuration;!0===i&&(n=0),(i=t.wedge)&&(0<n?(i.animate({translate:e*t.pullX+","+e*t.pullY},n,this.pullOutEffect),t.labelSet&&t.labelSet.animate({translate:e*t.pullX+","+e*t.pullY},n,this.pullOutEffect)):(t.labelSet&&t.labelSet.translate(e*t.pullX,e*t.pullY),i.translate(e*t.pullX,e*t.pullY))),1==e?(t.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(t.index),t={type:"pullOutSlice",dataItem:t,chart:this}):(t.pulled=!1,t={type:"pullInSlice",dataItem:t,chart:this}),this.fire(t)},pullInAll:function(t){var e,i=this.chartData;for(e=0;e<this.chartData.length;e++)e!=t&&i[e].pulled&&this.pullSlice(i[e],0)},pullOutAll:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)e[t].pulled||this.pullSlice(e[t],1)},parseData:function(){var t=[];this.chartData=t;var e=this.dataProvider;if(isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==e){var i,n,a,s=e.length,o=0;for(i=0;i<s;i++){n={};var r=e[i];null!==(n.dataContext=r)[this.valueField]&&(n.value=Number(r[this.valueField])),(a=r[this.titleField])||(a=""),n.title=a,n.pulled=l.toBoolean(r[this.pulledField],!1),(a=r[this.descriptionField])||(a=""),n.description=a,n.labelRadius=Number(r[this.labelRadiusField]),n.switchable=!0,n.className=r[this.classNameField],n.url=r[this.urlField],!(a=r[this.patternField])&&this.patterns&&(a=this.patterns[i]),n.pattern=a,n.visibleInLegend=l.toBoolean(r[this.visibleInLegendField],!0),a=r[this.alphaField],n.alpha=void 0!==a?Number(a):this.alpha,void 0!==(a=r[this.colorField])&&(n.color=a),n.labelColor=l.toColor(r[this.labelColorField]),o+=n.value,n.hidden=!1,t[i]=n}for(i=e=0;i<s;i++)(n=t[i]).percents=n.value/o*100,n.percents<this.groupPercent&&e++;for(1<e&&(this.groupValue=0,this.removeSmallSlices(),t.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/o*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}})),(s=this.baseColor)||(s=this.pieBaseColor),(o=this.brightnessStep)||(o=this.pieBrightnessStep),i=0;i<t.length;i++)s?a=l.adjustLuminosity(s,i*o/100):void 0===(a=this.colors[i])&&(a=l.randomColor()),void 0===t[i].color&&(t[i].color=a);this.recalculatePercents()}},recalculatePercents:function(){var t,e,i=this.chartData,n=0;for(t=0;t<i.length;t++)!(e=i[t]).hidden&&0<e.value&&(n+=e.value);for(t=0;t<i.length;t++)(e=this.chartData[t]).percents=!e.hidden&&0<e.value?100*e.value/n:0},removeSmallSlices:function(){var t,e=this.chartData;for(t=e.length-1;0<=t;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var t=this;t.startSlices();for(var e=0;e<t.chartData.length;e++){var i=t.chartData[e];i.started=!1;var n=i.wedge;n&&(n.setAttr("opacity",t.startAlpha),n.translate(i.startX,i.startY)),(n=i.labelSet)&&(n.setAttr("opacity",t.startAlpha),n.translate(i.startX,i.startY))}0<(e=t.startDuration)?(e=setTimeout(function(){t.pullSlices.call(t)},1200*e),t.timeOuts.push(e)):t.pullSlices()},measureMaxLabel:function(){var t,e=this.chartData,i=0;for(t=0;t<e.length;t++){var n=e[t],a=this.formatString(this.labelText,n),s=this.labelFunction;s&&(a=s(n,a)),i<(a=(n=l.text(this.container,a,this.color,this.fontFamily,this.fontSize)).getBBox().width)&&(i=a),n.remove()}return i}})}(),function(){var A=window.AmCharts;A.AmPieChart=A.Class({inherits:A.AmSlicedChart,construct:function(t){this.type="pie",A.AmPieChart.base.construct.call(this,t),this.cname="AmPieChart",this.pieBrightnessStep=30,this.minRadius=10,this.depth3D=0,this.startAngle=90,this.angle=this.innerRadius=0,this.startRadius="500%",this.pullOutRadius="20%",this.labelRadius=20,this.labelText="[[title]]: [[percents]]%",this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]",this.previousScale=1,this.adjustPrecision=!1,this.gradientType="radial",A.applyTheme(this,t,this.cname)},drawChart:function(){A.AmPieChart.base.drawChart.call(this);var t=this.chartData;if(A.ifArray(t)){if(0<this.realWidth&&0<this.realHeight){A.VML&&(this.startAlpha=1);var e=this.startDuration,i=this.container,n=this.updateWidth();this.realWidth=n;var a=this.updateHeight();this.realHeight=a;var s,o,r,l=A.toCoordinate,h=l(this.marginLeft,n),c=l(this.marginRight,n),d=l(this.marginTop,a)+this.getTitleHeight(),u=l(this.marginBottom,a)+this.depth3D,p=A.toNumber(this.labelRadius);for((g=this.measureMaxLabel())>this.maxLabelWidth&&(g=this.maxLabelWidth),this.labelText&&this.labelsEnabled||(p=g=0),s=void 0===this.pieX?(n-h-c)/2+h:l(this.pieX,this.realWidth),o=void 0===this.pieY?(a-d-u)/2+d:l(this.pieY,a),(r=l(this.radius,n,a))||(n=0<=p?n-h-c-2*g:n-h-c,a=a-d-u,r=Math.min(n,a),a<n&&(n<(r/=1-this.angle/90)&&(r=n)),a=A.toCoordinate(this.pullOutRadius,r),r=(0<=p?r-1.8*(p+a):r-1.8*a)/2),r<this.minRadius&&(r=this.minRadius),a=l(this.pullOutRadius,r),d=A.toCoordinate(this.startRadius,r),r<=(l=l(this.innerRadius,r))&&(l=r-1),u=A.fitToBounds(this.startAngle,0,360),0<this.depth3D&&(u=270<=u?270:90),360<(u-=90)&&(u-=360),n=r-r*this.angle/90,h=g=0;h<t.length;h++)!0!==(c=t[h]).hidden&&(g+=A.roundTo(c.percents,this.pf.precision));g=A.roundTo(g,this.pf.precision),this.tempPrec=NaN,this.adjustPrecision&&100!=g&&(this.tempPrec=this.pf.precision+1);var f;for(h=0;h<t.length;h++)if(!0!==(c=t[h]).hidden&&(this.showZeroSlices||0!==c.percents)){var m=360*c.percents/100,g=Math.sin((u+m/2)/180*Math.PI),v=n/r*-Math.cos((u+m/2)/180*Math.PI),b=this.outlineColor;b||(b=c.color);var y=this.alpha;if(isNaN(c.alpha)||(y=c.alpha),b={fill:c.color,stroke:b,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":y},c.url&&(b.cursor="pointer"),b=A.wedge(i,s,o,u,m,r,n,l,this.depth3D,b,this.gradientRatio,c.pattern,this.path,this.gradientType),A.setCN(this,b,"pie-item"),A.setCN(this,b.wedge,"pie-slice"),A.setCN(this,b,c.className,!0),this.addEventListeners(b,c),c.startAngle=u,t[h].wedge=b,0<e&&(this.chartCreated||b.setAttr("opacity",this.startAlpha)),c.ix=g,c.iy=v,c.wedge=b,c.index=h,c.label=null,y=i.set(),this.labelsEnabled&&this.labelText&&c.percents>=this.hideLabelsPercent){var x=u+m/2;x<0&&(x+=360),360<x&&(x-=360);var w=p;isNaN(c.labelRadius)||(w=c.labelRadius)<0&&(c.skipTick=!0);m=s+g*(r+w);var T,C,S=o+v*(r+w),M=0;if(isNaN(f)&&350<x&&1<t.length-h&&(f=h-1+Math.floor((t.length-h)/2)),0<=w)x<=90&&0<=x?(C=0,T="start",M=8):90<=x&&x<180?(C=1,T="start",M=8):180<=x&&x<270?(C=2,T="end",M=-8):270<=x&&x<=354?(C=3,T="end",M=-8):354<=x&&(f<h?(C=0,T="start",M=8):(C=3,T="end",M=-8)),c.labelQuarter=C;else T="middle";x=this.formatString(this.labelText,c),(w=this.labelFunction)&&(x=w(c,x)),(w=c.labelColor)||(w=this.color),""!==x&&(x=A.wrappedText(i,x,w,this.fontFamily,this.fontSize,T,!1,this.maxLabelWidth),A.setCN(this,x,"pie-label"),A.setCN(this,x,c.className,!0),x.translate(m+1.5*M,S),p<0&&(x.node.style.pointerEvents="none"),x.node.style.cursor="default",c.ty=S,c.textX=m+1.5*M,y.push(x),this.axesSet.push(y),c.labelSet=y,c.label=x,this.addEventListeners(y,c)),c.tx=m,c.tx2=m+M,c.tx0=s+g*r,c.ty0=o+v*r}m=l+(r-l)/2,c.pulled&&(m+=a),this.accessible&&this.accessibleLabel&&(S=this.formatString(this.accessibleLabel,c),this.makeAccessible(b,S)),void 0!==this.tabIndex&&b.setAttr("tabindex",this.tabIndex),c.balloonX=g*m+s,c.balloonY=v*m+o,c.startX=Math.round(g*d),c.startY=Math.round(v*d),c.pullX=Math.round(g*a),c.pullY=Math.round(v*a),this.graphsSet.push(b),(0===c.alpha||0<e&&!this.chartCreated)&&(b.hide(),y&&y.hide()),360<(u+=360*c.percents/100)&&(u-=360)}0<p&&this.arrangeLabels(),this.pieXReal=s,this.pieYReal=o,this.radiusReal=r,this.innerRadiusReal=l,0<p&&this.drawTicks(),this.initialStart(),this.setDepths()}(t=this.legend)&&t.invalidateSize()}else this.cleanChart();this.dispDUpd()},setDepths:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i,n=(i=e[t]).wedge;0<=(i=i.startAngle)&&i<180?n.toFront():180<=i&&n.toBack()}},arrangeLabels:function(){var t,e,i=this.chartData,n=i.length;for(e=n-1;0<=e;e--)0!==(t=i[e]).labelQuarter||t.hidden||this.checkOverlapping(e,t,0,!0,0);for(e=0;e<n;e++)1!=(t=i[e]).labelQuarter||t.hidden||this.checkOverlapping(e,t,1,!1,0);for(e=n-1;0<=e;e--)2!=(t=i[e]).labelQuarter||t.hidden||this.checkOverlapping(e,t,2,!0,0);for(e=0;e<n;e++)3!=(t=i[e]).labelQuarter||t.hidden||this.checkOverlapping(e,t,3,!1,0)},checkOverlapping:function(t,e,i,n,a){var s,o,r=this.chartData,l=r.length,h=e.label;if(h){if(!0===n)for(o=t+1;o<l;o++)r[o].labelQuarter==i&&(s=this.checkOverlappingReal(e,r[o],i))&&(o=l);else for(o=t-1;0<=o;o--)r[o].labelQuarter==i&&(s=this.checkOverlappingReal(e,r[o],i))&&(o=0);!0===s&&a<200&&isNaN(e.labelRadius)&&(s=e.ty+3*e.iy,e.ty=s,h.translate(e.textX,s),this.checkOverlapping(t,e,i,n,a+1))}},checkOverlappingReal:function(t,e,i){var n=!1,a=t.label,s=e.label;return t.labelQuarter!=i||t.hidden||e.hidden||!s||(a=a.getBBox(),(i={}).width=a.width,i.height=a.height,i.y=t.ty,i.x=t.tx,t=s.getBBox(),(s={}).width=t.width,s.height=t.height,s.y=e.ty,s.x=e.tx,A.hitTest(i,s)&&(n=!0)),n}})}(),function(){var p=window.AmCharts;p.AmRectangularChart=p.Class({inherits:p.AmCoordinateChart,construct:function(t){p.AmRectangularChart.base.construct.call(this,t),this.theme=t,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,p.applyTheme(this,t,"AmRectangularChart")},initChart:function(){p.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(p.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),p.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw()}},resetMargins:function(){var t,e={};if("xy"==this.type){var i=this.xAxes,n=this.yAxes;for(t=0;t<i.length;t++){var a=i[t];a.ignoreAxisWidth||(a.setOrientation(!0),a.fixAxisPosition(),e[a.position]=!0)}for(t=0;t<n.length;t++)(i=n[t]).ignoreAxisWidth||(i.setOrientation(!1),i.fixAxisPosition(),e[i.position]=!0)}else{for(n=this.valueAxes,t=0;t<n.length;t++)(i=n[t]).ignoreAxisWidth||(i.setOrientation(this.rotate),i.fixAxisPosition(),e[i.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e,i=this.valueAxes,n=this.autoMarginOffset,a=this.fixMargins,s=this.realWidth,o=this.realHeight,r=n,l=n,h=s;for(t=o,e=0;e<i.length;e++)i[e].handleSynchronization(),t=this.getAxisBounds(i[e],r,h,l,t),r=Math.round(t.l),h=Math.round(t.r),l=Math.round(t.t),t=Math.round(t.b);(i=this.categoryAxis)&&(t=this.getAxisBounds(i,r,h,l,t),r=Math.round(t.l),h=Math.round(t.r),l=Math.round(t.t),t=Math.round(t.b)),a.left&&r<n&&(this.marginLeft=Math.round(-r+n),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),a.right&&s-n<=h&&(this.marginRight=Math.round(h-s+n),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),a.top&&l<n+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-l+n+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),a.bottom&&o-n<t&&(this.marginBottom=Math.round(this.marginBottom+t-o+n),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(t,e,i,n,a){if(!t.ignoreAxisWidth){var s=t.labelsSet,o=t.tickLength;if(t.inside&&(o=0),s)switch(s=t.getBBox(),t.position){case"top":(t=s.y)<n&&(n=t);break;case"bottom":a<(t=s.y+s.height)&&(a=t);break;case"right":i<(t=s.x+s.width+o+3)&&(i=t);break;case"left":(t=s.x-o)<e&&(e=t)}}return{l:e,t:n,r:i,b:a}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var t=e.container.set();e.zoomButtonSet.push(t);var i,n=e.color,a=e.fontSize,s=e.zoomOutButtonImageSize,o=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),r=e.langObj.zoomOutText||e.zoomOutText,l=e.zoomOutButtonColor,h=e.zoomOutButtonAlpha,c=e.zoomOutButtonFontSize,d=e.zoomOutButtonPadding;isNaN(c)||(a=c),(c=e.zoomOutButtonFontColor)&&(n=c),(c=e.zoomOutButton)&&(c.fontSize&&(a=c.fontSize),c.color&&(n=c.color),c.backgroundColor&&(l=c.backgroundColor),isNaN(c.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=c.backgroundAlpha));var u=c=0;u=e.pathToImages;for(o&&((p.isAbsolute(o)||void 0===u)&&(u=""),i=e.container.image(u+o+e.extension,0,0,s,s),p.setCN(e,i,"zoom-out-image"),t.push(i),c=(i=i.getBBox()).width+5),void 0!==r&&(n=p.text(e.container,r,n,e.fontFamily,a,"start"),p.setCN(e,n,"zoom-out-label"),a=n.getBBox(),u=i?i.height/2-3:a.height/2,n.translate(c,u),t.push(n)),i=t.getBBox(),n=1,p.isModern||(n=0),(l=p.rect(e.container,i.width+2*d+5,i.height+2*d-2,l,1,1,l,n)).setAttr("opacity",h),l.translate(-d,-d),p.setCN(e,l,"zoom-out-bg"),t.push(l),l.toBack(),i=(e.zbBG=l).getBBox(),t.translate(e.marginLeftReal+e.plotAreaWidth-i.width+d,e.marginTopReal+d),t.hide(),t.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),h=0;h<t.length;h++)t[h].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(t.setAttr("tabindex",e.zoomOutButtonTabIndex),t.setAttr("role","menuitem"),t.keyup(function(t){13==t.keyCode&&e.clickZB()})),e.zbSet=t}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var t=this.dx,e=this.dy,i=this.marginLeftReal,n=this.marginTopReal,a=this.plotAreaWidth-1,s=this.plotAreaHeight-1,o=this.plotAreaFillColors,r=this.plotAreaFillAlphas,l=this.plotAreaBorderColor,h=this.plotAreaBorderAlpha;"object"==typeof r&&(r=r[0]),o=p.polygon(this.container,[0,a,a,0,0],[0,0,s,s,0],o,r,1,l,h,this.plotAreaGradientAngle),p.setCN(this,o,"plot-area"),o.translate(i+t,n+e),this.set.push(o),0!==t&&0!==e&&("object"==typeof(o=this.plotAreaFillColors)&&(o=o[0]),o=p.adjustLuminosity(o,-.15),a=p.polygon(this.container,[0,t,a+t,a,0],[0,e,e,0,0],o,r,1,l,h),p.setCN(this,a,"plot-area-bottom"),a.translate(i,n+s),this.set.push(a),t=p.polygon(this.container,[0,0,t,t,0],[0,s,s+e,e,0],o,r,1,l,h),p.setCN(this,t,"plot-area-left"),t.translate(i,n),this.set.push(t)),(i=this.bbset)&&this.scrollbarOnly&&i.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),i=this.container;this.realWidth=t,this.realWidth=e,i&&this.container.setSize(t,e);i=this.marginLeftReal;var n=this.marginTopReal;(t=t-i-this.marginRightReal-this.dx)<1&&(t=1),(e=e-n-this.marginBottomReal)<1&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e),this.plotBalloonsSet.translate(i,n)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t];this.setAxisRenderers(i),this.updateObjectSize(i)}},setAxisRenderers:function(t){t.axisRenderer=p.RecAxis,t.guideFillRenderer=p.RecFill,t.axisItemRenderer=p.RecItem,t.marginsChanged=!0},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.index=t,i.rotate=this.rotate,this.updateObjectSize(i)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var t=this.chartCursor;t&&(t=p.processObject(t,p.ChartCursor,this.theme),this.updateObjectSize(t),this.addChartCursor(t),t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=p.processObject(t,p.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},removeChartCursor:function(){p.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i.valueAxis.recalculateToPercents?i.set&&i.set.hide():(i.x=this.marginLeftReal,i.y=this.marginTopReal,i.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].zoomOut()},removeTrendLine:function(t){var e,i=this.trendLines;for(e=i.length-1;0<=e;e--)i[e]==t&&i.splice(e,1)},adjustMargins:function(t,e){var i=t.position,n=t.scrollbarHeight+t.offset;t.enabled&&("top"==i?e?this.marginLeftReal+=n:this.marginTopReal+=n:e?this.marginRightReal+=n:this.marginBottomReal+=n)},getScrollbarPosition:function(t,e,i){var n="bottom",a="top";t.oppositeAxis||(a=n,n="top"),t.position=e?"bottom"==i||"left"==i?n:a:"top"==i||"right"==i?n:a},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var i=this.marginTopReal,n=this.marginLeftReal,a=t.scrollbarHeight,s=this.dx,o=this.dy,r=t.offset;"top"==t.position?e?(t.y=i,t.x=n-a-r):(t.y=i-a+o-r,t.x=n+s):e?(t.y=i+o,t.x=n+this.plotAreaWidth+s+r):(t.y=i+this.plotAreaHeight+r,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;t&&(""!==(e=this.zoomOutText)&&e&&this.drawZoomOutButton()),(e=this.zbSet)&&(this.zoomButtonSet.push(e),t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(t){p.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){p.AmRectangularChart.base.handleMouseDown.call(this,t);var e=this.chartCursor;e&&e.handleMouseDown&&!this.rolledOverZB&&e.handleMouseDown(t)},update:function(){p.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){if(t&&t.enabled){var e=t.valueAxes[0],i=e.relativeStart,n=e.relativeEnd;e.reversed&&(n=1-i,i=1-e.relativeEnd),t.percentZoom(i,n)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,e){var i=t.relativeStart;if((a=t.relativeEnd)<i)var n=i,a=(i=a,n);this.relativeZoomValueAxes(e,i,a),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(t,e,i){if(e=p.fitToBounds(e,0,1),(i=p.fitToBounds(i,0,1))<e){var n=e;e=i,i=n}n=1/this.maxZoomFactor;var a=p.getDecimals(n)+4;if(i-e<n&&(e=(i=e+(i-e)/2)-n/2,i+=n/2),e=p.roundTo(e,a),i=p.roundTo(i,a),n=!1,t){for(a=0;a<t.length;a++){var s=t[a].zoomToRelativeValues(e,i,!0);s&&(n=s)}this.showZB()}return n},addChartCursor:function(t){p.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"moved",this.handleCursorMove),this.listenTo(t,"zoomed",this.handleCursorZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(t,"panning",this.handleCursorPanning),this.listenTo(t,"onHideCursor",this.handleCursorHide)),this.chartCursor=t},handleCursorChange:function(){},handleCursorMove:function(t){var e,i=this.valueAxes;for(e=0;e<i.length;e++)if(!t.panning){var n=i[e];n&&n.showBalloon&&n.showBalloon(t.x,t.y)}},handleCursorZoom:function(t){if(this.skipZoomed)this.skipZoomed=!1;else{var e=this.startX0,i=this.endX0,n=this.endY0,a=this.startY0,s=t.startX,o=t.endX,r=t.startY,l=t.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(e+s*(i-e),e+o*(i-e),a+r*(n-a),a+l*(n-a),t)}},handleCursorHide:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].hideBalloon();for(e=this.graphs,t=0;t<e.length;t++)e[t].hideBalloonReal()}})}(),function(){var k=window.AmCharts;k.AmSerialChart=k.Class({inherits:k.AmRectangularChart,construct:function(t){this.type="serial",k.AmSerialChart.base.construct.call(this,t),this.cname="AmSerialChart",this.theme=t,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var e=new k.CategoryAxis(t);(e.chart=this).categoryAxis=e,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,k.applyTheme(this,t,this.cname)},initChart:function(){k.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var t,e=this.countColumns(),i=this.chartData,n=this.graphs;for(t=0;t<n.length;t++){var a=n[t];a.data=i,a.columnCount=e}0<i.length&&(this.firstTime=this.getStartTime(i[0].time),this.lastTime=this.getEndTime(i[i.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var t,e,i=this.valueAxes;if(0<i.length){var n=0;for(e=0;e<i.length;e++)n<(t=i[e]).gridCountReal&&(n=t.gridCountReal);var a=!1;for(e=0;e<i.length;e++)if((t=i[e]).gridCountReal<n){var s=(n-t.gridCountReal)/2,o=a=s;0!=s-Math.round(s)&&(a-=.5,o+=.5),0<=t.min&&t.min-a*t.step<0&&(o+=a,a=0),t.max<=0&&0<t.max+o*t.step&&(a+=o,o=0),s=k.getDecimals(t.step),t.minimum=k.roundTo(t.min-a*t.step,s),t.maximum=k.roundTo(t.max+o*t.step,s),t.setStep=t.step,a=t.strictMinMax=!0}for(a&&this.updateAfterValueZoom(),e=0;e<i.length;e++)(t=i[e]).minimum=NaN,t.maximum=NaN,t.setStep=NaN,t.strictMinMax=!1}}},handleWheelReal:function(t,e){if(!this.wheelBusy){var i=this.categoryAxis,n=i.parseDates,a=i.minDuration(),s=1,o=1;if(this.mouseWheelZoomEnabled?e||(s=-1):e&&(s=-1),l=this.chartCursor){var r=l.mouseX,l=l.mouseY;s!=o&&(s*=r=this.rotate?l/this.plotAreaHeight:r/this.plotAreaWidth,o*=1-r),r=.05*(this.end-this.start),n&&(r=.05*(this.endTime-this.startTime)/a),r<1&&(r=1),s*=r,o*=r,n&&!i.equalSpacing||(s=Math.round(s),o=Math.round(o))}l=this.chartData.length,i=this.lastTime,r=this.firstTime,t<0?n?(l=this.endTime-this.startTime,n=this.startTime+s*a,a=this.endTime+o*a,0<o&&0<s&&i<=a&&(n=(a=i)-l),this.zoomToDates(new Date(n),new Date(a))):(0<o&&0<s&&this.end>=l-1&&(s=o=0),n=this.start+s,a=this.end+o,this.zoomToIndexes(n,a)):n?(l=this.endTime-this.startTime,n=this.startTime-s*a,a=this.endTime-o*a,0<o&&0<s&&n<=r&&(a=(n=r)+l),this.zoomToDates(new Date(n),new Date(a))):(0<o&&0<s&&this.start<1&&(s=o=0),n=this.start-s,a=this.end-o,this.zoomToIndexes(n,a))}},validateData:function(t){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=NaN),k.AmSerialChart.base.validateData.call(this)},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){k.AmSerialChart.base.drawChart.call(this);var t=this.chartData;if(k.ifArray(t)){!(n=this.chartScrollbar)||!this.marginsUpdated&&this.autoMargins||n.draw(),(n=this.valueScrollbar)&&n.draw();var e,i,n=t.length-1;(e=this.categoryAxis).parseDates&&!e.equalSpacing?(e=this.startTime,i=this.endTime,(isNaN(e)||isNaN(i))&&(e=this.firstTime,i=this.lastTime)):(e=this.start,i=this.end,(isNaN(e)||isNaN(i))&&(i=e=NaN),isNaN(e)&&(isNaN(this.startTime)||(e=this.getClosestIndex(t,"time",this.startTime,!0,0,t.length))),isNaN(i)&&(isNaN(this.endTime)||(i=this.getClosestIndex(t,"time",this.endTime,!1,0,t.length))),(isNaN(e)||isNaN(i))&&(e=0,i=n)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(e,i)}}else this.cleanChart()},cleanChart:function(){k.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(t,e,i){t.chart=this,t.id=i,t.rotate=e,t.setOrientation(!this.rotate),t.init(),this.setAxisRenderers(t),this.updateObjectSize(t)},updateValueAxes:function(){k.AmSerialChart.base.updateValueAxes.call(this);var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t],n=this.rotate;i.rotate=n,i.setOrientation(n),(n=this.categoryAxis).startOnAxis&&!n.parseDates||(i.expandMinMax=!0)}},getStartTime:function(t){var e=this.categoryAxis;return k.resetDateToMin(new Date(t),e.minPeriod,1,e.firstDayOfWeek).getTime()},getEndTime:function(t){var e=k.extractPeriod(this.categoryAxis.minPeriod);return k.changeDate(new Date(t),e.period,e.count,!0).getTime()-1},updateMargins:function(){k.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate)),(t=this.valueScrollbar)&&(this.getScrollbarPosition(t,!this.rotate,this.valueAxes[0].position),this.adjustMargins(t,!this.rotate))},updateScrollbars:function(){k.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(t,e){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?this.timeZoom(t,e):this.indexZoom(t,e),isNaN(t)&&this.zoomOutValueAxes(),(i=this.chartCursor)&&(i.pan||i.hideCursorReal()),this.updateLegendValues()},timeZoom:function(t,e){var i=this.maxSelectedTime;if(isNaN(i)||(e!=this.endTime&&i<e-t&&(t=e-i),t!=this.startTime&&i<e-t&&(e=t+i)),0<(n=this.minSelectedTime)&&e-t<n){var n,a=Math.round(t+(e-t)/2);t=a-(n=Math.round(n/2)),e=a+n}if(n=this.chartData,a=this.categoryAxis,k.ifArray(n)&&(t!=this.startTime||e!=this.endTime)){var s=a.minDuration(),o=this.firstTime,r=this.lastTime;t||(t=o,isNaN(i)||(t=r-i)),e||(e=r),r<t&&(t=r),e<o&&(e=o),t<o&&(t=o),r<e&&(e=r),e<t&&(e=t+s),e-t<s/5&&(e<r?e=t+s/5:t=e-s/5),this.startTime=t,this.endTime=e,i=n.length-1,s=this.getClosestIndex(n,"time",t,!0,0,i),n=this.getClosestIndex(n,"time",e,!1,s,i),a.timeZoom(t,e),a.zoom(s,n),this.start=k.fitToBounds(s,0,i),this.end=k.fitToBounds(n,0,i),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},showZB:function(){var t,e=this.categoryAxis;e&&e.parseDates&&!e.equalSpacing&&(this.startTime>this.firstTime&&(t=!0),this.endTime<this.lastTime&&(t=!0)),0<this.start&&(t=!0),this.end<this.chartData.length-1&&(t=!0),(e=this.valueAxes)&&(e=e[0],isNaN(e.relativeStart)||(0!==k.roundTo(e.relativeStart,3)&&(t=!0),1!=k.roundTo(e.relativeEnd,3)&&(t=!0))),k.AmSerialChart.base.showZB.call(this,t)},updateAfterValueZoom:function(){k.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(t,e){var i=this.maxSelectedSeries,n=!1;if(isNaN(i)||(e!=this.end&&i<e-t&&(t=e-i,n=!0),t!=this.start&&i<e-t&&(e=t+i,n=!0)),n&&(n=this.chartScrollbar)&&n.dragger){var a=n.dragger.getBBox();n.maxWidth=a.width,n.maxHeight=a.height}t==this.start&&e==this.end||(n=this.chartData.length-1,isNaN(t)&&(t=0,isNaN(i)||(t=n-i)),isNaN(e)&&(e=n),e<t&&(e=t),n<e&&(e=n),n<t&&(t=n-1),t<0&&(t=0),this.start=t,this.end=e,this.categoryAxis.zoom(t,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==t||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){k.AmSerialChart.base.updateGraphs.call(this);var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.columnWidthReal=this.columnWidth,i.categoryAxis=this.categoryAxis,k.isString(i.fillToGraph)&&(i.fillToGraph=this.graphsById[i.fillToGraph])}},zoomAxesAndGraphs:function(){k.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var t,e,i=this.graphs;for(this.columnsArray=[],t=0;t<i.length;t++){var n,a=(e=i[t]).columnsArray;if(a)for(n=0;n<a.length;n++)this.columnsArray.push(a[n])}if(this.columnsArray.sort(this.compareDepth),i=this.columnsSet,0<this.columnsArray.length){for(a=this.container.set(),this.columnSet.push(a),t=0;t<this.columnsArray.length;t++)a.push(this.columnsArray[t].column.set);e&&a.translate(e.x,e.y),this.columnsSet=a}k.remove(i)}},compareDepth:function(t,e){return t.depth>e.depth?1:-1},zoomScrollbar:function(){var t=this.chartScrollbar,e=this.categoryAxis;if(t){if(!this.zoomedByScrollbar){var i=t.dragger;i&&i.stop()}this.zoomedByScrollbar=!1,e.parseDates&&!e.equalSpacing?t.timeZoom(this.startTime,this.endTime):t.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i=k.processObject(i,k.TrendLine,this.theme);(e[t]=i).chart=this,i.id||(i.id="trendLineAuto"+t+"_"+(new Date).getTime()),k.isString(i.valueAxis)&&(i.valueAxis=this.getValueAxisById(i.valueAxis)),i.valueAxis||(i.valueAxis=this.valueAxes[0]),i.categoryAxis=this.categoryAxis}},countColumns:function(){var t,e,i,n,a=0,s=this.valueAxes.length,o=this.graphs.length,r=!1;for(n=0;n<s;n++){var l=(e=this.valueAxes[n]).stackType,h=0;if("100%"==l||"regular"==l)for(r=!1,i=0;i<o;i++)(t=this.graphs[i]).tcc=1,t.valueAxis==e&&"column"==t.type&&(!r&&t.stackable&&(a++,r=!0),(!t.stackable&&t.clustered||t.newStack&&0!==h)&&a++,t.columnIndex=a-1,t.clustered||(t.columnIndex=0),h++);if("none"==l||"3d"==l){for(r=!1,i=0;i<o;i++)(t=this.graphs[i]).valueAxis==e&&"column"==t.type&&(t.clustered?(t.tcc=1,t.newStack&&(a=0),t.hidden||(t.columnIndex=a,a++)):t.hidden||(r=!0,t.tcc=1,t.columnIndex=0));r&&0===a&&(a=1)}if("3d"==l){for(e=1,n=0;n<o;n++)(t=this.graphs[n]).newStack&&e++,t.depthCount=e,t.tcc=a;a=e}}return a},parseData:function(){k.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(t){var e,i=this.chartData;for(e=0;e<i.length;e++)if(i[e].category==t)return e},handleScrollbarZoom:function(t){this.zoomedByScrollbar=!0,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var t={type:"zoomed"};t.startDate=new Date(this.startTime),t.endDate=new Date(this.endTime),t.startIndex=this.start,t.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=t.startDate,this.endDate=t.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var e=this.categoryAxis,i=k.extractPeriod(e.minPeriod).period;e=e.dateFormatsObject[i];t.startValue=k.formatDate(t.startDate,e,this),t.endValue=k.formatDate(t.endDate,e,this),t.chart=this,(t.target=this).fire(t)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start,this.endIndex=this.end;var t=this.chartData;if(k.ifArray(t)&&!isNaN(this.start)&&!isNaN(this.end)){var e={chart:this,target:this,type:"zoomed"};e.startIndex=this.start,e.endIndex=this.end,e.startValue=t[this.start].category,e.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(e)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(t,e,i,n,a,s){a<0&&(a=0),s>t.length-1&&(s=t.length-1);var o=a+Math.round((s-a)/2),r=t[o][e];return i==r?o:s-a<=1?n?a:Math.abs(t[a][e]-i)<Math.abs(t[s][e]-i)?a:s:i==r?o:i<r?this.getClosestIndex(t,e,i,n,a,o):this.getClosestIndex(t,e,i,n,o,s)},zoomToIndexes:function(t,e){var i=this.chartData;if(i){var n=i.length;0<n&&(t<0&&(t=0),n-1<e&&(e=n-1),(n=this.categoryAxis).parseDates&&!n.equalSpacing?this.zoom(i[t].time,this.getEndTime(i[e].time)):this.zoom(t,e))}},zoomToDates:function(t,e){var i=this.chartData;if(i)if(this.categoryAxis.equalSpacing){var n=this.getClosestIndex(i,"time",t.getTime(),!0,0,i.length);e=k.resetDateToMin(e,this.categoryAxis.minPeriod,1),i=this.getClosestIndex(i,"time",e.getTime(),!1,0,i.length),this.zoom(n,i)}else this.zoom(t.getTime(),e.getTime())},zoomToCategoryValues:function(t,e){this.chartData&&this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(e))},formatPeriodString:function(t,e){if(e){e.periodDataItem={},e.periodPercentDataItem={};var i=["value","open","low","high","close"],n="value open low high close average sum count".split(" "),a=e.valueAxis,s=this.chartData,o=e.numberFormatter;o||(o=this.nf);for(var r=0;r<i.length;r++){for(var l,h,c,d,u,p,f,m,g,v,b=i[r],y=0,x=0,w=0,T=0,C=this.start;C<=this.end;C++){if(A=s[C]){var S=A.axes[a.id].graphs[e.id];if(S){if(S.values){var M=S.values[b],A=A.x.categoryAxis;this.rotate?(A<0||A>S.graph.height)&&(M=NaN):(A<0||A>S.graph.width)&&(M=NaN),isNaN(M)||(isNaN(l)&&(l=M),h=M,(isNaN(c)||M<c)&&(c=M),(isNaN(d)||d<M)&&(d=M),u=k.getDecimals(y),A=k.getDecimals(M),y+=M,u=(y=k.roundTo(y,Math.max(u,A)))/++x)}S.percents&&(S=S.percents[b],!isNaN(S))&&(isNaN(p)&&(p=S),f=S,(isNaN(m)||S<m)&&(m=S),(isNaN(g)||g<S)&&(g=S),v=k.getDecimals(w),M=k.getDecimals(S),w+=S,v=(w=k.roundTo(w,Math.max(v,M)))/++T)}}}y={open:l,close:h,high:d,low:c,average:u,sum:y,count:x},w={open:p,close:f,high:g,low:m,average:v,sum:w,count:T},t=k.formatValue(t,y,n,o,b+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=k.formatValue(t,w,n,this.pf,"percents\\."+b+"\\."),e.periodDataItem[b]=y,e.periodPercentDataItem[b]=w}}return k.cleanFromEmpty(t)},formatString:function(t,e,i){if(e){var n=e.graph;if(void 0!==t){if(-1!=t.indexOf("[[category]]")){var a=e.serialDataItem.category;if(this.categoryAxis.parseDates){var s=this.balloonDateFormat,o=this.chartCursor;o&&o.categoryBalloonDateFormat&&(s=o.categoryBalloonDateFormat),-1!=(s=k.formatDate(a,s,this)).indexOf("fff")&&(s=k.formatMilliseconds(s,a)),a=s}t=t.replace(/\[\[category\]\]/g,String(a.replace("$","$$$")))}(a=n.numberFormatter)||(a=this.nf),(o=(s=e.graph.valueAxis).duration)&&!isNaN(e.values.value)&&(o=k.formatDuration(e.values.value,o,"",s.durationUnits,s.maxInterval,a),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),o)),"date"==s.type&&(s=k.formatDate(new Date(e.values.value),n.dateFormat,this),o=RegExp("\\[\\[value\\]\\]","g"),t=t.replace(o,s),s=k.formatDate(new Date(e.values.open),n.dateFormat,this),o=RegExp("\\[\\[open\\]\\]","g"),t=t.replace(o,s)),n="value open low high close total".split(" "),s=this.pf,t=k.formatValue(t,e.percents,n,s,"percents\\."),t=k.formatValue(t,e.values,n,a,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=(t=k.formatValue(t,e.values,["percents"],s)).indexOf("[[")&&(t=k.formatDataContextValue(t,e.dataContext)),-1!=t.indexOf("[[")&&e.graph.customData&&(t=k.formatDataContextValue(t,e.graph.customData)),t=k.AmSerialChart.base.formatString.call(this,t,e,i)}return t}},updateChartCursor:function(){k.AmSerialChart.base.updateChartCursor.call(this);var t=this.chartCursor,e=this.categoryAxis;if(t){var i=t.categoryBalloonAlpha,n=t.categoryBalloonColor,a=t.color;void 0===n&&(n=t.cursorColor);var s=t.valueZoomable,o=t.zoomable,r=t.valueLineEnabled;if(this.rotate?(t.vLineEnabled=r,t.hZoomEnabled=s,t.vZoomEnabled=o):(t.hLineEnabled=r,t.vZoomEnabled=s,t.hZoomEnabled=o),t.valueLineBalloonEnabled)for(r=0;r<this.valueAxes.length;r++)(o=(s=this.valueAxes[r]).balloon)||(o={}),(o=k.extend(o,this.balloon,!0)).fillColor=n,o.balloonColor=n,o.fillAlpha=i,o.borderColor=n,o.color=a,s.balloon=o;else for(o=0;o<this.valueAxes.length;o++)(s=this.valueAxes[o]).balloon&&(s.balloon=null);e&&(e.balloonTextFunction=t.categoryBalloonFunction,(t.categoryLineAxis=e).balloonText=t.categoryBalloonText,t.categoryBalloonEnabled&&((o=e.balloon)||(o={}),(o=k.extend(o,this.balloon,!0)).fillColor=n,o.balloonColor=n,o.fillAlpha=i,o.borderColor=n,o.color=a,e.balloon=o),e.balloon&&(e.balloon.enabled=t.categoryBalloonEnabled))}},addChartScrollbar:function(t){k.callMethod("destroy",[this.chartScrollbar]),t&&(t.chart=this).listenTo(t,"zoomed",this.handleScrollbarZoom),this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight),t.gridAxis=this.categoryAxis,this.chartScrollbar=t},addValueScrollbar:function(t){k.callMethod("destroy",[this.valueScrollbar]),t&&((t.chart=this).listenTo(t,"zoomed",this.handleScrollbarValueZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted));var e=t.scrollbarHeight;this.rotate?void 0===t.height&&(t.height=e):void 0===t.width&&(t.width=e),t.gridAxis||(t.gridAxis=this.valueAxes[0]),t.valueAxes=this.valueAxes,this.valueScrollbar=t},removeChartScrollbar:function(){k.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){k.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(t){k.AmSerialChart.base.handleReleaseOutside.call(this,t),k.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){k.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){k.AmSerialChart.base.processScrollbars.call(this);var t=this.valueScrollbar;t&&((t=k.processObject(t,k.ChartScrollbar,this.theme)).id="valueScrollbar",this.addValueScrollbar(t))},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,this.valueAxes)},zoomOut:function(){k.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(t){var e=t.index,i=this.chartData,n=t.graph;if(e+1<i.length)for(e+=1;e<i.length;e++)if((t=i[e])&&(t=t.axes[n.valueAxis.id].graphs[n.id],!isNaN(t.y)))return t},handleCursorZoomReal:function(t,e,i,n,a){var s,o,r=a.target;this.rotate?(isNaN(t)||isNaN(e)||this.relativeZoomValueAxes(this.valueAxes,t,e)&&this.updateAfterValueZoom(),r.vZoomEnabled&&(s=a.start,o=a.end)):(isNaN(i)||isNaN(n)||this.relativeZoomValueAxes(this.valueAxes,i,n)&&this.updateAfterValueZoom(),r.hZoomEnabled&&(s=a.start,o=a.end)),isNaN(s)||isNaN(o)||((t=this.categoryAxis).parseDates&&!t.equalSpacing?this.zoomToDates(new Date(s),new Date(o)):this.zoomToIndexes(s,o))},handleCursorZoomStarted:function(){if(t=this.valueAxes){var t,e=(t=t[0]).relativeStart,i=t.relativeEnd;t.reversed&&(e=1-t.relativeEnd,i=1-t.relativeStart),this.rotate?(this.startX0=e,this.endX0=i):(this.startY0=e,this.endY0=i)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(t){k.AmSerialChart.base.handleCursorMove.call(this,t);var e=t.target,i=this.categoryAxis;if(t.panning)this.handleCursorHide(t);else if(this.chartData&&!e.isHidden){var n,a=this.graphs;if(a)if(n=i.xToIndex(this.rotate?t.y:t.x),n=this.chartData[n]){var s,o,r,l;if(e.oneBalloonOnly&&e.valueBalloonsEnabled){var h=1/0;for(s=a.length-1;0<=s;s--)if((o=a[s]).balloon.enabled&&o.showBalloon&&!o.hidden){if(r=o.valueAxis.id,r=n.axes[r].graphs[o.id],e.showNextAvailable&&isNaN(r.y)&&!(r=this.getNextItem(r)))continue;r=r.y,"top"==o.showBalloonAt&&(r=0),"bottom"==o.showBalloonAt&&(r=this.height);var c=e.mouseX,d=e.mouseY;(r=this.rotate?Math.abs(c-r):Math.abs(d-r))<h&&(h=r,l=o)}e.mostCloseGraph=l}if(this.prevCursorItem!=n||l!=this.prevMostCloseGraph){for(h=[],s=0;s<a.length;s++)r=(o=a[s]).valueAxis.id,r=n.axes[r].graphs[o.id],e.showNextAvailable&&isNaN(r.y)&&!(r=this.getNextItem(r))&&o.balloon?o.balloon.hide():l&&o!=l?(o.showGraphBalloon(r,e.pointer,!1,e.graphBulletSize,e.graphBulletAlpha),o.balloon.hide(0)):e.valueBalloonsEnabled?(o.balloon.showBullet=e.bulletsEnabled,o.balloon.bulletSize=e.bulletSize/2,t.hideBalloons||(o.showGraphBalloon(r,e.pointer,!1,e.graphBulletSize,e.graphBulletAlpha),o.balloon.set&&h.push({balloon:o.balloon,y:o.balloon.pointToY}))):(o.currentDataItem=r,o.resizeBullet(r,e.graphBulletSize,e.graphBulletAlpha));e.avoidBalloonOverlapping&&this.arrangeBalloons(h),this.prevCursorItem=n}this.prevMostCloseGraph=l}i.showBalloon(t.x,t.y,e.categoryBalloonDateFormat,t.skip),this.updateLegendValues()}},handleCursorHide:function(t){var e;for(k.AmSerialChart.base.handleCursorHide.call(this,t),t=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),t&&t.hideBalloon(),t=this.graphs,e=0;e<t.length;e++)t[e].currentDataItem=null},handleCursorPanning:function(t){var e,i,n,a=t.target,s=t.deltaX,o=t.deltaY,r=t.delta2X,l=t.delta2Y;if(t=!1,this.rotate){isNaN(r)&&(r=s,t=!0);var h=(c=this.endX0)-(e=this.startX0),c=c-h*r,d=h;t||(d=0),t=k.fitToBounds(e-h*s,0,1-d)}else isNaN(l)&&(l=o,t=!0),c=this.endY0,c+=(h=c-(e=this.startY0))*o,d=h,t||(d=0),t=k.fitToBounds(e+h*l,0,1-d);e=k.fitToBounds(c,d,1),a.valueZoomable&&(i=this.relativeZoomValueAxes(this.valueAxes,t,e)),e=this.categoryAxis,this.rotate&&(s=o,r=l),t=!1,isNaN(r)&&(r=s,t=!0),a.zoomable&&(0<Math.abs(s)||0<Math.abs(r))&&(e.parseDates&&!e.equalSpacing?(l=this.startTime0,r*=e=(o=this.endTime0)-l,h=this.firstTime,c=this.lastTime,d=e,t||(d=0),t=Math.round(k.fitToBounds(l-e*s,h,c-d)),r=Math.round(k.fitToBounds(o-r,h+d,c)),(this.startTime!=t||this.endTime!=r)&&(n={chart:this,target:a,type:"zoomed",start:t,end:r},this.skipZoomed=!0,a.fire(n),this.zoom(t,r),n=!0)):(l=this.start0,e=(o=this.end0)-l,s=Math.round(e*s),r=Math.round(e*r),h=this.chartData.length-1,t||(e=0),t=k.fitToBounds(l-s,0,h-e),e=k.fitToBounds(o-r,e,h),(this.start!=t||this.end!=e)&&(this.skipZoomed=!0,a.fire({chart:this,target:a,type:"zoomed",start:t,end:e}),this.zoom(t,e),n=!0))),!n&&i&&this.updateAfterValueZoom()},arrangeBalloons:function(t){var e=this.plotAreaHeight;t.sort(this.compareY);var i,n,a,s=this.plotAreaWidth,o=t.length;for(i=0;i<o;i++)(n=t[i].balloon).setBounds(0,0,s,e),n.restorePrevious(),n.draw(),e=n.yPos-3;for(t.reverse(),i=0;i<o;i++){e=(n=t[i].balloon).bottom;var r=n.bottom-n.yPos;0<i&&e-r<a+3&&(n.setBounds(0,a+3,s,a+r+3),n.restorePrevious(),n.draw()),n.set&&n.set.show(),a=n.bottom}},compareY:function(t,e){return t.y<e.y?1:-1}})}(),function(){var H=window.AmCharts;H.Cuboid=H.Class({construct:function(t,e,i,n,a,s,o,r,l,h,c,d,u,p,f,m,g){this.set=t.set(),this.container=t,this.h=Math.round(i),this.w=Math.round(e),this.dx=n,this.dy=a,this.colors=s,this.alpha=o,this.bwidth=r,this.bcolor=l,this.balpha=h,this.dashLength=p,this.topRadius=m,this.pattern=f,this.rotate=u,this.bcn=g,u?e<0&&0===c&&(c=180):i<0&&270==c&&(c=90),this.gradientRotation=c,0===n&&0===a&&(this.cornerRadius=d),this.draw()},draw:function(){var t=this.set;t.clear();var e=this.container,i=e.chart,n=this.w,a=this.h,s=this.dx,o=this.dy,r=this.colors,l=this.alpha,h=this.bwidth,c=this.bcolor,d=this.balpha,u=this.gradientRotation,p=this.cornerRadius,f=this.dashLength,m=this.pattern,g=this.topRadius,v=this.bcn,b=r,y=r;"object"==typeof r&&(b=r[0],y=r[r.length-1]);var x,w,T,C,S,M,A,k,D,P=l;m&&(l=0);var E,_,N,L,O=this.rotate;if(0<Math.abs(s)||0<Math.abs(o))if(isNaN(g))A=y,y=H.adjustLuminosity(b,-.2),y=H.adjustLuminosity(b,-.2),x=H.polygon(e,[0,s,n+s,n,0],[0,o,o,0,0],y,l,1,c,0,u),0<d&&(D=H.line(e,[0,s,n+s],[0,o,o],c,d,h,f)),(w=H.polygon(e,[0,0,n,n,0],[0,a,a,0,0],y,l,1,c,0,u)).translate(s,o),0<d&&(T=H.line(e,[s,s],[o,o+a],c,d,h,f)),C=H.polygon(e,[0,0,s,s,0],[0,a,a+o,o,0],y,l,1,c,0,u),S=H.polygon(e,[n,n,n+s,n+s,n],[0,a,a+o,o,0],y,l,1,c,0,u),0<d&&(M=H.line(e,[n,n+s,n+s,n],[0,o,a+o,a],c,d,h,f)),y=H.adjustLuminosity(A,.2),A=H.polygon(e,[0,s,n+s,n,0],[a,a+o,a+o,a,a],y,l,1,c,0,u),0<d&&(k=H.line(e,[0,s,n+s],[a,a+o,a+o],c,d,h,f));else{var I,B,R;O?(R=I=a/2,B=n+(y=s/2),_=Math.abs(a/2),E=Math.abs(s/2)):(B=y=n/2,R=a+(I=o/2)+1,E=Math.abs(n/2),_=Math.abs(o/2)),N=E*g,L=_*g,.1<E&&.1<E&&(x=H.circle(e,E,b,l,h,c,d,!1,_)).translate(y,I),.1<N&&.1<N&&(A=H.circle(e,N,H.adjustLuminosity(b,.5),l,h,c,d,!1,L)).translate(B,R)}for(l=P,Math.abs(a)<1&&(a=0),Math.abs(n)<1&&(n=0),!isNaN(g)&&(0<Math.abs(s)||0<Math.abs(o))?(r={fill:r=[b],stroke:c,"stroke-width":h,"stroke-opacity":d,"fill-opacity":l},O?(l="M0,0 L"+n+","+(a/2-a/2*g),h=" B",0<n&&(h=" A"),H.VML?l=(l+=h+Math.round(n-N)+","+Math.round(a/2-L)+","+Math.round(n+N)+","+Math.round(a/2+L)+","+n+",0,"+n+","+a)+" L0,"+a+(h+Math.round(-E))+","+Math.round(a/2-_)+","+Math.round(E)+","+Math.round(a/2+_)+",0,"+a+",0,0":(l+="A"+N+","+L+",0,0,0,"+n+","+(a-a/2*(1-g))+"L0,"+a,l+="A"+E+","+_+",0,0,1,0,0"),E=90):(l="M0,0 L"+(h=n/2-n/2*g)+","+a,H.VML?(l="M0,0 L"+h+","+a,h=" B",a<0&&(h=" A"),l+=h+Math.round(n/2-N)+","+Math.round(a-L)+","+Math.round(n/2+N)+","+Math.round(a+L)+",0,"+a+","+n+","+a,l+=" L"+n+",0",l+=h+Math.round(n/2+E)+","+Math.round(_)+","+Math.round(n/2-E)+","+Math.round(-_)+","+n+",0,0,0"):(l+="A"+N+","+L+",0,0,0,"+(n-n/2*(1-g))+","+a+"L"+n+",0",l+="A"+E+","+_+",0,0,1,0,0"),E=180),(e=e.path(l).attr(r)).gradient("linearGradient",[b,H.adjustLuminosity(b,-.3),H.adjustLuminosity(b,-.3),b],E),O?e.translate(s/2,0):e.translate(0,o/2)):e=0===a?H.line(e,[0,n],[0,0],c,d,h,f):0===n?H.line(e,[0,0],[0,a],c,d,h,f):0<p?H.rect(e,n,a,r,l,h,c,d,p,u,f):H.polygon(e,[0,0,n,n,0],[0,a,a,0,0],r,l,h,c,d,u,!1,f),n=isNaN(g)?a<0?[x,D,w,T,C,S,M,A,k,e]:[A,k,w,T,C,S,x,D,M,e]:O?0<n?[x,e,A]:[A,e,x]:a<0?[x,e,A]:[A,e,x],H.setCN(i,e,v+"front"),H.setCN(i,w,v+"back"),H.setCN(i,A,v+"top"),H.setCN(i,x,v+"bottom"),H.setCN(i,C,v+"left"),H.setCN(i,S,v+"right"),x=0;x<n.length;x++)(w=n[x])&&(t.push(w),H.setCN(i,w,v+"element"));m&&e.pattern(m,NaN,i.path)},width:function(t){isNaN(t)&&(t=0),this.w=Math.round(t),this.draw()},height:function(t){isNaN(t)&&(t=0),this.h=Math.round(t),this.draw()},animateHeight:function(t,e){var i=this;i.animationFinished=!1,i.easing=e,i.totalFrames=t*H.updateRate,i.rh=i.h,i.frame=0,i.height(1),setTimeout(function(){i.updateHeight.call(i)},1e3/H.updateRate)},updateHeight:function(){var t=this;t.frame++;var e=t.totalFrames;t.frame<=e?(e=t.easing(0,t.frame,1,t.rh-1,e),t.height(e),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateHeight.call(t)}):setTimeout(function(){t.updateHeight.call(t)},1e3/H.updateRate)):(t.height(t.rh),t.animationFinished=!0)},animateWidth:function(t,e){var i=this;i.animationFinished=!1,i.easing=e,i.totalFrames=t*H.updateRate,i.rw=i.w,i.frame=0,i.width(1),setTimeout(function(){i.updateWidth.call(i)},1e3/H.updateRate)},updateWidth:function(){var t=this;t.frame++;var e=t.totalFrames;t.frame<=e?(e=t.easing(0,t.frame,1,t.rw-1,e),t.width(e),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateWidth.call(t)}):setTimeout(function(){t.updateWidth.call(t)},1e3/H.updateRate)):(t.width(t.rw),t.animationFinished=!0)}})}(),function(){var A=window.AmCharts;A.CategoryAxis=A.Class({inherits:A.AxisBase,construct:function(t){this.cname="CategoryAxis",A.CategoryAxis.base.construct.call(this,t),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,A.applyTheme(this,t,this.cname)},draw:function(){A.CategoryAxis.base.draw.call(this),this.generateDFObject();var t=this.chart.chartData;if(this.data=t,this.labelRotationR=this.labelRotation,this.type=null,A.ifArray(t)){var e,i=this.chart;"scrollbar"!=this.id?(A.setCN(i,this.set,"category-axis"),A.setCN(i,this.labelsSet,"category-axis"),A.setCN(i,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var n,a,s,o,r,l,h=this.start,c=this.labelFrequency,d=0,u=this.end-h+1,p=this.gridCountR,f=this.showFirstLabel,m=this.showLastLabel,g="",v=(g=A.extractPeriod(this.minPeriod),A.getPeriodDuration(g.period,g.count)),b=this.rotate,y=this.firstDayOfWeek,x=this.boldPeriodBeginning;e=A.resetDateToMin(new Date(t[t.length-1].time+1.05*v),this.minPeriod,1,y).getTime(),this.firstTime=i.firstTime,this.endTime>e&&(this.endTime=e),l=this.minorGridEnabled,s=this.gridAlpha;var w=0,T=0;if(this.widthField)for(e=this.start;e<=this.end;e++)if(r=this.data[e]){var C=Number(this.data[e].dataContext[this.widthField]);isNaN(C)||(w+=C,r.widthValue=C)}if(this.parseDates&&!this.equalSpacing)this.lastTime=t[t.length-1].time,this.maxTime=A.resetDateToMin(new Date(this.lastTime+1.05*v),this.minPeriod,1,y).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(d=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,c=(e=this.choosePeriod(0)).period,a=e.count,(e=A.getPeriodDuration(c,a))<v&&(c=g.period,a=g.count,e=v),"WW"==(s=c)&&(s="DD"),this.currentDateFormat=this.dateFormatsObject[s],this.stepWidth=this.getStepWidth(u),p=Math.ceil(this.timeDifference/e)+1,g=A.resetDateToMin(new Date(this.startTime-e),c,a,y).getTime(),this.cellWidth=this.getStepWidth(u),h=-1,(u=Math.round(g/e))/2==Math.round(u/2)&&(h=-2,g-=e),(u=this.start)/2==Math.round(u/2)&&u--,u<0&&(u=0),(T=this.end+2)>=this.data.length&&(T=this.data.length),t=!1,t=!f,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),C=u,this.data[u].time!=A.resetDateToMin(new Date(this.data[u].time),c,a,y).getTime()){v=0;var S=g;for(e=u;e<T;e++)r=this.data[e].time,this.checkPeriodChange(c,a,r,S)&&(2<=++v&&(C=e,e=T),S=r)}if(l&&1<a&&(r=this.chooseMinorFrequency(a),A.getPeriodDuration(c,r)),0<this.gridCountR)for(e=u;e<T;e++)r=this.data[e].time,this.checkPeriodChange(c,a,r,g)&&C<=e&&(u=this.getCoordinate(e-this.start),l=!1,this.nextPeriod[s]&&(l=this.checkPeriodChange(this.nextPeriod[s],1,r,g,s))&&A.resetDateToMin(new Date(r),this.nextPeriod[s],1,y).getTime()!=r&&(l=!1),v=!1,l&&this.markPeriodChange?(l=this.dateFormatsObject[this.nextPeriod[s]],v=!0):l=this.dateFormatsObject[s],g=A.formatDate(new Date(r),l,i),(e==h&&!f||e==p&&!m)&&(g=" "),t?t=!1:(x||(v=!1),u-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(g=this.labelFunction(g,new Date(r),this,c,a,o)),this.boldLabels&&(v=!0),l=(n=new this.axisItemRenderer(this,u,g,void 0,void 0,void 0,void 0,v)).graphics(),this.pushAxisItem(n),l=l.getBBox().width,A.isModern||(l-=u),this.previousPos=u+l)),o=g=r)}}else if(this.cellWidth=this.getStepWidth(u),u<p&&(p=u),d+=this.start,this.stepWidth=this.getStepWidth(u),0<p)for(y=Math.floor(u/p),r=this.chooseMinorFrequency(y),(u=d)/2==Math.round(u/2)&&u--,u<0&&(u=0),x=0,this.widthField&&(u=this.start),this.end-u+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),e=u;e<=this.end+2;e++){if(p=!1,0<=e&&e<this.data.length?(g=(a=this.data[e]).category,p=a.forceShow):g="",l&&!isNaN(r)){if(e/r!=Math.round(e/r)&&!p)continue;e/y==Math.round(e/y)||p||(this.gridAlpha=this.minorGridAlpha,g=void 0)}else if(e/y!=Math.round(e/y)&&!p)continue;u=this.getCoordinate(e-d),p=0,"start"==this.gridPosition&&(u-=this.cellWidth/2,p=this.cellWidth/2),n=!0,o=p,"start"==this.tickPosition&&(n=!1,p=o=0),(e==h&&!f||e==this.end&&!m)&&(g=void 0),Math.round(x/c)!=x/c&&(g=void 0),x++,t=this.cellWidth,b&&(t=NaN,this.ignoreAxisWidth||!i.autoMargins)&&(t="right"==this.position?i.marginRight:i.marginLeft,t-=this.tickLength+10),this.labelFunction&&a&&(g=this.labelFunction(g,a,this)),g=A.fixBrakes(g),v=!1,this.boldLabels&&(v=!0),e>this.end&&"start"==this.tickPosition&&(g=" "),this.rotate&&this.inside&&(p-=2),isNaN(a.widthValue)||(a.percentWidthValue=a.widthValue/w*100,u=T,T+=t=this.rotate?this.height*a.widthValue/w:this.width*a.widthValue/w,p=t/2),(n=new this.axisItemRenderer(this,u,g,n,t,p,void 0,v,o,!1,a.labelColor,a.className)).serialDataItem=a,this.pushAxisItem(n),this.gridAlpha=s}for(e=f=0;e<this.data.length;e++)(r=this.data[e])&&(this.parseDates&&!this.equalSpacing?(m=r.time,h=this.cellWidth,"MM"==this.minPeriod&&(h=864e5*A.daysInMonth(new Date(m))*this.stepWidth,r.cellWidth=h),m=Math.round((m-this.startTime)*this.stepWidth+h/2)):m=this.getCoordinate(e-d),r.x[this.id]=m);if(this.widthField)for(e=this.start;e<=this.end;e++)h=(r=this.data[e]).widthValue,r.percentWidthValue=h/w*100,this.rotate?(m=this.height*h/w/2+f,f=this.height*h/w+f):(m=this.width*h/w/2+f,f=this.width*h/w+f),r.x[this.id]=m;for(w=this.guides.length,e=0;e<w;e++)y=y=y=l=h=NaN,m=(f=this.guides[e]).above,f.toCategory&&(y=i.getCategoryIndexByValue(f.toCategory),isNaN(y)||(h=this.getCoordinate(y-d),f.expand&&(h+=this.cellWidth/2),n=new this.axisItemRenderer(this,h,"",!0,NaN,NaN,f),this.pushAxisItem(n,m))),f.category&&(y=i.getCategoryIndexByValue(f.category),isNaN(y)||(l=this.getCoordinate(y-d),f.expand&&(l-=this.cellWidth/2),y=(h-l)/2,n=new this.axisItemRenderer(this,l,f.label,!0,NaN,y,f),this.pushAxisItem(n,m))),x=i.dataDateFormat,f.toDate&&(!x||f.toDate instanceof Date||(f.toDate=f.toDate.toString()+" |"),f.toDate=A.getDate(f.toDate,x),this.equalSpacing?(y=i.getClosestIndex(this.data,"time",f.toDate.getTime(),!1,0,this.data.length-1),isNaN(y)||(h=this.getCoordinate(y-d))):h=(f.toDate.getTime()-this.startTime)*this.stepWidth,n=new this.axisItemRenderer(this,h,"",!0,NaN,NaN,f),this.pushAxisItem(n,m)),f.date&&(!x||f.date instanceof Date||(f.date=f.date.toString()+" |"),f.date=A.getDate(f.date,x),this.equalSpacing?(y=i.getClosestIndex(this.data,"time",f.date.getTime(),!1,0,this.data.length-1),isNaN(y)||(l=this.getCoordinate(y-d))):l=(f.date.getTime()-this.startTime)*this.stepWidth,y=(h-l)/2,n=!0,f.toDate&&(n=!1),n="H"==this.orientation?new this.axisItemRenderer(this,l,f.label,n,2*y,NaN,f):new this.axisItemRenderer(this,l,f.label,!1,NaN,y,f),this.pushAxisItem(n,m)),f.balloonText&&n&&(y=n.label)&&this.addEventListeners(y,f),(0<h||0<l)&&(y=!1,this.rotate?(h<this.height||l<this.height)&&(y=!0):(h<this.width||l<this.width)&&(y=!0),y&&(l=(h=new this.guideFillRenderer(this,l,h,f)).graphics(),this.pushAxisItem(h,m),(f.graphics=l).index=e,f.balloonText&&this.addEventListeners(l,f)));(i=i.chartCursor)&&(b?i.fixHeight(this.cellWidth):(i.fixWidth(this.cellWidth),i.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=M}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(b=this.axisLine.set)&&b.toFront();var M=this.getBBox().height;2<M-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(t){var e,i,n=this.data,a=this.chart,s=a.rotate,o=this.stepWidth;if(this.parseDates&&!this.equalSpacing)t=this.startTime+Math.round(t/o)-this.minDuration()/2,e=a.getClosestIndex(n,"time",t,!1,this.start,this.end+1);else if(this.widthField)for(a=1/0,o=this.start;o<=this.end;o++){var r=this.data[o];r&&((r=Math.abs(r.x[this.id]-t))<a&&(a=r,e=o))}else this.startOnAxis||(t-=o/2),e=this.start+Math.round(t/o);return n[e=A.fitToBounds(e,0,n.length-1)]&&(i=n[e].x[this.id]),s?i>this.height+1&&e--:i>this.width+1&&e--,i<0&&e++,A.fitToBounds(e,0,n.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):NaN},categoryToCoordinate:function(t){return this.chart?this.parseDates?this.dateToCoordinate(new Date(t)):(t=this.chart.getCategoryIndexByValue(t),isNaN(t)?void 0:this.getCoordinate(t-this.start)):NaN},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)},coordinateToValue:function(t){if(t=this.xToIndex(t),t=this.data[t])return this.parseDates?t.time:t.category},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},formatValue:function(t,e){return e||(e=this.currentDateFormat),this.parseDates&&(t=A.formatDate(new Date(t),e,this.chart)),t},showBalloonAt:function(t,e){return void 0===e&&(e=this.parseDates?this.dateToCoordinate(new Date(t)):this.categoryToCoordinate(t)),this.adjustBalloonCoordinate(e)},formatBalloonText:function(t,e,i){var n="",a="",s=this.chart,o=this.data[e];if(o)if(this.parseDates)n=A.formatDate(o.category,i,s),e=A.changeDate(new Date(o.category),this.minPeriod,1),a=A.formatDate(e,i,s),-1!=n.indexOf("fff")&&(n=A.formatMilliseconds(n,o.category),a=A.formatMilliseconds(a,e));else{var r;this.data[e+1]&&(r=this.data[e+1]),n=A.fixNewLines(o.category),r&&(a=A.fixNewLines(r.category))}return(t=t.replace(/\[\[category\]\]/g,String(n))).replace(/\[\[toCategory\]\]/g,String(a))},adjustBalloonCoordinate:function(t,e){var i=this.xToIndex(t),n=this.chart.chartCursor;if(this.stickBalloonToCategory){var a=this.data[i];a&&(t=a.x[this.id]),this.stickBalloonToStart&&(t-=this.cellWidth/2);var s=0;if(n){var o=n.limitToGraph;if(o){var r=o.valueAxis.id;o.hidden||(s=a.axes[r].graphs[o.id].y)}this.rotate?("left"==this.position?(o&&(s-=n.width),0<s&&(s=0)):s<0&&(s=0),n.fixHLine(t,s)):("top"==this.position?(o&&(s-=n.height),0<s&&(s=0)):s<0&&(s=0),n.fixVLine(t,s))}}return n&&!e&&(n.setIndex(i),this.parseDates&&n.setTimestamp(this.coordinateToDate(t).getTime())),t}})}(),function(){var p=window.AmCharts;p.AmRectangularChart=p.Class({inherits:p.AmCoordinateChart,construct:function(t){p.AmRectangularChart.base.construct.call(this,t),this.theme=t,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,p.applyTheme(this,t,"AmRectangularChart")},initChart:function(){p.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(p.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),p.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw()}},resetMargins:function(){var t,e={};if("xy"==this.type){var i=this.xAxes,n=this.yAxes;for(t=0;t<i.length;t++){var a=i[t];a.ignoreAxisWidth||(a.setOrientation(!0),a.fixAxisPosition(),e[a.position]=!0)}for(t=0;t<n.length;t++)(i=n[t]).ignoreAxisWidth||(i.setOrientation(!1),i.fixAxisPosition(),e[i.position]=!0)}else{for(n=this.valueAxes,t=0;t<n.length;t++)(i=n[t]).ignoreAxisWidth||(i.setOrientation(this.rotate),i.fixAxisPosition(),e[i.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e,i=this.valueAxes,n=this.autoMarginOffset,a=this.fixMargins,s=this.realWidth,o=this.realHeight,r=n,l=n,h=s;for(t=o,e=0;e<i.length;e++)i[e].handleSynchronization(),t=this.getAxisBounds(i[e],r,h,l,t),r=Math.round(t.l),h=Math.round(t.r),l=Math.round(t.t),t=Math.round(t.b);(i=this.categoryAxis)&&(t=this.getAxisBounds(i,r,h,l,t),r=Math.round(t.l),h=Math.round(t.r),l=Math.round(t.t),t=Math.round(t.b)),a.left&&r<n&&(this.marginLeft=Math.round(-r+n),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),a.right&&s-n<=h&&(this.marginRight=Math.round(h-s+n),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),a.top&&l<n+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-l+n+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),a.bottom&&o-n<t&&(this.marginBottom=Math.round(this.marginBottom+t-o+n),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(t,e,i,n,a){if(!t.ignoreAxisWidth){var s=t.labelsSet,o=t.tickLength;if(t.inside&&(o=0),s)switch(s=t.getBBox(),t.position){case"top":(t=s.y)<n&&(n=t);break;case"bottom":a<(t=s.y+s.height)&&(a=t);break;case"right":i<(t=s.x+s.width+o+3)&&(i=t);break;case"left":(t=s.x-o)<e&&(e=t)}}return{l:e,t:n,r:i,b:a}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var t=e.container.set();e.zoomButtonSet.push(t);var i,n=e.color,a=e.fontSize,s=e.zoomOutButtonImageSize,o=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),r=e.langObj.zoomOutText||e.zoomOutText,l=e.zoomOutButtonColor,h=e.zoomOutButtonAlpha,c=e.zoomOutButtonFontSize,d=e.zoomOutButtonPadding;isNaN(c)||(a=c),(c=e.zoomOutButtonFontColor)&&(n=c),(c=e.zoomOutButton)&&(c.fontSize&&(a=c.fontSize),c.color&&(n=c.color),c.backgroundColor&&(l=c.backgroundColor),isNaN(c.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=c.backgroundAlpha));var u=c=0;u=e.pathToImages;for(o&&((p.isAbsolute(o)||void 0===u)&&(u=""),i=e.container.image(u+o+e.extension,0,0,s,s),p.setCN(e,i,"zoom-out-image"),t.push(i),c=(i=i.getBBox()).width+5),void 0!==r&&(n=p.text(e.container,r,n,e.fontFamily,a,"start"),p.setCN(e,n,"zoom-out-label"),a=n.getBBox(),u=i?i.height/2-3:a.height/2,n.translate(c,u),t.push(n)),i=t.getBBox(),n=1,p.isModern||(n=0),(l=p.rect(e.container,i.width+2*d+5,i.height+2*d-2,l,1,1,l,n)).setAttr("opacity",h),l.translate(-d,-d),p.setCN(e,l,"zoom-out-bg"),t.push(l),l.toBack(),i=(e.zbBG=l).getBBox(),t.translate(e.marginLeftReal+e.plotAreaWidth-i.width+d,e.marginTopReal+d),t.hide(),t.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),h=0;h<t.length;h++)t[h].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(t.setAttr("tabindex",e.zoomOutButtonTabIndex),t.setAttr("role","menuitem"),t.keyup(function(t){13==t.keyCode&&e.clickZB()})),e.zbSet=t}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var t=this.dx,e=this.dy,i=this.marginLeftReal,n=this.marginTopReal,a=this.plotAreaWidth-1,s=this.plotAreaHeight-1,o=this.plotAreaFillColors,r=this.plotAreaFillAlphas,l=this.plotAreaBorderColor,h=this.plotAreaBorderAlpha;"object"==typeof r&&(r=r[0]),o=p.polygon(this.container,[0,a,a,0,0],[0,0,s,s,0],o,r,1,l,h,this.plotAreaGradientAngle),p.setCN(this,o,"plot-area"),o.translate(i+t,n+e),this.set.push(o),0!==t&&0!==e&&("object"==typeof(o=this.plotAreaFillColors)&&(o=o[0]),o=p.adjustLuminosity(o,-.15),a=p.polygon(this.container,[0,t,a+t,a,0],[0,e,e,0,0],o,r,1,l,h),p.setCN(this,a,"plot-area-bottom"),a.translate(i,n+s),this.set.push(a),t=p.polygon(this.container,[0,0,t,t,0],[0,s,s+e,e,0],o,r,1,l,h),p.setCN(this,t,"plot-area-left"),t.translate(i,n),this.set.push(t)),(i=this.bbset)&&this.scrollbarOnly&&i.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),i=this.container;this.realWidth=t,this.realWidth=e,i&&this.container.setSize(t,e);i=this.marginLeftReal;var n=this.marginTopReal;(t=t-i-this.marginRightReal-this.dx)<1&&(t=1),(e=e-n-this.marginBottomReal)<1&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e),this.plotBalloonsSet.translate(i,n)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t];this.setAxisRenderers(i),this.updateObjectSize(i)}},setAxisRenderers:function(t){t.axisRenderer=p.RecAxis,t.guideFillRenderer=p.RecFill,t.axisItemRenderer=p.RecItem,t.marginsChanged=!0},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.index=t,i.rotate=this.rotate,this.updateObjectSize(i)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var t=this.chartCursor;t&&(t=p.processObject(t,p.ChartCursor,this.theme),this.updateObjectSize(t),this.addChartCursor(t),t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=p.processObject(t,p.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},removeChartCursor:function(){p.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i.valueAxis.recalculateToPercents?i.set&&i.set.hide():(i.x=this.marginLeftReal,i.y=this.marginTopReal,i.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].zoomOut()},removeTrendLine:function(t){var e,i=this.trendLines;for(e=i.length-1;0<=e;e--)i[e]==t&&i.splice(e,1)},adjustMargins:function(t,e){var i=t.position,n=t.scrollbarHeight+t.offset;t.enabled&&("top"==i?e?this.marginLeftReal+=n:this.marginTopReal+=n:e?this.marginRightReal+=n:this.marginBottomReal+=n)},getScrollbarPosition:function(t,e,i){var n="bottom",a="top";t.oppositeAxis||(a=n,n="top"),t.position=e?"bottom"==i||"left"==i?n:a:"top"==i||"right"==i?n:a},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var i=this.marginTopReal,n=this.marginLeftReal,a=t.scrollbarHeight,s=this.dx,o=this.dy,r=t.offset;"top"==t.position?e?(t.y=i,t.x=n-a-r):(t.y=i-a+o-r,t.x=n+s):e?(t.y=i+o,t.x=n+this.plotAreaWidth+s+r):(t.y=i+this.plotAreaHeight+r,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;t&&(""!==(e=this.zoomOutText)&&e&&this.drawZoomOutButton()),(e=this.zbSet)&&(this.zoomButtonSet.push(e),t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(t){p.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){p.AmRectangularChart.base.handleMouseDown.call(this,t);var e=this.chartCursor;e&&e.handleMouseDown&&!this.rolledOverZB&&e.handleMouseDown(t)},update:function(){p.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){if(t&&t.enabled){var e=t.valueAxes[0],i=e.relativeStart,n=e.relativeEnd;e.reversed&&(n=1-i,i=1-e.relativeEnd),t.percentZoom(i,n)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,e){var i=t.relativeStart;if((a=t.relativeEnd)<i)var n=i,a=(i=a,n);this.relativeZoomValueAxes(e,i,a),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(t,e,i){if(e=p.fitToBounds(e,0,1),(i=p.fitToBounds(i,0,1))<e){var n=e;e=i,i=n}n=1/this.maxZoomFactor;var a=p.getDecimals(n)+4;if(i-e<n&&(e=(i=e+(i-e)/2)-n/2,i+=n/2),e=p.roundTo(e,a),i=p.roundTo(i,a),n=!1,t){for(a=0;a<t.length;a++){var s=t[a].zoomToRelativeValues(e,i,!0);s&&(n=s)}this.showZB()}return n},addChartCursor:function(t){p.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"moved",this.handleCursorMove),this.listenTo(t,"zoomed",this.handleCursorZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(t,"panning",this.handleCursorPanning),this.listenTo(t,"onHideCursor",this.handleCursorHide)),this.chartCursor=t},handleCursorChange:function(){},handleCursorMove:function(t){var e,i=this.valueAxes;for(e=0;e<i.length;e++)if(!t.panning){var n=i[e];n&&n.showBalloon&&n.showBalloon(t.x,t.y)}},handleCursorZoom:function(t){if(this.skipZoomed)this.skipZoomed=!1;else{var e=this.startX0,i=this.endX0,n=this.endY0,a=this.startY0,s=t.startX,o=t.endX,r=t.startY,l=t.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(e+s*(i-e),e+o*(i-e),a+r*(n-a),a+l*(n-a),t)}},handleCursorHide:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].hideBalloon();for(e=this.graphs,t=0;t<e.length;t++)e[t].hideBalloonReal()}})}(),function(){var m=window.AmCharts;m.AmXYChart=m.Class({inherits:m.AmRectangularChart,construct:function(t){this.type="xy",m.AmXYChart.base.construct.call(this,t),this.cname="AmXYChart",this.theme=t,this.createEvents("zoomed"),m.applyTheme(this,t,this.cname)},initChart:function(){m.AmXYChart.base.initChart.call(this),this.dataChanged&&this.updateData(),this.drawChart(),!this.marginsUpdated&&this.autoMargins&&(this.marginsUpdated=!0,this.measureMargins());var t=this.marginLeftReal,e=this.marginTopReal,i=this.plotAreaWidth,n=this.plotAreaHeight;this.graphsSet.clipRect(t,e,i,n),this.bulletSet.clipRect(t,e,i,n),this.trendLinesSet.clipRect(t,e,i,n),this.drawGraphs=!0,this.showZB()},prepareForExport:function(){var t=this.bulletSet;t.clipPath&&this.container.remove(t.clipPath)},createValueAxes:function(){var t=[],e=[];this.xAxes=t,this.yAxes=e;var i,n,a=this.valueAxes;for(n=0;n<a.length;n++){var s=(i=a[n]).position;"top"!=s&&"bottom"!=s||(i.rotate=!0),i.setOrientation(i.rotate),"V"==(s=i.orientation)&&e.push(i),"H"==s&&t.push(i)}for(0===e.length&&((i=new m.ValueAxis(this.theme)).rotate=!1,i.setOrientation(!1),a.push(i),e.push(i)),0===t.length&&((i=new m.ValueAxis(this.theme)).rotate=!0,i.setOrientation(!0),a.push(i),t.push(i)),n=0;n<a.length;n++)this.processValueAxis(a[n],n);for(t=this.graphs,n=0;n<t.length;n++)this.processGraph(t[n],n)},drawChart:function(){m.AmXYChart.base.drawChart.call(this);var t=this.chartData;this.legend&&(this.legend.valueText=void 0),0<this.realWidth&&0<this.realHeight&&(m.ifArray(t)?(this.chartScrollbar&&this.updateScrollbars(),this.zoomChart()):this.cleanChart(),(t=this.scrollbarH)&&(this.hideXScrollbar?(t&&t.destroy(),this.scrollbarH=null):t.draw()),(t=this.scrollbarV)&&(this.hideYScrollbar?(t.destroy(),this.scrollbarV=null):t.draw()),this.zoomScrollbar()),this.autoMargins&&!this.marginsUpdated||this.dispDUpd()},cleanChart:function(){m.callMethod("destroy",[this.valueAxes,this.graphs,this.scrollbarV,this.scrollbarH,this.chartCursor])},zoomChart:function(){this.zoomObjects(this.valueAxes),this.zoomObjects(this.graphs),this.zoomTrendLines(),this.prevPlotAreaWidth=this.plotAreaWidth,this.prevPlotAreaHeight=this.plotAreaHeight},validateData:function(){if(this.zoomOutOnDataUpdate)for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].minZoom=NaN,t[e].maxZoom=NaN;m.AmXYChart.base.validateData.call(this)},zoomObjects:function(t){var e,i=t.length;for(e=0;e<i;e++)t[e].zoom(0,this.chartData.length-1)},updateData:function(){this.parseData();var t,e,i=this.chartData,n=i.length-1,a=this.graphs,s=this.dataProvider,o=-1/0,r=1/0;if(s){for(t=0;t<a.length;t++)if((e=a[t]).data=i,e.zoom(0,n),e=e.valueField){var l;for(l=0;l<s.length;l++){var h=Number(s[l][e]);null!==h&&(o<h&&(o=h),h<r&&(r=h))}}for(isNaN(this.minValue)||(r=this.minValue),isNaN(this.maxValue)||(o=this.maxValue),t=0;t<a.length;t++)(e=a[t]).maxValue=o,e.minValue=r;(i=this.chartCursor)&&(i.type="crosshair",i.valueBalloonsEnabled=!1),this.dataChanged=!1,this.dispatchDataUpdated=!0}},processValueAxis:function(t){t.chart=this,t.minMaxField="H"==t.orientation?"x":"y",t.min=NaN,t.max=NaN},processGraph:function(t){m.isString(t.xAxis)&&(t.xAxis=this.getValueAxisById(t.xAxis)),m.isString(t.yAxis)&&(t.yAxis=this.getValueAxisById(t.yAxis)),t.xAxis||(t.xAxis=this.xAxes[0]),t.yAxis||(t.yAxis=this.yAxes[0]),t.valueAxis=t.yAxis},parseData:function(){m.AmXYChart.base.parseData.call(this),this.chartData=[];var t,e=this.dataProvider,i=this.valueAxes,n=this.graphs;if(e)for(t=0;t<e.length;t++){var a,s={axes:{},x:{},y:{}},o=this.dataDateFormat,r=e[t];for(a=0;a<i.length;a++){var l,h=i[a].id;for(s.axes[h]={},s.axes[h].graphs={},l=0;l<n.length;l++){var c=n[l],d=c.id;if(c.xAxis.id==h||c.yAxis.id==h){var u={};u.serialDataItem=s,u.index=t;var p={},f=r[c.valueField];null!==f&&(f=Number(f),isNaN(f)||(p.value=f)),null!==(f=r[c.xField])&&("date"==c.xAxis.type&&(f=m.getDate(r[c.xField],o).getTime()),f=Number(f),isNaN(f)||(p.x=f)),null!==(f=r[c.yField])&&("date"==c.yAxis.type&&(f=m.getDate(r[c.yField],o).getTime()),f=Number(f),isNaN(f)||(p.y=f)),null!==(f=r[c.errorField])&&(f=Number(f),isNaN(f)||(p.error=f)),u.values=p,this.processFields(c,u,r),u.serialDataItem=s,u.graph=c,s.axes[h].graphs[d]=u}}}this.chartData[t]=s}this.start=0,this.end=this.chartData.length-1},formatString:function(t,e,i){var n,a,s=e.graph,o=s.numberFormatter;return o||(o=this.nf),"date"==e.graph.xAxis.type&&(n=m.formatDate(new Date(e.values.x),s.dateFormat,this),a=RegExp("\\[\\[x\\]\\]","g"),t=t.replace(a,n)),"date"==e.graph.yAxis.type&&(n=m.formatDate(new Date(e.values.y),s.dateFormat,this),a=RegExp("\\[\\[y\\]\\]","g"),t=t.replace(a,n)),-1!=(t=m.formatValue(t,e.values,["value","x","y"],o)).indexOf("[[")&&(t=m.formatDataContextValue(t,e.dataContext)),m.AmXYChart.base.formatString.call(this,t,e,i)},addChartScrollbar:function(t){if(m.callMethod("destroy",[this.chartScrollbar,this.scrollbarH,this.scrollbarV]),t){this.chartScrollbar=t,this.scrollbarHeight=t.scrollbarHeight;var e="backgroundColor backgroundAlpha selectedBackgroundColor selectedBackgroundAlpha scrollDuration resizeEnabled hideResizeGrips scrollbarHeight updateOnReleaseOnly".split(" ");if(!this.hideYScrollbar){var i=new m.ChartScrollbar(this.theme);i.skipEvent=!0,(i.chart=this).listenTo(i,"zoomed",this.handleScrollbarValueZoom),m.copyProperties(t,i,e),i.rotate=!0,this.scrollbarV=i}this.hideXScrollbar||((i=new m.ChartScrollbar(this.theme)).skipEvent=!0,(i.chart=this).listenTo(i,"zoomed",this.handleScrollbarValueZoom),m.copyProperties(t,i,e),i.rotate=!1,this.scrollbarH=i)}},updateTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i=m.processObject(i,m.TrendLine,this.theme);(e[t]=i).chart=this;var n=i.valueAxis;m.isString(n)&&(i.valueAxis=this.getValueAxisById(n)),n=i.valueAxisX,m.isString(n)&&(i.valueAxisX=this.getValueAxisById(n)),i.id||(i.id="trendLineAuto"+t+"_"+(new Date).getTime()),i.valueAxis||(i.valueAxis=this.yAxes[0]),i.valueAxisX||(i.valueAxisX=this.xAxes[0])}},updateMargins:function(){m.AmXYChart.base.updateMargins.call(this);var t=this.scrollbarV;t&&(this.getScrollbarPosition(t,!0,this.yAxes[0].position),this.adjustMargins(t,!0)),(t=this.scrollbarH)&&(this.getScrollbarPosition(t,!1,this.xAxes[0].position),this.adjustMargins(t,!1))},updateScrollbars:function(){m.AmXYChart.base.updateScrollbars.call(this);var t=this.scrollbarV;t&&(this.updateChartScrollbar(t,!0),t.valueAxes=this.yAxes,t.gridAxis||(t.gridAxis=this.yAxes[0])),(t=this.scrollbarH)&&(this.updateChartScrollbar(t,!1),t.valueAxes=this.xAxes,t.gridAxis||(t.gridAxis=this.xAxes[0]))},removeChartScrollbar:function(){m.callMethod("destroy",[this.scrollbarH,this.scrollbarV]),this.scrollbarV=this.scrollbarH=null},handleReleaseOutside:function(t){m.AmXYChart.base.handleReleaseOutside.call(this,t),m.callMethod("handleReleaseOutside",[this.scrollbarH,this.scrollbarV])},update:function(){m.AmXYChart.base.update.call(this),this.scrollbarH&&this.scrollbarH.update&&this.scrollbarH.update(),this.scrollbarV&&this.scrollbarV.update&&this.scrollbarV.update()},zoomScrollbar:function(){this.zoomValueScrollbar(this.scrollbarV),this.zoomValueScrollbar(this.scrollbarH)},handleCursorZoomReal:function(t,e,i,n){isNaN(t)||isNaN(e)||this.relativeZoomValueAxes(this.xAxes,t,e),isNaN(i)||isNaN(n)||this.relativeZoomValueAxes(this.yAxes,i,n),this.updateAfterValueZoom()},handleCursorZoomStarted:function(){if(this.xAxes){var t=this.xAxes[0];this.startX0=t.relativeStart,this.endX0=t.relativeEnd,t.reversed&&(this.startX0=1-t.relativeEnd,this.endX0=1-t.relativeStart)}this.yAxes&&(t=this.yAxes[0],this.startY0=t.relativeStart,this.endY0=t.relativeEnd,t.reversed&&(this.startY0=1-t.relativeEnd,this.endY0=1-t.relativeStart))},updateChartCursor:function(){m.AmXYChart.base.updateChartCursor.call(this);var t=this.chartCursor;if(t){t.valueLineEnabled=!0,t.categoryLineAxis||(t.categoryLineAxis=this.xAxes[0]);var e=this.valueAxis;if(t.valueLineBalloonEnabled){var i=t.categoryBalloonAlpha,n=t.categoryBalloonColor,a=t.color;void 0===n&&(n=t.cursorColor);for(var s=0;s<this.valueAxes.length;s++){var o=(e=this.valueAxes[s]).balloon;o||(o={}),(o=m.extend(o,this.balloon,!0)).fillColor=n,o.balloonColor=n,o.fillAlpha=i,o.borderColor=n,o.color=a,e.balloon=o}}else for(i=0;i<this.valueAxes.length;i++)(e=this.valueAxes[i]).balloon&&(e.balloon=null);t.zoomable&&(this.hideYScrollbar||(t.vZoomEnabled=!0),this.hideXScrollbar||(t.hZoomEnabled=!0))}},handleCursorPanning:function(t){var e,i=t.deltaX,n=t.delta2X;isNaN(n)&&(n=i,e=!0);var a=this.endX0,s=this.startX0,o=a-s;n=a-o*n,a=o;e||(a=0),i=m.fitToBounds(s-o*i,0,1-a),n=m.fitToBounds(n,a,1),this.relativeZoomValueAxes(this.xAxes,i,n),o=t.deltaY,t=t.delta2Y,isNaN(t)&&(t=o,e=!0),o=(n=this.endY0)+(s=n-(i=this.startY0))*o,n=s,e||(n=0),e=m.fitToBounds(i+s*t,0,1-n),o=m.fitToBounds(o,n,1),this.relativeZoomValueAxes(this.yAxes,e,o),this.updateAfterValueZoom()},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,"V"==t.valueAxis.orientation?this.yAxes:this.xAxes)},showZB:function(){var t,e=this.valueAxes;if(e)for(var i=0;i<e.length;i++){var n=e[i];0!==n.relativeStart&&(t=!0),1!=n.relativeEnd&&(t=!0)}m.AmXYChart.base.showZB.call(this,t)}})}(),function(s){var o={bodyOverflow:"auto",firstInit:!0,htmlOverflow:"auto",popins:[],windowWidth:void 0,scrollbarWidth:void 0,fixedElements:s(".marypopin-fixed")},r=function(t,e){o.popins.push(this),o.firstInit&&function(){o.firstInit=!1,o.mask=s("#marypopin-mask"),0==o.mask.length&&(o.mask=s('<div id="marypopin-mask"></div>'),o.mask.css({bottom:0,display:"none",left:0,position:"fixed",right:0,top:0,"z-index":99999,overflow:"auto","overflow-y":"scroll","-webkit-overflow-scrolling":"touch"}).appendTo("body").click(function(i){s.each(o.popins,function(t,e){e.isOpen&&0===s(i.target).closest(e.popin).length&&e.settings.maskClick&&e.close()})}));document.onkeydown=function(t){27==(t=t||window.event).keyCode&&s.each(o.popins,function(t,e){e.isOpen&&e.close()})},l(),s(window).resize(function(){l(),h(),s("html, body").css({width:o.windowWidth}),s.each(o.popins,function(t,e){1==e.isOpen&&e.positionPopin()})})}(),s(t).hide().appendTo(o.mask);var i,n,a=s.extend({triggers:void 0,position:"middle",closeSelector:".marypopin-close",speed:300,maskClick:!0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},e||{});this.settings=a,this.popin=s(t),this.isOpen=!1,function(){var t=s('<div id="marypopin-scrollbar-test"></div>');t.css({height:100,left:0,overflow:"scroll",position:"absolute",top:-9e3,width:100}).appendTo("body");var e=t.get(0);o.scrollbarWidth=e.offsetWidth-e.clientWidth,t.remove()}(),null!=this.settings.triggers&&s(this.settings.triggers).click((i=this,function(t){t.preventDefault(),i.open(t.target)})),s(t).on("click",this.settings.closeSelector,(n=this,function(t){t.preventDefault(),n.close(t.target)}))};function n(t,e){t.isOpen=!0,s("body").on("touchmove",function(t){s(t.target).closest("#marypopin-mask").length<=0&&t.preventDefault()}),"function"==typeof t.settings.beforeOpen&&t.settings.beforeOpen(t,e),setTimeout(function(){t.positionPopin()},0),t.popin.addClass("animate-on").fadeIn(t.settings.speed,function(){"function"==typeof t.settings.afterOpen&&t.settings.afterOpen(t,e),s(this).removeClass("animate-on")})}function a(t,e,i){t.isOpen=!1,"function"==typeof t.settings.beforeClose&&t.settings.beforeClose(t,e),t.popin.addClass("animate-off").fadeOut(t.settings.speed,function(){s("body").off("touchmove"),"function"==typeof t.settings.afterClose&&t.settings.afterClose(t,e),"function"==typeof i&&i(),s(this).removeClass("animate-off")})}function l(){void 0!==window.innerHeight?o.windowHeight=window.innerHeight:void 0!==document.documentElement&&void 0!==document.documentElement.clientHeight&&0!=document.documentElement.clientHeight?o.windowHeight=document.documentElement.clientHeight:o.windowHeight=s(window).height()}function h(){o.windowWidth=s(window).width()}r.prototype.positionPopin=function(){var e=this;setTimeout(function(){switch(e.settings.position){case"top":var t=0;break;case"middle":(t=Math.floor((o.windowHeight-e.popin.outerHeight(!1))/2))<0&&(t=0)}e.popin.css({position:"relative","margin-top":t+"px"})},0)},r.prototype.open=function(t){var i,e;0!==s("#marypopin-mask").children(":visible").length?(s.each(o.popins,function(t,e){e.isOpen&&(i=e)}),a(i,void 0,(e=this,function(){n(e,t)}))):(o.htmlOverflow=s("html").css("overflow"),o.bodyOverflow=s("body").css("overflow"),h(),setTimeout(function(){s("html, body").css({overflow:"hidden",width:o.windowWidth}),o.fixedElements.css("padding-right",o.scrollbarWidth),setTimeout(function(){o.mask.fadeIn(300)},0)},0),n(this,t))},r.prototype.close=function(t){o.mask.is(":visible")&&(setTimeout(function(){o.mask.fadeOut(300,function(){s("html").css({overflow:o.htmlOverflow,width:"auto"}),s("body").css({overflow:o.bodyOverflow,width:"auto"}),o.fixedElements.css({"padding-right":""})})},0),a(this,t))},s.fn.marypopin=function(a){return this.each(function(t,e){var i=s(e),n=i.data("marypopin");if(n&&n[a])return n[a].apply(n);if(n&&!n[a])!function(){window.console&&console.log&&console.log("[MaryPopin] "+Array.prototype.join.call(arguments," "))}("method not available");else{if("string"==typeof a||"object"==typeof a&&(a.jquery||a.tagName)){if(r.prototype[a])return(n=new r(this))[a].apply(n);n=new r(this,{triggers:a})}else n=new r(this,a);i.data("marypopin",n)}})}}(jQuery),function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];function benchmark(t,e){log(t+","+((new Date).getTime()-e.getTime())+"ms")}function log(t){"undefined"!=typeof console&&void 0!==console.debug?console.log(t):alert(t)}function buildParserCache(t,e){if(t.config.debug)var i="";if(0!=t.tBodies.length){var n=t.tBodies[0].rows;if(n[0])for(var a=[],s=n[0].cells.length,o=0;o<s;o++){var r=!1;$.metadata&&$(e[o]).metadata()&&$(e[o]).metadata().sorter?r=getParserById($(e[o]).metadata().sorter):t.config.headers[o]&&t.config.headers[o].sorter&&(r=getParserById(t.config.headers[o].sorter)),r||(r=detectParserForColumn(t,n,-1,o)),t.config.debug&&(i+="column:"+o+" parser:"+r.id+"\n"),a.push(r)}return t.config.debug&&log(i),a}}function detectParserForColumn(t,e,i,n){for(var a=parsers.length,s=!1,o=!1,r=!0;""==o&&r;)e[++i]?(s=getNodeFromRowAndCellIndex(e,i,n),o=trimAndGetNodeText(t.config,s),t.config.debug&&log("Checking if value was empty on row:"+i)):r=!1;for(var l=1;l<a;l++)if(parsers[l].is(o,t,s))return parsers[l];return parsers[0]}function getNodeFromRowAndCellIndex(t,e,i){return t[e].cells[i]}function trimAndGetNodeText(t,e){return $.trim(getElementText(t,e))}function getParserById(t){for(var e=parsers.length,i=0;i<e;i++)if(parsers[i].id.toLowerCase()==t.toLowerCase())return parsers[i];return!1}function buildCache(t){if(t.config.debug)var e=new Date;if(0!=t.tBodies.length){for(var i=t.tBodies[0]&&t.tBodies[0].rows.length||0,n=t.tBodies[0].rows[0]&&t.tBodies[0].rows[0].cells.length||0,a=t.config.parsers,s={row:[],normalized:[]},o=0;o<i;++o){var r=$(t.tBodies[0].rows[o]),l=[];if(r.hasClass(t.config.cssChildRow))s.row[s.row.length-1]=s.row[s.row.length-1].add(r);else{s.row.push(r);for(var h=0;h<n;++h)l.push(a[h].format(getElementText(t.config,r[0].cells[h]),t,r[0].cells[h]));l.push(s.normalized.length),s.normalized.push(l),l=null}}return t.config.debug&&benchmark("Building cache for "+i+" rows:",e),s}}function getElementText(t,e){return e?(t.supportsTextContent||(t.supportsTextContent=e.textContent||!1),"simple"==t.textExtraction?t.supportsTextContent?e.textContent:e.childNodes[0]&&e.childNodes[0].hasChildNodes()?e.childNodes[0].innerHTML:e.innerHTML:"function"==typeof t.textExtraction?t.textExtraction(e):$(e).text()):""}function appendToTable(t,e){if(t.config.debug)var i=new Date;for(var n=e,a=n.row,s=n.normalized,o=s.length,r=s[0].length-1,l=$(t.tBodies[0]),h=[],c=0;c<o;c++){var d=s[c][r];if(h.push(a[d]),!t.config.appender)for(var u=a[d].length,p=0;p<u;p++)l[0].appendChild(a[d][p])}t.config.appender&&t.config.appender(t,h),h=null,t.config.debug&&benchmark("Rebuilt table:",i),applyWidget(t),setTimeout(function(){$(t).trigger("sortEnd")},0)}function buildHeaders(i){if(i.config.debug)var t=new Date;$.metadata;var n=computeTableHeaderCellIndexes(i);return $tableHeaders=$(i.config.selectorHeaders,i).each(function(t){if(this.column=n[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(i.config.sortInitialOrder),this.count=this.order,(checkHeaderMetadata(this)||checkHeaderOptions(i,t))&&(this.sortDisabled=!0),checkHeaderOptionsSortingLocked(i,t)&&(this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(i,t)),!this.sortDisabled){var e=$(this).addClass(i.config.cssHeader);i.config.onRenderHeader&&i.config.onRenderHeader.apply(e)}i.config.headerList[t]=this}),i.config.debug&&(benchmark("Built headers:",t),log($tableHeaders)),$tableHeaders}function computeTableHeaderCellIndexes(t){for(var e=[],i={},n=t.getElementsByTagName("THEAD")[0].getElementsByTagName("TR"),a=0;a<n.length;a++)for(var s=n[a].cells,o=0;o<s.length;o++){var r,l=s[o],h=l.parentNode.rowIndex,c=h+"-"+l.cellIndex,d=l.rowSpan||1,u=l.colSpan||1;void 0===e[h]&&(e[h]=[]);for(var p=0;p<e[h].length+1;p++)if(void 0===e[h][p]){r=p;break}i[c]=r;for(p=h;p<h+d;p++){void 0===e[p]&&(e[p]=[]);for(var f=e[p],m=r;m<r+u;m++)f[m]="x"}}return i}function checkCellColSpan(t,e,i){for(var n=[],a=t.tHead.rows,s=a[i].cells,o=0;o<s.length;o++){var r=s[o];1<r.colSpan?n=n.concat(checkCellColSpan(t,headerArr,i++)):(1==t.tHead.length||1<r.rowSpan||!a[i+1])&&n.push(r)}return n}function checkHeaderMetadata(t){return!(!$.metadata||!1!==$(t).metadata().sorter)}function checkHeaderOptions(t,e){return!(!t.config.headers[e]||!1!==t.config.headers[e].sorter)}function checkHeaderOptionsSortingLocked(t,e){return!(!t.config.headers[e]||!t.config.headers[e].lockedOrder)&&t.config.headers[e].lockedOrder}function applyWidget(t){for(var e=t.config.widgets,i=e.length,n=0;n<i;n++)getWidgetById(e[n]).format(t)}function getWidgetById(t){for(var e=widgets.length,i=0;i<e;i++)if(widgets[i].id.toLowerCase()==t.toLowerCase())return widgets[i]}function formatSortingOrder(t){return"Number"!=typeof t?"desc"==t.toLowerCase()?1:0:1==t?1:0}function isValueInArray(t,e){for(var i=e.length,n=0;n<i;n++)if(e[n][0]==t)return!0;return!1}function setHeadersCss(t,e,i,n){e.removeClass(n[0]).removeClass(n[1]);var a=[];e.each(function(t){this.sortDisabled||(a[this.column]=$(this))});for(var s=i.length,o=0;o<s;o++)a[i[o][0]].addClass(n[i[o][1]])}function fixColumnWidth(t,e){if(t.config.widthFixed){var i=$("<colgroup>");$("tr:first td",t.tBodies[0]).each(function(){i.append($("<col>").css("width",$(this).width()))}),$(t).prepend(i)}}function updateHeaderSortCount(t,e){for(var i=t.config,n=e.length,a=0;a<n;a++){var s=e[a],o=i.headerList[s[0]];o.count=s[1],o.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;for(var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length,i=0;i<l;i++){var c=sortList[i][0],order=sortList[i][1],s="text"==table.config.parsers[c].type?makeSortFunction("text",0==order?"asc":"desc",c):makeSortFunction("numeric",0==order?"asc":"desc",c),e="e"+i;dynamicExp+="var "+e+" = "+s,dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++)dynamicExp+="}; ";return dynamicExp+="return 0; ",dynamicExp+="}; ",table.config.debug&&benchmark("Evaling expression:"+dynamicExp,new Date),eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime),cache}function makeSortFunction(t,e,i){var n="a["+i+"]",a="b["+i+"]";return"text"==t&&"asc"==e?"("+n+" == "+a+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : ("+n+" < "+a+") ? -1 : 1 )));":"text"==t&&"desc"==e?"("+n+" == "+a+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+n+") ? -1 : 1 )));":"numeric"==t&&"asc"==e?"("+n+" === null && "+a+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : "+n+" - "+a+"));":"numeric"==t&&"desc"==e?"("+n+" === null && "+a+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+n+"));":void 0}function makeSortText(t){return"((a["+t+"] < b["+t+"]) ? -1 : ((a["+t+"] > b["+t+"]) ? 1 : 0));"}function makeSortTextDesc(t){return"((b["+t+"] < a["+t+"]) ? -1 : ((b["+t+"] > a["+t+"]) ? 1 : 0));"}function makeSortNumeric(t){return"a["+t+"]-b["+t+"];"}function makeSortNumericDesc(t){return"b["+t+"]-a["+t+"];"}function sortText(t,e){return table.config.sortLocaleCompare?t.localeCompare(e):t<e?-1:e<t?1:0}function sortTextDesc(t,e){return table.config.sortLocaleCompare?e.localeCompare(t):e<t?-1:t<e?1:0}function sortNumeric(t,e){return t-e}function sortNumericDesc(t,e){return e-t}function getCachedSortType(t,e){return t[e].type}this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1},this.benchmark=benchmark,this.construct=function(t){return this.each(function(){if(this.tHead&&this.tBodies){var r,l,h,c;this.config={},c=$.extend(this.config,$.tablesorter.defaults,t),r=$(this),$.data(this,"tablesorter",c),l=buildHeaders(this),this.config.parsers=buildParserCache(this,l),h=buildCache(this);var d=[c.cssDesc,c.cssAsc];fixColumnWidth(this),l.click(function(t){var e=r[0].tBodies[0]&&r[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&0<e){r.trigger("sortStart");$(this);var i=this.column;if(this.order=this.count++%2,this.lockedOrder&&(this.order=this.lockedOrder),t[c.sortMultiSortKey])if(isValueInArray(i,c.sortList))for(o=0;o<c.sortList.length;o++){var n=c.sortList[o],a=c.headerList[n[0]];n[0]==i&&(a.count=n[1],a.count++,n[1]=a.count%2)}else c.sortList.push([i,this.order]);else{if(c.sortList=[],null!=c.sortForce)for(var s=c.sortForce,o=0;o<s.length;o++)s[o][0]!=i&&c.sortList.push(s[o]);c.sortList.push([i,this.order])}return setTimeout(function(){setHeadersCss(r[0],l,c.sortList,d),appendToTable(r[0],multisort(r[0],c.sortList,h))},1),!1}}).mousedown(function(){if(c.cancelSelection)return!(this.onselectstart=function(){return!1})}),r.bind("update",function(){var t=this;setTimeout(function(){t.config.parsers=buildParserCache(t,l),h=buildCache(t)},1)}).bind("updateCell",function(t,e){var i=this.config,n=[e.parentNode.rowIndex-1,e.cellIndex];h.normalized[n[0]][n[1]]=i.parsers[n[1]].format(getElementText(i,e),e)}).bind("sorton",function(t,e){$(this).trigger("sortStart"),c.sortList=e;var i=c.sortList;updateHeaderSortCount(this,i),setHeadersCss(this,l,i,d),appendToTable(this,multisort(this,i,h))}).bind("appendCache",function(){appendToTable(this,h)}).bind("applyWidgetId",function(t,e){getWidgetById(e).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(c.sortList=$(this).metadata().sortlist),0<c.sortList.length&&r.trigger("sorton",[c.sortList]),applyWidget(this)}})},this.addParser=function(t){for(var e=parsers.length,i=!0,n=0;n<e;n++)parsers[n].id.toLowerCase()==t.id.toLowerCase()&&(i=!1);i&&parsers.push(t)},this.addWidget=function(t){widgets.push(t)},this.formatFloat=function(t){var e=parseFloat(t);return isNaN(e)?0:e},this.formatInt=function(t){var e=parseInt(t);return isNaN(e)?0:e},this.isDigit=function(t,e){return/^[-+]?\d*$/.test($.trim(t.replace(/[,.']/g,"")))},this.clearTableBody=function(t){if($.browser.msie){(function(){for(;this.firstChild;)this.removeChild(this.firstChild)}).apply(t.tBodies[0])}else t.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(t){return!0},format:function(t){return $.trim(t.toLocaleLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(t,e){var i=e.config;return $.tablesorter.isDigit(t,i)},format:function(t){return $.tablesorter.formatFloat(t)},type:"numeric"}),ts.addParser({id:"currency",is:function(t){return/^[£$€?.]/.test(t)},format:function(t){return $.tablesorter.formatFloat(t.replace(new RegExp(/[£$€]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(t){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(t)},format:function(t){for(var e=t.split("."),i="",n=e.length,a=0;a<n;a++){var s=e[a];2==s.length?i+="0"+s:i+=s}return $.tablesorter.formatFloat(i)},type:"numeric"}),ts.addParser({id:"url",is:function(t){return/^(https?|ftp|file):\/\/$/.test(t)},format:function(t){return jQuery.trim(t.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(t){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(t)},format:function(t){return $.tablesorter.formatFloat(""!=t?new Date(t.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(t){return/\%$/.test($.trim(t))},format:function(t){return $.tablesorter.formatFloat(t.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(t){return t.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(t){return $.tablesorter.formatFloat(new Date(t).getTime())},type:"numeric"}),ts.addParser({id:"shortDate",is:function(t){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(t)},format:function(t,e){var i=e.config;return t=t.replace(/\-/g,"/"),"us"==i.dateFormat?t=t.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2"):"uk"==i.dateFormat?t=t.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1"):"dd/mm/yy"!=i.dateFormat&&"dd-mm-yy"!=i.dateFormat||(t=t.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")),$.tablesorter.formatFloat(new Date(t).getTime())},type:"numeric"}),ts.addParser({id:"time",is:function(t){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(t)},format:function(t){return $.tablesorter.formatFloat(new Date("2000/01/01 "+t).getTime())},type:"numeric"}),ts.addParser({id:"metadata",is:function(t){return!1},format:function(t,e,i){var n=e.config,a=n.parserMetadataName?n.parserMetadataName:"sortValue";return $(i).metadata()[a]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(e){if(e.config.debug)var t=new Date;var i,n,a=-1;$("tr:visible",e.tBodies[0]).each(function(t){(i=$(this)).hasClass(e.config.cssChildRow)||a++,n=a%2==0,i.removeClass(e.config.widgetZebra.css[n?0:1]).addClass(e.config.widgetZebra.css[n?1:0])}),e.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",t)}})}(jQuery),function(r,n,a){"use strict";var s=n.Raven?function(){var t;return(t=n.Raven).captureException.apply(t,arguments)}:function(){},l="brsOrderFrame",o=!1,h=!1,c=!1,d=!1;r.fn[l]=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=arguments;return this.each(function(){if(r.data(this,"plugin_"+l))"string"===r.type(e)&&r.data(this,"plugin_"+l)[e].apply(r.data(this,"plugin_"+l),Array.prototype.slice.call(i,1));else{var t=r.extend({},r.fn[l].defaults,e);p(t.orderframeCSSPath,t.orderframeJSPath),r.data(this,"plugin_"+l,u(this,t))}})},r.fn[l].defaults={orderframeCSSPath:"",orderframeJSPath:"",config:{}};var u=function(t,e){var i=r.extend(!0,{},r.fn[l].defaults,e),n=void 0,a=r(t),s=[],o={getApp:function(){return n},onApp:function(t){n?t(n):s.push(t)},appOn:function(e,i){var n=!1,a=function(){n=!0};return this.onApp(function(t){n||(a=t.on(e,i))}),a},appCommand:function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.onApp(function(t){return t[e].apply(t,_toConsumableArray(i))})}};return g(function(){n=new BrsOrderFrame({elt:t,config:i.config}),setTimeout(function(){a.trigger("brsOrderFrame:loaded",o),s.forEach(function(t){return t(n)}),s=void 0})}),o},p=function(t,e){var i=l+"-async-css";if(d||a.getElementById(i));else{if(!t)throw new Error("Invalid orderframeCSSPath: "+t);d=!0,f(i,t),o=!0,r("head").trigger(l+":cssLoaded")}void 0!==n.BrsOrderFrame&&(h=!0),h||c||(c=!0,m(e,function(t){if(t)throw t;h=!0,r("head").trigger(l+":jsLoaded")}))},f=function(t,e){var i=a.getElementsByTagName("head")[0],n=a.createElement("link");n.id=t,n.rel="stylesheet",n.type="text/css",n.href=e,n.media="all",i.appendChild(n)},m=function(t,n){r.ajax({cache:!0,url:t,dataType:"script",success:function(){return n()},error:function(t,e,i){return s("Error while loading orderframe with textStatus="+e+" and errorThrown="+i),n(new Error(i))}})},g=function(e){var i=r("head");function n(t){h&&o&&(e(),i.off(l+":cssLoaded",n),i.off(l+":jsLoaded",n))}i.on(l+":cssLoaded",n),i.on(l+":jsLoaded",n),n()}}(jQuery,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(A,k){function D(){return new Date(Date.UTC.apply(Date,arguments))}function w(){var t=new Date;return D(t.getFullYear(),t.getMonth(),t.getDate())}function s(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function t(t,e){return function(){return e!==k&&A.fn.datepicker.deprecated(e),this[t].apply(this,arguments)}}var e,i=(e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;i<n;i++)if(0<=this[i].valueOf()-e&&this[i].valueOf()-e<864e5)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(A.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var t=new i;return t.replace(this),t}},function(){var t=[];return t.push.apply(t,arguments),A.extend(t,e),t}),T=function(t,e){A.data(t,"datepicker",this),this._process_options(e),this.dates=new i,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=A(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=A(E.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};T.prototype={constructor:T,_resolveViewName:function(i){return A.each(E.viewModes,function(t,e){if(i===t||-1!==A.inArray(i,e.names))return i=t,!1}),i},_resolveDaysOfWeek:function(t){return A.isArray(t)||(t=t.split(/[,\s]*/)),A.map(t,Number)},_check_template:function(t){try{return t!==k&&""!==t&&((t.match(/[<>]/g)||[]).length<=0||0<A(t).length)}catch(t){return!1}},_process_options:function(t){this._o=A.extend({},this._o,t);var e=this.o=A.extend({},this._o),i=e.language;P[i]||(i=i.split("-")[0],P[i]||(i=c.language)),e.language=i,e.startView=this._resolveViewName(e.startView),e.minViewMode=this._resolveViewName(e.minViewMode),e.maxViewMode=this._resolveViewName(e.maxViewMode),e.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,e.startView)),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var n=E.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=E.parseDate(e.startDate,n,e.language,e.assumeNearbyYear):e.startDate=-1/0),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=E.parseDate(e.endDate,n,e.language,e.assumeNearbyYear):e.endDate=1/0),e.daysOfWeekDisabled=this._resolveDaysOfWeek(e.daysOfWeekDisabled||[]),e.daysOfWeekHighlighted=this._resolveDaysOfWeek(e.daysOfWeekHighlighted||[]),e.datesDisabled=e.datesDisabled||[],A.isArray(e.datesDisabled)||(e.datesDisabled=e.datesDisabled.split(",")),e.datesDisabled=A.map(e.datesDisabled,function(t){return E.parseDate(t,n,e.language,e.assumeNearbyYear)});var a=String(e.orientation).toLowerCase().split(/\s+/g),s=e.orientation.toLowerCase();if(a=A.grep(a,function(t){return/^auto|left|right|top|bottom$/.test(t)}),e.orientation={x:"auto",y:"auto"},s&&"auto"!==s)if(1===a.length)switch(a[0]){case"top":case"bottom":e.orientation.y=a[0];break;case"left":case"right":e.orientation.x=a[0]}else s=A.grep(a,function(t){return/^left|right$/.test(t)}),e.orientation.x=s[0]||"auto",s=A.grep(a,function(t){return/^top|bottom$/.test(t)}),e.orientation.y=s[0]||"auto";else;if(e.defaultViewDate instanceof Date||"string"==typeof e.defaultViewDate)e.defaultViewDate=E.parseDate(e.defaultViewDate,n,e.language,e.assumeNearbyYear);else if(e.defaultViewDate){var o=e.defaultViewDate.year||(new Date).getFullYear(),r=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=D(o,r,l)}else e.defaultViewDate=w()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,n,a=0;a<t.length;a++)e=t[a][0],2===t[a].length?(i=k,n=t[a][1]):3===t[a].length&&(i=t[a][1],n=t[a][2]),e.on(n,i)},_unapplyEvents:function(t){for(var e,i,n,a=0;a<t.length;a++)e=t[a][0],2===t[a].length?(n=k,i=t[a][1]):3===t[a].length&&(n=t[a][1],i=t[a][2]),e.off(i,n)},_buildEvents:function(){var t={keyup:A.proxy(function(t){-1===A.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:A.proxy(this.keydown,this),paste:A.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=A.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.inputField.length?this._events=[[this.inputField,t],[this.component,{click:A.proxy(this.show,this)}]]:this._events=[[this.element,{click:A.proxy(this.show,this),keydown:A.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:A.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:A.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":A.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:A.proxy(this.click,this)}],[this.picker,".prev, .next",{click:A.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:A.proxy(this.dayCellClick,this)}],[A(window),{resize:A.proxy(this.place,this)}],[A(document),{"mousedown touchstart":A.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,e){var i=e||this.dates.get(-1),n=this._utc_to_local(i);this.element.trigger({type:t,date:n,viewMode:this.viewMode,dates:A.map(this.dates,this._utc_to_local),format:A.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return E.formatDate(i,e,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&A(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var e;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==A.inArray("text/plain",t.originalEvent.clipboardData.types))e=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;e=window.clipboardData.getData("Text")}this.setDate(e),this.update(),t.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&D(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return A.map(this.dates,this._utc_to_local)},getUTCDates:function(){return A.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==k?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=A.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=A.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,A.map(t,this._utc_to_local)),this},setDate:t("setDates"),setUTCDate:t("setUTCDates"),remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(e){e===k&&(e=this.o.format);var i=this.o.language;return A.map(this.dates,function(t){return E.formatDate(t,e,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),e=this.picker.outerHeight(),i=A(this.o.container),n=i.width(),a="body"===this.o.container?A(document).scrollTop():i.scrollTop(),s=i.offset(),o=[0];this.element.parents().each(function(){var t=A(this).css("z-index");"auto"!==t&&0!==Number(t)&&o.push(Number(t))});var r=Math.max.apply(Math,o)+this.o.zIndexOffset,l=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=l.left-s.left,u=l.top-s.top;"body"!==this.o.container&&(u+=a),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=t-c)):l.left<0?(this.picker.addClass("datepicker-orient-left"),d-=l.left-10):n<d+t?(this.picker.addClass("datepicker-orient-right"),d+=c-t):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var p=this.o.orientation.y;if("auto"===p&&(p=-a+u-e<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+p),"top"===p?u-=e+parseInt(this.picker.css("padding-top")):u+=h,this.o.rtl){var f=n-(d+c);this.picker.css({top:u,right:f,zIndex:r})}else this.picker.css({top:u,left:d,zIndex:r});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],e=!1;return arguments.length?(A.each(arguments,A.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),e=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=A.map(i,A.proxy(function(t){return E.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=A.grep(i,A.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(i),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),e?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&e&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var t=this.o.weekStart,e="<tr>";for(this.o.calendarWeeks&&(e+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)e+='<th class="dow',-1!==A.inArray(t,this.o.daysOfWeekDisabled)&&(e+=" disabled"),e+='">'+P[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",i=0;i<12;i++)e+='<span class="month'+(t&&t.getMonth()===i?" focused":"")+'">'+P[this.o.language].monthsShort[i]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=A.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),a=w();return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<n?e.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>n)&&e.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&e.push("focused"),this.o.todayHighlight&&s(t,a)&&e.push("today"),-1!==this.dates.contains(t)&&e.push("active"),this.dateWithinRange(t)||e.push("disabled"),this.dateIsDisabled(t)&&e.push("disabled","disabled-date"),-1!==A.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&e.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!==A.inArray(t.valueOf(),this.range)&&e.push("selected"),t.valueOf()===this.range[0]&&e.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&e.push("range-end")),e},_fill_yearsView:function(t,e,i,n,a,s,o){for(var r,l,h,c="",d=i/10,u=this.picker.find(t),p=Math.floor(n/i)*i,f=p+9*d,m=Math.floor(this.viewDate.getFullYear()/d)*d,g=A.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/d)*d}),v=p-d;v<=f+d;v+=d)r=[e],l=null,v===p-d?r.push("old"):v===f+d&&r.push("new"),-1!==A.inArray(v,g)&&r.push("active"),(v<a||s<v)&&r.push("disabled"),v===m&&r.push("focused"),o!==A.noop&&((h=o(new Date(v,0,1)))===k?h={}:"boolean"==typeof h?h={enabled:h}:"string"==typeof h&&(h={classes:h}),!1===h.enabled&&r.push("disabled"),h.classes&&(r=r.concat(h.classes.split(/\s+/))),h.tooltip&&(l=h.tooltip)),c+='<span class="'+r.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+v+"</span>";u.find(".datepicker-switch").text(p+"-"+f),u.find("td").html(c)},fill:function(){var t,e,i=new Date(this.viewDate),a=i.getUTCFullYear(),n=i.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,r=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=P[this.o.language].today||P.en.today||"",c=P[this.o.language].clear||P.en.clear||"",d=P[this.o.language].titleFormat||P.en.titleFormat;if(!isNaN(a)&&!isNaN(n)){this.picker.find(".datepicker-days .datepicker-switch").text(E.formatDate(i,d,this.o.language)),this.picker.find("tfoot .today").text(h).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(c).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var u=D(a,n,0),p=u.getUTCDate();u.setUTCDate(p-(u.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(u);u.getUTCFullYear()<100&&f.setUTCFullYear(u.getUTCFullYear()),f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var m,g,v=[];u.valueOf()<f;){if((m=u.getUTCDay())===this.o.weekStart&&(v.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+u+(this.o.weekStart-m-7)%7*864e5),y=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),x=new Date(Number(x=D(y.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),w=(y-x)/864e5/7+1;v.push('<td class="cw">'+w+"</td>")}(g=this.getClassNames(u)).push("day");var T=u.getUTCDate();this.o.beforeShowDay!==A.noop&&((e=this.o.beforeShowDay(this._utc_to_local(u)))===k?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),!1===e.enabled&&g.push("disabled"),e.classes&&(g=g.concat(e.classes.split(/\s+/))),e.tooltip&&(t=e.tooltip),e.content&&(T=e.content)),g=A.isFunction(A.uniqueSort)?A.uniqueSort(g):A.unique(g),v.push('<td class="'+g.join(" ")+'"'+(t?' title="'+t+'"':"")+' data-date="'+u.getTime().toString()+'">'+T+"</td>"),t=null,m===this.o.weekEnd&&v.push("</tr>"),u.setUTCDate(u.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(v.join(""));var C=P[this.o.language].monthsTitle||P.en.monthsTitle||"Months",S=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?C:a).end().find("tbody span").removeClass("active");if(A.each(this.dates,function(t,e){e.getUTCFullYear()===a&&S.eq(e.getUTCMonth()).addClass("active")}),(a<s||r<a)&&S.addClass("disabled"),a===s&&S.slice(0,o).addClass("disabled"),a===r&&S.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==A.noop){var M=this;A.each(S,function(t,e){var i=new Date(a,t,1),n=M.o.beforeShowMonth(i);n===k?n={}:"boolean"==typeof n?n={enabled:n}:"string"==typeof n&&(n={classes:n}),!1!==n.enabled||A(e).hasClass("disabled")||A(e).addClass("disabled"),n.classes&&A(e).addClass(n.classes),n.tooltip&&A(e).prop("title",n.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,a,s,r,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,a,s,r,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,a,s,r,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,i=new Date(this.viewDate),n=i.getUTCFullYear(),a=i.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,r=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=1;switch(this.viewMode){case 0:t=n<=s&&a<=o,e=r<=n&&l<=a;break;case 4:h*=10;case 3:h*=10;case 2:h*=10;case 1:t=Math.floor(n/h)*h<=s,e=Math.floor(n/h)*h+h>=r}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(t){var e,i,n;t.preventDefault(),t.stopPropagation(),(e=A(t.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),e.hasClass("today")&&!e.hasClass("day")&&(this.setViewMode(0),this._setDate(w(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("month")||e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),1===this.viewMode?(n=e.parent().find("span").index(e),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(n)):(n=0,i=Number(e.text()),this.viewDate.setUTCFullYear(i)),this._trigger(E.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(D(i,n,1)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(t){var e=A(t.currentTarget).data("date"),i=new Date(e);this.o.updateViewDate&&(i.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),i.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(i)},navArrowsClick:function(t){var e=A(t.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(e*=12*E.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,e),this._trigger(E.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(e):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(t)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var i=new Date(t);return i.setUTCDate(t.getUTCDate()+e),i},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!(i=t)||isNaN(i.getTime()))return this.o.defaultViewDate;var i;if(!e)return t;var n,a,s=new Date(t.valueOf()),o=s.getUTCDate(),r=s.getUTCMonth(),l=Math.abs(e);if(e=0<e?1:-1,1===l)a=-1===e?function(){return s.getUTCMonth()===r}:function(){return s.getUTCMonth()!==n},n=r+e,s.setUTCMonth(n),n=(n+12)%12;else{for(var h=0;h<l;h++)s=this.moveMonth(s,e);n=s.getUTCMonth(),s.setUTCDate(o),a=function(){return n!==s.getUTCMonth()}}for(;a();)s.setUTCDate(--o),s.setUTCMonth(n);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,i){do{if(t=this[i](t,e),!this.dateWithinRange(t))return!1;i="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(t){return-1!==A.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||0<A.grep(this.o.datesDisabled,function(t){return s(e,t)}).length},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,i,n=!1,a=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(i=this.moveAvailableDate(a,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(i=this.moveAvailableDate(a,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?i=this.moveAvailableDate(a,e,"moveDay"):this.weekOfDateIsDisabled(a)||(i=this.moveAvailableDate(a,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(a,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(a,e,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;a=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(a),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}n&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+E.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var h=function(t,e){A.data(t,"datepicker",this),this.element=A(t),this.inputs=A.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,this.keepEmptyValues=e.keepEmptyValues,delete e.keepEmptyValues,a.call(A(this.inputs),e).on("changeDate",A.proxy(this.dateUpdated,this)),this.pickers=A.map(this.inputs,function(t){return A.data(t,"datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=A.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var i=A.map(this.dates,function(t){return t.valueOf()});A.each(this.pickers,function(t,e){e.setRange(i)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=A.data(t.target,"datepicker");if(i!==k){var n=i.getUTCDate(),a=this.keepEmptyValues,e=A.inArray(t.target,this.inputs),s=e-1,o=e+1,r=this.inputs.length;if(-1!==e){if(A.each(this.pickers,function(t,e){e.getUTCDate()||e!==i&&a||e.setUTCDate(n)}),n<this.dates[s])for(;0<=s&&n<this.dates[s];)this.pickers[s--].setUTCDate(n);else if(n>this.dates[o])for(;o<r&&n>this.dates[o];)this.pickers[o++].setUTCDate(n);this.updateDates(),delete this.updating}}}},destroy:function(){A.map(this.pickers,function(t){t.destroy()}),A(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var n=A.fn.datepicker,a=function(o){var r,l=Array.apply(null,arguments);if(l.shift(),this.each(function(){var t=A(this),e=t.data("datepicker"),i="object"==typeof o&&o;if(!e){var n=function(t,e){var i=A(t).data(),n={},a=new RegExp("^"+e.toLowerCase()+"([A-Z])");function s(t,e){return e.toLowerCase()}for(var o in e=new RegExp("^"+e.toLowerCase()),i)e.test(o)&&(n[o.replace(a,s)]=i[o]);return n}(this,"date"),a=function(t){var i={};if(P[t]||(t=t.split("-")[0],P[t])){var n=P[t];return A.each(d,function(t,e){e in n&&(i[e]=n[e])}),i}}(A.extend({},c,n,i).language),s=A.extend({},c,a,n,i);t.hasClass("input-daterange")||s.inputs?(A.extend(s,{inputs:s.inputs||t.find("input").toArray()}),e=new h(this,s)):e=new T(this,s),t.data("datepicker",e)}"string"==typeof o&&"function"==typeof e[o]&&(r=e[o].apply(e,l))}),r===k||r instanceof T||r instanceof h)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+o+" function)");return r};A.fn.datepicker=a;var c=A.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:A.noop,beforeShowMonth:A.noop,beforeShowYear:A.noop,beforeShowDecade:A.noop,beforeShowCentury:A.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},d=A.fn.datepicker.locale_opts=["format","rtl","weekStart"];A.fn.datepicker.Constructor=T;var P=A.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},E={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(t,e,i,a){if(!t)return k;if(t instanceof Date)return t;if("string"==typeof e&&(e=E.parseFormat(e)),e.toValue)return e.toValue(t,e,i);var n,s,o,r,l,h={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},c={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(t in c&&(t=c[t]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(t)){for(n=t.match(/([\-+]\d+)([dmwy])/gi),t=new Date,r=0;r<n.length;r++)s=n[r].match(/([\-+]\d+)([dmwy])/i),o=Number(s[1]),l=h[s[2].toLowerCase()],t=T.prototype[l](t,o);return T.prototype._zero_utc_time(t)}n=t&&t.match(this.nonpunctuation)||[];var d,u,p={},f=["yyyy","yy","M","MM","m","mm","d","dd"],m={yyyy:function(t,e){return t.setUTCFullYear(a?(!0===(n=a)&&(n=10),(i=e)<100&&(i+=2e3)>(new Date).getFullYear()+n&&(i-=100),i):e);var i,n},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};m.yy=m.yyyy,m.M=m.MM=m.mm=m.m,m.dd=m.d,t=w();var g=e.parts.slice();function v(){var t=this.slice(0,n[r].length),e=n[r].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(n.length!==g.length&&(g=A(g).filter(function(t,e){return-1!==A.inArray(e,f)}).toArray()),n.length===g.length){var b,y,x;for(r=0,b=g.length;r<b;r++){if(d=parseInt(n[r],10),s=g[r],isNaN(d))switch(s){case"MM":u=A(P[i].months).filter(v),d=A.inArray(u[0],P[i].months)+1;break;case"M":u=A(P[i].monthsShort).filter(v),d=A.inArray(u[0],P[i].monthsShort)+1}p[s]=d}for(r=0;r<f.length;r++)(x=f[r])in p&&!isNaN(p[x])&&(y=new Date(t),m[x](y,p[x]),isNaN(y)||(t=y))}return t},formatDate:function(t,e,i){if(!t)return"";if("string"==typeof e&&(e=E.parseFormat(e)),e.toDisplay)return e.toDisplay(t,e,i);var n={d:t.getUTCDate(),D:P[i].daysShort[t.getUTCDay()],DD:P[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:P[i].monthsShort[t.getUTCMonth()],MM:P[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,t=[];for(var a=A.extend([],e.separators),s=0,o=e.parts.length;s<=o;s++)a.length&&t.push(a.shift()),t.push(n[e.parts[s]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+c.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+c.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};E.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+E.headTemplate+"<tbody></tbody>"+E.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+"</table></div></div>",A.fn.datepicker.DPGlobal=E,A.fn.datepicker.noConflict=function(){return A.fn.datepicker=n,this},A.fn.datepicker.version="1.7.1",A.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},A(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=A(this);e.data("datepicker")||(t.preventDefault(),a.call(e,"show"))}),A(function(){a.call(A('[data-provide="datepicker-inline"]'))})}),AmCharts.translations.fr={monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],shortMonthNames:["Janv.","Févr.","Mars","Avril","Mai","Juin","Juil.","Août","Sept.","Oct.","Nov.","Déc."],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],shortDayNames:["Dim.","Lun.","Mar.","Mer.","Jeu.","Ven.","Sam."],zoomOutText:"Voir tous"},function(h,t,e){"use strict";var n="amCharts",c=0;h.fn[n]=function(t,e){var i=arguments;return this.each(function(){h.data(this,"plugin_"+n)?"string"===h.type(t)&&h.data(this,"plugin_"+n)[t].apply(h.data(this,"plugin_"+n),Array.prototype.slice.call(i,1)):h.data(this,"plugin_"+n,new s(this,t,e))})};var a=function(t){var e={instanceId:c,gradientType:"linear",colors:["#2A4D80","#3860A5","#4678CF","#5591F9","#63A9FF","#71C2FF","#7FDAFF","#8EF3FF","#9CFFFF","#DCFFFF"],fontFamily:"ProximaNova",titleField:"category-",decimalSeparator:",",thousandsSeparator:" ",sequencedAnimation:!1,startDuration:0,allLabels:[],balloon:{},titles:[],dataProvider:[],brs:{otherCategoryThreshold:0,otherCategoryLabel:"Autres",categoryField:"name",valueField:"value"}},i={type:"serial",categoryField:"category-",valueAxes:[{title:"Axis title"}],graphs:[{fillAlphas:1,id:"AmGraph-1",title:"graph 1",type:"column",valueField:"value-"}]};t.type||(t.type="pie");var n={};switch(t.type){case"pie":return(n=h.extend(!0,{},e,{type:"pie",angle:0,depth3D:0,balloonText:"[[title]]<br><b>[[value]]</b></span>",labelText:"[[percents]]%",startRadius:"0%",innerRadius:0,valueField:"value-",legend:{enabled:!0,align:"center",markerType:"circle"},brs:{otherCategoryThreshold:.5}},t)).titleField+=c,n.valueField+=c,n;case"serial":if(!t.graphs){return console.error("A graphs configuration object is expected for serial diagrams but none was provided.\nEx: \n"+JSON.stringify({amChartConfig:{graphs:[{balloonText:"[[title]] of [[category]]:[[value]]",fillAlphas:1,title:"graph 1",type:"column",valueField:"column-1"}]}},null,2)),{}}return 1<t.graphs.length||"line"==t.graphs[0].type?(i.graphs.length=0,(n=h.extend(!0,{},e,i,t)).categoryField=n.brs.commonField):1==t.graphs.length&&((n=h.extend(!0,{},e,i,t)).titleField+=c,n.categoryField+=c,n.graphs[0].valueField+=c),n;default:console.error("The chart type must be valid. Instead found: "+t.type)}},d=function(t,e){var i,n=[];for(var a in i=e[t.graphs[0].id].length,e)if(e[a].length!=i)return console.error("All the array must be the same length but '"+a+"' seems to be different.\nExpected size: "+i+"\nInstead found: "+e[a].length),[];for(var s in t.graphs)t.graphs[s].valueField=t.graphs[s].brsValueField+"-"+c+"-"+s;for(var o=0;o<i;o++){var r={};for(var l in r[t.brs.commonField]=e[t.graphs[0].id][o][t.graphs[0].commonField],t.graphs){var h=t.graphs[l];r[h.brsValueField+"-"+c+"-"+l]=e[h.id][o][h.brsValueField]}n.push(r)}return n};function s(t,e,i){this.element=h(t),this.options=a(e),this._name=n,this.init(i)}s.prototype.instance=function(){return this},s.prototype.init=function(t){this.element.trigger(n+":init"),this.options.dataProvider=function(t,e){var i,n,a=[];if(!e)return console.error("Error parsing datas"),a;switch(t.type){case"pie":i=t.titleField,n=t.valueField;break;case"serial":if(1<t.graphs.length||"line"==t.graphs[0].type)return d(t,e);i=t.titleField,n=t.graphs[0].valueField;break;default:i=t.titleField,n=t.valueField}var s={};s[i]=t.brs.otherCategoryLabel;for(var o=s[n]=0;o<e.length;o++){var r=e[o];if(t.brs.otherCategoryThreshold&&r[t.brs.valueField]<=t.brs.otherCategoryThreshold)s[n]+=r[t.brs.valueField];else{var l={};l[i]=r[t.brs.categoryField],l[n]=r[t.brs.valueField],delete r[t.brs.categoryField],delete r[t.brs.valueField],h.extend(!0,l,r),a.push(l)}}return s[t.valueField]&&a.push(s),a}(this.options,t);var e=this.element.get(0);AmCharts.makeChart(e,this.options);c++}}(jQuery,window,document),function(n,t,e){"use strict";var i="brsAlertEffect";function a(t,e){this.$element=n(t),this.$close=n(t).find("[data-alert-close]"),this.transitionsEnd="webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",this.isVisible=!1,this.options=n.extend({},n.fn[i].defaults,e),this._name=i,this.init()}n.fn[i]=function(t){var e=arguments;return this.each(function(){n.data(this,"plugin_"+i)?"string"===n.type(t)&&n.data(this,"plugin_"+i)[t].apply(n.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):n.data(this,"plugin_"+i,new a(this,t))})},n.fn[i].defaults={propertyName:"value",otherOption:[]},a.prototype.instance=function(){return this},a.prototype.init=function(){this.hideAlertBoxOnClick(),this.$element.hasClass("is-hidden is-visuallyhidden")||this.showAlertBox()},a.prototype.showAlertBox=function(){var t=this;this.$element.off().removeClass("is-hidden"),setTimeout(function(){t.$element.removeClass("is-visuallyhidden"),t.isVisible=!0},20)},a.prototype.hideAlertBox=function(e){var i=this;this.$element.addClass("is-visuallyhidden"),this.isVisible&&this.$element.on(i.transitionsEnd,function(t){"opacity"==t.originalEvent.propertyName&&n(t.target).hasClass("is-visuallyhidden")&&(i.$element.addClass("is-hidden"),"function"==typeof e&&e(),i.isVisible=!1)})},a.prototype.hideAlertBoxOnClick=function(){var e=this;this.$close.on("click",function(t){e.hideAlertBox(),t.preventDefault()})}}(jQuery,window,document),function(s,o,t){"use strict";var n="brsAutocomplete";function i(t,e){this.$element=s(t),this.options=s.extend({},s.fn[n].defaults,e),this._name=n,this._keydownTimeout=void 0,this.init()}s.fn[n]=function(t){var e=arguments;return this.each(function(){s.data(this,"plugin_"+n)?"string"===s.type(t)&&s.data(this,"plugin_"+n)[t].apply(s.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):s.data(this,"plugin_"+n,new i(this,t))})},i.prototype.instance=function(){return this},i.prototype.init=function(){var a=this;this._url=this.$element.data("autocomplete-url"),this._delay=300,this._minChars=this.$element.data("autocomplete-minchars"),this._asLink=this.$element.data("autocomplete-as-link"),this._isNullable=this.$element.data("autocomplete-nullable"),this._customSuggestions=this.$element.data("autocomplete-custom-suggestions"),this.$autocompleteInput=this.$element.find("[data-autocomplete-input]"),this.$autocompleteResults=this.$element.find("[data-autocomplete-results]"),this.$valueHiddenField=this.$element.find("[data-autocomplete-hidden-field-value]"),this.$labelHiddenField=this.$element.find("[data-autocomplete-hidden-field-label]"),this.$ajaxLoader=this.$element.find("[data-loader-circle]"),this.$searchIcon=this.$element.find("[data-autocomplete-icon]"),this.$autocompleteInput.on("keydown paste",function(t){null!=a._keydownTimeout&&clearTimeout(a._keydownTimeout),13==t.which&&t.preventDefault(),a._keydownTimeout=setTimeout(function(){var t=a.$autocompleteInput.val();if(!t||t.length<a._minChars)return t&&0<t.length?void a.refreshResults([{message:{label:"Saisissez au moins "+a._minChars+" caractères",context:"info"}}],t):void 0;if(a._url)a.sendRequest(t);else{for(var e={value:"1rPLGE",label:"Société Générale"},i=[],n=0;n<15;n++)i.push(e);a.refreshResults(i,t)}},a._delay)}),this.$autocompleteInput.blur(function(t){a.closeResults(),a.$element.data("autocompleteValue")&&a.$element.data("autocompleteText")&&a.$element.data("autocompleteText")===a.$autocompleteInput.val()||(a._isNullable?a.setSelectedValue(null,null):a.$autocompleteInput.val(""))})},i.prototype.closeResults=function(){this.$autocompleteResults.html(""),this.$autocompleteResults.css("display","none")},i.prototype.sendRequest=function(e){var i=this;i.$searchIcon.hide(),i.$ajaxLoader.show(),s.ajax({url:this._url,data:{q:e},cache:!0}).done(function(t){i.$ajaxLoader.hide(),i.$searchIcon.show(),t.results&&i.refreshResults(t.results,e)}).fail(function(){i.$ajaxLoader.hide(),i.$searchIcon.show()})},i.prototype.refreshResults=function(t,e){var i=this;this.closeResults();var a,n=[];t.forEach(function(e){if("message"in e){var t="context"in e.message?e.message.context:"info";(a=s("<div />")).addClass("c-autocomplete__item c-autocomplete__item--message-"+t),a.text(e.message.label),n.push(a[0])}else(a=i._asLink?s("<a />",{href:e.link,mousedown:function(t){o.location=s(this).attr("href"),i.setSelectedValue(s(this).data("autocompleteItemValue"),e.label)}}):s("<div />",{mousedown:function(t){i.setSelectedValue(s(this).data("autocompleteItemValue"),e.label)}})).addClass("c-autocomplete__item").attr("data-autocomplete-item-value",e.value),i._customSuggestions&&"resultLabel"in e?s.each(e.resultLabel.rows,function(t,e){var n=s("<"+e.tag+" "+e.attributes+" ></"+e.tag+">");s.each(e.elements,function(t,e){var i=s("<"+e.tag+" "+e.attributes+" ></"+e.tag+">");i.text(e.content),n.append(i)}),a.append(n)}):a.text(e.label),n.push(a[0])}),i.$autocompleteResults.css("display","block"),i.$autocompleteResults.html(n)},i.prototype.setSelectedValue=function(t,e,i){i=void 0===i||i,this.$element.data("autocompleteValue",t),this.$element.data("autocompleteText",e),this.$autocompleteInput.val(e),i&&this.closeResults(),this.$valueHiddenField&&this.$valueHiddenField.val(t),this.$labelHiddenField&&this.$labelHiddenField.val(e),this.$element.trigger("plugin_"+n+":change",[t,e])}}(jQuery,window,document),function(s,e,o){"use strict";var i="bookmark";function n(t,e){this.$element=s(t),this.options=s.extend({},s.fn[i].defaults,this.$element.data(),e),this._name=i,this.init()}s.fn[i]=function(t){var e=arguments;return this.each(function(){s.data(this,"plugin_"+i)?"string"===s.type(t)&&s.data(this,"plugin_"+i)[t].apply(s.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):s.data(this,"plugin_"+i,new n(this,t))})},s.fn[i].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var t=this;this.urlList="/bookmark/_list",this.urlUpdate="/bookmark/_update",this.articleNumber=this.$element.data("bookmarkArticleNumber"),this.userHash=e.BRS_CONFIG.USER_HASH,this.modalError=s("[data-modal-id=generic-modal]"),this.needToDelete=this.$element.data("bookmarkDelete"),void 0!==this.needToDelete?this.$element.on("click",function(){t.deleteBookmark()}):(this.checkboxBookmark=s("#"+this.$element[0].id),t.checkIfBookmarkIsChecked(),this.$element.on("click",function(){t.changeStateBookmark()}))},n.prototype.changeStateBookmark=function(){this.$element.trigger(i+":changeStateBookmark");var n=this,t=this.checkboxBookmark.is(":checked"),e=t?"POST":"DELETE",a=t?"Erreur lors de l'enregistrement de l'article":"Erreur lors de la suppression de l'article";s.ajax({context:n.$element,url:n.urlUpdate,type:e,data:{articleNumber:this.articleNumber}}).done(function(t){var e=s.cookie(BRS_CONFIG.JWT_TOKEN_ID),i=e&&"MEMBER"===jwt_decode(e).session.level;t.error?(403!==t.error?(void 0!==t.code&&(a=1003===t.code?"Vous avez atteint votre nombre maximum d'actualités sauvegardées":a),n.displayError(a)):i||s(o).find('[data-modal-id="pedago"]').marypopin("open"),n.changeStateCheckbox()):localStorage.removeItem("bookmarks")}).fail(function(){n.displayError(a),n.changeStateCheckbox()})},n.prototype.checkIfBookmarkIsChecked=function(){var i=this;i.userHash&&(localStorage.getItem("bookmarks")&&void 0!==JSON.parse(localStorage.getItem("bookmarks"))[i.userHash]?-1!==JSON.parse(localStorage.getItem("bookmarks"))[i.userHash].indexOf(this.articleNumber)&&this.changeStateCheckbox():s.ajax({url:this.urlList}).done(function(t){var e={};e[i.userHash]=t,localStorage.setItem("bookmarks",JSON.stringify(e)),-1!==localStorage.bookmarks.indexOf(i.articleNumber)&&i.changeStateCheckbox()}))},n.prototype.changeStateCheckbox=function(){this.$element.trigger(i+":activeBookmark");var t=this.checkboxBookmark.is(":checked");this.checkboxBookmark.prop("checked",!t)},n.prototype.displayError=function(t){this.modalError.find(".c-alert__text").html(t),this.modalError.marypopin("open")},n.prototype.deleteBookmark=function(){var t=this;s.ajax({context:t.$element,url:t.urlUpdate,type:"delete",data:{articleNumber:this.articleNumber}}).done(function(){localStorage.removeItem("bookmarks"),t.decreaseBookmarksCount()})},n.prototype.decreaseBookmarksCount=function(){var t=s('span[data-statistic-count="bookmarkNewsPrivate"] [data-statistic-count-text]').text();s('span[data-statistic-count="bookmarkNewsPrivate"] [data-statistic-count-text]').text(--t)}}(jQuery,window,document),function(n,a,t){"use strict";var i="brsCarousel";function s(t,e){this.$element=n(t),this.options=n.extend({},n.fn[i].defaults,n(t).data(),e),this.enabled=!0,this.$element.addClass("js-carousel"),this.element=this.$element[0],this.slides=this.$element.find("[data-carousel-slide]"),this.slideEffect=this.$element.data("carouselSlideEffect"),this.loop=this.$element.data("carouselLoop"),this.loopDelay=this.$element.data("carouselLoopDelay"),this.swipe=this.$element.data("carouselSwipe"),this.interval=null,this._name=i,this.mc=void 0,this.init()}n.fn[i]=function(t){var e=arguments;return this.each(function(){n.data(this,"plugin_"+i)?"string"===n.type(t)&&n.data(this,"plugin_"+i)[t].apply(n.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):n.data(this,"plugin_"+i,new s(this,t))})},n.fn[i].defaults={carouselSlideSize:null,carouselPagination:!0,carouselNavigation:!0,currentSlide:null,currentPageLength:null,carouselSlideWidth:null,currentSlidePerPage:null},s.prototype.init=function(){var t=this;function e(){t.checkMq(),t.refresh()}n(a).smartresize(e),this.create(),e(),t.swipe&&(t.mc=new Hammer(t.element),t.mc.get("swipe"),t.mc.on("swipeleft",function(){t.enabled&&(t.next(),t.resetAutomaticLoop())}),t.mc.on("swiperight",function(){t.enabled&&(t.previous(),t.resetAutomaticLoop())})),t.loop&&t.loopDelay&&t.automaticLoop(t.loopDelay)},s.prototype.checkMq=function(){var t=this.$element.data("carouselMq"),e=this.$element.data("carouselEnableOn");if(e){var i=a.matchMedia(e).matches;i&&!this.enabled?(this.enabled=!0,this.element.classList.remove("c-carousel--disabled")):!i&&this.enabled&&(this.enabled=!1,this.element.classList.add("c-carousel--disabled"))}t&&(a.matchMedia(t).matches?(this.options.carouselNavigation=!0,this.options.carouselPagination=!1):(this.options.carouselNavigation=!1,this.options.carouselPagination=!0))},s.prototype.create=function(){this.container=n('<div class="js-carousel__container"></div>'),this.wrapper=n('<div class="js-carousel__wrapper"></div>'),this.pagination=n('<ul class="js-carousel__pagination"></ul>'),this.previousBtn=n('<div class="js-carousel__navigation-previous"><i class="c-icon c-icon--chevron / js-carousel__navigation-icon"></i></div>'),this.nextBtn=n('<div class="js-carousel__navigation-next"><i class="c-icon c-icon--chevron / js-carousel__navigation-icon"></i></div>'),this.container.appendTo(this.$element),this.wrapper.appendTo(this.container),this.pagination.insertAfter(this.container),this.previousBtn.appendTo(this.$element),this.nextBtn.appendTo(this.$element),this.createSlides()},s.prototype.createSlides=function(){var i=this;n.each(this.slides,function(){var t=n(this),e=n('<div class="js-carousel__item"></div>').appendTo(i.wrapper).append(t);n.isNumeric(i.options.carouselSlideWidth)&&e.css("minWidth",i.options.carouselSlideWidth)})},s.prototype.refresh=function(){this.options.currentPageLength=1,this.previousBtn.off("click").hide(),this.nextBtn.off("click").hide(),this.pagination.find("li").off("click"),this.pagination.empty().hide(),this.wrapper.find(".js-carousel__item").css("width","auto"),this.scroll(0),this.calculatePageLength(),this.drawSlide(Math.min(this.options.currentPageLength-1,this.options.currentSlide))},s.prototype.calculatePageLength=function(){this.options.carouselSlideWidth?this.calculateSlidePerPage():this.slidePerPage()},s.prototype.slidePerPage=function(){var t=this.slidesLength();this.addNavigation();var e=this.containerWidth();this.wrapper.find(".js-carousel__item").css("width",e),this.wrapper.css("minWidth",e*t),this.options.currentPageLength=t,this.options.currentSlidePerPage=1,this.addPagination()},s.prototype.calculateSlidePerPage=function(){var t=this.slidesLength(),e=this.containerWidth();if(e<this.options.carouselSlideWidth*t){this.addNavigation(),e=this.containerWidth();var i=Math.floor(e/this.options.carouselSlideWidth),n=Math.min(t,Math.ceil(t/i));1<n&&(e=this.containerWidth());var a=e/i;this.wrapper.find(".js-carousel__item").css("width",a),this.wrapper.css("minWidth",e*n),this.options.currentPageLength=n,this.options.currentSlidePerPage=i,this.addPagination()}},s.prototype.addPagination=function(){if(!this.options.carouselPagination||!this.enabled)return!1;for(var t=this,e=0;e<t.options.currentPageLength;e++)n('<li class="js-carousel__pagination-type"></li>').data("index",e).appendTo(t.pagination).on("click",function(){t.changeSlide(n(this).data("index"))});t.pagination.show()},s.prototype.refreshPagination=function(){if(!this.options.carouselPagination||!this.enabled)return!1;this.pagination.find(".js-carousel__pagination-type").removeClass("is-active"),this.pagination.find(".js-carousel__pagination-type:eq("+this.options.currentSlide+")").addClass("is-active")},s.prototype.addNavigation=function(){if(!this.options.carouselNavigation||!this.enabled)return!1;var t=this;this.previousBtn.show().on("click",function(){t.previous(),t.resetAutomaticLoop()}),this.nextBtn.show().on("click",function(){t.next(),t.resetAutomaticLoop()})},s.prototype.refreshNavigation=function(){this.options.carouselNavigation&&this.enabled&&(this.previousBtn.removeClass("is-disabled"),this.nextBtn.removeClass("is-disabled"),0==this.options.currentSlide&&this.previousBtn.addClass("is-disabled"),this.options.currentSlide==this.options.currentPageLength-1&&this.nextBtn.addClass("is-disabled"))},s.prototype.previous=function(){this.changeSlide(Math.max(0,this.options.currentSlide-1))},s.prototype.next=function(){this.changeSlide(Math.min(this.options.currentPageLength-1,this.options.currentSlide+1))},s.prototype.changeSlide=function(t){var e=this.options.currentSlide,i=this.slides.slice(e,e+this.options.currentSlidePerPage),n=this.slides.slice(t,t+this.options.currentSlidePerPage);this.$element.trigger("js-carousel:beforeChange",[i]),this.drawSlide(t),this.$element.trigger("js-carousel:afterChange",[n])},s.prototype.drawSlide=function(t){this.options.currentSlide=t,this.refreshPagination(),this.refreshNavigation(),"showHide"==this.slideEffect?this.showHide(t):this.scroll(this.containerWidth()*t)},s.prototype.scroll=function(t){this.container.animate({scrollLeft:t},200)},s.prototype.showHide=function(t){var e=this.wrapper.find(".js-carousel__item");e.eq(t-1).hide(),e.eq(t).show()},s.prototype.containerWidth=function(){return this.container.innerWidth()},s.prototype.slidesLength=function(){return n(this.slides).filter(function(){return"none"!==n(this).css("display")}).length},s.prototype.automaticLoop=function(t){var e=this,i=this.options.currentSlide;this.interval=setInterval(function(){++i==e.options.currentPageLength&&(i=0),e.changeSlide(i)},t)},s.prototype.resetAutomaticLoop=function(){if(!this.loop||!this.loopDelay)return!1;clearInterval(this.interval),this.automaticLoop(this.loopDelay)}}(jQuery,window,document),function(r,t,e){"use strict";var i="brsCategoryFilter";function n(t,e){this.$element=r(t),this.$listSeparator=this.$element.find("[data-filter-separator]"),this.$selectedListWrapper=this.$element.find("[data-filter-category-selected]"),this.$disabledListWrapper=this.$element.find("[data-filter-category-disabled]"),this.$selectedList=this.$selectedListWrapper.find("[data-filter-list]"),this.$disabledList=this.$disabledListWrapper.find("[data-filter-list]"),this.transitionsEnd="webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",this.options=r.extend({},r.fn[i].defaults,e),this._name=i,this._attachedName="brsCustomScroll",this.init()}r.fn[i]=function(t){var e=arguments;return this.each(function(){r.data(this,"plugin_"+i)?"string"===r.type(t)&&r.data(this,"plugin_"+i)[t].apply(r.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):r.data(this,"plugin_"+i,new n(this,t))})},r.fn[i].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){this.refreshUrl=this.$element.data("refreshUrl"),this.$refreshTarget=null,this.refreshTargetSelector=this.$element.data("refreshTarget"),this.refreshTargetSelector&&(this.$refreshTarget=r("["+this.refreshTargetSelector+"]")),this.refreshVideoTimeout=null,this.showHideSeparator(),this.hideBoxOnClick(),this.getActivatedBoxDataIds(),r(t).smartresize(this.createScrolling.bind(this)),this.createScrolling()},n.prototype.createScrolling=function(){t.matchMedia("(max-width: 767px)").matches?(this.navViewport=parseInt(this.$disabledListWrapper.outerWidth(!0)),parseInt(this.getDisabledFilterWidth())>this.navViewport?(this.$disabledListWrapper.trigger(this._attachedName+":init"),this.$disabledListWrapper.trigger(this._attachedName+":reload"),this.$disabledListWrapper.on(this._attachedName+":move",function(t,e){this.$disabledList.css("marginLeft","0")}.bind(this))):(this.$disabledList.css("marginLeft","-5px"),this.$disabledListWrapper.trigger(this._attachedName+":destroy"))):(this.$disabledList.css("marginLeft","-5px"),this.$disabledListWrapper.trigger(this._attachedName+":destroy"))},n.prototype.getDisabledFilterWidth=function(){var t=0;return this.$disabledList.find("[data-filter]").each(function(){t+=r(this).outerWidth()}),Math.ceil(t)},n.prototype.hideBoxOnClick=function(){this.$element.on("click","[data-filter]",function(t){t.preventDefault(),this.hideBox(r(t.currentTarget))}.bind(this))},n.prototype.showBox=function(t){t.off().removeClass("is-hidden"),setTimeout(function(){t.removeClass("is-visuallyhidden")},20)},n.prototype.hideBox=function(i,n){i.addClass("is-visuallyhidden"),i.on(this.transitionsEnd,function(t){var e=null==t.originalEvent.pseudoElement||""==t.originalEvent.pseudoElement;"opacity"==t.originalEvent.propertyName&&e&&r(t.target).hasClass("is-visuallyhidden")&&(i.addClass("is-hidden"),this.computeDisplayBox(i),"function"==typeof n&&n())}.bind(this))},n.prototype.computeDisplayBox=function(t){t.parents("[data-filter-category-selected]").length?(t.removeClass("is-selected"),this.$disabledList.prepend(t)):t.parents("[data-filter-category-disabled]").length&&(t.addClass("is-selected"),this.$selectedList.append(t)),this.showBox(t),this.createScrolling(),this.showHideSeparator();var e=this.getActivatedBoxDataIds();this.refreshVideoTimeout&&clearTimeout(this.refreshVideoTimeout);var i=this;this.refreshVideoTimeout=setTimeout(function(){i.refreshVideos(e),i.refreshVideoTimeout=null},600)},n.prototype.showHideSeparator=function(){this.$selectedList.is(":empty")?this.$listSeparator.hide():this.$listSeparator.show()},n.prototype.getActivatedBoxDataIds=function(){var t=[];return this.$selectedList.find("[data-filter]").each(function(){t.push(r(this).data("filter-id"))}),t},n.prototype.refreshVideos=function(t){if(this.refreshUrl&&this.$refreshTarget){for(var e="",i="?",n=0;n<t.length;n++)e+=i+"feeds[]="+t[n],i="&";var a=this.refreshUrl+e,s=this.$refreshTarget;this.loaderInstance=r("[data-loader]").brsLoader(),this.loaderInstance.data("plugin_brsLoader").showLoader();var o=this;r.ajax({type:"GET",url:a}).done(function(t){if(t){this.loaderInstance.data("plugin_brsLoader").hideLoader();var e=r(t),i=e.find("["+o.refreshTargetSelector+"]");s.html(i.children()),s.find("[data-filter-category]").brsCategoryFilter(),dctThumb(s.get(0).querySelectorAll("[data-thumb-lazy]")),r("[data-brs-recent-videos]").get(0).setAttribute("data-load-more-target",e.data("loadMoreTarget")),s.find("[data-load-more]").loadMore()}}.bind(this))}}}(jQuery,window,document),function(o,t,e){"use strict";var i="brsCheckboxFilter";function n(t,e){this.$element=o(t),this.options=o.extend({},o.fn[i].defaults,e),this._name=i,this.init()}o.fn[i]=function(t){var e=arguments;return this.each(function(){o.data(this,"plugin_"+i)?"string"===o.type(t)&&o.data(this,"plugin_"+i)[t].apply(o.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):o.data(this,"plugin_"+i,new n(this,t))})},o.fn[i].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var t=this;this.refreshUrl=this.$element.data("refreshUrl"),this.$refreshTarget=null,this.refreshTargetSelector=this.$element.data("refreshTarget"),this.refreshTargetSelector&&(this.$refreshTarget=o("["+this.refreshTargetSelector+"]")),this.refreshVideoTimeout=null,this.$element.find("input[type=checkbox]").change(function(){t.refreshVideoTimeout&&clearTimeout(t.refreshVideoTimeout),t.refreshVideoTimeout=setTimeout(function(){t.refreshVideos(),t.refreshVideoTimeout=null},600)})},n.prototype.refreshVideos=function(){if(this.refreshUrl&&this.$refreshTarget){var t="",e="?",i=(this.$element.find("input[type=checkbox]").each(function(){o(this).prop("checked")&&(t+=e+"activeFilter[]="+o(this).prop("name"),e="&")}),this.refreshUrl+t),a=this.$refreshTarget;this.loaderInstance=o("[data-loader]").brsLoader(),this.loaderInstance.data("plugin_brsLoader").showLoader();var s=this;o.ajax({type:"GET",url:i}).done(function(t){if(t){s.loaderInstance.data("plugin_brsLoader").hideLoader();var e=o(t),i=o(t),n=e.find("["+s.refreshTargetSelector+"]");a.html(n.children()),dctThumb(a.get(0).querySelectorAll("[data-thumb-lazy]")),i.find("[data-load-more]").length?(o("[data-brs-replay-videos]").get(0).setAttribute("data-load-more-target",i.find("[data-load-more]").data("loadMore")),o("[data-brs-replay-videos] [data-load-more]").show(),a.find("[data-load-more]").loadMore()):o("[data-brs-replay-videos] [data-load-more]").hide()}})}}}(jQuery,window,document),function(i,t,e){"use strict";var n="brsCheckboxToggle";function a(t,e){this.$element=i(t),this.$chkElt=this.$element.find("[data-checkbox-toggle-element]").find("input[type=checkbox]"),this.$trigger=this.$element.find("[data-checkbox-toggle-trigger]").find("input[type=checkbox]"),this.options=i.extend({},i.fn[n].defaults,e),this._name=n,this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={},a.prototype.instance=function(){return this},a.prototype.init=function(){this.$trigger.on("click",function(){this.$chkElt.prop("checked",this.$trigger.prop("checked")),this.$element.attr("aria-checked",String(this.$chkElt.prop("checked")))}.bind(this)),this.$chkElt.on("click",function(){this.$trigger.prop("checked",!1)}.bind(this))}}(jQuery,window,document),function(i,t,e){"use strict";var n="brsComment";function a(t,e){this.element=i(t),this.options=i.extend({},i.fn[n].defaults,i(t).data(),e),this.initialHeight=0<this.element.find("[data-initial-height]").length?this.element.find("[data-initial-height]"):this.options.initialHeight,this.maxHeight=0<this.element.find("[data-max-height]").length?this.element.find("[data-max-height]"):this.options.maxHeight,this._name=n,this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={initialHeight:"8rem",maxHeight:"16rem"},a.prototype.init=function(){i(this.element).on("focus",function(){i(this.element).animate({height:this.maxHeight},500)}.bind(this)),i(this.element).on("blur",function(){i(this.element).animate({height:this.initialHeight},500)}.bind(this))}}(jQuery,window,document),function(a,t,s){"use strict";var i="currenciesParity";function n(t,e){this.$element=a(t),this.options=a.extend({},a.fn[i].defaults,this.$element.data(),e),this._name=i,this.method="GET",this.init()}a.fn[i]=function(t){var e=arguments;return this.each(function(){a.data(this,"plugin_"+i)?"string"===a.type(t)&&a.data(this,"plugin_"+i)[t].apply(a.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):a.data(this,"plugin_"+i,new n(this,t))})},a.fn[i].defaults={refreshableLoader:!1},n.prototype.instance=function(){return this},n.prototype.init=function(){var e=this;e.$selectedCurrency="EUR",e.$selectedLetter="",e.$element.find("[data-currency-change]").change(function(){var t=a(this).val().split("#");e.$selectedCurrency=t[0],e.$selectedLetter=e.$element.find("[data-brs-custom-select-letter].is-selected").data("brsCustomSelectLetter"),e.refresh()}),e.$element.find("[data-brs-custom-select-letter]").click(function(){e.$selectedLetter=a(this).data("brsCustomSelectLetter"),e.$selectedCurrency=e.$element.find("[data-currency-change]").val().split("#")[0],e.refresh()})},n.prototype.refresh=function(){var n=this,t=n.$element.find("[data-currency-change]").data("urlCurrenciesParity");t+="/"+n.$selectedCurrency,t+=n.$selectedLetter?"/"+n.$selectedLetter:"",n.$element.find("[data-loader]").brsLoader().data("plugin_brsLoader").showLoader(),n.$element.load(t,function(t,e,i){if("error"==e){n.$element.find("[data-parity-table]").empty(),n.$element.find("[data-alert-parity]").find("[data-alert-text]").text("Aucune information disponible pour ces valeurs"),n.$element.find("[data-alert-parity]").data("plugin_brsAlertEffect").showAlertBox()}a(s).trigger("load",n.$element)})}}(jQuery,window,document),function(i,t,e){"use strict";var n="brsCustomScroll";function a(t,e){this.$element=i(t),this.options=i.extend({},i.fn[n].defaults,i(t).data(),e),this._name=n,this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={sly:{horizontal:1,itemNav:"basic",smart:1,activateOn:"click",mouseDragging:1,touchDragging:1,startAt:0,scrollBar:"[data-custom-scrollbar]",scrollBy:1,scrollTrap:1,speed:300,elasticBounds:1,dragHandle:1,dynamicHandle:1,clickBar:1}},a.prototype.instance=function(){return this},a.prototype.init=function(){var e=new Sly(this.$element,this.options.sly);e.on("load",function(){var t=i(e.slidee).width();i(e.slidee).width(t+4),this.$element.trigger(this._name+":load",e)}.bind(this)),e.on("move",function(){this.$element.trigger(this._name+":move",e.pos)}.bind(this)),this.$element.on(this._name+":init",function(){e.init()}),this.$element.on(this._name+":reload",function(){e.reload()}),this.$element.on(this._name+":destroy",function(){e.destroy()}),this.$element.on(this._name+":toCenter",function(){e.toCenter()}),""!=this.$element.data("customScroll")?(this.checkSize(),i(t).smartresize(this.checkSize.bind(this))):this.$element.trigger(this._name+":init")},a.prototype.checkSize=function(){t.matchMedia(this.$element.data("customScroll")).matches?(this.$element.trigger(this._name+":init"),this.$element.trigger(this._name+":reload")):this.$element.trigger(this._name+":destroy")}}(jQuery,window,document),function(a,t,e){"use strict";var i="updateUnderlying";function n(t,e){this.element=a(t),this.options=a.extend(!0,{},a.fn[i].defaults,e),this._name=i,this.init()}a.fn[i]=function(t){var e=arguments;return this.each(function(){a.data(this,"plugin_"+i)?"string"===a.type(t)&&a.data(this,"plugin_"+i)[t].apply(a.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):a.data(this,"plugin_"+i,new n(this,t))})},a.fn[i].defaults={underlyingId:void 0,underlyingElem:void 0,ajaxUrl:"",defaultOptions:[]},n.prototype.instance=function(){return this},n.prototype.saveDefaultOptions=function(){var t=this.options.underlyingElem[0];for(var e in t)t.hasOwnProperty(e)&&this.options.defaultOptions.push(t[e])},n.prototype.restoreDefaultOptions=function(){this.clearSelect(),this.options.underlyingElem.append(this.options.defaultOptions),this.options.underlyingElem.siblings(".c-select").children(".c-select__listbox-container").children(".c-select__textbox").children("input").val("Tous les sous-jacents")},n.prototype.setOptions=function(t){var e=[];for(var i in t.underlying)""===i?e.push(a('<option value="'+i+'" selected>'+t.underlying[i]+"</option>")):e.push(a('<option value="'+i+'">'+t.underlying[i]+"</option>"));this.clearSelect();var n=this.options.underlyingElem.siblings(".c-select").hasClass("is-expanded");n&&this.options.underlyingElem.selectability("closeCombobox"),this.options.underlyingElem.append(e),this.options.underlyingElem.siblings(".c-select").children(".c-select__listbox-container").children(".c-select__textbox").children("input").val(t.underlying[""]),n&&this.options.underlyingElem.selectability("openCombobox")},n.prototype.clearSelect=function(){var t=this.options.underlyingElem.siblings(".c-select").children(".c-select__listbox-container");this.options.underlyingElem.empty(),t.children(".c-select__textbox").children("input").val(""),t.children(".c-select__listbox").empty()},n.prototype.updateUnderlyingElem=function(){this.options.underlyingElem=a(this.options.underlyingId)},n.prototype.init=function(){this.element.trigger(i+":init"),this.updateUnderlyingElem(),this.saveDefaultOptions();var t,e=this;this.element.on("change",function(){""!==(t=a(e.element).children("option:selected")).val()?a.ajax({url:e.options.ajaxUrl,method:"GET",data:{underlyingType:t.text()}}).done(function(t){e.setOptions(JSON.parse(t))}).catch(function(t){e.restoreDefaultOptions(),console.log(t)}):e.restoreDefaultOptions()})}}(jQuery,window,document),function(i,t,e){"use strict";var n="brsExcludeParameters";function a(t,e){this.$element=i(t),this.$parameters=i(t).data("excludeParameters"),this.$separator=-1===i(t).attr("href").indexOf("?")?"?":"&",this.$element.attr("href",this.$element.attr("href")+this.$separator+i.param(this.$parameters)),this.options=i.extend({},i.fn[n].defaults,e),this._name=n,this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={},a.prototype.instance=function(){return this},a.prototype.init=function(){}}(jQuery,window,document),function(o){"use strict";var i="brsFlashes";function n(t,e){this.element=o(t),this.options=o.extend({},o.fn[i].defaults,e),this._name=i,this.init()}o.fn[i]=function(t){var e=arguments;return this.each(function(){o.data(this,"plugin_"+i)?"string"===o.type(t)&&o.data(this,"plugin_"+i)[t].apply(o.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):o.data(this,"plugin_"+i,new n(this,t))})},o.fn[i].defaults={cookie:"brs_flashes",showAlertsOn:null,template:'<div class="o-vertical-interval-bottom"><div class="c-alert"><i class="c-alert__icon-state / c-icon"></i><p class="c-alert__text"></p></div></div>'},n.prototype.init=function(){var t=o.cookie(this.options.cookie),s=this;if(o.removeCookie(this.options.cookie,{path:"/"}),t){if((t=o.parseJSON(t)).action){var e=t.action;setTimeout(function(){e.forEach(function(t){s.element.trigger("brs-flashes:new-action",t)})},1),delete t.action}s.options.showAlertsOn&&(s.options.showAlertsOn.children().remove(),o.each(t,function(a,t){o.each(t,function(t,e){var i=o(s.options.template);if("MessageLink"===a){i.find(".c-alert").addClass("c-alert--info");try{var n=JSON.parse(e)}catch(t){return void console.warn("Invalid MessageLink json",e)}if(!(n.hasOwnProperty("beforeLink")&&n.hasOwnProperty("linkContent")&&n.hasOwnProperty("linkUrl")&&n.hasOwnProperty("afterLink")))return void console.warn("Missing mandatory fields in MessageLink",n);i.find(".c-alert__text").html(n.beforeLink+"<a href='"+n.linkUrl+"' target='_blank' class='c-link c-link--default c-link--bold c-link--with-dotted-underline'>"+n.linkContent+"</a>"+n.afterLink),i.find(".c-icon").addClass("c-icon--alert-info")}else i.find(".c-alert").addClass("c-alert--"+a),i.find(".c-alert__text").text(e),i.find(".c-icon").addClass("c-icon--alert-"+a);s.options.showAlertsOn.append(i)})}))}}}(jQuery),function(i,t,e){"use strict";var n="brsGauge";function a(t,e){this.element=i(t),this.$step=this.element.find("[data-gauge-step]"),this.$increment=this.element.find("[data-gauge-increment]"),this.$bar=this.element.find("[data-gauge-bar]"),this.$progress=this.element.find("[data-gauge-progress]"),this.options=i.extend({},i.fn[n].defaults,i(t).data(),e),this._name=n,this.displayGraph="graph"==this.options.gaugeDisplay,this.bidirectionaldisplayGraph="bidirectionalGraph"==this.options.gaugeDisplay,this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={},a.prototype.instance=function(){return this},a.prototype.init=function(){this.gaugeCurrentStep=this.options.gaugeCurrentStep,this.absGaugeCurrentStep=Math.abs(this.gaugeCurrentStep),this.gaugeSteps=this.options.gaugeSteps,this.isResized=!1,this.val=0,this.element.on("inviewport",function(){this.fillGauge()}.bind(this)),i(t).resize(function(){this.isResized=!0,this.fillGauge()}.bind(this))},a.prototype.decimalPlaces=function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,e[1]?e[1].length:0):0},a.prototype.fillGauge=function(){var t=this.$bar.width(),e=1e3*parseFloat(this.$progress.css("transition-duration").match(/\d+/g)),i=10,n=Math.pow(10,this.decimalPlaces(this.gaugeCurrentStep));if(this.displayGraph?t=this.element.width()-(this.$step.outerWidth(!0)+1):this.bidirectionaldisplayGraph?(this.gaugeCurrentStep<0?this.element.addClass("c-gauge--negative"):this.element.addClass("c-gauge--positive"),t=this.element.width()):(this.$progress.addClass("has-bkg-color-"+this.absGaugeCurrentStep),this.$step.addClass("has-color-"+this.absGaugeCurrentStep)),this.$progress.width(this.absGaugeCurrentStep*(t/this.gaugeSteps)+1),this.isResized)this.displayGraph&&this.$progress.addClass("c-gauge__progress--no-transition");else var a=setInterval(function(){this.val>=this.absGaugeCurrentStep&&(clearInterval(a),this.val=this.absGaugeCurrentStep);this.$increment.text(Math.round(n*this.val)/n),this.displayGraph?this.val+=this.absGaugeCurrentStep/(e/i):this.val++}.bind(this),this.displayGraph?i:10*i)}}(jQuery,window,document),function(a,t,s){"use strict";var i="brsListLine";function n(t,e){this.$element=a(t),this.$search=this.$element.find("[data-list-search]"),this.$items=this.$element.find("[data-list-elements]"),this.$lines=this.$element.find("[data-lines]"),this.index=parseInt(this.$lines.data("lines")),this.prototype=this.$lines.data("prototype"),this.options=a.extend({},a.fn[i].defaults,this.$element.data(),e),this._name=i,this.init()}a.fn[i]=function(t){var e=arguments;return this.each(function(){a.data(this,"plugin_"+i)?"string"===a.type(t)&&a.data(this,"plugin_"+i)[t].apply(a.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):a.data(this,"plugin_"+i,new n(this,t))})},a.fn[i].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){this.$search.on("click","[data-line-add]",function(t){t.preventDefault();var e=a(t.currentTarget),i=this.prototype.replace(/__name__/g,this.index),n=a(a.parseHTML(i));n.find("[data-line-link]").html(e.data("label")),n.find("[data-line-link]").attr("href",e.data("href")),n.find("[data-line-link]").attr("title",e.data("label")),n.find("[data-line-description]").html(e.data("isin")),n.find("[data-line-instrument-symbol]").val(e.data("symbol")),n.find("[data-line-instrument-label]").val(e.data("label")),n.find("[data-line-instrument-isin]").val(e.data("isin")),n.find("[data-line-instrument-mnemonic]").val(e.data("mnemonic")),this.index++,this.$lines.data("lines",this.index),this.$items.removeClass("u-hidden"),this.$lines.append(n),a(s).trigger("load",this.$lines)}.bind(this)),this.$lines.on("click","[data-line-remove]",function(t){t.stopPropagation(),t.preventDefault(),a(t.currentTarget).closest("[data-line]").remove(),this.index--,this.$lines.data("lines",this.index),0===this.index&&this.$items.addClass("u-hidden")}.bind(this))}}(jQuery,window,document),function(i,t,n){"use strict";var a="brsLoader";function s(t,e){this.$element=i(t),this.$loader=i(n).find("[data-loader-container]").first(),this.options=i.extend({},i.fn[a].defaults,e),this._name=a,this.init()}i.fn[a]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+a)?"string"===i.type(t)&&i.data(this,"plugin_"+a)[t].apply(i.data(this,"plugin_"+a),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+a,new s(this,t))})},i.fn[a].defaults={},s.prototype.instance=function(){return this},s.prototype.init=function(){this.$clonedLoader=this.$loader.clone(),0===this.$element.find("[data-loader-container]").length&&this.$element.append(this.$clonedLoader)},s.prototype.showLoader=function(){this.$element.addClass("is-loading")},s.prototype.hideLoader=function(){this.$element.removeClass("is-loading")}}(jQuery,window,document),function(y,t,e){"use strict";var i="brsNavigation";function n(t,e){this.element=y(t),this.options=y.extend({},y.fn[i].defaults,y(t).data(),e),this._name=i,this.init()}y.fn[i]=function(t){var e=arguments;return this.each(function(){y.data(this,"plugin_"+i)?"string"===y.type(t)&&y.data(this,"plugin_"+i)[t].apply(y.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):y.data(this,"plugin_"+i,new n(this,t))})},y.fn[i].defaults={rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:100,delay:500,mouseLocsTracked:3,exitMenu:!0},n.prototype.instance=function(){return this},n.prototype.init=function(){var f=this.element,m=null,g=[],v=null,i=null,b=this.options,n=function(t){t!=m&&(m&&y(m).removeClass("is-hover"),y(t).addClass("is-hover"),m=t)},a=function(t){var e=s();e?i=setTimeout(function(){a(t)},e):n(t)},s=function(){if(!m||!y(m).is(b.submenuSelector))return 0;var t=f.offset(),e={x:t.left,y:t.top-b.tolerance},i={x:t.left+f.outerWidth(),y:e.y},n={x:t.left,y:t.top+f.outerHeight()+b.tolerance},a={x:t.left+f.outerWidth(),y:n.y},s=g[g.length-1],o=g[0];if(!s)return 0;if(o||(o=s),o.x<t.left||o.x>a.x||o.y<t.top||o.y>a.y)return 0;if(v&&s.x==v.x&&s.y==v.y)return 0;function r(t,e){return(e.y-t.y)/(e.x-t.x)}var l=i,h=a;"left"==b.submenuDirection?(l=n,h=e):"below"==b.submenuDirection?(l=a,h=n):"above"==b.submenuDirection&&(l=e,h=i);var c=r(s,l),d=r(s,h),u=r(o,l),p=r(o,h);return c<u&&p<d?(v=s,b.delay):(v=null,0)};f.mouseleave(function(){i&&clearTimeout(i),b.exitMenu&&(m&&y(m).removeClass("is-hover"),m=null)}).find(b.rowSelector).mouseenter(function(){i&&clearTimeout(i),a(this)}).click(function(){n(this)}),y(e).mousemove(function(t){g.push({x:t.pageX,y:t.pageY}),g.length>b.mouseLocsTracked&&g.shift()})}}(jQuery,window,document),function(n,t,e){"use strict";var i="brsNewsletterSubscription";function a(t,e){this.element=n(t),this.actionUrl=this.element.attr("action"),this.$alert=n("[data-alert-newsletter]"),this.$icon=this.$alert.find("i"),this.successMessage="Votre demande a bien été prise en compte.",this.fromType=this.toType="",this.options=n.extend({},n.fn[i].defaults,n(t).data(),e),this._name=i,this.init()}n.fn[i]=function(t){var e=arguments;return this.each(function(){n.data(this,"plugin_"+i)?"string"===n.type(t)&&n.data(this,"plugin_"+i)[t].apply(n.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):n.data(this,"plugin_"+i,new a(this,t))})},n.fn[i].defaults={},a.prototype.instance=function(){return this},a.prototype.init=function(){var i=this;n.fn.replaceClass=function(t,e){return this.removeClass(t).addClass(e)},this.element.on("submit",function(t){t.preventDefault();var e=n(this);n.ajax({method:"POST",url:i.actionUrl,data:e.serialize()}).done(function(t){t.response.error?(i.fromType="success",i.toType="warning",i.$alert.find("[data-alert-text]").html(t.response.error.join("<br />"))):(i.fromType="warning",i.toType="success",i.$alert.find("[data-alert-text]").text(i.successMessage))}).fail(function(){i.fromType="success",i.toType="warning",i.$alert.find("[data-alert-text]").text("Une erreur est survenue")}).always(function(){e.addClass("o-vertical-interval-bottom"),i.$icon.replaceClass("c-icon--alert-"+i.fromType,"c-icon--alert-"+i.toType),i.$alert.replaceClass("c-alert--"+i.fromType,"c-alert--"+i.toType),i.$alert.data("plugin_brsAlertEffect").showAlertBox()})})}}(jQuery,window,document),function(o,r,t){"use strict";var i="brsOffCanvas";function n(t,e){this.$element=o(t),this.$content=this.$element.find("[data-off-canvas-content]"),this.$menu=this.$element.find("[data-off-canvas-menu]"),this.$hideLink=this.$element.find("[data-off-canvas-hide-link]"),this.$headerArrow=this.$element.find("[data-off-canvas-header-arrow]"),this.isOpen=!1,this.options=o.extend({},o.fn[i].defaults,this.$element.data(),e),this._name=i,this.init()}o.fn[i]=function(t){var e=arguments;return this.each(function(){o.data(this,"plugin_"+i)?"string"===o.type(t)&&o.data(this,"plugin_"+i)[t].apply(o.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):o.data(this,"plugin_"+i,new n(this,t))})},o.fn[i].defaults={offCanvasBottom:!1,offCanvasSamePositionAsOffCanvasId:!1},n.prototype.instance=function(){return this},n.prototype.init=function(){this.$element.trigger(this._name+":init").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",this.onTransitionEnd.bind(this)).on(this._name+":toggle",this.toggleClassMenu.bind(this)).on(this._name+":open",this.open.bind(this)),this.$content.data("refreshable")&&this.$element.on(this._name+":opening",this.loadAjaxContent.bind(this)),this.$hideLink.click(function(t){this.$element.trigger(this._name+":toggle"),t.preventDefault()}.bind(this))},n.prototype.toggleClassMenu=function(t,e){this.$element.hasClass("is-visible")?this.close():this.open(t,e)},n.prototype.open=function(t,e){var i,n,a;if(!this.$element.hasClass("is-visible")){if((this.isOpen=!0)===this.options.offCanvasBottom)if(r.matchMedia("(min-width: 1000px)").matches)if(this.options.offCanvasSamePositionAsOffCanvasId){var s=o('[data-off-canvas="'+this.options.offCanvasSamePositionAsOffCanvasId+'"]');this.$menu.css("top",s.find("[data-off-canvas-menu]").css("top")),this.$headerArrow.css("left",s.find("[data-off-canvas-header-arrow]").css("left")),this.$element.css("right",s.css("right")),this.$element.css("left",s.css("left"))}else i=o(e),a=o(r).width()-i[0].getBoundingClientRect().right,n=i[0].getBoundingClientRect().top+i.outerHeight(!0),a>this.$element.width()&&(o(r).width()-a-this.$element.width()<0?(this.$element.css("right","auto"),this.$element.css("left",0)):(this.$element.css("right",a),this.$element.css("left","auto"))),this.$headerArrow.css("left",this.$element.width()-a-e.getBoundingClientRect().width/2-15+(o(r).width()-this.$element[0].getBoundingClientRect().right)),this.$menu.css("top",n);else this.$menu.css("top",0);this.$element.addClass("is-animatable"),this.$element.addClass("is-visible").trigger(this._name+":opening",e)}},n.prototype.close=function(){this.$element.hasClass("is-visible")&&(this.isOpen=!1,this.$element.addClass("is-animatable"),this.$element.removeClass("is-visible").trigger(this._name+":closing"))},n.prototype.onTransitionEnd=function(){this.$element.removeClass("is-animatable")},n.prototype.replaceHtmlContent=function(t){this.$element.trigger(this._name+":innerHtml"),this.$content.html(t)},n.prototype.loadAjaxContent=function(t,e){this.$element.trigger(this._name+":loadAjaxContent"),this.$content.data("plugin_refreshable").load(e)}}(jQuery,window,document),function(s,i,t){"use strict";var n="brsOrderframeBroker";function a(t,e){this.$element=s(t),this.options=s.extend({},s.fn[n].defaults,this.$element.data(),e),this._name=n,s(i).on("brsOrderframeBroker:launch",this.init)}s.fn[n]=function(t){var e=arguments;return this.each(function(){s.data(this,"plugin_"+n)?"string"===s.type(t)&&s.data(this,"plugin_"+n)[t].apply(s.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):s.data(this,"plugin_"+n,new a(this,t))})},s.fn[n].defaults={},a.prototype.instance=function(){return this},a.prototype.init=function(t,e){var i=null,n=s("[data-brs-order-frame-app-id]"),a=n.parents("[data-off-canvas]").data("plugin_brsOffCanvas");a.open(),void 0===n.data("plugin_brsOrderFrame")&&((i=a.$element.find("[data-off-canvas-content]").brsLoader().data("plugin_brsLoader")).showLoader(),n.on("brsOrderFrame:loaded",function(t,e){i.hideLoader(),e.getApp().on("exit:app",function(){a.close()})}),n.brsOrderFrame()),n.data("plugin_brsOrderFrame").appCommand("goToOrder",e)}}(jQuery,window,document),function(i,s,t){"use strict";var n="brsPaginationButton";function a(t,e){this.$element=i(t),this.options=i.extend({},i.fn[n].defaults,this.$element.data(),e),this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={},a.prototype.instance=function(){return this},a.prototype.init=function(){if(this.inputId=this.$element.attr("data-pagination-button"),this.inputId&&(this.path=this.$element.attr("data-pagination-button-path"),this.lastPage=this.$element.attr("data-pagination-button-last-page"),this.$input=i.find("#"+this.inputId),this.$input&&this.path&&this.lastPage)){this.$input=i(this.$input);var e=this;this.$element.on("click",function(){e.gotoPage()}),this.$input.keyup(function(t){13===t.keyCode?e.gotoPage():e.checkPage()})}},a.prototype.checkPage=function(){var t=parseInt(this.$input.val());return""!==this.$input.val()&&(!this.$input.val().match(/^[0-9]+$/)||isNaN(t)||t<1||t>this.lastPage)?(this.$element.addClass("c-button--disabled"),this.$input.parent().addClass("c-field--error"),NaN):(this.$element.removeClass("c-button--disabled"),this.$input.parent().removeClass("c-field--error"),t)},a.prototype.gotoPage=function(){var t=this.checkPage();if(!isNaN(t)){var e="";if(-1!==this.path.indexOf("?")&&-1!==this.path.indexOf("page-")){var i=this.path.split("?");e=i[0]+t+(1<i.length?"?"+i[1]:"")}else e=this.path+t;if(1===t)for(var n=["?page=1","&page=1","page-1","page-","?pageHighest=1","?pageLowest=1","?pageNewFunds=1","?pageBestFunds=1","?pageWorstFunds=1"],a=0;a<n.length;a++)e=e.replace(n[a],"");s.location.href=e}}}(jQuery,window,document),function(o,r,t){"use strict";var i="brsPlayVideo";function n(t,e){this.$element=o(t),this.videoSource=this.$element.data("brsPlayVideo"),this.options=o.extend({},o.fn[i].defaults,e),this._name=i,this.init()}o.fn[i]=function(t){var e=arguments;return this.each(function(){o.data(this,"plugin_"+i)?"string"===o.type(t)&&o.data(this,"plugin_"+i)[t].apply(o.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):o.data(this,"plugin_"+i,new n(this,t))})},o.fn[i].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var s=this;this.$element.click(function(t){t.preventDefault();var e=o("[data-brs-refreshable-video-player]");e.find("iframe").prop("src",s.videoSource),e.find("h2").text(s.$element.find("h3").text()),e.find(".c-source__name ").text(s.$element.find(".c-source__name").text()),e.find(".c-source__time").text(s.$element.find(".c-source__time").text()),e.find(".c-event__subject").text(s.$element.find("[data-summary]").text());var i=e.offset().top;if(!r.matchMedia("(max-width: 999px)").matches){var n=o(".c-navigation");0<n.length&&(i-=2*n.height());var a=o(".c-top-info-banner");0<a.length&&(i-=a.height())}o("html, body").animate({scrollTop:i},1e3,function(){e.focus()})})}}(jQuery,window,document),function(a,t,s){"use strict";var i="brsPortfolioLine";function n(t,e){this.$element=a(t),this.$search=this.$element.find("[data-instrument-search]"),this.$lines=this.$element.find("[data-lines]"),this.$summaryTitle=this.$element.find("[data-lines-summary-title]"),this.index=this.$lines.data("lines"),this.prototype=this.$lines.data("prototype"),this.options=a.extend({},a.fn[i].defaults,this.$element.data(),e),this._name=i,this.init()}a.fn[i]=function(t){var e=arguments;return this.each(function(){a.data(this,"plugin_"+i)?"string"===a.type(t)&&a.data(this,"plugin_"+i)[t].apply(a.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):a.data(this,"plugin_"+i,new n(this,t))})},a.fn[i].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){this.$search.on("click","[data-line-add]",function(t){t.preventDefault();var e=a(t.currentTarget),i=this.prototype.replace(/__name__/g,this.index),n=a(a.parseHTML(i));n.find("[data-line-link]").html(e.data("label")),n.find("[data-line-link]").attr("href",e.data("href")),n.find("[data-line-link]").attr("title",e.data("label")),n.find("[data-line-description]").html(e.data("isin")+" "+e.data("mnemonic")),n.find("[data-line-instrument-symbol]").val(e.data("symbol")),n.find("[data-line-instrument-label]").val(e.data("label")),n.find("[data-line-instrument-isin]").val(e.data("isin")),n.find("[data-line-instrument-mnemonic]").val(e.data("mnemonic")),n.find("[data-line-instrument-price]").val(e.data("price")),n.find("[data-line-instrument-quantity]").val(e.data("quantity")),n.find("[data-line-instrument-date]").val(e.data("date")),this.index++,this.$lines.data("lines",this.index),this.$summaryTitle.removeClass("u-hidden"),this.$lines.append(n),a(s).trigger("load",this.$lines)}.bind(this)),this.$lines.on("click","[data-line-remove]",function(t){t.preventDefault(),a(t.currentTarget).closest("[data-line]").remove(),this.index--,this.$lines.data("lines",this.index),0===this.index&&this.$summaryTitle.addClass("u-hidden")}.bind(this))}}(jQuery,window,document),function(u,d,p){"use strict";var i="brsQuoteChart";function n(t,e){this.element=u(t),this.options=u.extend({},u.fn[i].defaults,e),this._name=i,this.init(e)}u.fn[i]=function(t){var e=arguments;return this.each(function(){u.data(this,"plugin_"+i)?"string"===u.type(t)&&u.data(this,"plugin_"+i)[t].apply(u.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):u.data(this,"plugin_"+i,new n(this,t))})},u.fn[i].defaults={elements:{pointerMenu:"[data-brs-quote-chart-pointer-menu]",periodMenu:"[data-brs-quote-chart-period-menu]",indicatorMenu:"[data-brs-quote-chart-indicator-menu]",styleMenu:"[data-brs-quote-chart-style-menu]",saveMenu:"[data-brs-quote-chart-save-menu]",drawMenu:"[data-brs-quote-chart-draw-menu]",indicatorBtn:"[data-brs-quote-chart-indicator-btn]",periodBtn:"[data-brs-quote-chart-period-btn]",pointerBtn:"[data-brs-quote-chart-pointer-btn]",saveBtn:"[data-brs-quote-chart-save-btn]",shareBtn:"[data-brs-quote-chart-share-btn]",styleBtn:"[data-brs-quote-chart-style-btn]",drawBtn:"[data-brs-quote-chart-draw-btn]",drawListBtn:"[data-brs-quote-chart-draw-list-btn]",fullscreenBtn:"[data-brs-quote-chart-fullscreen-btn]",bigFullscreenBtnContainer:"[data-brs-quote-chart-fullscreen-big-btn-container]",bigFullscreenBtn:"[data-brs-quote-chart-fullscreen-big-btn]",eodContainer:"[data-brs-quote-chart-eod-container]",durations:"[data-brs-quote-chart-durations]",commands:"[data-brs-quote-chart-commands]",compareTrigger:"[data-brs-quote-chart-compare-trigger]",settingsTrigger:"[data-brs-quote-chart-settings-trigger]",saveDrawingTrigger:"[data-brs-quote-chart-save-drawing-trigger]",indexCompareBtn:"[data-brs-quote-chart-index-compare]",symbolCompareBtn:"[data-brs-quote-chart-symbol-compare]",twoSymbolsCompareBtn:"[data-brs-quote-chart-two-symbols-compare]",compareFirstSymbol:"[data-brs-quote-chart-compare-first-symbol]",compareSecondSymbol:"[data-brs-quote-chart-compare-second-symbol]",sectorCompareBtn:"[data-brs-quote-chart-sector-compare]",orderBtn:"[data-brs-quote-chart-order-btn]",compareBtn:"[data-brs-quote-chart-compare-btn]",settingsBtn:"[data-brs-quote-chart-settings-btn]",saveImageAsBtn:"[data-brs-quote-chart-save-image-as-btn]",downloadBtn:"[data-brs-quote-chart-download-btn]",orderBtnGroup:"[data-brs-quote-chart-order-btn-group]",orderSendBtn:"[data-brs-quote-chart-order-send-btn]",orderQuantity:"[data-brs-quote-chart-order-quantity]",orderLevel:"[data-brs-quote-chart-order-level]",orderType:"[data-brs-quote-chart-order-type]",infoArea:"[data-brs-quote-chart-info-area]",showFiveDaysLink:"[data-brs-show-five-days]",hideFiveDaysLink:"[data-brs-hide-five-days]",fiveDaysHistory:"[data-brs-five-days-history]",fiveDaysBlock:"[data-brs-five-days-block]",templateSelect:"[data-brs-quote-chart-template]",templateForm:"[data-brs-quote-chart-template-form]",templateInputName:"[data-brs-quote-chart-template-input-name]",templateSaveBtn:"[data-brs-quote-chart-template-save]",templateSaveSuccess:"[data-brs-quote-chart-template-save-success]",templateSaveFailure:"[data-brs-quote-chart-template-save-failure]",templateDeleteBtn:"[data-brs-quote-chart-template-delete]",templateDeleteSuccess:"[data-brs-quote-chart-template-delete-success]",templateSaveListBtn:"[data-brs-quote-chart-template-list-save]",templateTable:"[data-brs-quote-chart-template-table]",defaultTemplateRadio:"[data-brs-quote-chart-default-template-radio]",noTemplateAlert:"[data-brs-quote-chart-no-template-alert]",drawingSelect:"[data-brs-quote-chart-drawing]",drawingForm:"[data-brs-quote-chart-drawing-form]",drawingInputName:"[data-brs-quote-chart-drawing-input-name]",openDrawingSaveBtn:"[data-brs-quote-chart-open-drawing-save]",drawingSaveBtn:"[data-brs-quote-chart-drawing-save]",drawingSaveSuccess:"[data-brs-quote-chart-drawing-save-success]",drawingSaveWarning:"[data-brs-quote-chart-drawing-save-warning]",drawingSaveFailure:"[data-brs-quote-chart-drawing-save-failure]",drawingDeleteBtn:"[data-brs-quote-chart-drawing-delete]",drawingDeleteSuccess:"[data-brs-quote-chart-drawing-delete-success]",drawingSaveListBtn:"[data-brs-quote-chart-drawing-list-save]",drawingTable:"[data-brs-quote-chart-drawing-table]",drawingExistsAlert:"[data-brs-quote-chart-drawing-exists-alert]"},stickyMarketValue:"[data-sticky-market-value]",stickyMarketValueBreakPoint:1e3,fullscreenBackground:"[data-fullscreen-background]",rchartMobileMaxWidth:767},n.prototype.instance=function(){return this},n.prototype.init=function(t){var c=this;this.VGP=t.VGP,Object.keys(this.options.elements).forEach(function(t){c["$"+t]=u(c.element).find(c.options.elements[t])}),this.$pointerMenuItem=this.$pointerMenu.find("[data-pointer]"),this.$periodMenuItem=this.$periodMenu.find("[data-period]"),this.$styleMenuItem=this.$styleMenu.find("[data-style]"),this.$mainIndicatorItem=this.$indicatorMenu.find("[data-main-indicator]"),this.$secondaryIndicatorItem=this.$indicatorMenu.find("[data-secondary-indicator]"),this.$detectIndicatorItem=this.$indicatorMenu.find("[data-detect-indicator]"),this.$stickyMarketValue=u(this.options.stickyMarketValue),this.stickyMarketValueBreakPoint=this.options.stickyMarketValueBreakPoint,this.$fullscreenBackground=u(this.options.fullscreenBackground),this.rchartMobileMaxWidth=this.options.rchartMobileMaxWidth,this.isFullscreen=!1,this.resizeChart=t.resizeChart||!0,this.defaultTemplate=t.defaultTemplate,this.candleTemplate=t.candleTemplate,this.lineTemplate=t.lineTemplate,this.barcolorTemplate=t.barcolorTemplate,this.userTemplates=[],this.userTemplatesToDelete=[],this.selectedDefaultTemplate=void 0,this.userDrawings=[],this.userDrawingsToDelete=[],this.currentUserTemplate="",this.currentUserDrawing=void 0,this.showDrawing=t.showDrawing,this.quoteDownloadUrl="",this.isCanvasSupported()&&(this.VGP.graph=new RODGraph({callID:this.$eodContainer.attr("id"),symbol:this.VGP.symbol}),this.VGP.userID="42",t.enableRemoteSave?u.when(u.ajax(c.VGP.urlWS+"template"),u.ajax(c.VGP.urlWS+"drawing")).done(function(t,e){for(var i=t[0],n=0;n<i.length;n++){var a={Layers:i[n].Layers,Parametres:i[n].Parametres,isDefault:parseInt(i[n].isDefault)};c.userTemplates[i[n].configname]=a,i[n].isDefault&&(c.currentUserTemplate=a)}var s=e[0];for(n=0;n<s.length;n++){var o={name:s[n].name,symbol:s[n].symbol,instrumentName:s[n].instrumentName};VGP.drawings[s[n].symbol]=0,c.userDrawings.push(o),s[n].symbol===VGP.symbol&&(c.toggleDrawingExistsAlert(),c.currentUserDrawing={Symbol:VGP.symbol,Traces:s[n].content,Parametres:s[n].parameters,Layers:s[n].layers})}c.loadChart()}).fail(function(){c.loadChart()}):this.loadChart()),u("body").on("touchmove",function(){c.VGP.dragging=!0}),u("body").on("touchstart",function(){c.VGP.dragging=!1}),this.resizeChart&&u(d).on("resize",function(){c.isFullscreen?c.enterFullscreen():c.resize()}),this.$fullscreenBtn.bind(this.VGP.clickHandler,function(t){t.preventDefault(),c.isFullscreen?c.leaveFullscreen():c.enterFullscreen()}),this.$bigFullscreenBtn.bind(this.VGP.clickHandler,function(t){c.leaveFullscreen()}),u(".navig_trace li").bind(this.VGP.clickHandler,function(t){t.preventDefault(),t.stopPropagation();var e=u(this),i=e.data("drawingTool");if(!i)return!1;try{c.selectDrawingTool(i)}catch(t){console.error(t)}if("e"!=i){var n=e.data("icon");c.$drawBtn.removeClass().addClass("spg eod_b3 eodi_oblic tipt "+n+" c-quote-chart__menu-button")}c.closeMenus()}),this.$periodBtn.bind(this.VGP.clickHandler,function(t){c.openMenu(t,c.$periodMenu)}),this.$styleBtn.bind(this.VGP.clickHandler,function(t){c.openMenu(t,c.$styleMenu)}),this.$pointerBtn.bind(this.VGP.clickHandler,function(t){c.openMenu(t,c.$pointerMenu)}),this.$indicatorBtn.bind(this.VGP.clickHandler,function(t){c.openMenu(t,c.$indicatorMenu)}),this.$saveBtn.bind(this.VGP.clickHandler,function(t){c.openMenu(t,c.$saveMenu)}),this.$drawBtn.bind(this.VGP.clickHandler,function(t){if(c.endEraser(),t.preventDefault(),c.stopFunctions())return!1;c.closeToolsParams();try{c.selectDrawingTool(u(this).attr("name"))}catch(t){console.error(t)}}),this.$pointerMenuItem.bind(this.VGP.clickHandler,function(t){t.preventDefault(),t.stopPropagation();var e=u(this).data("pointer");if(e){var i=u(this).data("pointerIcon");try{0!=c.VGP.graph.tools_menu(e)&&u(this).parent().parent().removeClass().addClass("spg eod_b2 tipt "+i+" c-quote-chart__menu-button")}catch(t){console.error(t)}c.closeMenus()}}),this.$periodMenuItem.bind(this.VGP.clickHandler,function(t){t.preventDefault(),t.stopPropagation();var e=u(this).data("period");if(null!=e){try{c.VGP.graph.period_menu(e)}catch(t){console.error(t)}c.updateDownloadLink(e),c.closeMenus()}}),this.$styleMenuItem.bind(this.VGP.clickHandler,function(t){t.preventDefault(),t.stopPropagation();var e=u(this).data("style");if(e){"candle"===e?c.applyTemplate(c.candleTemplate):"line"===e?c.applyTemplate(c.lineTemplate):"barcolor"===e&&c.applyTemplate(c.barcolorTemplate),c.applyStyle(e);var i=u(this).data("styleIcon");u(this).parent().parent().removeClass().addClass("spg eod_b2 tipt "+i+" c-quote-chart__menu-button"),c.closeMenus()}}),this.$compareBtn.bind(this.VGP.clickHandler,function(t){c.endEraser(),t.preventDefault(),c.closeMenus();c.getChartParameters();if(c.closeToolsParams(),c.stopFunctions())return!1;c.$compareTrigger.click()}),this.$settingsBtn.bind(this.VGP.clickHandler,function(t){if(c.endEraser(),t.preventDefault(),c.closeMenus(),c.closeToolsParams(),c.stopFunctions())return!1;c.initSettingsPopin(),c.$settingsTrigger.click()}),this.$drawListBtn.bind(this.VGP.clickHandler,function(t){c.openMenu(t,c.$drawMenu)}),u(".eodi_zoom").bind(this.VGP.clickHandler,function(t){t.preventDefault();try{c.VGP.graph.tools_menu("z")}catch(t){console.error(t)}}),u(".eodi_zp").bind(this.VGP.clickHandler,function(t){t.preventDefault();try{c.VGP.graph.zoom(!0)}catch(t){console.error(t)}}),u(".eodi_zm").bind(this.VGP.clickHandler,function(t){t.preventDefault();try{c.VGP.graph.zoom(!1)}catch(t){console.error(t)}}),u("[data-brs-quote-chart-duration-length]").on("click",function(){c.selectDuration(u(this)),c.changeDuration(u(this).data("brs-quote-chart-duration-length"))}),this.$showFiveDaysLink.on("click",function(){c.$fiveDaysHistory.removeClass("u-hidden"),c.$showFiveDaysLink.addClass("u-hidden"),c.$hideFiveDaysLink.removeClass("u-hidden")}),this.$hideFiveDaysLink.on("click",function(){c.$fiveDaysHistory.addClass("u-hidden"),c.$showFiveDaysLink.removeClass("u-hidden"),c.$hideFiveDaysLink.addClass("u-hidden")}),this.$templateSaveBtn.on("click",function(){if(c.$templateInputName.get(0).checkValidity()){var t=c.$templateInputName.val().toUpperCase(),e=Object.keys(c.userTemplates).length;if(!c.userTemplates[t]&&5<=e)return c.$templateSaveFailure.removeClass("u-hidden"),void setTimeout(function(){c.$templateSaveFailure.addClass("u-hidden")},3e3);c.$templateSaveBtn.prop("disabled",!0);try{VGP.graph.saveTemplate(t)}catch(t){console.error(t)}c.$noTemplateAlert.hide(),setTimeout(function(){c.$templateSaveBtn.prop("disabled",!1)},1e3),c.$templateSaveSuccess.removeClass("u-hidden"),setTimeout(function(){c.$templateSaveSuccess.addClass("u-hidden"),c.refreshTemplate(t)},3e3)}}),this.$templateDeleteBtn.on("click",function(){var t=String(u(this).data("templateName"));t&&c.prepareDeleteTemplate(t)}),this.$templateSaveListBtn.on("click",function(){c.$templateSaveListBtn.prop("disabled",!0);for(var t=0;t<c.userTemplatesToDelete.length;t++)c.deleteTemplate(c.userTemplatesToDelete[t]);c.userTemplatesToDelete=[],setTimeout(function(){c.$templateSaveListBtn.prop("disabled",!1),c.$templateDeleteSuccess.removeClass("u-hidden"),setTimeout(function(){c.$templateDeleteSuccess.addClass("u-hidden")},3e3),null!=c.selectedDefaultTemplate&&(c.changeDefaultTemplate(c.selectedDefaultTemplate,function(){location.reload()}),c.selectedDefaultTemplate=void 0)},1e3)}),this.$templateSelect.on("click",function(){c.selectTemplate(u(this).data("templateName"))}),this.$defaultTemplateRadio.on("change",function(){c.selectedDefaultTemplate=u(this).data("templateName")}),this.$openDrawingSaveBtn.on("click",function(){var t=c.getChartParameters();t&&!t.isIntraday?c.$saveDrawingTrigger.click():d.DisplayAlert("Les sauvegardes d'analyses techniques ne sont pas possibles en mode intraday (1 et 5 jours)")}),this.$drawingSelect.on("click",function(){c.selectDrawing(u(this).data("drawingName"))}),this.$drawingSaveBtn.on("click",function(){if(c.$drawingInputName.get(0).checkValidity()){for(var e=c.$drawingInputName.val().toUpperCase(),t=c.userDrawings.length,i=!1,n=0;n<t;n++)if(c.userDrawings[n].symbol===c.VGP.symbol){i=!0,c.userDrawings[n].name=e;break}if(!i&&10<=t)return c.$drawingSaveWarning.removeClass("u-hidden"),void setTimeout(function(){c.$drawingSaveWarning.addClass("u-hidden")},3e3);c.$drawingSaveBtn.prop("disabled",!0);try{var a=c.VGP.graph.saveTraceFull()}catch(t){return console.error(t),c.$drawingSaveFailure.removeClass("u-hidden"),setTimeout(function(){c.$drawingSaveFailure.addClass("u-hidden")},3e3),void setTimeout(function(){c.$drawingSaveBtn.prop("disabled",!1)},1e3)}a.name=e,c.currentUserDrawing=a,u.ajax({type:"POST",url:c.VGP.urlWS+"drawing/"+escape(c.VGP.symbol),data:JSON.stringify(a),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){c.$drawingSaveSuccess.removeClass("u-hidden"),setTimeout(function(){if(c.closePopin(),c.$drawingSaveSuccess.addClass("u-hidden"),i){var t=c.$drawingTable.find("[data-drawing-symbol='"+c.VGP.symbol+"']").parent().parent().children();t.get(0).textContent=e,t.get(2).textContent=c.formatDate(new Date),c.$drawingSelect.data("drawingName",e),c.$drawingSelect.text(e)}else c.userDrawings.push({symbol:c.VGP.symbol,name:e}),c.refreshDrawing(e,c.VGP.symbol);c.$drawingSaveBtn.prop("disabled",!1)},3e3),setTimeout(function(){c.toggleDrawingExistsAlert()},4e3)},error:function(){c.$drawingSaveFailure.removeClass("u-hidden"),setTimeout(function(){c.$drawingSaveFailure.addClass("u-hidden")},3e3),setTimeout(function(){c.$drawingSaveBtn.prop("disabled",!1)},1e3)}})}}),this.$drawingDeleteBtn.on("click",function(){c.prepareDeleteDrawing(u(this).data("drawingSymbol"))}),this.$drawingSaveListBtn.on("click",function(){c.$drawingSaveListBtn.prop("disabled",!0);for(var t=0;t<c.userDrawingsToDelete.length;t++)c.deleteDrawing(c.userDrawingsToDelete[t]);c.userDrawingsToDelete=[],setTimeout(function(){c.$drawingSaveListBtn.prop("disabled",!1),c.$drawingDeleteSuccess.removeClass("u-hidden"),setTimeout(function(){c.$drawingDeleteSuccess.addClass("u-hidden")},3e3)},1e3)}),this.$mainIndicatorItem.bind(this.VGP.clickHandler,function(t){if(t.stopPropagation(),t.preventDefault(),!c.VGP.dragging){var e=u(this).data("mainIndicator");if(c.$indicatorMenu.hide(),"actu"===e){var i=c.getChartParameters();if(c.resizeFullScreen(),i&&i.isIntraday)return void d.DisplayAlert("Les actualités ne sont pas disponibles en intraday.")}try{c.VGP.graph.indic1_menu(e)}catch(t){console.error(t)}c.resizeFullScreen()}}),this.$secondaryIndicatorItem.bind(this.VGP.clickHandler,function(t){if(t.stopPropagation(),t.preventDefault(),!c.VGP.dragging){var e=u(this).data("secondaryIndicator");c.$indicatorMenu.hide();try{c.VGP.graph.indics_menu(e)}catch(t){console.error(t)}}}),this.$detectIndicatorItem.bind(this.VGP.clickHandler,function(t){if(t.stopPropagation(),t.preventDefault(),!c.VGP.dragging){var e=u(this);if(c.$indicatorMenu.hide(),e.hasClass("is-selected")){e.removeClass("is-selected");try{c.VGP.graph.removeSearch()}catch(t){console.error(t)}}else{c.$detectIndicatorItem.removeClass("is-selected"),e.addClass("is-selected");try{c.VGP.graph.addSearch(e.data("detectIndicator"))}catch(t){console.error(t)}}}}),this.$indexCompareBtn.on("click",function(){var t=u("div[name=select-comparable-index] select").val();c.compare(t)}),this.$sectorCompareBtn.on("click",function(){var t=u("div[name=select-sector] select").val();c.compare(t)}),this.$symbolCompareBtn.on("click",function(){var t=u("[data-autocomplete]").data("autocompleteValue");c.compare(t)}),this.$twoSymbolsCompareBtn.on("click",function(){var t=c.$compareFirstSymbol.val(),e=c.$compareSecondSymbol.val();c.VGP.symbol!=t?(c.VGP.symbol=t,c.VGP.graph=new RODGraph({callID:c.$eodContainer.attr("id"),symbol:c.VGP.symbol}),c.defaultTemplate.isCompare=e,c.loadChart()):c.compare(e)}),this.$orderBtn.bind(this.VGP.clickHandler,function(t){c.endEraser(),t.preventDefault(),c.closeMenus(),c.currentOrderSide="sell",u(this).data("brsQuoteChartBuyBtn")&&(c.currentOrderSide="buy"),u(".eod_order_left").removeClass().addClass("eod_order_left "+c.currentOrderSide+"_order_left"),u(".eod_order_right").removeClass().addClass("eod_order_right "+c.currentOrderSide+"_order_right"),u(".eod_order_middle").removeClass().addClass("eod_order_middle "+c.currentOrderSide+"_order_middle");try{c.VGP.graph.order_level(c.currentOrderSide)}catch(t){console.error(t)}}),this.$orderSendBtn.bind(this.VGP.clickHandler,function(t){if(t.preventDefault(),c.$orderQuantity.val()){var e=u("#ordertype").attr("order"),i="";"limit"===e?i="LIM":"stop"===e&&(i="STP");var n=c.$orderLevel.val()?parseFloat(c.$orderLevel.val()):void 0;c.element.trigger("order",{order:{symbol:c.VGP.symbol,side:c.currentOrderSide,quantity:parseFloat(c.$orderQuantity.val()),limPx:"LIM"===i?n:void 0,stopPx:"STP"===i?n:void 0,orderType:i}})}}),this.$shareBtn.bind(this.VGP.clickHandler,function(t){c.endEraser(),t.preventDefault(),c.closeMenus(),c.closeToolsParams();var e=c.screenCapture();if(e){var i=c.VGP.tabCache.symbol;i||(i=c.VGP.symbol),u.ajax({type:"POST",url:c.VGP.urlWS+"SendCapture",data:'{"symbol": "'+i+'", "image": "'+e+'"}',contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){t.url&&(d.location=t.url,d.DisplayAlert("Vous allez être redirigés vers la création de votre analyse technique."))},error:function(t){t&&t.responseJSON&&t.responseJSON.errorMessage?d.DisplayAlert(t.responseJSON.errorMessage):d.DisplayAlert("Service temporairement indisponible.")}})}}),this.$saveImageAsBtn.bind(this.VGP.clickHandler,function(t){c.endEraser(),t.preventDefault(),c.closeMenus(),c.closeToolsParams();var e=c.screenCapture();if(e){var i="analyse.png";if("function"==typeof d.navigator.msSaveBlob){for(var n=atob(e),a=new Array(n.length),s=0;s<n.length;s++)a[s]=n.charCodeAt(s);var o=new Uint8Array(a),r=new Blob([o]);d.navigator.msSaveBlob(r,i)}else{if(u("html").hasClass("lt-ie10"))return;var l=p.createElement("a"),h="data:image/png;base64,"+e;l.setAttribute("href",h),l.setAttribute("download",i),l.style.display="none",p.body.appendChild(l),l.click(),p.body.removeChild(l)}}}),this.$downloadBtn.bind(this.VGP.clickHandler,function(t){c.endEraser(),t.preventDefault(),c.closeMenus(),c.closeToolsParams(),c.quoteDownloadUrl&&d.open(c.quoteDownloadUrl)}),u("[data-brs-quote-chart-defaultSet]").bind(VGP.clickHandler,function(t){return t.preventDefault(),t.stopPropagation(),c.settingsReset(),c.closePopin(),!1}),u("[data-brs-quote-chart-rbaxisyleft]").change(function(){c.settingsSetAxis("left")}),u("[data-brs-quote-chart-rbaxisyright]").change(function(){c.settingsSetAxis("right")}),u("[data-brs-quote-chart-rbaxisylinear]").change(function(){c.settingsSetAxisLog(!1)}),u("[data-brs-quote-chart-rbaxisylog]").change(function(){c.settingsSetAxisLog(!0)}),u("[data-brs-quote-chart-chkSticky]").change(function(){c.settingsSetSticky(!u(this).prop("checked"))}),u("[data-brs-quote-chart-rbgridContinu]").change(function(){c.settingsSetGrid(u(this).prop("checked"))}),u("[data-brs-quote-chart-rbgridPoint]").change(function(){c.settingsSetGrid(!u(this).prop("checked"))}),u("[data-brs-quote-chart-chkGridH]").change(function(){c.settingsSetGridH(u(this).prop("checked"))}),u("[data-brs-quote-chart-chkGridV]").change(function(){c.settingsSetGridV(u(this).prop("checked"))}),u("[data-brs-quote-chart-chkEncadre]").change(function(){c.settingsSetEncadre(u(this).prop("checked"))}),u("[data-brs-quote-chart-chkIndicValues]").change(function(){c.settingsSetIndicsValues(u(this).prop("checked"))}),this.updateDownloadLink(-2)},n.prototype.loadChart=function(){this.currentUserDrawing&&this.showDrawing?(this.loadTemplate(this.currentUserDrawing,!0),this.showDrawing=!1):this.currentUserTemplate?this.loadTemplate(this.currentUserTemplate):(this.VGP.graph.loadDefautChart(this.defaultTemplate),this.refreshPeriodState(this.defaultTemplate.histoLength)),this.refreshParametersModal()},n.prototype.selectTemplate=function(t){var e=this.userTemplates[t];e&&e.Parametres&&e.Layers&&(this.currentUserTemplate=e,this.loadTemplate(e))},n.prototype.reloadWith=function(t){this.VGP.symbol=t,this.VGP.graph=new RODGraph({callID:this.$eodContainer.attr("id"),symbol:this.VGP.symbol}),this.loadChart()},n.prototype.selectDrawing=function(){if(this.currentUserDrawing)if(this.currentUserDrawing.Parametres&&this.currentUserDrawing.Layers){var t=JSON.parse(this.currentUserDrawing.Parametres),e=u("[data-brs-quote-chart-duration-length="+t.histoLength+"]");0<e.length&&this.selectDuration(e);try{this.VGP.graph.loadTemplate(this.currentUserDrawing),this.VGP.graph.readTraceFull(this.currentUserDrawing)}catch(t){console.error(t)}}else try{this.VGP.graph.readTrace(this.currentUserDrawing)}catch(t){console.error(t)}},n.prototype.loadTemplate=function(t,e){var i=JSON.parse(t.Parametres),n=u("[data-brs-quote-chart-duration-length="+i.histoLength+"]");if(0<n.length)this.selectDuration(n);else{var a=u("[data-brs-quote-chart-duration-length].is-selected").data("brsQuoteChartDurationLength");i.histoLength=a,t.Parametres=JSON.stringify(i),this.refreshPeriodState(a)}try{this.VGP.graph.loadTemplate(t)}catch(t){console.error(t)}if(!0===e)try{this.VGP.graph.readTraceFull(t)}catch(t){console.error(t)}},n.prototype.openMenu=function(t,e){this.endEraser(),t.stopPropagation(),t.preventDefault(),e.is(":visible")?e.hide():(this.closeToolsParams(),this.closeMenus(),e.show())},n.prototype.refreshTemplate=function(t){var d=this;u.ajax({type:"GET",url:this.VGP.urlWS+"template/"+escape(t),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){if(t){var e=!!d.userTemplates[t.configname],i=String(t.configname);if(d.userTemplates[i]={Layers:t.Layers,Parametres:t.Parametres},!e){var n=p.createElement("div");n.setAttribute("class","c-quote-chart__submenu-item"),n.setAttribute("data-brs-quote-chart-template",""),n.setAttribute("data-template-name",i),n.textContent=i,d.$saveMenu.find(".c-quote-chart__menu-title")[0].after(n),n.onclick=function(){d.selectTemplate(i)};var a=p.createElement("tr");a.setAttribute("class","c-table__row");var s=p.createElement("td");s.setAttribute("class","c-table__cell c-table__cell--dotted u-nopadding-left"),s.textContent=i;var o=d.$defaultTemplateRadio.parent().closest("td").get(0).cloneNode(!0),r=Math.floor(1e6*Math.random());o.childNodes[1].removeAttribute("checked"),o.childNodes[1].setAttribute("data-template-name",i),o.childNodes[1].setAttribute("id",r),o.childNodes[2].setAttribute("for",r),o.childNodes[2].setAttribute("title",i),o.onchange=function(){d.selectedDefaultTemplate=i};var l=p.createElement("td");l.setAttribute("class","c-table__cell c-table__cell--dotted u-nopadding-right");var h=p.createElement("i");h.setAttribute("class","c-table__icon c-table__icon--right u-cursor-pointer u-color-cerulean c-icon c-icon--cross"),h.setAttribute("data-brs-quote-chart-template-delete",""),h.setAttribute("data-template-name",i),h.onclick=function(){d.prepareDeleteTemplate(i)},l.appendChild(h),a.appendChild(s),a.appendChild(o),a.appendChild(l);var c=d.$templateTable.find("tr");u(c).get(c.length-1).after(a)}}}})},n.prototype.refreshDrawing=function(t,e){var i=this,n=p.createElement("tr");n.setAttribute("class","c-table__row");var a=p.createElement("td");a.setAttribute("class","c-table__cell c-table__cell--dotted u-nopadding-left"),a.textContent=t;var s=p.createElement("td");s.setAttribute("class","c-table__cell c-table__cell--dotted u-nopadding-left"),s.textContent=u(".c-faceplate__company-link").text();var o=p.createElement("td");o.setAttribute("class","c-table__cell c-table__cell--dotted u-nopadding-left"),o.textContent=i.formatDate(new Date);var r=p.createElement("td");r.setAttribute("class","c-table__cell c-table__cell--dotted u-nopadding-right");var l=p.createElement("i");l.setAttribute("class","c-table__icon c-table__icon--right u-cursor-pointer u-color-cerulean c-icon c-icon--cross"),l.setAttribute("data-brs-quote-chart-drawing-delete",""),l.setAttribute("data-drawing-name",t),l.setAttribute("data-drawing-symbol",e),l.onclick=function(){i.prepareDeleteDrawing(e)},r.appendChild(l),n.appendChild(a),n.appendChild(s),n.appendChild(o),n.appendChild(r);var h=this.$drawingTable.find("tr");u(h).get(h.length-1).after(n);var c=p.createElement("div");c.setAttribute("class","c-quote-chart__submenu-item"),c.setAttribute("data-brs-quote-chart-drawing",""),c.setAttribute("data-drawing-name",t),c.textContent=t,i.$saveMenu.find(".c-quote-chart__menu-title")[1].after(c),c.onclick=function(){i.selectDrawing(t)}},n.prototype.formatDate=function(t){var e=function(t){return t<10?"0"+t:t},i=e(t.getHours()),n=e(t.getMinutes());return"le "+e(t.getDate())+"/"+e(t.getMonth())+"/"+t.getFullYear()+" à "+i+"h"+n},n.prototype.prepareDeleteTemplate=function(t){delete this.userTemplates[t],this.userTemplatesToDelete.push(t),this.$templateTable.find("[data-template-name='"+t.replace("'","\\'")+"']").closest("tr").fadeOut()},n.prototype.deleteTemplate=function(t){var e=this;u.ajax({type:"DELETE",url:this.VGP.urlWS+"template/"+escape(t),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){e.$templateSelect.each(function(){u(this).data("templateName")===t&&u(this).remove()})}})},n.prototype.changeDefaultTemplate=function(t,e){var i="",n="";t?(i="template/"+escape(t),n="PUT"):(i="template/reset-default/",n="POST"),u.ajax({type:n,url:this.VGP.urlWS+i,contentType:"application/json; charset=utf-8",dataType:"json",success:e})},n.prototype.prepareDeleteDrawing=function(t){this.userDrawingsToDelete.push(t),this.$drawingTable.find("[data-drawing-symbol="+t+"]").closest("tr").fadeOut()},n.prototype.deleteDrawing=function(e){var i=this;u.ajax({type:"DELETE",url:this.VGP.urlWS+"drawing/"+escape(e),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){for(var t=0;t<i.userDrawings.length;t++)if(i.userDrawings[t].symbol===e){i.userDrawings.splice(t,1);break}i.toggleDrawingExistsAlert(),i.$drawingSelect.each(function(){u(this).remove()})}})},n.prototype.toggleDrawingExistsAlert=function(){for(var t=0;t<this.userDrawings.length;t++)if(this.userDrawings[t].symbol===this.VGP.symbol)return void this.$drawingExistsAlert.removeClass("u-hidden");this.$drawingExistsAlert.addClass("u-hidden")},n.prototype.isCanvasSupported=function(){var t=p.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},n.prototype.stopFunctions=function(t){try{var e=this.VGP.graph.get_chartType()}catch(t){return console.error(t),!1}return(2!=t||"perf"!=e)&&("perf"==e||"renko"==e||"line break"==e||"kagi"==e)},n.prototype.closeMenus=function(){this.$pointerMenu.hide(),this.closeToolsParams(),this.$periodMenu.hide(),this.$styleMenu.hide(),this.$indicatorMenu.hide(),this.$saveMenu.hide(),this.$drawMenu.hide()},n.prototype.selectDuration=function(t){t.hasClass("is-selected")||(u(".c-quote-chart__length.is-selected").removeClass("is-selected"),t.addClass("is-selected"),this.isFullscreen||(5==t.data("brsQuoteChartDurationLength")?(this.$fiveDaysHistory.removeClass("u-hidden"),this.$showFiveDaysLink.addClass("u-hidden"),this.$hideFiveDaysLink.removeClass("u-hidden")):(this.$fiveDaysHistory.addClass("u-hidden"),this.$showFiveDaysLink.removeClass("u-hidden"),this.$hideFiveDaysLink.addClass("u-hidden"))),this.refreshPeriodState(t.data("brsQuoteChartDurationLength")))},n.prototype.endEraser=function(){if(this.$pointerBtn.hasClass("eodi_gomme")){this.$pointerBtn.removeClass().addClass("spg eod_b2 tipt eodi_cross");try{this.VGP.graph.stopGomme()}catch(t){console.error(t)}}},n.prototype.initSettingsPopin=function(){var e=this;u(".colorPicker-palette").remove(),u(".colorPicker-picker").remove(),[{selector:"[data-brs-quote-chart-colorBK]",setColor:function(t){e.settingsSetBackColor(t)}},{selector:"[data-brs-quote-chart-colorTXT]",setColor:function(t){e.settingsSetTextColor(t)}},{selector:"[data-brs-quote-chart-colorGRID]",setColor:function(t){e.settingsSetGridColor(t)}},{selector:"[data-brs-quote-chart-colorRETIC]",setColor:function(t){e.settingsSetReticuleColor(t)}},{selector:"[data-brs-quote-chart-colorCADRE]",setColor:function(t){e.settingsSetCadreColor(t)}},{selector:"[data-brs-quote-chart-colorTRACE]",setColor:function(t){e.settingsChangeTraceColor(t)}}].forEach(function(e){var i=u(e.selector);new ColorPicker({wrapperEl:e.selector,value:i.val(),onChange:function(t){e.setColor(t),i.val(t)}})})},n.prototype.closePopin=function(){u("[data-modal-back]").click()},n.prototype.getChartRefresh=function(){var e=this;u.ajax({type:"GET",url:this.VGP.urlWS+"UpdateCharts",data:{symbol:this.VGP.tabCache.symbol,period:this.VGP.tabCache.period},contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){if(null==t.d)return d.stopTimers(),!1;if(null!=t.d[0])if(e.VGP.tabCache.period<0)try{e.VGP.graph.updateQuoteIntraRefresh(t.d[0])}catch(t){console.error(t)}else try{e.VGP.graph.updateQuoteEODrefresh(t.d[0])}catch(t){console.error(t)}},error:function(){d.stopTimers()}})},n.prototype.enterFullscreen=function(){this.isFullscreen=!0,this.$fullscreenBackground.addClass("eod_fullscreen_background"),this.$bigFullscreenBtn.removeClass("u-hidden"),this.$fullscreenBtn.removeClass("eodi_fullscreen").addClass("eodi_fullscreenout"),this.$fullscreenBtn.attr("data-original-title","Sortie du plein-écran"),this.$fiveDaysBlock.hide(),this.resizeFullScreen(),u("[data-brs-quote-chart]").addClass("eod_fullscreen_mode"),this.resize()},n.prototype.resizeFullScreen=function(){if(this.isFullscreen){var t=this.$durations.outerHeight()+this.$commands.outerHeight()+this.$infoArea.outerHeight();992<d.innerWidth&&(t+=this.$bigFullscreenBtnContainer.outerHeight()),d.innerWidth<this.stickyMarketValueBreakPoint&&(t+=this.$stickyMarketValue.outerHeight());var e=d.innerHeight-t-60;this.$eodContainer.height(e+"px"),d.innerWidth<this.stickyMarketValueBreakPoint&&u("[data-brs-quote-chart]").css({bottom:this.$stickyMarketValue.outerHeight()}),this.resize()}},n.prototype.leaveFullscreen=function(){this.isFullscreen=!1,this.$fullscreenBackground.removeClass(),this.$bigFullscreenBtn.addClass("u-hidden"),this.$fullscreenBtn.removeClass("eodi_fullscreenout").addClass("eodi_fullscreen"),this.$fullscreenBtn.attr("data-original-title","Graphique dynamique"),d.innerWidth<this.stickyMarketValueBreakPoint&&u("[data-brs-quote-chart]").css({bottom:"auto"}),this.$fiveDaysBlock.show(),this.$eodContainer.height(""),u("[data-brs-quote-chart]").removeClass("eod_fullscreen_mode")},n.prototype.resize=function(){try{this.VGP.graph.set_screenSize()}catch(t){console.error(t)}},n.prototype.closeToolsParams=function(){try{this.VGP.graph.closeToolsParams()}catch(t){console.error(t)}},n.prototype.selectDrawingTool=function(t){try{this.VGP.graph.trace_menu(t)}catch(t){console.error(t)}},n.prototype.applyStyle=function(t){try{this.VGP.graph.style_menu(t)}catch(t){console.error(t)}},n.prototype.applyTemplate=function(t){this.VGP.graph.style_menu_template(t)},n.prototype.getChartParameters=function(){try{return this.VGP.graph.get_parametres()}catch(t){console.error(t)}return null},n.prototype.screenCapture=function(){try{return this.VGP.graph.screenCapture("brs")}catch(t){console.error(t)}return null},n.prototype.updateDownloadLink=function(t){var e=u(".c-quote-chart__length.is-selected").data("brs-quote-chart-duration-length"),i="";i=t||this.VGP.tabCache.period;var n=this.VGP.urlWS+"download?length="+e+"&period="+i+"&symbol="+this.VGP.symbol;this.quoteDownloadUrl=n},n.prototype.changeDuration=function(t){this.VGP.graph.duree_menu(t),this.updateDownloadLink(!1),u(".c-quote-chart__error").hide(),u(".eod_chart").show(),d.launchTimers()},n.prototype.compare=function(t){try{this.VGP.graph.compare(t)}catch(t){console.error(t)}this.closePopin()},n.prototype.settingsReset=function(){try{this.VGP.graph.settings_setdefaut()}catch(t){console.error(t)}this.refreshParametersModal()},n.prototype.refreshParametersModal=function(){this.VGP.CCparam=this.getChartParameters(),u("[data-brs-quote-chart-colorBK]").val(this.VGP.CCparam.set.bkcolor).change(),u("[data-brs-quote-chart-colorTXT]").val(this.VGP.CCparam.set.txtColor).change(),u("[data-brs-quote-chart-colorGRID]").val(this.VGP.CCparam.set.gridColor).change(),u("[data-brs-quote-chart-colorRETIC]").val(this.VGP.CCparam.set.reticColor).change(),u("[data-brs-quote-chart-colorCADRE]").val(this.VGP.CCparam.set.cadreColor).change(),u("[data-brs-quote-chart-colorTRACE]").val(this.settingsGetTraceColor()).change(),u("[data-brs-quote-chart-chkGridH]").prop("checked",this.VGP.CCparam.set.gridH),u("[data-brs-quote-chart-chkGridV]").prop("checked",this.VGP.CCparam.set.gridV),u("[data-brs-quote-chart-chkEncadre]").prop("checked",this.VGP.CCparam.set.isEncadre),u("[data-brs-quote-chart-chkIndicValues]").prop("checked",this.VGP.CCparam.set.indicValues),u("[data-brs-quote-chart-rbgridContinu]").prop("checked",this.VGP.CCparam.set.gridLine),u("[data-brs-quote-chart-rbgridPoint]").prop("checked",!this.VGP.CCparam.set.gridLine),u("[data-brs-quote-chart-rbaxisyright]").prop("checked",!this.VGP.CCparam.set.yaxis),u("[data-brs-quote-chart-rbaxisyleft]").prop("checked",this.VGP.CCparam.set.yaxis),u("[data-brs-quote-chart-rbaxisylinear]").prop("checked",!this.VGP.CCparam.set.semilog),u("[data-brs-quote-chart-rbaxisylog]").prop("checked",this.VGP.CCparam.set.semilog),u("[data-brs-quote-chart-chkSticky]").prop("checked",!this.VGP.CCparam.set.nosticky)},n.prototype.refreshPeriodState=function(t){5<t?this.$periodMenuItem.each(function(){u(this).data("period")<0?u(this).addClass("is-disabled"):u(this).removeClass("is-disabled")}):this.$periodMenuItem.each(function(){u(this).data("period")<0?u(this).removeClass("is-disabled"):u(this).addClass("is-disabled")})},n.prototype.settingsSetAxis=function(t){try{this.VGP.graph.settings_setAxis(t)}catch(t){console.error(t)}},n.prototype.settingsSetAxisLog=function(t){try{this.VGP.graph.settings_setAxisLog(t)}catch(t){console.error(t)}},n.prototype.settingsSetSticky=function(t){try{this.VGP.graph.settings_setSticky(t)}catch(t){console.error(t)}},n.prototype.settingsSetGrid=function(t){try{this.VGP.graph.settings_setGridlineShow(t)}catch(t){console.error(t)}},n.prototype.settingsSetBackColor=function(t){try{this.VGP.graph.settings_setBackColor(t)}catch(t){console.error(t)}},n.prototype.settingsSetGridColor=function(t){try{this.VGP.graph.settings_setGridColor(t)}catch(t){console.error(t)}},n.prototype.settingsSetCadreColor=function(t){try{this.VGP.graph.settings_setCadreColor(t)}catch(t){console.error(t)}},n.prototype.settingsSetTextColor=function(t){try{this.VGP.graph.settings_setTextColor(t)}catch(t){console.error(t)}},n.prototype.settingsSetReticuleColor=function(t){try{this.VGP.graph.settings_setReticuleColor(t)}catch(t){console.error(t)}},n.prototype.settingsChangeTraceColor=function(t){try{this.VGP.graph.settings_setTraceColor(t)}catch(t){console.error(t)}},n.prototype.settingsGetTraceColor=function(){try{return this.VGP.graph.settings_getTraceColor()}catch(t){console.error(t)}return""},n.prototype.settingsSetGridH=function(t){try{this.VGP.graph.settings_setGridlineH(t)}catch(t){console.error(t)}},n.prototype.settingsSetGridV=function(t){try{this.VGP.graph.settings_setGridlineV(t)}catch(t){console.error(t)}},n.prototype.settingsSetIndicsValues=function(t){try{this.VGP.graph.settings_setIndicValues(t)}catch(t){console.error(t)}},n.prototype.settingsSetEncadre=function(t){try{this.VGP.graph.settings_setEncadreShow(t)}catch(t){console.error(t)}}}(jQuery,window,document),function(i,t,e){"use strict";var n="brsRadioRemovableCheck";function a(t,e){this.$element=i(t),this.options=i.extend({},i.fn[n].defaults,this.$element.data(),e),this._name=n,this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={},a.prototype.instance=function(){return this},a.prototype.init=function(){var e=this.$element;e.bind("click",function(){if("disabled"!==e.attr("disabled")){var t=e.parent("fieldset").find('input[name="'+e.attr("name")+'"]');t.removeAttr("checked"),t.removeProp("checked"),e.prop("checked",!0)}})}}(jQuery,window,document),function(i){"use strict";var n="brsSearchBar";function e(t,e){this.element=i(t),this.options=i.extend({},i.fn[n].defaults,i(t).data(),e),this._name=n,this.init()}i.fn[n]=function(t){return this.each(function(){i.data(this,"plugin_"+n,new e(this,t))})},i.fn[n].defaults={},e.prototype.init=function(){i(document).find("[data-search-bar-open]").on("click",this.open.bind(this)),this.element.find("[data-search-bar-close]").on("click",this.close.bind(this))},e.prototype.open=function(){this.element.show(),this.element.addClass("topbar-searchbar--opened"),this.element.parent().addClass("topbar--opened")},e.prototype.close=function(){this.element.hide(),this.element.removeClass("topbar-searchbar--opened"),this.element.parent().removeClass("topbar--opened")},i(document).find("[data-search-bar]").brsSearchBar()}(jQuery),function(i){"use strict";var n="brsSearch";function e(t,e){this.element=i(t),this.container=i("[data-search-result]"),this.iconLoad=this.element.closest("form").find("[data-search-icon-load]"),this.options=i.extend({},i.fn[n].defaults,i(t).data(),e),this._name=n,this.init()}i.fn[n]=function(t){return this.each(function(){i.data(this,"plugin_"+n,new e(this,t))})},i.fn[n].defaults={searchUrl:null,ajaxSearchUrl:null},e.prototype.init=function(){this.element.on("keyup change",this.search.bind(this)),this.element.closest("form").on("submit",function(t){t.preventDefault()}),i("[data-search-bar-open]").on("click",function(){this.element.focus()}.bind(this)),i("[data-search-bar-close]").on("click",function(){i("html").css("overflow",""),this.element.val(""),this.lastValue=null,this.reset(),this.xhr&&this.xhr.abort(),this.container.removeClass("is-open").html("")}.bind(this))},e.prototype.search=function(t){var e=this.element.val();if(t&&13===t.keyCode)return location.href=this.options.searchUrl+e,!1;this.reset(),2<=e.length&&e!==this.lastValue&&(this.timeout=setTimeout(function(){this.send(e)}.bind(this),250))},e.prototype.reset=function(){this.timeout&&clearTimeout(this.timeout)},e.prototype.send=function(t){this.container.find("hx\\:include").hinclude("stop").remove(),this.iconLoad.addClass("is-active"),this.lastValue=t,this.xhr=i.ajax(this.options.ajaxSearchUrl,{dataType:"html",method:"GET",data:{query:t},success:function(t){this.container.html(t).addClass("is-open"),i(document).trigger("load",this.container)}.bind(this),complete:function(){i("html").css("overflow","hidden"),this.iconLoad.removeClass("is-active")}.bind(this)})}}(jQuery),function(h,i,n){"use strict";var a="selectability",e=0;function s(t,e){this.$element=h(t),this.options=h.extend({},h.fn[a].defaults,this.$element.data(),e),this._name=a,this.init(),this.$element.trigger("plugin_"+a+":ready",this)}h.fn[a]=function(t){var e=arguments;return this.each(function(){h.data(this,"plugin_"+a)?"string"===h.type(t)&&h.data(this,"plugin_"+a)[t].apply(h.data(this,"plugin_"+a),Array.prototype.slice.call(e,1)):h.data(this,"plugin_"+a,new s(this,t))})},h.fn[a].defaults={KEY_ENTER:13,KEY_SPACE:32,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_ESCAPE:27,MAX_ITEM_COUNT_TO_SHOW:10},s.prototype.instance=function(){return this},s.prototype.init=function(){this.isInputSelect=void 0!==this.$element.attr("data-select-with-input"),this.cssElementClasses=this.$element.attr("class"),this.buildElements(),this.stealLabel(),this.synchronizeAttributes(),this.populateText(),this.registerHandlers(),this.$element.attr("tabindex",-1).removeClass(this.cssElementClasses).addClass("c-select__select")},s.prototype.idGen=function(){for(var t;t="selectability"+e++,h("#"+t).length;);return t},s.prototype.buildElements=function(){this.buildCombobox(),this.$element.before(this.combobox)},s.prototype.stealLabel=function(){var t=this.$element.attr("id"),e=this.$element.attr("aria-label");if(e)this.combobox.attr("aria-label",e);else if(t){var i=this,n=[];h("label[for]").filter(function(){return h(this).attr("for")===t}).each(function(){var t=h(this),e=i.idGen();t.attr("id",e),n.push(e)}),this.combobox.attr("aria-labelledby",n.join(" "))}},s.prototype.populateText=function(t){if(!t||!t.selectability){var e=this.$element.find(":selected");e.length&&(this.isInputSelect?this.inputbox.value=e.attr("label")||e.text():this.textbox.text(e.attr("label")||e.text()))}},s.prototype.synchronizeAttributes=function(){if(this.$element.prop("multiple"))throw new Error("Can only bind to single selection widgets");this.disabled=!!this.$element.prop("disabled"),this.combobox.addClass(this.disabled?"is-disabled":""),this.combobox.addClass(this.$element.prop("required")?"c-select_required":"")},s.prototype.registerHandlers=function(){this.observeProperties(),this.registerEvents()},s.prototype.observeProperties=function(){var t=h.proxy(this.synchronizeAttributes,this),e=i.MutationObserver||i.MozMutationObserver||i.WebkitMutationObserver;e?(this.observer=new e(t),this.observer.observe(this.$element[0],{attributes:!0,attributeFilter:["multiple","disabled","required"]})):this.$element.on({"propertychange.selectability":t,"focus.selectability":t}),this.$element.on("change",h.proxy(this.populateText,this))},s.prototype.registerEvents=function(){var i=this;this.combobox.on({focusout:function(t){var e=this;setTimeout(function(){h.contains(e,n.activeElement)||i.closeCombobox()},0)},click:h.proxy(this.comboboxClick,this),keydown:h.proxy(this.comboboxKeydown,this)}),this.listbox.on({mouseover:h.proxy(this.listboxOver,this),click:h.proxy(this.listboxClick,this),keydown:h.proxy(this.listboxKeydown,this)}),this.isInputSelect&&this.inputbox.on({keyup:h.proxy(this.inputboxKeydown,this)}),this.$element.on({change:h.proxy(this.syncWithOriginalSelect,this),clear:h.proxy(this.clearListbox,this)})},s.prototype.comboboxClick=function(){this.disabled||this.toggleCombobox()},s.prototype.comboboxKeydown=function(t){if(!this.disabled)switch(t.which){case this.options.KEY_ENTER:case this.options.KEY_SPACE:if(this.combobox.hasClass("is-expanded"))return this.closeCombobox(),this.combobox.focus(),t.preventDefault(),!1;case this.options.KEY_UP:case this.options.KEY_DOWN:case this.options.KEY_LEFT:case this.options.KEY_RIGHT:return this.combobox.hasClass("is-expanded")||this.openCombobox(),null!=this.optionFocused&&(this.optionFocused.focus(),this.focusActiveOption()),t.preventDefault(),!1;case this.options.KEY_ESCAPE:return this.closeCombobox(),this.combobox.focus(),t.preventDefault(),!1}},s.prototype.listboxOver=function(t){var e=h(t.target);e.hasClass("c-select__option")&&(e.hasClass("is-disabled")||(this.optionFocused=e,this.focusActiveOption()))},s.prototype.listboxClick=function(t){var e=h(t.target);if(e.hasClass("c-select__option")&&!e.hasClass("is-disabled"))return this.select(h(t.target)),this.closeCombobox(),t.preventDefault(),!1},s.prototype.inputboxKeydown=function(t){0===this.inputbox.val().length&&(this.clearListbox(),this.populateListbox()),(48<=t.which&&t.which<=105||229===t.which)&&this.filterListbox(this.inputbox.val())},s.prototype.filterListbox=function(n){var t=this.$element.children().toArray().filter(function(t){var e=t.textContent.toLowerCase(),i=t.value.toLowerCase();return-1!==e.indexOf(n.toLowerCase())||-1!==i.indexOf(n.toLowerCase())});this.clearListbox(),this.populateListbox(t),this.listboxContainer.css("height",this.listboxContainer.parent().height()+"px")},s.prototype.syncWithOriginalSelect=function(){this.listbox.children().length<=0&&this.populateListbox(),this.isInputSelect&&(this.clearListbox(),this.populateListbox());var t=this.$element.val();if(t!==this.listbox.find(".is-selected").val()){var e=this.$element.find('option[value="'+t+'"]'),i="";i=1<e.length?e[0].label:e.text(),this.listbox.find(".is-selected").removeClass("is-selected");var n=this.listbox.find(".c-select__option:contains("+i+")").first();this.selected=n,this.optionFocused=n,this.optionFocused.addClass("is-selected"),this.focusActiveOption(),this.isInputSelect?this.inputbox.val(n.attr("label")||n.text()):this.textbox.text(n.attr("label")||n.text())}},s.prototype.clearListbox=function(){this.listbox.empty()},s.prototype.select=function(t){if(this.isInputSelect)var e=this.$element.find('option:contains("'+h(t).text()+'")').val();else{var i=this.listbox.find(".c-select__option").index(t);e=this.$element.find("option").eq(i).val()}var n=this.$element.val(),a=h.Event("change",{val:e,selectability:!0});if(this.$element.val()!==e){this.$element.val(e);try{this.$element.trigger(a)}finally{a.isDefaultPrevented()?this.$element.val(n):(this.selected&&this.selected.removeClass("is-selected"),this.selected=t,this.optionFocused=t,this.optionFocused.addClass("is-selected"),this.focusActiveOption(),this.isInputSelect?this.inputbox.val(t.attr("label")||t.text()):this.textbox.text(t.attr("label")||t.text()))}}else this.isInputSelect&&this.inputbox.val(t.attr("label")||t.text())},s.prototype.listboxKeydown=function(t){switch(t.which){case this.options.KEY_ENTER:case this.options.KEY_SPACE:return this.select(h(t.target)),this.closeCombobox(),this.combobox.focus(),t.preventDefault(),!1;case this.options.KEY_LEFT:case this.options.KEY_UP:return t.preventDefault(),this.moveFocusUp(),!1;case this.options.KEY_RIGHT:case this.options.KEY_DOWN:return t.preventDefault(),this.moveFocusDown(),!1}},s.prototype.toggleCombobox=function(){this.isInputSelect?(this.combobox.hasClass("is-expanded")||(this.openCombobox(),this.optionFocused&&this.optionFocused.focus()),this.inputbox.focus()):this.combobox.hasClass("is-expanded")?this.closeCombobox():(this.openCombobox(),this.optionFocused&&this.optionFocused.focus())},s.prototype.closeCombobox=function(){this.textbox.removeClass("is-open"),this.combobox.removeClass("is-expanded"),this.listbox.removeClass("is-open"),this.listboxContainer.removeClass("is-shadowed"),this.listbox.css("max-height",0),this.listboxContainer.css("height",this.listboxContainer.parent().height()+"px")},s.prototype.focusActiveOption=function(){this.previousOptionFocused&&this.previousOptionFocused.removeClass("is-focused"),this.optionFocused&&this.optionFocused.addClass("is-focused"),this.previousOptionFocused=this.optionFocused},s.prototype.openCombobox=function(){this.listbox.children().length<=0&&this.populateListbox(),this.selected&&(this.optionFocused=this.selected),this.focusActiveOption(),this.textbox.addClass("is-open"),this.combobox.addClass("is-expanded"),this.listbox.addClass("is-open"),this.listboxContainer.addClass("is-shadowed");var t=this.listbox.children().outerHeight(!0);this.listbox.css("max-height",Math.min(this.options.MAX_ITEM_COUNT_TO_SHOW,this.listbox.children().length)*t+"px"),this.listboxContainer.css("height",Math.min(this.options.MAX_ITEM_COUNT_TO_SHOW,this.listbox.children().length)*t+this.listboxContainer.parent().outerHeight(!0)+"px"),this.listbox.children().length>this.options.MAX_ITEM_COUNT_TO_SHOW&&this.listbox.addClass("is-scrollable")},s.prototype.populateListbox=function(t){if(this.populateText(),void 0!==t)var e=t;else e=this.$element.children();var i=function s(t){var o=h("<div></div>"),r=0,l=this;h.each(t,function(t,e){var i=h("<div></div>");if((e=h(e)).is("option"))i.text(e.attr("label")||e.text()).attr("tabindex",-1).addClass("c-select__option").addClass(e.prop("disabled")?"is-disabled":"is-selectable"),e.val()===l.$element.val()&&(i.addClass("is-selected"),l.selected=i,l.optionFocused=i),i.appendTo(o),e.prop("disabled")?i.removeAttr("tabindex"):e.val()===l.$element.val()&&(l.optionFocused=i);else if(e.is("optgroup")){var n=s.call(l,e.children());if(r++,n.children().length){r+=n.children().length;var a=h("<div></div>").text(e.attr("label")).addClass("c-select__heading");i.addClass("c-select__optgroup").append(n.prepend(a).children()).appendTo(o)}}});r>this.options.MAX_ITEM_COUNT_TO_SHOW&&this.listbox.addClass("is-scrollable");return o}.call(this,e).children();return void this.listbox.append(i)},s.prototype.moveFocusUp=function(){for(var t=this.listbox.find(".c-select__option"),e=t.index(this.optionFocused[0])-1;0<=e;e--){var i=h(t[e]);if(i.hasClass("is-selectable")){this.optionFocused=i,this.optionFocused.focus(),this.focusActiveOption();break}}},s.prototype.moveFocusDown=function(){for(var t=this.listbox.find(".c-select__option"),e=t.index(this.optionFocused[0])+1;e<t.length;e++){var i=h(t[e]);if(i.hasClass("is-selectable")){this.optionFocused=i,this.optionFocused.focus(),this.focusActiveOption();break}}},s.prototype.buildCombobox=function(){if(this.textbox=h("<div></div>").addClass("c-select__textbox").attr("tabindex",-1),this.isInputSelect){var t=this.$element.children(":selected")[0].textContent||"";this.inputbox=h('<input placeholder="'+t+'" type="text">'),this.textbox.append(this.inputbox)}this.listbox=h("<div></div>").addClass("c-select__listbox").attr("tabindex",-1).append(this.selector),this.combobox=h("<div></div>").addClass(this.cssElementClasses).attr("tabindex",0),this.listboxContainer=h("<div></div>").addClass("c-select__listbox-container").append(this.textbox).append(this.listbox),this.combobox.append(this.listboxContainer)},s.prototype.refresh=function(){this.buildCombobox(),this.$element.prev().replaceWith(this.combobox),this.stealLabel(),this.synchronizeAttributes(),this.populateText(),this.registerHandlers()}}(jQuery,window,document),function(i,t,e){"use strict";var n="brsShadowOverflow";function a(t,e){this.$element=i(t),this.options=i.extend({},i.fn[n].defaults,this.$element.data(),e),this._name=n,this.ticking=!1,this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={},a.prototype.instance=function(){return this},a.prototype.init=function(){s.apply(this,arguments),this.$element[0].addEventListener("scroll",o.bind(this),!!Modernizr.passiveeventlisteners&&{passive:!0})};var s=function(){this.$element.toggleClass("has-shadow-left",0<this.$element[0].scrollLeft),this.$element.toggleClass("has-shadow-right",this.$element[0].scrollLeft+this.$element[0].offsetWidth+2<=this.$element[0].scrollWidth),this.ticking=!1},o=function(){this.ticking||requestAnimationFrame(s.bind(this)),this.ticking=!0}}(jQuery,window,document),function(i,t,e){"use strict";var n="brsShowHideSelect";function a(t,e){this.$element=i(t),this.options=i.extend({},i.fn[n].defaults,e),this._name=n,this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={},a.prototype.instance=function(){return this},a.prototype.init=function(){this.selectId=this.$element.attr("data-show-hide-select"),this.$sections=i('[data-show-hide-select-target="'+this.selectId+'"]'),this.$element.on("change",function(t){var e=i(t.target).val();this.$sections.addClass("u-hidden"),i('[data-show-hide-select-target="'+this.selectId+'"][data-show-hide-select-section="'+e+'"]').removeClass("u-hidden"),i('[data-show-hide-select-target="'+this.selectId+'"][data-show-hide-select-section-'+e.toLowerCase()+"]").removeClass("u-hidden")}.bind(this))}}(jQuery,window,document),function(i,t,e){"use strict";var n="brsShowablePassword";function a(t,e){this.$element=i(t),this.$showIcon=i(t).parent().find("[data-brs-showable-password-button]"),this.isVisible=!1,this.options=i.extend({},i.fn[n].defaults,i(t).data(),e),this._name=n,this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={propertyName:"value",otherOption:[]},a.prototype.instance=function(){return this},a.prototype.init=function(){this.$showIcon.click(this.togglePasswordVisibility.bind(this))},a.prototype.togglePasswordVisibility=function(){this.$element.attr("type",this.isVisible?"password":"text"),this.$showIcon.toggleClass("is-active"),this.isVisible=!this.isVisible}}(jQuery,window,document),function(n,t,a){"use strict";var i="brsSly";function s(t,e){this.$element=n(t),this.options=n.extend({},n.fn[i].defaults,n(t).data(),e),this._name=i,this.init()}n.fn[i]=function(t){var e=arguments;return this.each(function(){n.data(this,"plugin_"+i)?"string"===n.type(t)&&n.data(this,"plugin_"+i)[t].apply(n.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):n.data(this,"plugin_"+i,new s(this,t))})},n.fn[i].defaults={sly:{horizontal:1,itemNav:"centered",itemSelector:"li",smart:!0,mouseDragging:1,touchDragging:1,speed:600,elasticBounds:1,dragHandle:1,dynamicHandle:1}},s.prototype.instance=function(){return this},s.prototype.init=function(){var t=this.options.sly;this.$element.data("brsSlyPrev")&&(t.prev=this.$element.data("brsSlyPrev")),this.$element.data("brsSlyNext")&&(t.next=this.$element.data("brsSlyNext")),this.$element.data("brsSlyStartAt")&&(t.startAt=this.$element.data("brsSlyStartAt"));var e=new Sly(this.$element,t).init();if(this.$element.data("brsSlyReloadOnTabClick")){var i=this;n(a).find(this.$element.data("brsSlyReloadOnTabClick")).on("tab:click",function(){n(a).trigger("load",i.$element),e.reload()})}}}(jQuery,window,document),function(i,l,t){"use strict";var n="brsSortableColumn";function a(t,e){this.$element=i(t),this.options=i.extend({},i.fn[n].defaults,i(t).data(),e),this._name=n,this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={},a.prototype.instance=function(){return this},a.prototype.init=function(){var t=this.$element.data("brsSortColumn");if(t){var e=this.$element.data("brsOrderAsc"),i=l.location.href,n=void 0!==this.$element.data("brsSortColumnParameterName")?this.$element.data("brsSortColumnParameterName"):"sortColumn",a=n+"="+t,s=void 0!==this.$element.data("brsOrderAscParameterName")?this.$element.data("brsOrderAscParameterName"):"orderAsc",o=s+"="+e;if(-1!==i.indexOf("?")){if(-1!==i.indexOf(n)){var r=new RegExp(n+"=[\\w-]*");i=i.replace(r,a)}else i=i+"&"+a;if(-1!==i.indexOf(s)){r=new RegExp(s+"=\\d");i=i.replace(r,o)}else i=i+"&"+o}else i=i+"?"+a+"&"+o;this.$element.click(function(){l.location=i})}}}(jQuery,window,document),function(i,e,n){"use strict";var a="bindStickyKit";function s(t,e){this.$element=i(t),this.options=i.extend({},i.fn[a].defaults,this.$element.data(),e),this._name=a,this.init()}i.fn[a]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+a)?"string"===i.type(t)&&i.data(this,"plugin_"+a)[t].apply(i.data(this,"plugin_"+a),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+a,new s(this,t))})},i.fn[a].defaults={fixedNavbarHeight:170},s.prototype.instance=function(){return this},s.prototype.init=function(){var t=this;t.options.fixedNavbarHeight=parseInt(i("body").css("padding-top")),t.bindSticky(t.options.fixedNavbarHeight),i(n).on("load",function(){t.bindSticky(t.options.fixedNavbarHeight)}),i(e).resize(function(){t.bindSticky(t.options.fixedNavbarHeight)})},s.prototype.bindSticky=function(t){void 0!==this.$element.data("stickyKit")?e.matchMedia(this.$element.data("stickyKit")).matches?(this.$element.stick_in_parent({offset_top:t,parent:"[data-sticky-container]",spacer:"[data-sticky-spacer]",inner_scrolling:this.options.inner_scrolling}),this.$element.trigger("sticky_kit:recalc")):this.$element.trigger("sticky_kit:detach"):(this.$element.stick_in_parent({offset_top:t,parent:"[data-sticky-container]",spacer:"[data-sticky-spacer]",inner_scrolling:this.options.inner_scrolling}),this.$element.trigger("sticky_kit:recalc"))}}(jQuery,window,document),function(i,t,e){"use strict";var n="brsStickyNavigation";function a(t,e){this.$element=i(t),this.options=i.extend({},i.fn[n].defaults,i(t).data(),e),this._name=n,this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={},a.prototype.init=function(){this.headerHeight=this.$element.height(),this.runScrollDetection(),i(t).smartresize(this.runScrollDetection.bind(this))},a.prototype.toggleNavigation=function(){this.currY=i(e).scrollTop(),this.direction=this.currY>this.lastY?"down":"up",this.lastY=this.currY,"down"==this.direction&&this.currY>=this.headerHeight?this.$element.addClass("is-hidden"):"up"==this.direction&&this.$element.removeClass("is-hidden")},a.prototype.runScrollDetection=function(){t.matchMedia("(max-width: 1000px)").matches?(this.lastY=i(e).scrollTop(),i(e).off("scroll.sticky-navigation").on("scroll.sticky-navigation",function(){this.toggleNavigation()}.bind(this))):(i(e).off("scroll.sticky-navigation"),this.$element.removeClass("is-hidden"))}}(jQuery,window,document),function(c,t,e){"use strict";var i="brsSubMenuBar";function n(t,e){this.element=c(t),this.options=c.extend({},c.fn[i].defaults,e),this._name=i,this.init()}c.fn[i]=function(t){var e=arguments;return this.each(function(){c.data(this,"plugin_"+i)?"string"===c.type(t)&&c.data(this,"plugin_"+i)[t].apply(c.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):c.data(this,"plugin_"+i,new n(this,t))})},c.fn[i].defaults={propertyName:"value",otherOption:[]},n.prototype.instance=function(){return this},n.prototype.init=function(){a.apply(this,arguments),c(t).resize(a.bind(this)),this.hideShow()};var a=function(){var t=this.calcWidth();this.positionedLine(t)};n.prototype.calcWidth=function(){var t=this.element,e=[],i=t.find("[data-submenubar-list]").children("li:not([data-submenubar-more])"),n=i.last(),a=t.find("[data-submenubar-subnav-list]"),s=t.find("[data-submenubar-more]"),o=0,r=s.outerWidth(!0),l=t.outerWidth(!0)-r;if(t.css("overflow","visible"),i.each(function(){o+=c(this).outerWidth(!0)}),l<o)n.attr("data-submenubar-more-width",n.outerWidth(!0)),n.prependTo(a),this.calcWidth();else{var h=a.find("li").first();o+h.data("submenubar-more-width")<l&&h.insertBefore(s)}return s.find("li").length?s.removeClass("is-hidden"):s.addClass("is-hidden"),e.push(t.find("[data-submenubar-list]").children("li:not([data-submenubar-more])"),t.find("[data-submenubar-list]").children("li:not([data-submenubar-more])[data-submenubar-item-current]")),e},n.prototype.hideShow=function(){this.element.find("[data-submenubar-more] > a").on("click",function(t){this.element.find("[data-submenubar-subnav]").toggleClass("is-visible"),t.preventDefault()}.bind(this))},n.prototype.positionedLine=function(t){var e,i,n,a=this.element,s=a.find("[data-submenubar-magic-line]"),o=a.find("[data-submenubar-more]"),r=a.find("[data-submenubar-subnav]"),l=t[1];if(0<l.length){var h=l.find("[data-submenubar-link]");s.show().width(l.width()).css("left",h.position().left).data("origLeft",s.position().left).data("origWidth",s.width()),t[0].each(function(){r.find("[data-submenubar-item]").off(),c(this).on({mouseover:function(){(e=c(this).find("[data-submenubar-link]")).position()&&(i=e.position().left,n=e.parent().width(),s.stop().animate({left:i,width:n},250))},mouseout:function(){s.stop().animate({left:s.data("origLeft"),width:s.data("origWidth")},250)}})}),o.removeClass("is-active")}else s.hide(),o.addClass("is-active")}}(jQuery,window,document),function(i,t,e){"use strict";var n="tableFixedColumn";function a(t,e){this.$element=i(t),this.options=i.extend({},i.fn[n].defaults,this.$element.data(),e),this._name=n,this.switched=!1,this.$tableWrapper=!1,this.$tableScroller=!1,this.$pinnedArea=!1,this.rows=this.$element.find("tr").length,this.columns=this.$element.find("thead th").length,this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={dataAttribute:"data-table-fixed-column"},a.prototype.instance=function(){return this},a.prototype.init=function(){i.isNumeric(this.options.tableFixedColumn)?(this.$container=this.$element.parent(),this.watchParentWidth(),i(t).smartresize(this.watchParentWidth.bind(this))):(this.watchOverflow(),i(t).smartresize(this.watchOverflow.bind(this)))},a.prototype.watchParentWidth=function(){this.$container.width()<this.options.tableFixedColumn?this.switched||(this.fixColumn(),this.shapeTable()):this.switched&&(this.unfixColumn(),this.unshapeTable())},a.prototype.unshapeTable=function(){this.$element.find("td, th").removeAttr("style")},a.prototype.shapeTable=function(){var t,e,i;for(t=0;t<this.rows;t++){var n=this.$pinnedArea.find("tr:eq("+t+") > *:eq(0)").prop("scrollHeight");for(e=0;e<this.columns;e++)(i=this.$tableScroller.find("tr:eq("+t+") > *:eq("+e+")")).outerHeight()>n&&(n=i.outerHeight()),i.prop("scrollHeight")>i.outerHeight()&&i.prop("scrollHeight")>n&&(n=i.prop("scrollHeight"));for(this.$pinnedArea.find("tr:eq("+t+") > *:eq(0)").css("height",n),e=0;e<this.columns;e++)this.$tableScroller.find("tr:eq("+t+") > *:eq("+e+")").css("height",n)}},a.prototype.watchOverflow=function(){var t,e,i=this.$element[0],n=!1;if(this.switched?(this.currentWidth=this.$tableWrapper.width(),this.currentWidth>this.widthBreakpoint&&this.unshapeTable()):this.currentWidth=this.$element.width(),i.offsetWidth<i.scrollWidth)n=!0;else{e=(t=this.$element.find("*")).length;for(var a=0;a<e;a++)if(t[a].offsetWidth<t[a].scrollWidth){n=!0;break}}n?((!this.widthBreakpoint||this.$element.width()>this.widthBreakpoint)&&(this.widthBreakpoint=this.$element.width()),this.switched||(this.fixColumn(),this.shapeTable())):this.switched&&(this.unfixColumn(),this.unshapeTable(),this.watchOverflow())},a.prototype.fixColumn=function(){var t="small"==this.options.tableFixedColumnArea?" js-table-fixed-column__scrollable-area--small":"",e="small"==this.options.tableFixedColumnArea?" js-table-fixed-column__pinned-area--small":"",i=this.$element.clone(!0);i.find("td:not(:first-child), th:not(:first-child)").css("display","none"),i.find("td:first-child:empty, th:first-child:empty").html("&nbsp;"),this.switched=!0,this.$element.addClass("js-table-fixed-column__table"),this.$element.wrap('<div class="js-table-fixed-column" />'),this.$tableWrapper=this.$element.closest(".js-table-fixed-column"),this.$tableWrapper.append(i),i.wrap('<div class="js-table-fixed-column__pinned-area'+e+'" />'),this.$pinnedArea=i.closest(".js-table-fixed-column__pinned-area"),this.$element.wrap('<div class="js-table-fixed-column__scrollable-area'+t+'" />'),this.$tableScroller=this.$element.closest(".js-table-fixed-column__scrollable-area"),this.attachScrollShadowEvent()},a.prototype.unfixColumn=function(){this.switched=!1,this.$element.removeClass("js-table-fixed-column__table"),this.$element.closest(".js-table-fixed-column").find(".js-table-fixed-column__pinned-area").remove(),this.$element.unwrap(".js-table-fixed-column__scrollable-area").unwrap(".js-table-fixed-column")},a.prototype.attachScrollShadowEvent=function(){s.apply(this,arguments),this.$tableScroller.scroll(s.bind(this))};var s=function(){0<this.$tableScroller[0].scrollLeft?this.$tableScroller.addClass("has-shadow-left"):this.$tableScroller.removeClass("has-shadow-left"),this.$tableScroller[0].scrollLeft+this.$tableScroller[0].offsetWidth+2<=this.$tableScroller[0].scrollWidth?(this.$tableScroller.addClass("has-shadow-right"),this.$pinnedArea.addClass("show-border")):(this.$tableScroller.removeClass("has-shadow-right"),this.$pinnedArea.removeClass("show-border"))}}(jQuery,window,document),function(i,t,e){"use strict";var n="tableFlip";function a(t,e){this.$element=i(t),this.options=i.extend({},i.fn[n].defaults,this.$element.data(),e),this._name=n,this.columns=this.$element.find("tr").length,this.rows=this.$element.find("thead th").length,this.switched=!1,this.$container=this.$element.parent(),this.$tableScroller=this.$element.find("tbody"),this.$pinnedArea=this.$element.find("thead"),this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={},a.prototype.instance=function(){return this},a.prototype.init=function(){i.isNumeric(this.options.tableFlip)?(this.watchParentWidth(),i(t).smartresize(this.watchParentWidth.bind(this))):(this.watchOverflow(),i(t).smartresize(this.watchOverflow.bind(this)))},a.prototype.unshapeTable=function(){this.switched=!1,this.$element.removeClass("js-table-flip").find("td, th").removeAttr("style")},a.prototype.shapeTable=function(){var t,e,i;for(this.$element.addClass("js-table-flip"),t=0;t<this.rows;t++){var n=this.$element.find("thead th:eq("+t+")").outerHeight();for(e=0;e<this.columns;e++)(i=this.$element.find("tbody tr:eq("+e+") > *:eq("+t+")")).outerHeight()>n&&(n=i.outerHeight()),i.prop("scrollHeight")>i.outerHeight()&&(n=i.prop("scrollHeight"));for(e=0;e<this.columns;e++)this.$element.find("tbody tr:eq("+e+") > *:eq("+t+")").css("height",n),this.$element.find("thead th:eq("+t+")").css("height",n)}this.switched=!0,this.attachScrollShadowEvent()},a.prototype.watchParentWidth=function(){this.$container.width()<this.options.tableFlip?this.switched||this.shapeTable():this.switched&&this.unshapeTable()},a.prototype.watchOverflow=function(){var t,e,i=this.$element[0],n=!1;if(this.switched?(this.currentWidth=this.$container.width(),this.currentWidth>this.widthBreakpoint&&this.unshapeTable()):this.currentWidth=this.$element.width(),i.offsetWidth<i.scrollWidth)n=!0;else{e=(t=this.$element.find("*")).length;for(var a=0;a<e;a++)if(t[a].offsetWidth<t[a].scrollWidth){n=!0;break}}n?((!this.widthBreakpoint||this.$element.width()>this.widthBreakpoint)&&(this.widthBreakpoint=this.$element.width()),this.shapeTable()):this.switched&&(this.unshapeTable(),this.watchOverflow())},a.prototype.attachScrollShadowEvent=function(){s.apply(this,arguments),this.$tableScroller.scroll(s.bind(this))};var s=function(){0<this.$tableScroller[0].scrollLeft?(this.$element.addClass("has-shadow-left"),this.$pinnedArea.removeClass("show-border")):(this.$element.removeClass("has-shadow-left"),this.$pinnedArea.addClass("show-border")),this.$tableScroller[0].scrollLeft+this.$tableScroller[0].offsetWidth+2<=this.$tableScroller[0].scrollWidth?this.$element.addClass("has-shadow-right"):this.$element.removeClass("has-shadow-right")}}(jQuery,window,document),function(s,o,t){"use strict";var i="brsTabsChart";function n(t,e){this.element=s(t),this.tabs=this.element.find("[data-tabs]"),this.options=s.extend({},s.fn[i].defaults,e),this._name=i,this.init()}s.fn[i]=function(t){var e=arguments;return this.each(function(){s.data(this,"plugin_"+i)?"string"===s.type(t)&&s.data(this,"plugin_"+i)[t].apply(s.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):s.data(this,"plugin_"+i,new n(this,t))})},s.fn[i].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){this.tabs.find("[data-tabs-link]").on("click",function(t){t.preventDefault(),s(s(t.currentTarget).attr("href")).css("min-height","20rem"),s(t.currentTarget).addClass("is-active"),s(s(t.currentTarget).attr("href")).addClass("is-active");var e=s(s(t.currentTarget)).attr("href"),i=s(e).find("div[id^=eod_container]")[0],n={symbol:s(i).data("brsQuoteChartSymbol"),$graph:[],urlWS:"/bourse/action/graph/ws/",saveTrace:!1,drawings:[],noCommand:!0,callType:"GET",chartSimple:!1},a={resizeChart:!1,VGP:o.VGP=n,defaultTemplate:{histoLength:365,paddingTop:0,paddingLeft:0,paddingBottom:20,paddingRight:45,mainChart:{type:"line",typedef:{color2:"rgba(53,170,227,1)",color3:"rgba(51,99,160,1)",v1:!0}},indicators:[],set:{nohighlow:!0,veilleColor:"#f94aa6",veilleWidth:2,bkcolor:"rgba(0,0,0,0)",txtColor:"#000000",gridV:!1,gridH:!1,gridLine:!0,gridColor:"#263c53",cadreColor:"transparent",nosticky:!0}}};s(i).brsQuoteChart(a)}.bind(this))}}(jQuery,window,document),function(i,t,e){"use strict";var n="brsTabs";function a(t,e){this.element=i(t),this.$scroll=this.element.find("[data-custom-scroll]"),this.$scrollbar=this.element.find("[data-custom-scrollbar]"),this.$panels=this.element.find("[data-tabs-panel]"),this.$items=this.element.find("[data-tabs-link]"),this.options=i.extend({},i.fn[n].defaults,e),this._name=n,this._attachedName="brsCustomScroll",this.init()}i.fn[n]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+n)?"string"===i.type(t)&&i.data(this,"plugin_"+n)[t].apply(i.data(this,"plugin_"+n),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+n,new a(this,t))})},i.fn[n].defaults={shadow:!1,targetMinHeight:"18.5rem"},a.prototype.instance=function(){return this},a.prototype.init=function(){this.$scroll.on(this._attachedName+":load",function(t,e){this.checkScrolling(e.pos)}.bind(this)),this.createScrolling(),i(t).smartresize(this.createScrolling.bind(this)),this.$items.on("click",function(t){t.preventDefault(),i(i(t.currentTarget).attr("href")).css("min-height",this.element.attr("data-tabs-target-min-height")||this.options.targetMinHeight),this.$items.removeClass("is-active"),this.$panels.removeClass("is-active"),i(t.currentTarget).addClass("is-active"),i(i(t.currentTarget).attr("href")).addClass("is-active"),i(i(t.currentTarget)).trigger("tab:click")}.bind(this))},a.prototype.createScrolling=function(){this.navViewport=parseInt(this.$scroll.width()),parseInt(this.getTabsWidth())>=this.navViewport?(this.$scroll.trigger(this._attachedName+":init"),this.$scrollbar.on({mouseenter:function(){this.element.addClass("is-visible")}.bind(this),mouseleave:function(){this.element.removeClass("is-visible")}.bind(this)}),this.options.shadow&&this.$scroll.off(this._attachedName+":move").on(this._attachedName+":move",function(t,e){this.checkScrolling(e)}.bind(this))):(this.element.removeClass("is-visible is-scrollable"),this.$scroll.trigger(this._attachedName+":destroy"),this.$scrollbar.off())},a.prototype.getTabsWidth=function(){var t=0;return this.$items.each(function(){t+=i(this).outerWidth(!0)}),Math.ceil(t)},a.prototype.checkScrolling=function(t){t.cur==t.end?this.element.removeClass("is-scrollable"):this.element.addClass("is-scrollable")}}(jQuery,window,document),function(s,t,o){"use strict";var i="brsVideoThemeFilter";function n(t,e){this.$element=s(t),this.$submitButton=this.$element.find("[data-brs-video-theme-filter-submit]"),this.$sortSelect=s("[data-brs-theme-sort]"),this.options=s.extend({},s.fn[i].defaults,e),this._name=i,this.init()}s.fn[i]=function(t){var e=arguments;return this.each(function(){s.data(this,"plugin_"+i)?"string"===s.type(t)&&s.data(this,"plugin_"+i)[t].apply(s.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):s.data(this,"plugin_"+i,new n(this,t))})},s.fn[i].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var t=this;this.refreshUrl=this.$element.data("refreshUrl"),this.refreshTargetSelector=this.$element.data("refreshTarget"),this.$refreshTarget=null,this.refreshTargetSelector&&(this.$refreshTarget=s("["+this.refreshTargetSelector+"]")),this.$sortSelect=s("[data-brs-theme-sort]"),this.$circleLoader=this.$element.find("[data-loader-circle]"),this.$submitButton.on("click",function(){return t.refreshVideos(),!1}),this.$sortSelect.on("change",function(){t.refreshVideos()})},n.prototype.buildRefreshUrl=function(){var t="?videoDuration="+this.$element.find("input[name=videoDuration]:checked").val()+"&minDate="+this.$element.find("input[name=theme-filter-min-date]").val()+"&maxDate="+this.$element.find("input[name=theme-filter-max-date]").val()+"&sortBy="+this.$sortSelect.val();return this.refreshUrl+t},n.prototype.refreshVideos=function(){if(this.$refreshTarget){var t=this.buildRefreshUrl(),a=this;this.$submitButton.hide(),this.$circleLoader.show(),this.$refreshTarget.fadeTo("slow",.1),this.$refreshTarget.css("pointer-events","none"),s.ajax({type:"GET",url:t}).done(function(t){if(a.$submitButton.show(),a.$circleLoader.hide(),a.$refreshTarget.animate({opacity:1}),a.$refreshTarget.css("pointer-events","auto"),t){var e=s(t),i=s(t),n=e.find("["+a.refreshTargetSelector+"]");a.$refreshTarget.html(n.children()),dctThumb(a.$refreshTarget.get(0).querySelectorAll("[data-thumb-lazy]")),i.find("[data-load-more]").length?(s("[data-brs-theme-videos]").get(0).setAttribute("data-load-more-target",i.find("[data-load-more]").data("loadMore")),a.$refreshTarget.find("[data-load-more]").show(),a.$refreshTarget.find("[data-load-more]").loadMore()):a.$refreshTarget.find("[data-load-more]").hide(),s(o).trigger("load",this.target)}})}}}(jQuery,window,document),function(i,t,n){"use strict";var a="ellipsisShowMore";function e(t,e){this.$element=i(t),this.options=i.extend({},i.fn[a].defaults,this.$element.data(),e),this._name=a,this.init()}i.fn[a]=function(t){return this.each(function(){i.data(this,"plugin_"+a)?"string"===i.type(t)&&i.data(this,"plugin_"+a)[t].apply(i.data(this,"plugin_"+a),Array.prototype.slice.call(args,1)):i.data(this,"plugin_"+a,new e(this,t))})},i.fn[a].defaults={},e.prototype.init=function(){this.showMoreContent()},e.prototype.showMoreContent=function(){var e=this;this.$element.on("click",function(){var t=i(this).attr("data-show-more");i(n).find('[data-target="'+t+'"]').removeClass(function(t,e){return(e.match(/\bo-ellipsis\S*/g)||[]).join(" ")}),e.$element.addClass("u-hidden")})}}(jQuery,window,document),function(o,s,r){"use strict";var i="hinclude",n=[];function a(t,e){this.element=o(t),this.options=o.extend({},o.fn[i].defaults,o(t).data(),e),this._name=i,this.src=this.element.attr("src"),this.init()}function l(t){var e,i,n,a;if(!(t=o(t)[0]))throw"invalid element";for(e=t.offsetTop,i=t.offsetLeft,n=t.offsetWidth,a=t.offsetHeight;t.offsetParent;)e+=(t=t.offsetParent).offsetTop,i+=t.offsetLeft;return e<s.pageYOffset+s.innerHeight&&i<s.pageXOffset+s.innerWidth&&e+a>s.pageYOffset&&i+n>s.pageXOffset}o(s).scroll(function(){var t=null;n.length&&(t&&clearTimeout(t),t=setTimeout(function(){n.forEach(function(t,e){l(t.element)&&(t.update(t.element,t.src),n.splice(e,1))})},250))}),o.fn[i]=function(t){var e=arguments;return this.each(function(){o.data(this,"plugin_"+i)?"string"===o.type(t)&&o.data(this,"plugin_"+i)[t].apply(o.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):o.data(this,"plugin_"+i,new a(this,t))})},o.fn[i].defaults={autoload:!0},a.prototype.init=function(){var a=this.element;this.element.trigger(i+":init"),this.options.loadOnReveal&&(this.options.autoload=!1,this.loadOnReveal()),this.options.autoload&&this.update(this.element,this.src),this.element.on("submit click","form, a",function(t){var e=o(t.currentTarget),i=HTMLAnchorElement.prototype.isPrototypeOf(t.currentTarget),n=HTMLFormElement.prototype.isPrototypeOf(t.currentTarget);void 0===e.attr("data-sealed")&&void 0===a.attr("data-sealed")||(i?(t.preventDefault(),t.stopPropagation(),this.update(a,e.attr("data-href")?e.attr("data-href"):e.attr("href"))):n&&"submit"===t.type&&(t.preventDefault(),t.stopPropagation(),this.update(a,e.attr("action"),e.serializeArray(),e.attr("method"))))}.bind(this))},a.prototype.reload=function(){this.update(this.element,this.element.attr("src"))},a.prototype.update=function(i,t,e,n){var a=this;"POST"!==(n=void 0!==n?n.toUpperCase():"GET")&&"GET"!==n&&(n="GET");var s={"X-HInclude":1};this.element.attr("data-cache-key")&&(s["X-HInclude-Cache-Key"]=this.element.attr("data-cache-key")),this.element.attr("data-cache-duration")&&(s["X-HInclude-Cache-Duration"]=this.element.attr("data-cache-duration")),this.element.attr("data-cache-public")&&(s["X-HInclude-Cache-Public"]=1),e=void 0!==e?e:{},this.xhr=o.ajax(t,{dataType:"html",method:n,data:o.extend(e,{_hinclude:"1"}),headers:s,statusCode:{401:function(){0!==r.location.pathname.indexOf("/connexion")&&(r.location="/connexion?org="+r.location.pathname)}},success:function(t,e){a.checkHincludeContent(t,e)&&(o(i).html(t),o(r).trigger("load",o(i)))},error:function(t){},complete:function(){o(i).trigger("complete")}})},a.prototype.checkHincludeContent=function(t,e){return!(-1<t.indexOf("</body>")||-1<t.indexOf("</html>"))},a.prototype.stop=function(){this.xhr&&this.xhr.abort()},a.prototype.loadOnReveal=function(){l(this.element)?this.update(this.element,this.src):n.push(this)}}(jQuery,window,document),function(h,t,c){"use strict";var i="loadMore";function n(t,e){this.$element=h(t),this.options=h.extend({},h.fn[i].defaults,this.$element.data(),e),this._name=i,this.init()}h.fn[i]=function(t){var e=arguments;return this.each(function(){h.data(this,"plugin_"+i)?"string"===h.type(t)&&h.data(this,"plugin_"+i)[t].apply(h.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):h.data(this,"plugin_"+i,new n(this,t))})},h.fn[i].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var t=this;this.id=this.$element.data("loadMore"),this.target=h("[data-load-more-target="+this.id+"]"),this.url=this.$element.data("loadMoreUrl"),this.limit=this.$element.data("loadMoreLimit"),this.offset={},this.offset.default=this.$element.data("loadMoreOffset"),this.offset.current=this.$element.data("loadMoreOffset"),this.offset.max=this.$element.data("loadMoreOffsetMax"),this.disableOverlay=this.$element.data("loadMoreDisableOverlay"),this.$element.on("click",function(){t.load()}),this.target.find("[data-refreshable-trigger]").each(function(){h(this).on("change click",function(){t.offset.current=t.offset.default,t.$element.removeClass("u-hidden")})})},n.prototype.load=function(){this.$element.trigger(i+":load");var r=this.target.brsLoader(),e={};if(e.limit=this.limit,e.offset=this.offset.current,this.target.find("[data-load-more-parameter]").each(function(){var t=h(this).val().split("=");e[t[0]]=t[1]}),!this.$element.data("loadMoreUrl")&&this.target.find("[data-tabs-panel].is-active [data-refreshable]")){var t=this.target.find("[data-tabs-panel].is-active [data-refreshable]");this.url=t.data("refreshable")}var l=this.$element.next("[data-loader-circle]");0<l.length?l.show():this.disableOverlay||r.data("plugin_brsLoader").showLoader(),this.$element.addClass("u-hidden"),h.ajax({type:"GET",context:this.$element,url:this.url,data:e}).done(function(t){var e=h(t),i="",n=e.find("[data-load-more-url='"+this.url+"']");if(n.length){var a=n.parents("[data-load-more-target]");i=a.length?a.find("[data-load-more-content]"):e.find("[data-load-more-content]")}else i=e.find("[data-load-more-content]");var s=i.children();if(this.$element.data("loadMoreUrl")){this.target.find("[data-load-more-content]").append(s.hide().fadeIn(800));var o=this.target.find("[data-load-more-content]:first [data-thumb-lazy]");o&&dctThumb(o)}else this.target.find("[data-tabs-panel].is-active [data-load-more-content]")&&this.target.find("[data-tabs-panel].is-active [data-load-more-content]").append(s.hide().fadeIn(800));h(c).trigger("load",this.target),this.offset.current+=this.limit,0<l.length?l.hide():this.disableOverlay||r.data("plugin_brsLoader").hideLoader(),s.length>=this.limit&&this.$element.removeClass("u-hidden"),this.offset.max&&this.offset.current>=this.offset.max&&this.$element.addClass("u-hidden")}.bind(this))}}(jQuery,window,document),function(r,t,e){"use strict";var i="radioFilter";function n(t,e){this.$element=r(t),this.options=r.extend({},r.fn[i].defaults,this.$element.data(),e),this._name=i,this.init()}r.fn[i]=function(t){var e=arguments;return this.each(function(){r.data(this,"plugin_"+i)?"string"===r.type(t)&&r.data(this,"plugin_"+i)[t].apply(r.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):r.data(this,"plugin_"+i,new n(this,t))})},r.fn[i].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var t=this;this.targetId=this.$element.data("radioFilterTargetId"),this.$target=r("[data-radio-filter-target-content="+this.targetId+"]"),this.$element.find("[data-radio-filter-url]").each(function(){r(this).on("change",function(){t.remoteLoad(r(this).data("radioFilterUrl"))})}),this.$element.find("[data-radio-filter-target]").each(function(){r(this).on("change",function(){t.localLoad(r(this).data("radioFilterTarget"))})})},n.prototype.remoteLoad=function(t){var o=this;t&&r.ajax({type:"GET",url:t}).done(function(t){var e=r(r.parseHTML(t)),i=o.$target.find("[data-load-more]"),n="";i&&(n=i.data("loadMore"),e.find("[data-load-more]").get(0).setAttribute("data-load-more",n));var a=e.find("[data-radio-filter-target-content]").children();o.$target.html(a.hide().fadeIn(800)),n&&o.$target.find("[data-load-more]").loadMore();var s=o.$target.get(0).querySelectorAll("[data-thumb-lazy]");s&&dctThumb(s)})},n.prototype.localLoad=function(t){t&&(this.$element.find("[data-radio-filter-target]").each(function(){r("["+r(this).data("radioFilterTarget")+"]").addClass("u-hidden")}),r("["+t+"]").removeClass("u-hidden"))}}(jQuery,window,document),function(h,c,d){"use strict";var i="refreshable";function n(t,e){this.$element=h(t),this.options=h.extend({},h.fn[i].defaults,this.$element.data(),e),this._name=i,this.method="GET",this.init()}h.fn[i]=function(t){var e=arguments;return this.each(function(){h.data(this,"plugin_"+i)?"string"===h.type(t)&&h.data(this,"plugin_"+i)[t].apply(h.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):h.data(this,"plugin_"+i,new n(this,t))})},h.fn[i].defaults={refreshableLoader:!1},n.prototype.instance=function(){return this},n.prototype.init=function(){this.$element.trigger(i+":init"),this.setUrl(this.$element.data("refreshable"))},n.prototype.setUrl=function(t){return this.$element.trigger(i+":setUrl"),this.url=t,this},n.prototype.setMethod=function(t){return this.$element.trigger(i+":setMethod"),this.method=t,this},n.prototype.load=function(t){this.$element.trigger(i+":load");var r=this,l=this.options;l.refreshableLoader&&this.$element.parent().addClass("is-loading"),h.ajax({type:this.method,context:this.$element,url:this.url,data:t}).done(function(t){if(t.redirect)c.location.href=t.redirect;else{var e,i,n=h(h.parseHTML(t,!0)),a=this.data("refreshableSelector"),s=this.data("refreshableId"),o="";void 0!==s&&""!==s&&(o='[data-refreshable-id="'+s+'"]'),i='[data-refreshable="'+this.data("refreshable")+'"]',e=a?0<n.filter(a).length?n.filter(a):n.find(a):n.attr("data-refreshable")&&n.attr("data-refreshable")===this.data("refreshable")?n.children():""!==o&&0<n.find(o).length?n.find(o).children():0<n.find(i).length?n.find(i).children():n,this.html(e).fadeIn(),l.refreshableLoader&&this.parent().removeClass("is-loading"),h(d).trigger("load",r.$element),0<r.$element.find("[data-thumb-lazy]").length&&dctThumb(r.$element.find("[data-thumb-lazy]").toArray())}})}}(jQuery,window,document),function(a,t,n){"use strict";var i="showHideDataTarget";function s(t,e){this.$element=a(t),this.options=a.extend({},a.fn[i].defaults,this.$element.data(),e),this._name=i,this.init()}a.fn[i]=function(t){var e=arguments;return this.each(function(){a.data(this,"plugin_"+i)?"string"===a.type(t)&&a.data(this,"plugin_"+i)[t].apply(a.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):a.data(this,"plugin_"+i,new s(this,t))})},a.fn[i].defaults={},s.prototype.init=function(){this.$dataShow=a(this.$element.find("[data-show]")),this.$dataHide=a(this.$element.find("[data-hide]"));var n=this;a.each(this.$dataShow,function(t,e){var i=a(e).attr("data-show");a(e).is("[data-show-on-load]")?n.$element.find('[data-show="'+i+'"]').addClass("u-hidden"):(a(e).attr("data-show-sibling")?a('[data-target="'+i+'"]').addClass("u-hidden"+this.getTargetBreakpoint(a(e))).find("input, select").prop("disabled",!0):this.$element.find('[data-target="'+i+'"]').addClass("u-hidden"+this.getTargetBreakpoint(a(e))).find("input, select").prop("disabled",!0),n.$element.find('[data-hide="'+i+'"]').addClass("u-hidden"))}.bind(this)),this.showElements(),this.hideElements()},s.prototype.showElements=function(){var i=this;this.$dataShow.on("click",function(t){var e=a(this).attr("data-show");a(this).attr("data-show-sibling")?a('[data-target="'+e+'"]').removeClass("u-hidden"+i.getTargetBreakpoint(a(this))).find("input, select").prop("disabled",!1):i.$element.find('[data-target="'+e+'"]').removeClass("u-hidden"+i.getTargetBreakpoint(a(this))).find("input, select").prop("disabled",!1),i.$element.find('[data-show="'+e+'"]').addClass("u-hidden"),i.$element.find('[data-hide="'+e+'"]').removeClass("u-hidden"),a(n).trigger("showPortholeEvent",[i.$element.find('[data-target="'+e+'"]')]),t.preventDefault()})},s.prototype.hideElements=function(){var i=this;this.$dataHide.on("click",function(t){var e=a(this).attr("data-hide");a(this).attr("data-show-sibling")?a('[data-target="'+e+'"]').addClass("u-hidden"+i.getTargetBreakpoint(a(this))).find("input, select").prop("disabled",!0):i.$element.find('[data-target="'+e+'"]').addClass("u-hidden"+i.getTargetBreakpoint(a(this))).find("input, select").prop("disabled",!0),i.$element.find('[data-show="'+e+'"]').removeClass("u-hidden"),i.$element.find('[data-hide="'+e+'"]').addClass("u-hidden"),t.preventDefault()})},s.prototype.getParentBreakpoint=function(t){return t.parent().data("hideTargetBreakpoint")},s.prototype.getTargetBreakpoint=function(t){var e=this.getParentBreakpoint(t);return e?"@"+e:""}}(jQuery,window,document),function(n,t,e){"use strict";var i="showHideTable";function a(t,e){this.$element=n(t),this.options=n.extend({},n.fn[i].defaults,this.$element.data(),e),this._name=i,this.init()}n.fn[i]=function(t){var e=arguments;return this.each(function(){n.data(this,"plugin_"+i)?"string"===n.type(t)&&n.data(this,"plugin_"+i)[t].apply(n.data(this,"plugin_"+i),Array.prototype.slice.call(e,1)):n.data(this,"plugin_"+i,new a(this,t))})},n.fn[i].defaults={},a.prototype.init=function(){this.$dataShow=n(this.$element.find("[data-show-table]")),this.$dataHide=n(this.$element.find("[data-hide-table]")),n.each(this.$dataShow,function(t,e){this.$element.find('[data-target-table="'+n(e).attr("data-show-table")+'"]').addClass("c-table--show-hide--active"+this.getTargetBreakpoint(n(e))).find("input, select").prop("disabled",!0)}.bind(this)),this.$dataHide.addClass("u-hidden"),this.showElements(),this.hideElements()},a.prototype.showElements=function(){var i=this;this.$dataShow.on("click",function(t){var e=n(this).attr("data-show-table");i.$element.find('[data-target-table="'+e+'"]').removeClass("c-table--show-hide--active"+i.getTargetBreakpoint(n(this))).find("input, select").prop("disabled",!1),i.$element.find('[data-show-table="'+e+'"]').addClass("u-hidden"),i.$element.find('[data-hide-table="'+e+'"]').removeClass("u-hidden"),t.preventDefault()})},a.prototype.hideElements=function(){var i=this;this.$dataHide.on("click",function(t){var e=n(this).attr("data-hide-table");i.$element.find('[data-target-table="'+e+'"]').addClass("c-table--show-hide--active"+i.getTargetBreakpoint(n(this))).find("input, select").prop("disabled",!0),i.$element.find('[data-show-table="'+e+'"]').removeClass("u-hidden"),i.$element.find('[data-hide-table="'+e+'"]').addClass("u-hidden"),t.preventDefault()})},a.prototype.getParentBreakpoint=function(t){return t.parent().data("hideTargetBreakpoint")},a.prototype.getTargetBreakpoint=function(t){var e=this.getParentBreakpoint(t);return e?"@"+e:""}}(jQuery,window,document),function(t,e){jQuery.fn[e]=function(t){return t?this.bind("resize",(i=t,function(){var t=this,e=arguments;s?clearTimeout(s):a&&i.apply(t,e),s=setTimeout(function(){a||i.apply(t,e),s=null},n||100)})):this.trigger(e);var i,n,a,s}}(jQuery,"smartresize"),function(i,n,t,e){"use strict";var a="tableCompare",s={targetBreakpoint:500,currentVisibleColumn:1,nextButtonText:"Comparer Suivant"};function o(t,e){this.$element=i(t),this.element=this.$element[0],this.settings=i.extend({},s,e),this._defaults=s,this._name=a,this.init()}i.extend(o.prototype,{init:function(){this.allCells=this.$element.find("th, td"),this.rowHeaders=this.$element.find("tbody th"),this.columnHeaders=this.$element.find("thead th:not(:empty)"),this.nextButton=t.createElement("button"),this.nextButton.className="c-button o-vertical-interval",this.currentVisibleColumn=this.settings.currentVisibleColumn,this.createButtons(),this.updateTable(),n.addEventListener("resize",this.updateTable.bind(this))},showCurrentlyVisible:function(){for(var t=this.$element.find("thead th:not(:empty):nth-of-type( "+this.currentVisibleColumn+")"),e=this.$element.find("tbody td:nth-of-type("+this.currentVisibleColumn+")"),i=0;i<this.allCells.length;i++)this.allCells[i].style.display="none";for(t.show(),i=0;i<e.length;i++)e[i].style.display="block";for(i=0;i<this.rowHeaders.length;i++)this.rowHeaders[i].style.display="block"},createButtons:function(){this.nextButton.textContent=this.settings.nextButtonText,this.nextButton.style.display="none",this.element.parentNode.insertBefore(this.nextButton,this.element.nextSibling),this.nextButton.addEventListener("click",function(){this.currentVisibleColumn=this.currentVisibleColumn+1>this.columnHeaders.length?1:this.currentVisibleColumn+1,this.showCurrentlyVisible()}.bind(this))},updateTable:function(){var t=this.element.getBoundingClientRect().width;if(t>n.innerWidth||t<this.settings.targetBreakpoint)"active"!=this.element.getAttribute("data-comparing")&&(this.element.setAttribute("data-comparing","active"),this.nextButton.style.display="block",this.showCurrentlyVisible());else if("active"==this.element.getAttribute("data-comparing")){this.element.setAttribute("data-comparing",""),this.nextButton.style.display="none";for(var e=0;e<this.allCells.length;e++)this.allCells[e].style.display="";for(e=0;e<this.rowHeaders.length;e++)this.rowHeaders[e].style.display=""}}}),i.fn[a]=function(t){return this.each(function(){i.data(this,"plugin_"+a)||i.data(this,"plugin_"+a,new o(this,t))})}}(jQuery,window,document),function(M){M.fn.stackcolumns=function(t){var n=M.extend({},{},t);return this.each(function(){var t=M(this),g="accordion"==t.data("tableStack"),v=0;if(t.find("tr").eq(0).find("td,th").each(function(){var t=M(this).attr("colspan");t?v+=parseInt(t,10):v++}),!(v<3)){var b=t.find("thead tr").length,y=0,e=M('<table class="o-table-stack--small-only '+t.attr("class")+'"></table>');void 0!==n.myClass&&e.addClass(n.myClass),t.addClass("o-table-stack--large-only");var x=M("<tbody></tbody>");x.addClass(M(this).find("tbody").attr("class"));for(var w=1,T=null,C=[],S=[];w<v;)t.find("tr").each(function(e){var t=0<M(this).closest("tfoot").length,i=0<M(this).closest("thead").length,n=M("<tr></tr>");n.addClass(M(this).attr("class")),i&&(n.addClass("o-table-stack__head-row"),y=y<b?y+1:1);var a=M(this).find("td,th").eq(0).clone().addClass("o-table-stack__key-cell"),s=w;if(M(this).find("*[colspan]").length){var o=0;M(this).find("td,th").each(function(){var t=M(this).attr("colspan");if(t?(t=parseInt(t,10),s-=t-1,w<o+t&&(s+=o+t-w-1),o+=t):o++,w<o)return!1})}var r=M(this).find("td,th").eq(s).clone().addClass("o-table-stack__value-cell").removeAttr("colspan");if(r.attr("rowspan"))if(i)C.push(s);else{var l=s,h=M.grep(S,function(t){return t.col<s&&e<=parseInt(t.rowspan,10)+parseInt(t.line,10)-1}).length;l=0<h?l+h:l,S.push({line:e,col:l,rowspan:r.attr("rowspan")})}if(i&&1<y)-1===M.inArray(s,C)&&(M.each(C,function(t,e){e<s&&--s}),r=M(this).find("td,th").eq(s).clone().addClass("o-table-stack__value-cell").removeAttr("colspan"),x.find("tr").last().find("th").addClass(r.attr("class")).append(" : "+r.text()));else{if(r.attr("rowspan")&&r.removeAttr("rowspan"),!i&&!t&&M(this).find("td,th").length<v){l=s,h=M.grep(S,function(t){return t.col<s&&e<=parseInt(t.rowspan,10)+parseInt(t.line,10)-1}).length,l=0<h?l+h:l;var c=M.grep(S,function(t){return t.col===l}),d=0<c.length,u=0<M.grep(S,function(t){return t.col<w&&e<=parseInt(t.rowspan,10)+parseInt(t.line,10)-1}).length;if(!d||u)u&&--s,r=M(this).find("td,th").eq(s).clone().addClass("o-table-stack__value-cell").removeAttr("colspan").removeAttr("rowspan");else if(d&&e<=parseInt(c[0].rowspan,10)+parseInt(c[0].line,10)-1){for(var p=M(this).prev(),f=0<(h=M.grep(S,function(t){return t.col<w&&p[0].rowIndex<=parseInt(t.rowspan,10)+parseInt(t.line,10)-1}).length)?l-h:l;0<p.length&&!p.find("th,td").eq(f).attr("rowspan");)f=0<(h=M.grep(S,function(t){return t.col<w&&p[0].rowIndex<=parseInt(t.rowspan,10)+parseInt(t.line,10)-1}).length)?l-h:l,p=p.prev();r=p.find("td,th").eq(f).clone().addClass("o-table-stack__value-cell").removeAttr("colspan").removeAttr("rowspan")}}if(M(this).find("td,th").eq(0).is(":empty")?(r.attr("colspan",2),n.append(r)):t&&!T?(r.attr("colspan",2),n.append(r),T=n):t||n.append(a,r),i&&g&&n.click(function(){M(this).nextUntil(".o-table-stack__spacing-row").toggle(),M(this).find(".o-table-stack__value-cell").toggleClass("is-open")}),1!==w&&1===y&&i){var m=M('<tr class="o-table-stack__spacing-row"><th colspan="2"></th></tr>');x.append(m)}t||x.append(n)}}),++w;if(T){var i=M('<tr class="o-table-stack__spacing-row"><th colspan="2"></th></tr>');x.append(i),T.addClass("c-table__footer"),x.append(T)}e.append(M(x)),g&&e.find(".o-table-stack__head-row .o-table-stack__value-cell:not(.is-open)").parent().nextUntil(".o-table-stack__spacing-row").hide(),t.before(e)}})}}(jQuery),function(i,n,a){"use strict";var s="ultimediaVideoPlayer";function o(t,e){this.element=i(t),this.options=i.extend({},i.fn[s].defaults,i(t).data(),e),this._name=s,this.zoneId=i(t).data("zoneId"),this.targetId=i(t).data("targetId"),this.desktopId=i(t).data("desktopId"),this.mobileId=i(t).data("mobileId"),this.async=!0,this.init()}i.fn[s]=function(t){var e=arguments;return this.each(function(){i.data(this,"plugin_"+s)?"string"===i.type(t)&&i.data(this,"plugin_"+s)[t].apply(i.data(this,"plugin_"+s),Array.prototype.slice.call(e,1)):i.data(this,"plugin_"+s,new o(this,t))})},i.fn[s].defaults={},o.prototype.init=function(){if(n.ULTIMEDIA_zone=this.zoneId,n.ULTIMEDIA_target=this.targetId,n.ULTIMEDIA_async=this.async,n.ULTIMEDIA_mdtk=this.desktopId,"function"==typeof MobileDetect){var t=new MobileDetect(n.navigator.userAgent);(t.mobile()||t.tablet()||n.navigator.userAgent.match(/BRSAPP\-IOS/)||n.navigator.userAgent.match(/BRSAPP\-ANDROID/))&&(n.ULTIMEDIA_mdtk=this.mobileId)}else console.warn("MobileDetect is not loaded");var e=a.getElementById(this.targetId);if(null!==e){var i=a.createEvent("Event");i.initEvent("brs-ultimedia-ready",!0,!0),e.dispatchEvent(i),e.setAttribute("loaded",!0)}}}(jQuery,window,document),$(function(){$.pjax.defaults||($.pjax.defaults={}),$.pjax.defaults.timeout=5e3,$.pjax.defaults.id=0,$.pjax.refreshContent=function(t,e){e=$.extend({push:!1,fragment:t,scrollTo:0},e),$(t).html($('[data-template="content-spinner"]').html()),$.pjax.reload(t,e)},$(document).on("pjax:beforeSend",function(t,e,i){i.fragment&&e.setRequestHeader("X-PJAX-Fragment",!0)})}),$(document).on("load",function(t,e){var a,i=$(e).find("[data-pjax-container]");a=function(t,i,e){var n=$.extend({},e);return n.container||($(i).data("pjax")&&$(i).data("pjax").length?n.container=$($(i).data("pjax")):n.container=$(i).closest("[data-pjax-container]")),n.container.length||(n.container=$("#content")),Object.keys($(i).data()).forEach(function(t){var e=$(i).data()[t];0===t.indexOf("pjax")&&"pjax"!==t&&(t=(t=t.replace("pjax","")).substr(0,1).toLowerCase()+t.substr(1),n[t]=e)}),n.container.attr("id")||n.container.attr("id","pjax-container-uid-"+$.pjax.defaults.id++),n.container.data("pjaxContainer").length&&(n.container.selector='[data-pjax-container="'+n.container.data("pjaxContainer")+'"]'),n},i.on("pjax:beforeSend",function(t,e,i){i.container.length&&e.setRequestHeader("X-PJAX-Container","#"+i.container.attr("id"))}),i.on("pjax:end",function(t,e,i){$(this);$(this).data("pjax:xhr",null),$(this).data("pjax:xhr:options",null),$(this).loadingBar&&$(this).loadingBar("end")}),i.on("pjax:success",function(t){$(document).trigger("load",$(this))}),i.on("pjax:popstate",function(){i.one("pjax:end",function(t){$(document).trigger("load",$(this))})}),$(e).find("a[data-pjax]").on("click",function(t){var e=a(0,$(this));t.currentTarget.href;console.log("pjax:click",t,e),""==t.currentTarget.hostname&&(t.currentTarget.hostname=location.hostname,t.currentTarget.protocol=location.protocol),1<t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||$.pjax.click(t,e)}),i.on("pjax:start",function(t){$(this)}),i.on("pjax:beforeReplace",function(t){}),$(e).find("select[data-pjax]").on("change",function(t){var e=$(this).find("option:selected").data("href"),i=a(0,$(this));e&&(i.url=e,$.pjax(i))}),$(e).find("form[data-pjax]").on("submit",function(t){var e,i,n=$(document.activeElement);t.currentTarget.action;if($(this).data("activeButtonNoValidate")||!$(this).data("validator")||$(this).data("validator").checkValidity()){if(!1===n.data("pjax"))return!0;if(e=a(0,$(this)),i=$.Event("pjax:submit",{options:e,activeElement:n&&n.length?n[0]:null,form:this}),$(this).trigger(i),i.isDefaultPrevented())return!0;$(this).trigger("pre-submit");try{$.pjax.submit(t,e)}catch(t){console.error(t)}}}).find('button[type="submit"]').on("click",function(){$(this).closest("form").data("activeButtonNoValidate",$(this).attr("formnovalidate"))})}),window.lang={l_cross:"RETICULE",l_pointer:"POINTEUR",l_eraser:"GOMME",l_1d:"1 JOUR",l_2d:"2 JOURS",l_5d:"5 JOURS",l_10d:"10 JOURS",l_15d:"15 JOURS",l_3m:"3 MOIS",l_6m:"6 MOIS",l_1y:"1 AN",l_2y:"2 ANS",l_5y:"5 ANS",l_10y:"10 ANS",l_15y:"15 ANS",l_20y:"20 ANS",l_25y:"25 ANS",l_1min:"1 MINUTE",l_2min:"2 MINUTES",l_5min:"5 MINUTES",l_10min:"10 MINUTES",l_15min:"15 MINUTES",l_30min:"30 MINUTES",l_1h:"1 HEURE",l_2h:"2 HEURES",l_4h:"4 HEURES",l_day:"JOUR",l_week:"HEBDO",l_month:"MENSUEL",l_area:"AIRE",l_bcc:"BAR CHART COLORÉS",l_candle:"BOUGIES",l_line:"LIGNE",l_season:"SAISONNALITÉ",l_mainind:"INDICATEURS PRINCIPAUX",l_boll:"BANDES DE BOLLINGER",l_keltner:"BANDES DE KELTNER",l_donchian:"CANAL DE DONCHIAN",l_regcurve:"COURBE REGRESSION LINEAIRE",l_regline:"DROITE REGRESSION LINEAIRE",l_envmm:"ENVELOPPE MOYENNE MOBILE",l_fievt:"EVENEMENTS FINANCIERS",l_actus:"ACTUALITES",l_mm:"MOYENNE MOBILE",l_mme:"MOYENNE MOBILE EXPO.",l_mmp:"MOYENNE MOBILE PONDEREE",l_mmt:"MOYENNE TRIANGULAIRE",l_sar:"PARABOLIQUE SAR",l_pivots:"POINTS PIVOTS",l_secind:"INDICATEURS SECONDAIRES",l_coppock:"COURBE DE COPPOCK",l_macdh:"MACD HISTOGRAMME",l_linearo:"OSCILL. REGRESSION LINEAIRE",l_moonphase:"PHASES DE LUNE",l_stoch:"STOCHASTIQUE",l_stochm:"STOCHASTIQUE MOMENTUM",l_stochr:"STOCHASTIQUE RSI",t_volume:"VOLUMES",l_fiboa:"ARCS DE FIBONACCI",l_fiboc:"CYCLES DE FIBONACCI",l_fibof:"FANIONS DE FIBONACCI",l_fiboe:"EXTENSIONS FIBONACCI",l_fibor:"RETRACEMENTS FIBONACCI",l_figures:"FIGURES",l_circle:"ELLIPSE - CERCLE",l_arrup:"FLECHE ACHAT",l_arrdw:"FLECHE VENTE",l_arrrt:"FLECHE DROITE",l_arrlt:"FLECHE GAUCHE",l_icones:"ICONES",l_arrow:"FLECHE",l_pitchf:"FOURCHETTE D'ANDREWS",l_ganng:"GRILLE DE GANN",l_ganna:"ANGLES DE GANN",l_horiz:"HORIZONTALE",l_verti:"VERTICALE",l_mesure:"MESURE",l_mesurev:"MESURE VERTICALE",l_mesureh:"MESURE HORIZONTALE",l_oblic:"OBLIQUE",l_para:"PARALLELES",l_eraseall:"TOUT EFFACER",l_detect:"DETECTIONS",l_marteau:"MARTEAUX",l_pendu:"PENDUS",l_pinces:"PINCES",l_maru:"MARUBOZU",l_soldiers:"3 SOLDATS",l_englob:"ENGLOBANTES",l_compare:"COMPARER",l_thclair:"THEME CLAIR",l_thfonce:"THEME FONCE",l_1g:"1 GRAPHIQUE",l_2g:"2 GRAPHIQUES",l_3g:"3 GRAPHIQUES",l_4g:"4 GRAPHIQUES",l_save:"Enregistrer",l_savenew:"Nouveau...",l_gerer:"Gérer",l_modeles:"Vos modèles de graphiques",l_interface:"Vos interfaces",l_modify:"Modifier",l_infos:"INFOS",l_btnlog:"Connectez-vous pour sauver vos personnalisations",l_mode:"Mode",l_duree:"Durée",l_period:"Période",l_style:"Style des cours",l_indics:"Indicateurs",l_tracet:"Outils de tracés",l_patterns:"Recherche de figures techniques",l_comparer:"Comparer avec une autre valeur",l_capture:"Capturer l'écran et partager",l_reglages:"Réglages",l_dispo:"Disposition de l'écran",l_help:"Aide en ligne",l_backt:"Stratégies",l_alert:"Alertes SMS",l_fullscreen:"Plein écran",l_save2:"Mise à jour du modèle en cours",l_savenew2:"Enregistre un nouveau modèle",l_gerer2:"Gérer vos modèles",l_save3:"Mise à jour de l'interface en cours",l_savenew3:"Enregistre une nouvelle interface",l_gerer3:"Gérer vos interfaces",l_searchsym:"Recherche valeur",l_msg1:"Vous pouvez mettre 4 indicateurs au maximum sous le graphique",l_msg2:"Vous pouvez mettre 6 indicateurs au maximum sous le graphique",l_msg3:"Graphique indisponible",l_msg4:"Graphique indisponible",l_ptpivot:"Points Pivots",l_fievents:"EVENEMENTS",l_mm2:"MM",l_mmt2:"MM Triang.",l_mmp2:"MM Pondérée",l_regcurve2:"LINEAR REG",l_regline2:"DROITE Reg. Lin.",l_mme2:"MM Expo",l_envmm2:"ENVELOPPE MM",l_seasonleg:"Pourcentage et performance des mois haussiers et baissiers des 10 dernières années",l_months:["Janv.","Févr.","Mars","Avril","Mai","Juin","Juill.","Août","Sept.","Oct.","Nov.","Déc."],l_up:"Hausse",l_down:"Baisse",l_moy:"Moy.",l_cours:"COURS",l_b:"B",l_m:"M",l_p:"P",l_s:"S",l_varperiod:"VARIATION PERIODE",l_automatic:"Automatique",l_upperb:"Seuil haut",l_lowerb:"Seuil bas",l_zone:"Zone",l_traitfi:"Trait fin",l_traitep:"Trait épais",l_moymob:"Moyenne mobile",l_datasource:'<div class="clearfix pad5">Source de données <select id="datasource"><option value="c">Clôture</option><option value="o">Ouverture</option><option value="h">Plus haut</option><option value="l">Plus bas</option><option value="m">(Haut + Bas)/2</option><option value="m2">(Haut + Bas + Clôt)/3</option><option value="m3">(Ouv + Haut + Bas + Clôt)/4</option></select></div>',l_suppindic:"Supprimer cet indicateur",l_resultat:"Résultat ",l_chifaff:"Chiffre d'affaires ",l_dividend:"Détachement dividende</b></br>Montant: ",l_split:"Division du nominal</b></br>Division par: ",l_supprimer:"Supprimer",l_dupliquer:"Dupliquer",l_createalert:"Créer une alerte",l_barres:" barres",l_jours:" jours",l_prd:"Période",l_ec:"Ecart-type",l_trace:"Tracé",l_remplis:"Remplissage",l_droitereg:"Droite régression",l_barrep:"Barre (%)",l_hausses:"Hausses",l_baisses:"Baisses",l_moyenne:"Moyenne",l_moymobile:"Moyenne mobile",l_variation:"Variation (%)",l_moymobp:"Moyenne mob. P",l_moymobe:"Moyenne mob. E",l_moymobt:"Moyenne mob. T",l_ecart:"Ecart(%)",l_coeff:"Coefficient",l_ecart2:"Ecart",l_atrperiod:"Période ATR",l_ombres:"Ombres",l_tboite:"Taille boite",l_border:"Encadrés",l_lines:"Lignes",l_histogram:"Histogramme",l_ascend:"Ascendant",l_descend:"Descendant",l_acheteur:"Acheteur",l_vendeur:"Vendeur",l_neutre:"Neutre",l_stok:"Lissage %K",l_stod:"Lissage %D",l_lissage:"Lissage",l_stochastic:"Stochastique",l_accel:"Accélération",l_lineareg:"Regression linéaire",l_nomvaleur:"Nom de valeur",l_comparewith:"Comparer cette valeur",l_indice:"Avec un indice ",l_aucun:"Aucun",l_titresect:"Avec un titre du secteur ",l_autrevaleur:"Avec une autre valeur "},window.VGP={$graph:[],clickHandler:"click",urlWS:"/bourse/action/graph/ws/",drawings:[],tabCache:[],callType:"GET",noCommand:!1},window.launchTimers=function(t,e,i){window.stopTimers(),VGP.CCparam&&5<VGP.CCparam.histoLength||(VGP.tabCache={symbol:i,period:e},VGP.timer1=setInterval(function(){$("[data-brs-quote-chart]").brsQuoteChart("getChartRefresh",{})},3e4))},window.stopTimers=function(){clearInterval(VGP.timer1)},window.DisplayAlert=function(t,e){if($("[data-brs-quote-chart-error] .c-alert__text").text(t),3===e||4===e){var i=function(t){var e=$(t);e&&e[0]&&e[0].getContext("2d").clearRect(0,0,e.width(),e.height())};i("#main-eod_container1"),i("#overlay-eod_container1"),i("#trace-eod_container1"),i("#rodgraph-eod_container1"),$(".eod_mainchartinfos").empty(),$(".eod_topinfo").empty(),$(".c-quote-chart__error").show(),$(".eod_chart").hide(),window.stopTimers()}else $(".c-quote-chart__error").fadeIn(500).delay(3e3).fadeOut(500)},window.extGetQuotesHover=function(t){if(t&&$("[data-brs-quote-chart-info-date]").length){$("[data-brs-quote-chart-info-date]").text(t.dt),$("[data-brs-quote-chart-info-open]").text(t.o),$("[data-brs-quote-chart-info-high]").text(t.h),$("[data-brs-quote-chart-info-low]").text(t.l),$("[data-brs-quote-chart-info-last]").text(t.c);var e=t.v;"function"==typeof toLocaleString&&(e=e.toLocaleString()),$("[data-brs-quote-chart-info-vol]").text(e);var i=$("[data-brs-quote-chart-info-var]");i.text(t.var+"%");var n="#2cc357";t.var<0&&(n="#f11c3a"),i.each(function(t,e){e.style.color=n})}},window.extIndicatorsList=function(t){var e,i,n,a,s,o=document.getElementById("indicList");if(o){if(o.innerHTML="",t.ind1)for(e=0;e<t.ind1.length;e++)null!=t.ind1[e]&&((i=document.createElement("div")).setAttribute("class","c-quote-chart-info-area__indicator indicItem"),i.id="mainIndic_"+t.ind1[e].id,i.textContent=t.ind1[e].name.toUpperCase()+t.ind1[e].param,i.style.color=t.ind1[e].color,(a=document.createElement("span")).setAttribute("class","manageind1"),a.setAttribute("aria-label",t.ind1[e].name+"_"+t.ind1[e].id),i.appendChild(a),(s=document.createElement("span")).setAttribute("class","closeind1"),s.setAttribute("aria-label",t.ind1[e].name+"_"+t.ind1[e].id),i.appendChild(s),(n=document.createElement("span")).setAttribute("class","value1"),i.appendChild(n),o.appendChild(i));if(t.ind2)for(e=0;e<t.ind2.length;e++)null!=t.ind2[e]&&((i=document.createElement("div")).setAttribute("class","c-quote-chart-info-area__indicator indicItem"),i.id="secondIndic_"+t.ind2[e].id,i.textContent=t.ind2[e].name.toUpperCase()+t.ind2[e].param,i.style.color=t.ind2[e].color,(a=document.createElement("span")).setAttribute("class","manageind2"),i.appendChild(a),(s=document.createElement("span")).setAttribute("class","closeind2"),i.appendChild(s),(n=document.createElement("span")).setAttribute("class","value2"),i.appendChild(n),o.appendChild(i))}},$(function(){if(window.quoteChartTemplates){window.VGP.symbol=quoteChartTemplates.symbol,window.VGP.noAutoSaveTrace=!0,window.VGP.noAutoReadTrace=!0;var t={VGP:VGP,showDrawing:!!quoteChartTemplates.showDrawing,defaultTemplate:quoteChartTemplates.default,enableRemoteSave:quoteChartTemplates.enableRemoteSave,lineTemplate:quoteChartTemplates.line,candleTemplate:quoteChartTemplates.candle,barcolorTemplate:quoteChartTemplates.barcolor};$("[data-brs-quote-chart]").brsQuoteChart(t)}}),$(function(){$("[data-track-search-engine]").submit(function(t){if(!tc_vars||!tc_vars.full_page_id||!tc_vars.user_level)return!0;var e=$(this);function i(t){return e.find("[name='"+t+"'] option:selected").text()}function n(t){return e.find("[name='"+t+"']").prop("checked")?"1":"0"}function a(t){return e.find("#"+t).prop("checked")?"1":"0"}function s(t){return e.find("[name='"+t+"']").val()}function o(t){return parseInt(s(t))}var r={},l="",h="";switch(e.data("trackSearchEngine")){case"quotation_az_filter":r={market:i("quotation_az_filter[market]"),peaEligibility:n("quotation_az_filter[peaEligibility]"),peaPmeEligibility:n("quotation_az_filter[peaPmeEligibility]")};break;case"international_quotation_az_filter":r={country:i("international_quotation_az_filter[country]"),market:i("international_quotation_az_filter[market]")};break;case"france_filter":r={market:i("france_filter[market]"),sector:i("france_filter[sector]"),variation:i("france_filter[variation]"),period:i("france_filter[period]"),peaEligibility:n("france_filter[peaEligibility]"),peaPmeEligibility:n("france_filter[peaPmeEligibility]")};break;case"international_filter":r={country:i("international_filter[country]"),indexTrading:i("international_filter[indexTrading]"),variation:i("international_filter[variation]")};break;case"fundSearch":r={code:s("fundSearch[code]"),branding:i("fundSearch[branding]"),classe:i("fundSearch[classe]"),critgen:i("fundSearch[critgen]"),souscritgen:i("fundSearch[souscritgen]"),partners:n("fundSearch[partners]"),saving:n("fundSearch[saving]"),lifeInsurance:n("fundSearch[lifeInsurance]"),taxation:n("fundSearch[taxation]"),taxationPEAPME:n("fundSearch[taxationPEAPME]")};break;case"turbos_filter":r={nature:i("turbos_filter[nature]"),underlyingType:i("turbos_filter[underlyingType]"),underlyingName:i("turbos_filter[underlyingName]"),strikePriceMin:s("turbos_filter[strikePriceMin]"),strikePriceMax:s("turbos_filter[strikePriceMax]"),maturity:i("turbos_filter[maturity]"),issuer:i("turbos_filter[issuer]")};break;case"warrant_filter":r={nature:i("warrant_filter[nature]"),underlyingType:i("warrant_filter[underlyingType]"),underlyingName:i("warrant_filter[underlyingName]"),maturity:i("warrant_filter[maturity]"),deltaMin:s("warrant_filter[deltaMin]"),deltaMax:s("warrant_filter[deltaMax]"),issuer:i("warrant_filter[issuer]")};break;case"leverage_filter":r={leverageType:i("leverage_filter[leverageType]"),underlyingType:i("leverage_filter[underlyingType]"),underlyingName:i("leverage_filter[underlyingName]"),minLever:s("leverage_filter[minLever]"),maxLever:s("leverage_filter[maxLever]"),issuer:i("leverage_filter[issuer]")};break;case"other_leverage_filter":r={cappedAndFloored:a("other_leverage_filter_nature_0"),stabilityWarrants:a("other_leverage_filter_nature_1"),underlyingType:i("other_leverage_filter[underlyingType]"),underlyingName:i("other_leverage_filter[underlyingName]"),lowLimit:s("other_leverage_filter[lowLimit]"),highLimit:s("other_leverage_filter[highLimit]"),maturity:i("other_leverage_filter[maturity]"),issuer:i("other_leverage_filter[issuer]")};break;case"bonus_filter":r={nature:i("bonus_filter[nature]"),underlyingType:i("bonus_filter[underlyingType]"),underlyingName:i("bonus_filter[underlyingName]"),maturity:i("bonus_filter[maturity]"),issuer:i("bonus_filter[issuer]")};break;case"hundred_percent_filter":var c=i("hundred_percent_filter[nature]");c&&(c=c.replace("%","-pourcent")),r={nature:c,underlyingType:i("hundred_percent_filter[underlyingType]"),underlyingName:i("hundred_percent_filter[underlyingName]"),changeWarranty:i("hundred_percent_filter[changeWarranty]"),issuer:i("hundred_percent_filter[issuer]")};break;case"other_investment_products_filter":r={discounts:a("other_investment_products_filter_nature_0"),others:a("other_investment_products_filter_nature_1"),underlyingType:i("other_investment_products_filter[underlyingType]"),underlyingName:i("other_investment_products_filter[underlyingName]"),maturity:i("other_investment_products_filter[maturity]"),issuer:i("other_investment_products_filter[issuer]")};break;case"mortgage_simulator":r={duration:o("mortgage_simulator[duration]"),amount:o("mortgage_simulator[amount]"),holderAge:o("mortgage_simulator[ageHolder]"),coholderAge:o("mortgage_simulator[ageCoHolder]"),holderIncomeAmount:o("mortgage_simulator[monthlyIncomeHolder]"),holderIncomeDuration:o("mortgage_simulator[incomeDurationHolder]"),coholderIncomeAmount:o("mortgage_simulator[monthlyIncomeCoHolder]"),coholderIncomeDuration:o("mortgage_simulator[incomeDurationCoHolder]")};break;case"main_search_engine":l=s("search[keywords]"),h="search::search_request";break;default:return!0}var d={fullPageId:h||tc_vars.full_page_id+"/search",userLevel:tc_vars.user_level,searchFilter:r,searchKeywords:l,searchPageNumber:""};return $.fn.tagCommander.trackVirtualPage(d),!0})}),function(t,r){var l=t.onerror;t.onerror=function(t,e,i,n,a){if("function"==typeof ga){var s=t;void 0!==a&&void 0!==a.message&&(s=a.message);var o={exDescription:s+=" @ "+e+":"+i+":"+n+" -> "+navigator.userAgent,exFatal:!1,errorType:"plain-js"};void 0!==r&&(void 0!==r.applicationName&&(o.appName=r.applicationName),void 0!==r.applicationVersion&&(o.appVersion=r.applicationVersion)),ga("send","exception",o),ga("send","event","JavaScript Error",t,s,0,!0)}return"function"==typeof l&&l(t,e,i,n,a)},t.jQuery&&"function"==typeof ga&&($(document).ajaxError(function(t,e,i,n){var a="ajaxError requesting URL : "+i.url+" error : "+n+" with : "+JSON.stringify({result:t.result,status:e.status,statusText:e.statusText,crossDomain:i.crossDomain,dataType:i.dataType,thrownError:n,userAgent:navigator.userAgent});ga("send","exception",{exDescription:a,exFatal:!1,appName:r.applicationName,errorType:"ajax",appVersion:r.applicationVersion}),ga("send","event","jQuery Ajax Error",i.url,a,0,!0)}),jQuery.error=function(t){ga("send","event","jQuery Error",t,navigator.userAgent,0,!0)})}(window,{applicationName:"B20Portail",applicationVersion:window.BRS_APP_VERSION?window.BRS_APP_VERSION:""}),function(t){if(!(-1<t.document.documentElement.className.indexOf("has-fonts-loaded"))){var e=new t.FontFaceObserver("ProximaNova",{weight:100}),i=new t.FontFaceObserver("ProximaNova",{weight:400}),n=new t.FontFaceObserver("ProximaNova",{weight:500}),a=new t.FontFaceObserver("ProximaNova",{weight:700});t.Promise.all([e.load(),i.load(),n.load(),a.load()]).then(function(){t.document.documentElement.className+=" has-fonts-loaded",sessionStorage.hasFontLoaded=!0}).catch(function(){sessionStorage.hasFontLoaded=!1})}}(this),function(d){numeral.register("locale","fr",{delimiters:{thousands:" ",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){return 1===t?"er":"e"},currency:{symbol:"€"}}),numeral.locale("fr");var i,n,u={transport:null},p=!!sessionStorage.getItem("feedStreaming:debug"),o={login:null,password:null,bufferedRenderingLoopDelay:500,uri:(document.location+"").replace(/^http/,"ws").split("/").slice(0,3).join("/"),highlightDelay:500,restartDelay:3e3,restartLimit:10,highlightClass:"js-feed-streaming-highlight",idleThreshold:18e5,idleInBackgroundThreshold:1e4},a=!1,f={},e={},s={},r={},l=[],t=!1,h=0,c=!1,m={symbols:{}},g={},v=["ask-quantity","ask-price","ask-size","bid-quantity","bid-price","bid-size"],b=["volume","last","variation","instant-variation","currency","high","low","last-trade-datetime","last-transactions","orderbook"],y=function(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})};d("[data-ist-last-transactions]").on("feedstreaming:update",function(){d("[data-ist-last-transactions]").each(function(){d(this).find("[data-ist-transaction]").slice(10).remove()})}),u.computeLive=function(t,e){var i=f[t],n={};return void 0!==e.last&&e.last!==i.last&&(void 0===e.factor||isNaN(parseFloat(e.factor))||(e.last*=e.factor),i.variation=(e.last-i.prevClose)/i.prevClose,i.instantVariation+=(e.last-i.last)/i.last,n.variation=i.variation,n.instantVariation=i.instantVariation,n.last=i.last=e.last,e.last>i.high&&(i.high=n.high=e.last),e.last<i.low&&(i.low=n.low=e.last)),void 0!==e.volume&&e.volume!==i.volume&&(i.volume=e.volume,n.volume=e.volume),e.tradeTime&&(i.lastTradeDatetime=e.tradeTime,n.lastTradeDatetime=moment(moment().format("YYYY-MM-DD ")+e.tradeTime).toDate()),e.tradeVolume&&e.tradeTime&&e.last&&(n.transactions=n.transactions||[],lTransac={tradeVolume:e.tradeVolume,lastTradeDatetime:e.tradeTime,last:e.last},n.transactions.push(lTransac),moment(i.lastTradeDatetime).format("YYYY-MM-DD HH:mm:ss")<moment().format("YYYY-MM-DD ")+e.tradeTime&&(i.lastTradeDatetime=n.lastTradeDatetime=moment(moment().format("YYYY-MM-DD ")+e.tradeTime).toDate()),d(document).trigger("feedstreaming:newtransaction",Object.assign({symbol:t},lTransac))),u.computeIntraday(t,e),n},u.computeBook=function(t,e){var i=f[t],n={},a=parseInt(e.bookRow,10);return delete e.bookRow,i.orderbook.lines[a]=d.extend({},i.orderbook.lines[a],e),n.orderbook=[],n.orderbook[a]=i.orderbook.lines[a],-2==n.orderbook[a].askPrice&&(n.orderbook[a].askPrice="MX"),-2==n.orderbook[a].bidPrice&&(n.orderbook[a].bidPrice="MX"),isNaN(n.orderbook[a].askPrice)&&"MX"!==n.orderbook[a].askPrice&&delete n.orderbook[a].askPrice,isNaN(n.orderbook[a].askQuantity)&&delete n.orderbook[a].askQuantity,isNaN(n.orderbook[a].bidPrice)&&"MX"!==n.orderbook[a].bidPrice&&delete n.orderbook[a].bidPrice,isNaN(n.orderbook[a].bidQuantity)&&delete n.orderbook[a].bidQuantity,n},u.computeIntraday=function(t,e){var i,n=f[t];e.tradeTime&&(g[t]=g[t]?g[t]:{volume:0,openingLast:n.last,last:n.last,high:n.last,low:n.last,closeLast:n.last,prevClose:n.prevClose,lastTradeDatetime:null},(i=g[t]).closeLast=e.last,i.high=Math.max(i.last,i.high),i.low=Math.min(i.last,i.low),i.volume+=parseInt(e.tradeVolume,10),i.timestamp=moment(e.tradeTime,"HH:mm:ss").format())},u.intradayRenderingLoop=function(){Object.keys(g).forEach(function(t){var e=g[t];delete g[t],d(document).trigger("feedstreaming:intraday",{symbol:t,intraday:e})})},u.bufferedRendering=function(t,e){var i;return m.symbols[t]||(m.symbols[t]={transactions:[],orderbook:[]}),i=m.symbols[t],e.orderbook&&(d.extend(i.orderbook,e.orderbook),delete e.orderbook),d.extend(i,e),e.transaction&&(i.transactions.push(e.transaction),delete e.transaction,delete i.transaction),!m.isRunning&&(m.isRunning=!0,m.timeoutId=setTimeout(function(){Object.keys(m.symbols).forEach(function(t){u.render(t,m.symbols[t]),delete m.symbols[t]}),m.isRunning=!1},o.bufferedRenderingLoopDelay),!0)},u.isConnected=function(){return!!u.socket},u.render=function(t,e){var i,n,a,o,r=f[t],s=f[t].elements;if(!r)return p&&console.error("streaming.render","Invalid data for symbol "+t),!1;if(o="0,0."+Array(r.decimals+1).join("0"),d(document).trigger("feedstreaming:render",{symbol:t,changes:e,feedData:f[t]}),i=f[t].elements,p&&console.log("instrument.render",t,e),void 0!==e.volume&&u.highlight(i.volume,e.volume,"0,0"),void 0!==e.tradeTime&&u.highlight(i.lastTradeDatetime,e.lastTradeDatetime,"0,0"),void 0!==e.last&&(u.highlight(i.last,e.last,o,{way:e.instantVariation}),e.variation<0?i.variation.addClass("u-color-stream-down").removeClass("u-color-stream-up"):0<e.variation?i.variation.addClass("u-color-stream-up").removeClass("u-color-stream-down"):i.variation.removeClass("u-color-stream-up").removeClass("u-color-stream-down"),u.highlight(i.variation,e.variation,"+0.00%",{way:e.instantVariation})),void 0!==e.high&&u.highlight(i.high,e.high,o),void 0!==e.low&&u.highlight(i.low,e.low,o),e.transactions.length){if(!i.lastTransactions)return;var l,h=i.lastTransactions.find("div.data-instrument-currency-symbol"),c=e.transactions.slice(0);for(h=void 0===h?"€":h.text();n=c.shift();)p&&console.log("streaming.add_transaction",n),a=i.lastTransactions.find("tbody"),(l=a.find("[data-ist-transaction]:first").clone()).find("[data-ist-transaction-date]").html(n.lastTradeDatetime),l.find("[data-ist-transaction-volume]").html(numeral(n.tradeVolume).format()),l.find("[data-ist-transaction-value]").html(numeral(n.last).format(o)),a.prepend(l),l.addClass("js-feed-streaming-highlight"),window.setTimeout(function(){l.removeClass("js-feed-streaming-highlight")},400),l.length&&d(document).trigger("load",l);d(document).trigger("feedstreaming:addtransactions",e.transactions),d(i.lastTransactions).trigger("feedstreaming:update",e.transactions)}return e.orderbook&&e.orderbook.length&&(u.computeSumForOrderbook(t),s.orderbook.each(function(){var s=d(this);v.forEach(function(i){var n=y(i),a=i.match(/price/i)?o:"0,0";Object.keys(e.orderbook).forEach(function(t){var e=s.find("[data-ist-orderbook-lines] tr:eq("+t+"), [data-ist-orderbook-line]:eq("+t+")");"MX"!=r.orderbook.lines[t][n]&&r.orderbook.lines[t][n]||(a=!1),u.highlight(e.find("[data-ist-"+i+"]"),r.orderbook.lines[t][n],a)}),u.highlight(s.find("[data-ist-summary-"+i+"]"),r.orderbook.summary[n],a)})}),d(document).trigger("feedstreaming:updateorderbook",r.orderbook),d(s.orderbook).trigger("feedstreaming:update",r.orderbook)),e.lastTradeDatetime&&u.highlight(i.lastTradeDatetime,moment(e.lastTradeDatetime).format("DD/MM/YYYY HH:mm:ss")),!0},u.highlight=function(t,e,i,n){var a,s=o.highlightClass;return 0<(n=n||{}).way?(s+="-up",a="buy"):n.way<0?(s+="-down",a="sell"):a="neutral",i&&(e=numeral(e).format(i)),n.suffix&&(e+=""+suffix),t.previousValue!=e&&(t.previousValue=e,d([]).add(document).add(t).trigger("feedstreaming:highlight",{elements:d(t),value:e,format:i,infos:n,changeSide:a}),t.addClass(s),window.setTimeout(function(){t.removeClass(s)},400),t.html(e),!0)},u.stop=function(t){return"ACCESS_DENIED"===t?(n=d.Deferred(),u.isConnected()&&(a=!0,u.socket.close(),n.resolve("stop")),u.cleanup(),d(document).trigger("feedstreaming:access_denied")):(console.info("streaming.stop"),n=d.Deferred(),u.isConnected()?(a=!0,u.socket.close(),n.resolve("stop")):n.resolve("connected"),u.cleanup()),n},u.cleanup=function(){i=d.Deferred(),e={},l.forEach(function(t){t&&window.clearInterval(t)})},u.send=function(i,n){if(!a)return p&&console.log("streaming.send",{channel:i,data:n}),u.start(!0).then(function(t,e){t.send(JSON.stringify({channel:i,user:n.connection,data:n}))})},u.getBookChannelId=function(t){return"#book"+t.exchangeCode+"-"+t.symbol},u.getLiveChannelId=function(t){return"#live"+t.exchangeCode+"-"+t.symbol},u.joinChannel=function(t){return!e[t]&&(e[t]=!0,u.send("feed.streaming.join",{connection:u.getToken(),feed:t}),!0)},u.computeSumForOrderbook=function(t){var i=f[t].orderbook.summary,e=f[t].orderbook.lines;return Object.keys(i).forEach(function(t){i[t]=0}),e.forEach(function(e,t){Object.keys(e).forEach(function(t){i[t]+=e[t]})}),i},u.registerInstrument=function(t,i){if(((i=i||{}).symbol=t)&&"string"==typeof t){if(f[t]=f[t]||{instantVariation:0,lastTradeDatetime:0,orderbook:{lines:[],summary:{askPrice:0,askQuantity:0,askSize:0,bidSize:0,bidQuantity:0,bidPrice:0}},transactions:[],isStreamingLive:!1,isStreamingBook:!1},f[t].elements||(f[t].elements=b.reduce(function(t,e){return t[y(e)]=d([]),t},{})),d(document).trigger("feedstreaming:registerinstrument",i),d.each({previousClose:"prevClose",totalVolume:"volume",tradeDate:"lastTradeDatetime"},function(t,e){i[e]=void 0!==i[t]?i[t]:i[e]}),i.exchangeCode=""+i.exchangeCode,!i.exchangeCode)throw new Error("Invalid exhangeCode",i);i.prevClose=parseFloat(i.prevClose),i.last=parseFloat(i.last),i.high=parseFloat(i.high),i.low=parseFloat(i.low),i.variation=parseFloat(i.variation),i.factor=parseFloat(i.factor),i.decimals=parseInt(i.decimals,10),i.orderbook=i.orderbook||{lines:[]};var e=function(i){v.forEach(function(t){var e=y(t);i[e]=parseFloat(i[e])})};i.orderbook.lines.forEach(function(t){e(t)}),i.orderbook.summary&&e(i.orderbook.summary),i.orderbook=Object.assign(f[t].orderbook,i.orderbook),i.transactions=Object.assign(f[t].transactions,i.transactions),d.extend(f[t],i),u.computeSumForOrderbook(t),p&&console.log("streaming.registerInstrument",t,f[t])}else console.error("streaming","invalid symbol")},u.register=function(t,e){console.log("streaming.register",t||document.body,e),$doc=d(t||document.body),(e=e||[]).forEach||(e=Object.keys(e).map(function(t){return e[t].symbol=t,e[t]})),e.forEach(function(t){u.registerInstrument(t.symbol,t)}),p&&console.log("streaming.register",Object.keys(f),"in element",t||document.body),Object.keys(f).forEach(function(t){u.findListeners($doc,t)}),Object.keys(f).forEach(function(t){var e=f[t];e.isStreamingLive||i.then(function(){p&&console.log("streaming.channel","start live streaming",u.getLiveChannelId(e)),e.isStreamingLive=!0,u.joinChannel(u.getLiveChannelId(e))}),!e.isStreamingBook&&e.elements.orderbook&&e.elements.orderbook.length&&i.then(function(){p&&console.log("streaming.channel","start book streaming",u.getLiveChannelId(e)),e.isStreamingBook=!0,u.joinChannel(u.getBookChannelId(e))})})},u.escapeSymbol=function(t){return t.replace(/[^a-z0-9A-Z]/g,"_")},u.findListeners=function(i,t){var n=f[t].elements;$doc.data("feed-streaming:listeners:"+t)||($doc.data("feed-streaming:listeners:"+t,!0),i=d(i),symb=u.escapeSymbol(t),b.forEach(function(t){var e=y(t);n[e]=d.merge(d(n[e]),i.find([".ist__"+t+".ist__"+symb,'[data-ist="'+symb+'"] [data-ist-'+t+"]",'[data-ist="'+symb+'"][data-ist-'+t+"]"].join(", ")))}))},u.getToken=function(){return{login:o.login,password:o.password}},u.isListeningTo=function(t){return!!f[t]},u.getOptions=function(){return o},u.onMessage=function(t,e){if(d(document).trigger("feedstreaming:message",{channel:t,message:e}),"feed.streaming.access_denied"===t&&this.stop("ACCESS_DENIED"),"feed.streaming.error"===t&&(d(document).trigger("feedstreaming:connection_timeout"),d(document).trigger("feedstreaming:error")),"feed.streaming.message"==t)if(u.isListeningTo(e.symbol)){if(p&&console.log("streaming.instrument.onmessage",e.symbol,e.type,e.data),"live"==e.type){var i=u.computeLive(e.symbol,e.data);u.bufferedRendering(e.symbol,i)}if("book"==e.type){i=u.computeBook(e.symbol,e.data);u.bufferedRendering(e.symbol,i)}}else p&&console.log("streaming.message.notListenedSymbol",t,":",e);else p&&console.log("streaming.message",t,":",e)},u.sendMessageToRoom=function(t,e){u.start(!0).then(function(){u.send("streaming.amq.message",{route:t,message:e})})},u.joinRoom=function(t){s[t]=!0,u.send("streaming.amq.join",{route:t})},u.setUserIdle=function(t){(t=!!t)!==c&&(c=!!t,t&&u.isConnected()?(console.log("streaming.sleep"),u.stop()):t||u.isConnected()||(console.log("streaming.wakeup"),u.start()))},u.restart=function(){return console.info("streaming.restart"),u.stop().then(function(){return u.start()}).then(function(){u.register()})},u.start=function(t){var e;return e=o.uri,u.isConnected()||(Object.keys(f).length||Object.keys(s).length||t?(console.info("streaming.start",e,o),l.push(window.setInterval(function(){u.intradayRenderingLoop()},6e4)),u.socket=u.transport=new WebSocket(e,"echo-protocol"),n=d.Deferred(),o.login||o.password||500!=o.bufferedRenderingLoopDelay||(o.bufferedRenderingLoopDelay=1e3*(p?10:45)),u.socket.onerror=function(){d(document).trigger("feedstreaming:connection_error")},u.socket.onopen=function(){console.info("streaming.connected"),d(document).trigger("feedstreaming:connection_open"),d.each(f,function(t,e){e.isStreamingBook=e.isStreamingLive=!1}),Object.keys(s).forEach(function(t){u.joinRoom(t)}),a=!1,u.socket&&(u.socket.onmessage=function(t){var e;u.debug&&console.log(t.data);try{e=JSON.parse(t.data)}catch(t){return void console.error(t)}"function"!=typeof e.forEach&&(e=[e]),e.forEach(function(t){"streaming.infos.welcome"===t.channel&&i.resolve(u.socket,t.data),u.onMessage(t.channel,t.data||t.body)})})},u.socket.onclose=function(){d(document).trigger("feedstreaming:connection_close"),console.info("streaming.disconnected"),u.socket=null,a||setTimeout(function(){u.restart()},o.restartDelay),u.cleanup(),n.resolve("closed"),d.each(f,function(t,e){e.isStreamingLive=e.isStreamingBook=!1})},i.then(function(){u.register()})):(p&&console.log("streaming","no feeds to listen to, delay start"),setTimeout(function(){u.start()},o.restartDelay))),i},u.feeds=f,u.setupIdleWatchers=function(){var e;t||(e=function(t){h=0,c&&u.setUserIdle(!1)},t=setInterval(function(){h+=1e3,(document.hidden&&h>=o.idleInBackgroundThreshold||h>=o.idleThreshold)&&u.setUserIdle(!0)},1e3),["touchstart","touchmove","mousemove","keypress"].forEach(function(t){document.addEventListener(t,e)}),document.addEventListener("visibilitychange",function(){document.hidden?h=0:e()},!1))},d.feedStreaming=function(t){var e=Array.prototype.slice.call(arguments,1);switch("object"==typeof t&&(o=d.extend(o,t)),u.setupIdleWatchers(),i||(i=d.Deferred()),t){case"register":u.register.apply(null,e);break;case"feeds":return f;case"listeners":return r;case"debug":return void 0===e[0]?p:(p=!!e[0],sessionStorage.setItem("feedStreaming:debug",0+p),u);case"stop":return u.stop(),u}return u}}(jQuery),$(function(){var t=function(){},e=BRS_CONFIG.debug?console:{info:t,warn:t,log:t,trace:t,error:t},i="feedStreaming:disabled",n=!!sessionStorage.getItem(i),a=$(document).find(".c-faceplate__actions--streaming .c-switch__checkbox");if(window.WebSocket){n?a.removeAttr("checked"):a.attr("checked","checked");var s=function(){a.length?a.is(":checked")?($.feedStreaming().start(),sessionStorage.removeItem(i)):($.feedStreaming().stop(),sessionStorage.setItem(i,1)):n?$.feedStreaming().stop():$.feedStreaming().start()},o=function(){return BRS_CONFIG.USER_HASH},r=function(){return BRS_CONFIG.JWT_TOKEN_ID},l=function(){try{localStorage.removeItem("brs_streaming")}catch(t){}},h=function(t){if(!t||!t.quotaPeriod||!t.quotaLimit)return!0;var e,i=function(){try{return localStorage.getItem("brs_streaming_start")}catch(t){console.error(t)}return null}(),n=new Date;if(e=new Date(parseInt(i)),null==i||n-e>1e3*t.quotaPeriod)!function(t){try{localStorage.setItem("brs_streaming_start",t)}catch(t){console.error(t)}}(Date.now());else if(n-e>1e3*t.quotaLimit)return!1;return!0},c=function(e){var t=function(){try{var t=JSON.parse(localStorage.getItem("brs_streaming"));return o()!=t.userHash||r()!=t.sso?(l(),null):!t.created||t.created+36e5<=Date.now()?(l(),null):t.config}catch(t){}}();t?e(t):d(function(t){!function(t){try{var e={config:t,created:Date.now(),sso:r(),userHash:o()};localStorage.setItem("brs_streaming",JSON.stringify(e))}catch(t){}}(t),e(t)})},d=function(e){$.ajax({url:"/streaming/bootstrap",context:document.body,success:function(t){void 0!==t.config?e(t.config):console.warn("No valid response could be retrieved, streaming won't start")}})};$(document).on("feedstreaming:connection_timeout",function(){$.feedStreaming().stop().then(function(){setTimeout(function(){$.feedStreaming().start()},5e3)})}),$(document).on("feedstreaming:access_denied",function(){l(),c(function(t){$.feedStreaming(t),setTimeout(function(){$.feedStreaming().start()},t.startOffset)})});var u=function(t,e){$.feedStreaming(t),h(t)&&setTimeout(function(){var i=$(e).find("[data-feed-streaming-registry]:last").data("feedStreamingRegistry")||{};$(e).find("[data-ist-init]").each(function(t,e){data=$(e).data("istInit"),i[data.symbol]=$.extend({},i[data.symbol],data)}),$.feedStreaming("register",e,function(t,e){if(e.filterExchangeCodes&&0!=e.filterExchangeCodes.length||e.filterSymbols&&0!=e.filterSymbols.length){var i={};for(var n in t)e.filterExchangeCodes&&-1!=e.filterExchangeCodes.indexOf(t[n].exchangeCode)?i[n]=t[n]:e.filterSymbols&&-1!=e.filterSymbols.indexOf(n)?i[n]=t[n]:console.log("streaming","Streaming disabled for "+n);return i}return t}(i,t)),a.on("change",s),s()},t.startOffset)};$(document).on("load",function(t,e){c(function(t){u(t,e)})})}else e.warn("feed.streaming","WebSocket not available, streaming require WebSocket, stop")}),$(document).on("load",function(t,e){($(e).find("[data-custom-scroll]").brsCustomScroll(),$(e).find("[data-sticky-navigation]").brsStickyNavigation(),$(e).find("[data-ultimedia-video-player]").ultimediaVideoPlayer(),$(e).find("[data-alert]").brsAlertEffect(),$(e).find("[data-filter-category]").brsCategoryFilter(),$(e).find("[data-brs-checkbox-filter]").brsCheckboxFilter(),$(e).find("[data-brs-video-theme-filter]").brsVideoThemeFilter(),$(e).find("[data-brs-play-video]").brsPlayVideo(),$(e).find("[data-autocomplete]").brsAutocomplete(),$(e).find("[data-portfolio-edit]").brsPortfolioLine(),$(e).find("[data-lists-edit]").brsListLine(),$(e).find("[data-carousel]").brsCarousel(),$(e).find("[data-brs-sly]").brsSly(),$(e).find("[data-table-compare]").tableCompare(),$(e).find("[data-table-stack]").stackcolumns(),$(e).find("[data-off-canvas]").brsOffCanvas(),$(e).brsFlashes({showAlertsOn:$(e).find("[data-flash-messages]")}),$(e).find("[data-exclude-parameters]").each(function(){$(this).brsExcludeParameters()}),$(e).find("[data-off-canvas-trigger]").click(function(t){$(e).find('[data-off-canvas="'+$(this).data("offCanvasTrigger")+'"]').trigger("brsOffCanvas:toggle",this),t.preventDefault()}),$(e).find("[data-authentication-required]").on("click",function(){"member"===$(this).data("authenticationRequired")&&($(e).find('[data-modal-id="pedago"]')&&$(e).find('[data-modal-id="pedago"]').marypopin("close"),$('[data-off-canvas="off-canvas-member"]').trigger("brsOffCanvas:open",$("#login-member"))),"customer"===$(this).data("authenticationRequired")&&(window.location.href=window.BRS_CONFIG.app_customer_website_host)}),$(e).find('[data-porthole="complete"]').porthole(),$(e).find("[data-select]").selectability(),$(e).find("[data-shadow-overflow]").brsShadowOverflow(),$(e).find("[data-show-hide-select]").brsShowHideSelect(),$(e).find("[data-toggle-display]").click(function(){$(e).find("#"+$(this).data("toggleDisplay")).toggleClass("u-hidden")}),$(e).find("[data-checkbox-toggle]").brsCheckboxToggle(),$(e).find("[data-submenubar]").brsSubMenuBar(),$(e).find("[data-table-flip]").tableFlip(),$(e).find("[data-tabs]").brsTabs({shadow:!0}),$(e).find('[data-toggle="tooltip"]').tooltip(),$(e).find("[data-brs-letter]").click(function(){var t=$(e).find($(this).data("brsLetterInputSelector"));t.val($(this).data("brsLetter")),t.closest("form").submit()}),$(e).find("[data-parity]").currenciesParity(),$(e).find("[data-brs-profile]").click(function(){var t=$(this).data("brsProfile");window.location="/espace-membres/profil/"+t}),$(e).find("[data-brs-sort-column]").brsSortableColumn(),$(e).find("[data-show-more]").ellipsisShowMore(),$(e).find("[data-radio-removable-check]").brsRadioRemovableCheck(),$(e).find("[data-load-more]").each(function(){$(this).loadMore()}),$(e).find("[data-radio-filter]").each(function(){$(this).radioFilter()}),$(e).find("[data-refreshable]").refreshable(),$(e).find("[data-refreshable-trigger]").each(function(){var a=$(this).data("refreshableTrigger"),s=$(this).data("refreshableUrl"),o=$(this).data("refreshableMethod"),r=$(this).data("refreshableSerializeTarget"),l='[data-refreshable-id="'+$(this).data("refreshableTarget")+'"]',h=$(this).data("refreshableSortCol"),c=$(this).data("refreshableSortAsc");$(this).on(a,function(t){if("click"!==a&&"submit"!==a||t.preventDefault(),void 0!==s&&$(l).data("plugin_refreshable").setUrl(s),void 0!==o&&$(l).data("plugin_refreshable").setMethod(o),"submit"===a)return $(l).data("plugin_refreshable").setUrl($(this).attr("action")).setMethod($(this).attr("method")).load($(this).serialize()),!1;if(void 0!==h){var e=$(l).data("refreshable"),i=e+(-1===e.indexOf("?")?"?":"&")+$.param({sortCol:h,sortAsc:c});$(l).data("plugin_refreshable").setUrl(i)}var n=void 0!==r?$(r).serialize():$(this).val();$(l).data("plugin_refreshable").load(n)})}),$(e).find("[data-brs-tagco-open-privacy]").on("click",function(t){return tC&&tC.privacyCenter?tC.privacyCenter.showPrivacyCenter():console.error("tagcommander privacy center not found"),!1}),$(e).find("[data-search-bar]").brsSearchBar(),$(e).find("[data-search-input]").brsSearch({ajaxSearchUrl:"/recherche/ajax",searchUrl:"/recherche/"}),$(e).find("[data-brs-comment]").brsComment(),$(e).find("[data-brs-tabs-chart]").brsTabsChart(),$(e).find("[data-brs-home-chart-tabs]").on("click",function(t){var e=$(this).data("brsHomeChartTabs"),i=$("[data-homepage-chart]"),n=$('[data-homepage-chart="'+e+'"]');i.css("opacity",0),n.css("opacity",1),$("[data-brs-home-chart-tabs]").removeClass("is-active"),$(this).addClass("is-active")}),$(e).find("[data-editable]").editable({validate:function(t){var e=$(this).data("maxlength");if(t.length>e)return"Le nombre de caractères est limité à "+e+"."}}),$(e).find("[data-editable-toggle-target]").click(function(t){t.stopPropagation(),$($(this).data("editableToggleTarget")).editable("toggle")}),$(e).find("[data-bookmark]").each(function(){$(this).bookmark()}),$(e).find("[data-select-sortable]").select2Sortable(),$.extend($.fn.select2.defaults,$.fn.select2.locales.fr),0<$(e).find("[data-porthole='partial']").length)?($(e).find("tr:not('[data-target]')").find("[data-gauge]").porthole().brsGauge(),$(e).on("showPortholeEvent",function(t,e){$(window).trigger("scroll"),e.find("[data-gauge]").porthole().brsGauge()})):($(e).find("[data-gauge]").brsGauge(),$(window).trigger("scroll"));function i(){$(e).find("[data-ellipsis-multiline]").each(function(){void 0!==$(this).data("jqueryTruncate")&&($(this).truncate("expand"),$(this).removeData("jqueryTruncate"));var t=$(this),e=Math.ceil(parseFloat(t.data("ellipsis-multiline"))*parseFloat(t.css("line-height")));$(this).truncate({maxHeight:e})})}$(e).scrollTop($("[data-scroll-onload]").offset().top),$(e).find("[data-table-sorter]").tablesorter({cssHeader:"c-table__cell--sorted",cssDesc:"c-table__cell--sorted-desc",cssAsc:"c-table__cell--sorted-asc",textExtraction:function(t){var e=$(t).data("sortValue");return void 0!==e&&""!==e?$(t).data("sortValue"):$(t).text()}}),$(e).find("[data-partners-newsletter-form]").brsNewsletterSubscription(),$.fn.brsOrderFrame.defaults=$.extend(!0,{},$.fn.brsOrderFrame.defaults,{config:{apiEnv:window.BRS_CONFIG.API_ENV,apiHost:window.BRS_CONFIG.API_HOST,apiPath:window.BRS_CONFIG.API_PATH,enableProfiler:window.BRS_CONFIG.ENABLE_PROFILER,portalHost:window.location.host,env:window.BRS_CONFIG.DEBUG?"development":"production",customerWebsiteHost:window.BRS_CONFIG.app_customer_website_host,logLvl:window.BRS_CONFIG.DEBUG?"trace":"error",crashReport:window.BRS_CONFIG.CRASH_REPORT_AGENT},orderframeJSPath:window.BRS_CONFIG.orderframeJSPath,orderframeCSSPath:window.BRS_CONFIG.orderframeCSSPath}),$(e).find("[data-brs-order-frame-app-id]").brsOrderframeBroker(),$(e).find("[data-order-frame-trigger]").click(function(){$(window).trigger("brsOrderframeBroker:launch",[{side:$(this).data("orderFrameTriggerOrderWay"),symbol:$(this).data("orderFrameTriggerOrderSymbol")}])}),$(e).find("[data-brs-quote-chart]").on("order",function(t,e){$(window).trigger("brsOrderframeBroker:launch",[e.order])}),i(),$(window).smartresize(i),$.fn.datepicker.dates.fr={days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],daysMin:["D","L","M","M","J","V","S"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan","Fev","Mar","Avr","Mai","Jun","Jui","Aoû","Sep","Oct","Nov","Dec"],today:"Aujourd'hui",clear:"Effacer",format:"dd/mm/yyyy",titleFormat:"MM yyyy",weekStart:1},$(e).find("[data-brs-datepicker]").datepicker({language:"fr",orientation:"bottom",maxViewMode:0,autoclose:!0,container:"[data-datepicker-portal-container]",templates:{leftArrow:'<i class="c-icon c-icon--bold-arrow-left / datepicker-icon"></i>',rightArrow:'<i class="c-icon c-icon--bold-arrow-right / datepicker-icon"></i>'}}),$(e).find("[data-crop-image]").cropper({crop:function(t){var e=$(this).closest("[data-crop-container]");e.find("[data-crop='x']").val(Math.round(t.x)),e.find("[data-crop='y']").val(Math.round(t.y)),e.find("[data-crop='w']").val(Math.round(t.width)),e.find("[data-crop='h']").val(Math.round(t.height))},viewMode:1,aspectRatio:1,dragMode:"move",restore:!1,background:!1,guides:!1,highlight:!1,rotatable:!1,checkCrossOrigin:!1}),$("[data-show], [data-hide]")!=[]&&$(e).showHideDataTarget(),$(e).find("[data-sticky-kit]").bindStickyKit({inner_scrolling:!!window.BRS_CONFIG.USER_HASH}),$(e).find("[data-brs-showable-password]").brsShowablePassword(),$(e).find("[data-hide-on-click]").bind("click",function(){$(e).find($(this).data("hideOnClick")).fadeOut("fast")}),$(e).find("[data-pagination-button]").brsPaginationButton()}),$(function(){0<$("[data-show-table], [data-hide-table]").length&&$(document).showHideTable&&$(document).showHideTable();var n=$("[data-sticky-market-value]"),e=$("[data-faceplate]"),a=0,s=$(document),o=$("body");function t(){if(window.matchMedia("(max-width: 1000px)").matches){var i=s.scrollTop();function t(){var t=s.scrollTop(),e=i<t?"down":t===i?"none":"up";a<=(i=t)?"down"===e||0===a&&0===t&&"none"===e?n.addClass("is-shown"):"up"==e&&n.removeClass("is-shown"):n.removeClass("is-shown")}o.addClass("js-sticky-market-value-spacing"),0<e.length&&(a=e.offset().top+e.height()),t(),s.on("scroll.sticky-market-value",t)}else o.removeClass("js-sticky-market-value-spacing"),n.removeClass("is-shown"),s.off("scroll.sticky-market-value")}0<n.length&&(t(),$(window).smartresize(t)),$("[data-modal]").each(function(){var e=$(this),i=$("[data-modal-background]"),t=$(this).data("modal-id")+"-modal-trigger";e.marypopin({beforeOpen:function(){$(".tooltip").tooltip("hide"),e.trigger("modal-opened"),i.show(),setTimeout(function(){i.addClass("is-visible")},0)},beforeClose:function(){i.removeClass("is-visible"),setTimeout(function(){i.hide()},1e3)},afterClose:function(){"is-ajax"==$("[data-modal-behavior = "+t+"]").data("modal-type")&&e.find("[data-modal-ajax-content]").empty()},closeSelector:"[data-modal-close]",position:"top"}),$(document).on("click","[data-modal-behavior="+t+"]",function(t){t.preventDefault(),i.children().css({left:t.clientX,top:t.clientY}),"is-ajax"==$(this).data("modal-type")?$.get($(this).data("modal-url"),function(t){t.redirect?window.location.href=t.redirect:(html=$($.parseHTML(t)),modalSelector=$(this).data("modal-selector"),void 0!==modalSelector&&(html=html.filter(modalSelector)),e.find("[data-modal-ajax-content]").html(html),$(document).trigger("load",e),e.marypopin("open"))}.bind(this)):e.marypopin("open")}),void 0!==e.data("modalOpenByDefault")&&e.marypopin("open")}),$("[data-modal-back]").click(function(t){t.preventDefault(),url=$(this).data("modalBack"),"undefined"!==url&&""!==url&&(window.location.href=url)}),$("[data-redirect]").on("click",function(){window.location.href=$(this).attr("data-redirect")}),$("[data-redirect-new-tab]").on("click",function(){window.open($(this).attr("data-redirect-new-tab"),"_blank")}),$(document).find("[data-tabs-link]").on("tab:click",function(t){t.preventDefault();var e=$($(t.currentTarget).attr("href")).find("[data-table-flip]");if(0<e.length){var i=e.data("plugin_tableFlip");void 0!==i&&(i.unshapeTable(),i.init())}}),window.testSentryErrors=function(t){throw t}});
//# sourceMappingURL=foot_3780ef20380225eca69468a8193b952e.js.map
