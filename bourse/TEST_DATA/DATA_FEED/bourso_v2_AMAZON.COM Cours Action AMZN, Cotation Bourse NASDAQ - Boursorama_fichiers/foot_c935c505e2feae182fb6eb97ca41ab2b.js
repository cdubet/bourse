function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dctThumb(t){function e(t,e,i,n,a){var s=new Image;s.className=i,s.alt=n,e.appendChild(s),s.onload=function(){requestAnimationFrame(function(){s.style.opacity=1,a.style.opacity=0})},s.src=t}var i=[];[].forEach.call(t,function(t){var n=new Decoder,a=t.querySelector("[data-ratio-filler]");a.appendChild(n.tmpCanvas),n.tmpCanvas.className="c-thumb-lazy__canvas",n.tmpCanvas.style.width="100%",n.tmpCanvas.style.height="100%";var s=null!==t.getAttribute("data-thumb-lazy"),o=null!==a.getAttribute("data-ratio-auto"),r=new Image,l=t.getAttribute("data-image-class");r.crossOrigin="Anonymous",r.alt=t.getAttribute("data-image-alt"),r.className=l;var h=t.getAttribute("data-original-src");if(o){var c=/(\d*)x(\d*)/.exec(h),d=c[1],u=c[2];a.style.paddingBottom=u/d*100+"%"}r.onload=function(){try{n.decode(r)}catch(t){console.log(t)}requestAnimationFrame(function(){n.tmpCanvas.style.opacity=1}),s||e(h,a,l,r.alt,n.tmpCanvas)},s&&i.push({src:h,element:a,alt:r.alt,canvas:n.tmpCanvas,className:r.className}),r.src=t.getAttribute("data-thumb-src")||h.replace(/(\d*x\d*)/,"16x4")}),registerScrollCallback(function(){for(var t=i.length-1;t>=0;t--)elementInViewport(i[t].element)&&(e(i[t].src,i[t].element,i[t].className,i[t].alt,i[t].canvas),i.splice(t,1))})}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function isNumberKey(t){var e=t.which?t.which:t.keyCode;return 44==e||46==e||!(e>31&&(e<48||e>57))}function isIntNumberKey(t){var e=t.which?t.which:t.keyCode;return!(e>31&&(e<48||e>57))}function isNumberLetterKey(t){var e=t.which?t.which:t.keyCode;return 44==e||46==e||45==e||!(e>31&&(e<48||e>57))}function rgb2hex(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4==t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}function GetOpacity(t){return t=t.replace(/^rgba?\(|\s+|\)$/g,"").split(","),parseFloat(t[3])}function hexToRgb(t,e){var i;return t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+","+e+")"}function padLeft(t,e){return t=""+t,e.substring(0,e.length-t.length)+t}function formatM(t,e){t=t.toFixed(e)+"";for(var i=/(\d+)(\d{3})/;i.test(t);)t=t.replace(i,"$1 $2");return t}function formatDecimales(t,e){if(e)return t.toFixed(1)+" %";var i=Math.abs(t);return i>1e3?formatM(t,0):i>100?t.toFixed(1):i>2?t.toFixed(2):t.toFixed(3)}function formatMinutes(t,e){t+="";var i=parseInt(t.substr(6));return 1==e?padLeft(Math.floor(i/60),"00")+":"+padLeft(i%60,"00"):t.substring(4,6)+"/"+t.substring(2,4)+" "+padLeft(Math.floor(i/60),"00")+":"+padLeft(i%60,"00")}function formatMinHour(t){return t<60?t+" min":Math.floor(t/60)+"h "+t%60+"min"}function daysToDate(t,e){var i=new Date(864e5*t);switch(e){case 1:return padLeft(i.getDate(),"00")+"/"+padLeft(i.getMonth()+1,"00")+"/"+i.getFullYear().toString();case 2:return padLeft(i.getDate(),"00")+"/"+padLeft(i.getMonth()+1,"00")+"/"+i.getFullYear().toString().substring(2,4);case 3:return padLeft(i.getDate(),"00")+"/"+padLeft(i.getMonth()+1,"00");case 4:return padLeft(i.getMonth()+1,"00")+"/"+i.getFullYear().toString()}}function gs(t,e){switch(e){case"c":case"o":case"h":case"l":case"v1":return t[e];case"m":return(t.h+t.l)/2;case"m2":return(t.h+t.l+t.c)/3;case"m3":return(t.o+t.h+t.l+t.c)/4;default:return t.c}}!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){var e=t.getBoundingClientRect(),i={};for(var n in e)i[n]=e[n];if(t.ownerDocument!==document){var s=t.ownerDocument.defaultView.frameElement;if(s){var o=a(s);i.top+=o.top,i.bottom+=o.top,i.left+=o.left,i.right+=o.left}}return i}function s(t){var e=(getComputedStyle(t)||{}).position,i=[];if("fixed"===e)return[t];for(var n=t;(n=n.parentNode)&&n&&1===n.nodeType;){var a=void 0;try{a=getComputedStyle(n)}catch(t){}if(void 0===a||null===a)return i.push(n),i;var s=a,o=s.overflow,r=s.overflowX,l=s.overflowY;/(auto|scroll|overlay)/.test(o+l+r)&&("absolute"!==e||["relative","absolute","fixed"].indexOf(a.position)>=0)&&i.push(n)}return i.push(t.ownerDocument.body),t.ownerDocument!==document&&i.push(t.ownerDocument.defaultView),i}function o(){C&&document.body.removeChild(C),C=null}function r(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var i=e.documentElement,n=a(t),s=A();return n.top-=s.top,n.left-=s.left,void 0===n.width&&(n.width=document.body.scrollWidth-n.left-n.right),void 0===n.height&&(n.height=document.body.scrollHeight-n.top-n.bottom),n.top=n.top-i.clientTop,n.left=n.left-i.clientLeft,n.right=e.body.clientWidth-n.width-n.left,n.bottom=e.body.clientHeight-n.height-n.top,n}function l(t){return t.offsetParent||document.documentElement}function h(){if(k)return k;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");c(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;i===n&&(n=e.clientWidth),document.body.removeChild(e);var a=i-n;return k={width:a,height:a}}function c(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var i in e)({}).hasOwnProperty.call(e,i)&&(t[i]=e[i])}),t}function d(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var i=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),n=f(t).replace(i," ");m(t,n)}}function u(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{d(t,e);var i=f(t)+" "+e;m(t,i)}}function p(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=f(t);return new RegExp("(^| )"+e+"( |$)","gi").test(i)}function f(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function m(t,e){t.setAttribute("class",e)}function g(t,e,i){i.forEach(function(i){-1===e.indexOf(i)&&p(t,i)&&d(t,i)}),e.forEach(function(e){p(t,e)||u(t,e)})}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+i>=e&&e>=t-i}function b(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():+new Date}function y(){for(var t={top:0,left:0},e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach(function(e){var i=e.top,n=e.left;"string"==typeof i&&(i=parseFloat(i,10)),"string"==typeof n&&(n=parseFloat(n,10)),t.top+=i,t.left+=n}),t}function x(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}var w=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),T=void 0;void 0===T&&(T={modules:[]});var C=null,S=function(){var t=0;return function(){return++t}}(),M={},A=function(){var t=C;t&&document.body.contains(t)||((t=document.createElement("div")).setAttribute("data-tether-id",S()),c(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),C=t);var e=t.getAttribute("data-tether-id");return void 0===M[e]&&(M[e]=a(t),P(function(){delete M[e]})),M[e]},k=null,D=[],P=function(t){D.push(t)},_=function(){for(var t=void 0;t=D.pop();)t()},N=function(){function t(){n(this,t)}return w(t,[{key:"on",value:function(t,e,i){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:i,once:n})}},{key:"once",value:function(t,e,i){this.on(t,e,i,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var i=0;i<this.bindings[t].length;)this.bindings[t][i].handler===e?this.bindings[t].splice(i,1):++i}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,i=arguments.length,n=Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];for(;e<this.bindings[t].length;){var s=this.bindings[t][e],o=s.handler,r=s.ctx,l=s.once,h=r;void 0===h&&(h=this),o.apply(h,n),l?this.bindings[t].splice(e,1):++e}}}}]),t}();T.Utils={getActualBoundingClientRect:a,getScrollParents:s,getBounds:r,getOffsetParent:l,extend:c,addClass:u,removeClass:d,hasClass:p,updateClasses:g,defer:P,flush:_,uniqueId:S,Evented:N,getScrollBarSize:h,removeUtilElements:o};var E=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,a=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){a=!0,s=t}finally{try{!n&&r.return&&r.return()}finally{if(a)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),O=function(t,e,i){for(var n=!0;n;){var a=t,s=e,o=i;n=!1,null===a&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,s);if(void 0!==r){if("value"in r)return r.value;var l=r.get;if(void 0===l)return;return l.call(o)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=s,i=o,n=!0,r=h=void 0}};if(void 0===T)throw new Error("You must include the utils.js file before tether.js");var I=T.Utils,s=I.getScrollParents,r=I.getBounds,l=I.getOffsetParent,c=I.extend,u=I.addClass,d=I.removeClass,g=I.updateClasses,P=I.defer,_=I.flush,h=I.getScrollBarSize,o=I.removeUtilElements,L=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],i=0;i<e.length;++i){var n=e[i];if(void 0!==t.style[n])return n}}(),B=[],R=function(){B.forEach(function(t){t.position(!1)}),_()};!function(){var t=null,e=null,i=null,n=function n(){if(void 0!==e&&e>16)return e=Math.min(e-16,250),void(i=setTimeout(n,250));void 0!==t&&b()-t<10||(null!=i&&(clearTimeout(i),i=null),t=b(),R(),e=b()-t)};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,n)})}();var $={center:"center",left:"right",right:"left"},H={middle:"middle",top:"bottom",bottom:"top"},V={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},G=function(t){var e=t.left,i=t.top;return void 0!==V[t.left]&&(e=V[t.left]),void 0!==V[t.top]&&(i=V[t.top]),{left:e,top:i}},F=function(t){var e=t.split(" "),i=E(e,2);return{top:i[0],left:i[1]}},W=F,Y=function(t){function e(t){var i=this;n(this,e),O(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),B.push(this),this.history=[],this.setOptions(t,!1),T.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(i)}),this.position()}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,N),w(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,i=arguments.length<=1||void 0===arguments[1]||arguments[1];this.options=c({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},t);var n=this.options,a=n.element,o=n.target,r=n.targetModifier;if(this.element=a,this.target=o,this.targetModifier=r,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),u(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&u(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=W(this.options.targetAttachment),this.attachment=W(this.options.attachment),this.offset=F(this.options.offset),this.targetOffset=F(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=s(this.target),!1!==this.options.enabled&&this.enable(i)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return r(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};return(s={height:(t=r(this.target)).height,width:t.width,top:t.top,left:t.left}).height=Math.min(s.height,t.height-(pageYOffset-t.top)),s.height=Math.min(s.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),s.height=Math.min(innerHeight,s.height),s.height-=2,s.width=Math.min(s.width,t.width-(pageXOffset-t.left)),s.width=Math.min(s.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),s.width=Math.min(innerWidth,s.width),s.width-=2,s.top<pageYOffset&&(s.top=pageYOffset),s.left<pageXOffset&&(s.left=pageXOffset),s}if("scroll-handle"===this.targetModifier){var t=void 0,e=this.target;e===document.body?(e=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=r(e);var i=getComputedStyle(e),n=0;(e.scrollWidth>e.clientWidth||[i.overflow,i.overflowX].indexOf("scroll")>=0||this.target!==document.body)&&(n=15);var a=t.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-n,s={width:15,height:.975*a*(a/e.scrollHeight),left:t.left+t.width-parseFloat(i.borderLeftWidth)-15},o=0;a<408&&this.target===document.body&&(o=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(s.height=Math.max(s.height,24));var l=this.target.scrollTop/(e.scrollHeight-a);return s.top=l*(a-s.height-o)+t.top+parseFloat(i.borderTopWidth),this.target===document.body&&(s.height=Math.max(s.height,24)),s}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&u(this.target,this.getClass("enabled")),u(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),B.forEach(function(e,i){e===t&&B.splice(i,1)}),0===B.length&&o()}},{key:"updateAttachClasses",value:function(t,e){var i=this;t=t||this.attachment,e=e||this.targetAttachment;void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var n=this._addAttachClasses;t.top&&n.push(this.getClass("element-attached")+"-"+t.top),t.left&&n.push(this.getClass("element-attached")+"-"+t.left),e.top&&n.push(this.getClass("target-attached")+"-"+e.top),e.left&&n.push(this.getClass("target-attached")+"-"+e.left);var a=[];["left","top","bottom","right","middle","center"].forEach(function(t){a.push(i.getClass("element-attached")+"-"+t),a.push(i.getClass("target-attached")+"-"+t)}),P(function(){void 0!==i._addAttachClasses&&(g(i.element,i._addAttachClasses,a),!1!==i.options.addTargetClasses&&g(i.target,i._addAttachClasses,a),delete i._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var i=function(t,e){var i=t.left,n=t.top;return"auto"===i&&(i=$[e.left]),"auto"===n&&(n=H[e.top]),{left:i,top:n}}(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,i);var n=this.cache("element-bounds",function(){return r(t.element)}),a=n.width,s=n.height;if(0===a&&0===s&&void 0!==this.lastSize){var o=this.lastSize;a=o.width,s=o.height}else this.lastSize={width:a,height:s};var c=this.cache("target-bounds",function(){return t.getTargetBounds()}),d=c,u=x(G(this.attachment),{width:a,height:s}),p=x(G(i),d),f=x(this.offset,{width:a,height:s}),m=x(this.targetOffset,d);u=y(u,f),p=y(p,m);for(var g=c.left+p.left-u.left,v=c.top+p.top-u.top,b=0;b<T.modules.length;++b){var w=T.modules[b].position.call(this,{left:g,top:v,targetAttachment:i,targetPos:c,elementPos:n,offset:u,targetOffset:p,manualOffset:f,manualTargetOffset:m,scrollbarSize:A,attachment:this.attachment});if(!1===w)return!1;void 0!==w&&"object"==typeof w&&(v=w.top,g=w.left)}var C={page:{top:v,left:g},viewport:{top:v-pageYOffset,bottom:pageYOffset-v-s+innerHeight,left:g-pageXOffset,right:pageXOffset-g-a+innerWidth}},S=this.target.ownerDocument,M=S.defaultView,A=void 0;return M.innerHeight>S.documentElement.clientHeight&&(A=this.cache("scrollbar-size",h),C.viewport.bottom-=A.height),M.innerWidth>S.documentElement.clientWidth&&(A=this.cache("scrollbar-size",h),C.viewport.right-=A.width),-1!==["","static"].indexOf(S.body.style.position)&&-1!==["","static"].indexOf(S.body.parentElement.style.position)||(C.page.bottom=S.body.scrollHeight-v-s,C.page.right=S.body.scrollWidth-g-a),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=t.cache("target-offsetparent",function(){return l(t.target)}),i=t.cache("target-offsetparent-bounds",function(){return r(e)}),n=getComputedStyle(e),a=i,s={};if(["Top","Left","Bottom","Right"].forEach(function(t){s[t.toLowerCase()]=parseFloat(n["border"+t+"Width"])}),i.right=S.body.scrollWidth-i.left-a.width+s.right,i.bottom=S.body.scrollHeight-i.top-a.height+s.bottom,C.page.top>=i.top+s.top&&C.page.bottom>=i.bottom&&C.page.left>=i.left+s.left&&C.page.right>=i.right){var o=e.scrollTop,h=e.scrollLeft;C.offset={top:C.page.top-i.top+o-s.top,left:C.page.left-i.left+h-s.left}}}(),this.move(C),this.history.unshift(C),this.history.length>3&&this.history.pop(),e&&_(),!0}}},{key:"move",value:function(t){var e=this;if(void 0!==this.element.parentNode){var i={};for(var n in t){i[n]={};for(var a in t[n]){for(var s=!1,o=0;o<this.history.length;++o){var r=this.history[o];if(void 0!==r[n]&&!v(r[n][a],t[n][a])){s=!0;break}}s||(i[n][a]=!0)}}var h={top:"",left:"",right:"",bottom:""},d=function(t,i){if(!1!==(void 0!==e.options.optimizations?e.options.optimizations.gpu:null)){var n=void 0,a=void 0;if(t.top?(h.top=0,n=i.top):(h.bottom=0,n=-i.bottom),t.left?(h.left=0,a=i.left):(h.right=0,a=-i.right),window.matchMedia){window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(a=Math.round(a),n=Math.round(n))}h[L]="translateX("+a+"px) translateY("+n+"px)","msTransform"!==L&&(h[L]+=" translateZ(0)")}else t.top?h.top=i.top+"px":h.bottom=i.bottom+"px",t.left?h.left=i.left+"px":h.right=i.right+"px"},u=!1;if((i.page.top||i.page.bottom)&&(i.page.left||i.page.right)?(h.position="absolute",d(i.page,t.page)):(i.viewport.top||i.viewport.bottom)&&(i.viewport.left||i.viewport.right)?(h.position="fixed",d(i.viewport,t.viewport)):void 0!==i.offset&&i.offset.top&&i.offset.left?function(){h.position="absolute";var n=e.cache("target-offsetparent",function(){return l(e.target)});l(e.element)!==n&&P(function(){e.element.parentNode.removeChild(e.element),n.appendChild(e.element)}),d(i.offset,t.offset),u=!0}():(h.position="absolute",d({top:!0,left:!0},t.page)),!u)if(this.options.bodyElement)this.element.parentNode!==this.options.bodyElement&&this.options.bodyElement.appendChild(this.element);else{for(var p=!0,f=this.element.parentNode;f&&1===f.nodeType&&"BODY"!==f.tagName;){if("static"!==getComputedStyle(f).position){p=!1;break}f=f.parentNode}p||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var m={},g=!1;for(var a in h){var b=h[a];this.element.style[a]!==b&&(g=!0,m[a]=b)}g&&P(function(){c(e.element.style,m),e.trigger("repositioned")})}}}]),e}();Y.modules=[],T.position=R;var j=c(Y,T),E=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,a=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){a=!0,s=t}finally{try{!n&&r.return&&r.return()}finally{if(a)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=(I=T.Utils).getBounds,c=I.extend,g=I.updateClasses,P=I.defer,z=["left","top","right","bottom"];T.modules.push({position:function(t){var e=this,i=t.top,n=t.left,a=t.targetAttachment;if(!this.options.constraints)return!0;var s=this.cache("element-bounds",function(){return r(e.element)}),o=s.height,l=s.width;if(0===l&&0===o&&void 0!==this.lastSize){var h=this.lastSize;l=h.width,o=h.height}var d=this.cache("target-bounds",function(){return e.getTargetBounds()}),u=d.height,p=d.width,f=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,i=t.pinnedClass;e&&f.push(e),i&&f.push(i)}),f.forEach(function(t){["left","top","right","bottom"].forEach(function(e){f.push(t+"-"+e)})});var m=[],v=c({},a),b=c({},this.attachment);return this.options.constraints.forEach(function(t){var s=t.to,h=t.attachment,c=t.pin;void 0===h&&(h="");var d=void 0,f=void 0;if(h.indexOf(" ")>=0){var g=h.split(" "),y=E(g,2);f=y[0],d=y[1]}else d=f=h;var x=function(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),void 0!==e.nodeType&&function(){var t=e,i=r(e),n=i,a=getComputedStyle(e);if(e=[n.left,n.top,i.width+n.left,i.height+n.top],t.ownerDocument!==document){var s=t.ownerDocument.defaultView;e[0]+=s.pageXOffset,e[1]+=s.pageYOffset,e[2]+=s.pageXOffset,e[3]+=s.pageYOffset}z.forEach(function(t,i){"Top"===(t=t[0].toUpperCase()+t.substr(1))||"Left"===t?e[i]+=parseFloat(a["border"+t+"Width"]):e[i]-=parseFloat(a["border"+t+"Width"])})}(),e}(e,s);"target"!==f&&"both"!==f||(i<x[1]&&"top"===v.top&&(i+=u,v.top="bottom"),i+o>x[3]&&"bottom"===v.top&&(i-=u,v.top="top")),"together"===f&&("top"===v.top&&("bottom"===b.top&&i<x[1]?(i+=u,v.top="bottom",i+=o,b.top="top"):"top"===b.top&&i+o>x[3]&&i-(o-u)>=x[1]&&(i-=o-u,v.top="bottom",b.top="bottom")),"bottom"===v.top&&("top"===b.top&&i+o>x[3]?(i-=u,v.top="top",i-=o,b.top="bottom"):"bottom"===b.top&&i<x[1]&&i+(2*o-u)<=x[3]&&(i+=o-u,v.top="top",b.top="top")),"middle"===v.top&&(i+o>x[3]&&"top"===b.top?(i-=o,b.top="bottom"):i<x[1]&&"bottom"===b.top&&(i+=o,b.top="top"))),"target"!==d&&"both"!==d||(n<x[0]&&"left"===v.left&&(n+=p,v.left="right"),n+l>x[2]&&"right"===v.left&&(n-=p,v.left="left")),"together"===d&&(n<x[0]&&"left"===v.left?"right"===b.left?(n+=p,v.left="right",n+=l,b.left="left"):"left"===b.left&&(n+=p,v.left="right",n-=l,b.left="right"):n+l>x[2]&&"right"===v.left?"left"===b.left?(n-=p,v.left="left",n-=l,b.left="right"):"right"===b.left&&(n-=p,v.left="left",n+=l,b.left="left"):"center"===v.left&&(n+l>x[2]&&"left"===b.left?(n-=l,b.left="right"):n<x[0]&&"right"===b.left&&(n+=l,b.left="left"))),"element"!==f&&"both"!==f||(i<x[1]&&"bottom"===b.top&&(i+=o,b.top="top"),i+o>x[3]&&"top"===b.top&&(i-=o,b.top="bottom")),"element"!==d&&"both"!==d||(n<x[0]&&("right"===b.left?(n+=l,b.left="left"):"center"===b.left&&(n+=l/2,b.left="left")),n+l>x[2]&&("left"===b.left?(n-=l,b.left="right"):"center"===b.left&&(n-=l/2,b.left="right"))),"string"==typeof c?c=c.split(",").map(function(t){return t.trim()}):!0===c&&(c=["top","left","right","bottom"]),c=c||[];var w=[],T=[];i<x[1]&&(c.indexOf("top")>=0?(i=x[1],w.push("top")):T.push("top")),i+o>x[3]&&(c.indexOf("bottom")>=0?(i=x[3]-o,w.push("bottom")):T.push("bottom")),n<x[0]&&(c.indexOf("left")>=0?(n=x[0],w.push("left")):T.push("left")),n+l>x[2]&&(c.indexOf("right")>=0?(n=x[2]-l,w.push("right")):T.push("right")),w.length&&function(){var t=void 0;t=void 0!==e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),m.push(t),w.forEach(function(e){m.push(t+"-"+e)})}(),T.length&&function(){var t=void 0;t=void 0!==e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),m.push(t),T.forEach(function(e){m.push(t+"-"+e)})}(),(w.indexOf("left")>=0||w.indexOf("right")>=0)&&(b.left=v.left=!1),(w.indexOf("top")>=0||w.indexOf("bottom")>=0)&&(b.top=v.top=!1),v.top===a.top&&v.left===a.left&&b.top===e.attachment.top&&b.left===e.attachment.left||(e.updateAttachClasses(b,v),e.trigger("update",{attachment:b,targetAttachment:v}))}),P(function(){!1!==e.options.addTargetClasses&&g(e.target,m,f),g(e.element,m,f)}),{top:i,left:n}}});var r=(I=T.Utils).getBounds,g=I.updateClasses,P=I.defer;T.modules.push({position:function(t){var e=this,i=t.top,n=t.left,a=this.cache("element-bounds",function(){return r(e.element)}),s=a.height,o=a.width,l=this.getTargetBounds(),h=i+s,c=n+o,d=[];i<=l.bottom&&h>=l.top&&["left","right"].forEach(function(t){var e=l[t];e!==n&&e!==c||d.push(t)}),n<=l.right&&c>=l.left&&["top","bottom"].forEach(function(t){var e=l[t];e!==i&&e!==h||d.push(t)});var u=[],p=[];return u.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(t){u.push(e.getClass("abutted")+"-"+t)}),d.length&&p.push(this.getClass("abutted")),d.forEach(function(t){p.push(e.getClass("abutted")+"-"+t)}),P(function(){!1!==e.options.addTargetClasses&&g(e.target,p,u),g(e.element,p,u)}),!0}});E=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,a=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){a=!0,s=t}finally{try{!n&&r.return&&r.return()}finally{if(a)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return T.modules.push({position:function(t){var e=t.top,i=t.left;if(this.options.shift){var n=this.options.shift;"function"==typeof this.options.shift&&(n=this.options.shift.call(this,{top:e,left:i}));var a=void 0,s=void 0;if("string"==typeof n){(n=n.split(" "))[1]=n[1]||n[0];var o=E(n,2);a=o[0],s=o[1],a=parseFloat(a,10),s=parseFloat(s,10)}else a=n.top,s=n.left;return e+=a,i+=s,{top:e,left:i}}}}),j}),function(t,e){"function"==typeof define&&define.amd?define(["tether"],e):"object"==typeof exports?module.exports=e(require("tether")):t.Shepherd=e(t.Tether)}(this,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function n(t){return void 0===t}function a(t){return"object"==typeof t}function s(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e,i){for(var n=!0;n;){var a=t,s=e,o=i;n=!1,null===a&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,s);if(void 0!==r){if("value"in r)return r.value;var l=r.get;if(void 0===l)return;return l.call(o)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=s,i=o,n=!0,r=h=void 0}},l=t.Utils,h=l.Evented,c=l.addClass,d=l.extend,u=l.hasClass,p=l.removeClass,f=l.uniqueId,m=new h,g={"top right":"bottom left","top left":"bottom right","top center":"bottom center","middle right":"middle left","middle left":"middle right","middle center":"middle center","bottom left":"top right","bottom right":"top left","bottom center":"top center",top:"bottom center",left:"middle right",right:"middle left",bottom:"top center",center:"middle center",middle:"middle center"},v=/^(.+) (top|left|right|bottom|center|\[[a-z ]+\])$/,b=function(l){function m(t,i){return e(this,m),r(Object.getPrototypeOf(m.prototype),"constructor",this).call(this,t,i),this.tour=t,this.bindMethods(),this.setOptions(i),this}return i(m,h),o(m,[{key:"bindMethods",value:function(){var t=this;["_show","show","hide","isOpen","cancel","complete","scrollTo","destroy","render"].map(function(e){t[e]=t[e].bind(t)})}},{key:"setOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t,this.destroy(),this.id=this.options.id||this.id||"step-"+f();var e=this.options.when;if(e)for(var i in e)if({}.hasOwnProperty.call(e,i)){var a=e[i];this.on(i,a,this)}var s=JSON.stringify(this.options.buttons),o=n(s)||"true"===s,r="{}"===s||"[]"===s||"null"===s||"false"===s,l=!o&&function(t){return t&&t.constructor===Array}(this.options.buttons),h=!o&&function(t){return t&&t.constructor===Object}(this.options.buttons);o?this.options.buttons=[{text:"Next",action:this.tour.next,classes:"btn"}]:!r&&h?this.options.buttons=[this.options.buttons]:!r&&l||(this.options.buttons=!1)}},{key:"getTour",value:function(){return this.tour}},{key:"bindAdvance",value:function(){var t=this,e=function(t,e){if(null===t||n(t))return t;if(a(t))return t;for(var i=t.split(" "),s={},o=e.length-1,r=i.length-1;r>=0;r--){if(0===o){s[e[o]]=i.slice(0,r+1).join(" ");break}s[e[o]]=i[r],o--}return s}(this.options.advanceOn,["selector","event"]),i=e.event,s=e.selector,o=function(e){t.isOpen()&&(n(s)?t.el&&e.target===t.el&&t.tour.next():function(t,e){var i=void 0;return n(t.matches)?n(t.matchesSelector)?n(t.msMatchesSelector)?n(t.webkitMatchesSelector)?n(t.mozMatchesSelector)?n(t.oMatchesSelector)||(i=t.oMatchesSelector):i=t.mozMatchesSelector:i=t.webkitMatchesSelector:i=t.msMatchesSelector:i=t.matchesSelector:i=t.matches,i.call(t,e)}(e.target,s)&&t.tour.next())};document.body.addEventListener(i,o),this.on("destroy",function(){return document.body.removeEventListener(i,o)})}},{key:"getAttachTo",value:function(){var t=function(t){if(a(t))return t.hasOwnProperty("element")&&t.hasOwnProperty("on")?t:null;var e=v.exec(t);if(!e)return null;var i=e[2];return"["===i[0]&&(i=i.substring(1,i.length-1)),{element:e[1],on:i}}(this.options.attachTo)||{},e=d({},t);return"string"==typeof t.element&&(e.element=document.querySelector(t.element),e.element||console.error("The element for this Shepherd step was not found "+t.element)),e}},{key:"setupTether",value:function(){if(n(t))throw new Error("Using the attachment feature of Shepherd requires the Tether library");var e=this.getAttachTo(),i=g[e.on]||g.right;n(e.element)&&(e.element="viewport",i="middle center");var a={classPrefix:"shepherd",element:this.el,constraints:[{to:"window",pin:!0,attachment:"together"}],target:e.element,offset:e.offset||"0 0",attachment:i};this.tether&&this.tether.destroy(),this.tether=new t(d(a,this.options.tetherOptions))}},{key:"show",value:function(){var t=this;if(!n(this.options.beforeShowPromise)){var e=this.options.beforeShowPromise();if(!n(e))return e.then(function(){return t._show()})}this._show()}},{key:"_show",value:function(){var t=this;this.trigger("before-show"),this.el||this.render(),c(this.el,"shepherd-open"),document.body.setAttribute("data-shepherd-step",this.id),this.setupTether(),this.options.scrollTo&&setTimeout(function(){t.scrollTo()}),this.trigger("show")}},{key:"hide",value:function(){this.trigger("before-hide"),p(this.el,"shepherd-open"),document.body.removeAttribute("data-shepherd-step"),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("hide")}},{key:"isOpen",value:function(){return this.el&&u(this.el,"shepherd-open")}},{key:"cancel",value:function(){this.tour.cancel(),this.trigger("cancel")}},{key:"complete",value:function(){this.tour.complete(),this.trigger("complete")}},{key:"scrollTo",value:function(){var t=this.getAttachTo().element;n(this.options.scrollToHandler)?n(t)||t.scrollIntoView():this.options.scrollToHandler(t)}},{key:"destroy",value:function(){!n(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),delete this.el),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("destroy")}},{key:"render",value:function(){var t=this;n(this.el)||this.destroy(),this.el=s("<div class='shepherd-step "+(this.options.classes||"")+"' data-id='"+this.id+"' "+(this.options.idAttribute?'id="'+this.options.idAttribute+'"':"")+"></div>");var e=document.createElement("div");e.className="shepherd-content",this.el.appendChild(e);var i=document.createElement("header");if(e.appendChild(i),this.options.title&&(i.innerHTML+="<h3 class='shepherd-title'>"+this.options.title+"</h3>",this.el.className+=" shepherd-has-title"),this.options.showCancelLink){var a=s("<a href class='shepherd-cancel-link'>✕</a>");i.appendChild(a),this.el.className+=" shepherd-has-cancel-link",this.bindCancelLink(a)}n(this.options.text)||function(){var i=s("<div class='shepherd-text'></div>"),n=t.options.text;"function"==typeof n&&(n=n.call(t,i)),n instanceof HTMLElement?i.appendChild(n):("string"==typeof n&&(n=[n]),n.map(function(t){i.innerHTML+="<p>"+t+"</p>"})),e.appendChild(i)}(),this.options.buttons&&function(){var i=document.createElement("footer"),n=s("<ul class='shepherd-buttons'></ul>");t.options.buttons.map(function(e){var i=s("<li><a class='shepherd-button "+(e.classes||"")+"'>"+e.text+"</a>");n.appendChild(i),t.bindButtonEvents(e,i.querySelector("a"))}),i.appendChild(n),e.appendChild(i)}(),document.body.appendChild(this.el),this.setupTether(),this.options.advanceOn&&this.bindAdvance()}},{key:"bindCancelLink",value:function(t){var e=this;t.addEventListener("click",function(t){t.preventDefault(),e.cancel()})}},{key:"bindButtonEvents",value:function(t,e){var i=this;t.events=t.events||{},n(t.action)||(t.events.click=t.action);for(var a in t.events)if({}.hasOwnProperty.call(t.events,a)){var s=t.events[a];"string"==typeof s&&function(){var t=s;s=function(){return i.tour.show(t)}}(),e.addEventListener(a,s)}this.on("destroy",function(){for(var i in t.events)if({}.hasOwnProperty.call(t.events,i)){var n=t.events[i];e.removeEventListener(i,n)}})}}]),m}(),y=function(t){function a(){var t=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e(this,a),r(Object.getPrototypeOf(a.prototype),"constructor",this).call(this,i),this.bindMethods(),this.options=i,this.steps=this.options.steps||[];return["complete","cancel","hide","start","show","active","inactive"].map(function(e){!function(e){t.on(e,function(i){(i=i||{}).tour=t,m.trigger(e,i)})}(e)}),this}return i(a,h),o(a,[{key:"bindMethods",value:function(){var t=this;["next","back","cancel","complete","hide"].map(function(e){t[e]=t[e].bind(t)})}},{key:"addStep",value:function(t,e){return n(e)&&(e=t),e instanceof b?e.tour=this:("string"!=typeof t&&"number"!=typeof t||(e.id=t.toString()),e=d({},this.options.defaults,e),e=new b(this,e)),this.steps.push(e),this}},{key:"removeStep",value:function(t){for(var e=this.getCurrentStep(),i=0;i<this.steps.length;++i){var n=this.steps[i];if(n.id===t){n.isOpen()&&n.hide(),n.destroy(),this.steps.splice(i,1);break}}e&&e.id===t&&(this.currentStep=void 0,this.steps.length?this.show(0):this.hide())}},{key:"getById",value:function(t){for(var e=0;e<this.steps.length;++e){var i=this.steps[e];if(i.id===t)return i}}},{key:"getCurrentStep",value:function(){return this.currentStep}},{key:"next",value:function(){var t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?(this.hide(t),this.trigger("complete"),this.done()):this.show(t+1,!0)}},{key:"back",value:function(){var t=this.steps.indexOf(this.currentStep);this.show(t-1,!1)}},{key:"cancel",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("cancel"),this.done()}},{key:"complete",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("complete"),this.done()}},{key:"hide",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("hide"),this.done()}},{key:"done",value:function(){m.activeTour=null,p(document.body,"shepherd-active"),this.trigger("inactive",{tour:this})}},{key:"show",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]||arguments[1];this.currentStep?this.currentStep.hide():(c(document.body,"shepherd-active"),this.trigger("active",{tour:this})),m.activeTour=this;var i=void 0;if(i="string"==typeof t?this.getById(t):this.steps[t])if(n(i.options.showOn)||i.options.showOn())this.trigger("show",{step:i,previous:this.currentStep}),this.currentStep&&this.currentStep.hide(),this.currentStep=i,i.show();else{var a=this.steps.indexOf(i),s=e?a+1:a-1;this.show(s,e)}}},{key:"start",value:function(){this.trigger("start"),this.currentStep=null,this.next()}}]),a}();return d(m,{Tour:y,Step:b,Evented:h}),m}),Date.now||(Date.now=function(){return(new Date).getTime()}),function(){"use strict";for(var t=["webkit","moz"],e=0;e<t.length&&!window.requestAnimationFrame;++e){var i=t[e];window.requestAnimationFrame=window[i+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var n=0;window.requestAnimationFrame=function(t){var e=Date.now(),i=Math.max(n+16,e);return setTimeout(function(){t(n=i)},i-e)},window.cancelAnimationFrame=clearTimeout}}(),"function"!=typeof Object.assign&&(Object.assign=function(t,e){"use strict";if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var a=arguments[n];if(null!==a)for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])}return i}),function(){function t(t){this.message=t}var e="undefined"!=typeof exports?exports:"undefined"!=typeof self?self:$.global,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(t.prototype=new Error).name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var n,a,s=String(e),o=0,r=i,l="";s.charAt(0|o)||(r="=",o%1);l+=r.charAt(63&n>>8-o%1*8)){if((a=s.charCodeAt(o+=.75))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|a}return l}),e.atob||(e.atob=function(e){var n=String(e).replace(/[=]+$/,"");if(n.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var a,s,o=0,r=0,l="";s=n.charAt(r++);~s&&(a=o%4?64*a+s:s,o++%4)?l+=String.fromCharCode(255&a>>(-2*o&6)):0)s=i.indexOf(s);return l})}(),window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;e.type="text/css",e.id="matchmediajs-test",i.parentNode.insertBefore(e,i),n="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var i="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=i:e.textContent=i,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(){function t(){for(var t=i.length-1;t>=0;t--)i[t]()}function e(){n&&(n=clearTimeout(n)),n=setTimeout(t,100)}var i=[];window.addEventListener("scroll",e),window.addEventListener("resize",e);var n=null;e(),window.elementInViewport=function(t){var e=t.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight;return e.top<=i&&e.bottom>=0},window.registerScrollCallback=function(t){i.push(t),e()},window.unregisterScrollCallback=function(t){for(var e=0;e<i.length;e++)t===i[e]&&i.splice(e,1)}}();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Decoder=function(){function t(e,i){_classCallCheck(this,t),this.BLOCK_SIZE=e||16,this.coefficients=i||4,this.DCTMatrix=[],this.initDCTMatrix(),this.imgCanvas=document.createElement("canvas"),this.imgCtx=this.imgCanvas.getContext("2d"),this.tmpCanvas=document.createElement("canvas"),this.tmpCtx=this.tmpCanvas.getContext("2d")}return _createClass(t,[{key:"initDCTMatrix",value:function(){for(var t=0;t<this.BLOCK_SIZE;t++){var e=t*Math.PI/this.BLOCK_SIZE;this.DCTMatrix[t]=[];for(var i=0;i<this.BLOCK_SIZE;i++)this.DCTMatrix[t][i]=Math.cos(e*(i+.5))}}},{key:"decode",value:function(t){this.imgCanvas.width=t.width,this.imgCanvas.height=t.height,this.tmpCanvas.width=this.tmpCanvas.height=this.BLOCK_SIZE,this.imgCtx.drawImage(t,0,0);var e=this.imgCtx.getImageData(0,0,this.BLOCK_SIZE,this.coefficients),i=this.tmpCtx.createImageData(this.BLOCK_SIZE,this.BLOCK_SIZE);this.inverseDCT(e.data,i.data,this.BLOCK_SIZE,this.BLOCK_SIZE,this.coefficients),this.tmpCtx.putImageData(i,0,0)}},{key:"inverseDCT",value:function(t,e,i,n,a){for(var s=[],o=[],r=0;r<n;r+=this.BLOCK_SIZE)for(var l=0;l<i;l+=this.BLOCK_SIZE){for(f=0;f<this.BLOCK_SIZE;f++)for(u=0;u<this.BLOCK_SIZE;u++){s[(p=4*((r+u)*i+l+f))+0]=0,s[p+1]=0,s[p+2]=0;for(d=0;d<a;d++){var h=4*((r+d)*i+l+f),c=this.DCTMatrix[d][u];s[p+0]+=(t[h+0]-128)*c,s[p+1]+=(t[h+1]-128)*c,s[p+2]+=(t[h+2]-128)*c}}for(var d=0;d<this.BLOCK_SIZE;d++)for(var u=0;u<this.BLOCK_SIZE;u++){var p=4*((r+d)*i+l+u);o[0]=0,o[1]=0,o[2]=0;for(var f=0;f<a;f++){var h=4*((r+d)*i+l+f),c=this.DCTMatrix[f][u];o[0]+=s[h+0]*c,o[1]+=s[h+1]*c,o[2]+=s[h+2]*c}e[p+0]=o[0]+128,e[p+1]=o[1]+128,e[p+2]=o[2]+128,e[p+3]=255}}}}]),t}();dctThumb(document.querySelectorAll("[data-thumb-lazy]")),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Ut.apply(null,arguments)}function e(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function n(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){for(var i in e)a(e,i)&&(t[i]=e[i]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function o(t,e,i,n){return ut(t,e,i,n,!0).utc()}function r(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),t._pf}function l(t){if(null==t._isValid){var e=r(t),i=qt.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=o(NaN);return null!=t?s(r(e),t):r(e).userInvalidated=!0,e}function c(t){return void 0===t}function d(t,e){var i,n,a;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=r(e)),c(e._locale)||(t._locale=e._locale),Qt.length>0)for(i in Qt)n=Qt[i],a=e[n],c(a)||(t[n]=a);return t}function u(e){d(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===Zt&&(Zt=!0,t.updateOffset(this),Zt=!1)}function p(t){return t instanceof u||null!=t&&null!=t._isAMomentObject}function f(t){return 0>t?Math.ceil(t):Math.floor(t)}function m(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=f(e)),i}function g(t,e,i){var n,a=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;a>n;n++)(i&&t[n]!==e[n]||!i&&m(t[n])!==m(e[n]))&&o++;return o+s}function v(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function b(e,i){var n=!0;return s(function(){return null!=t.deprecationHandler&&t.deprecationHandler(null,e),n&&(v(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),i.apply(this,arguments)},i)}function y(e,i){null!=t.deprecationHandler&&t.deprecationHandler(e,i),Kt[e]||(v(i),Kt[e]=!0)}function x(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function w(t){return"[object Object]"===Object.prototype.toString.call(t)}function T(t,e){var i,n=s({},t);for(i in e)a(e,i)&&(w(t[i])&&w(e[i])?(n[i]={},s(n[i],t[i]),s(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);return n}function C(t){null!=t&&this.set(t)}function S(t){return t?t.toLowerCase().replace("_","-"):t}function M(t){var e=null;if(!ie[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=te._abbr,require("./locale/"+t),A(e)}catch(t){}return ie[t]}function A(t,e){var i;return t&&(i=c(e)?D(t):k(t,e))&&(te=i),te._abbr}function k(t,e){return null!==e?(e.abbr=t,null!=ie[t]?(y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=T(ie[t]._config,e)):null!=e.parentLocale&&(null!=ie[e.parentLocale]?e=T(ie[e.parentLocale]._config,e):y("parentLocaleUndefined","specified parentLocale is not defined yet")),ie[t]=new C(e),A(t),ie[t]):(delete ie[t],null)}function D(t){var i;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return te;if(!e(t)){if(i=M(t))return i;t=[t]}return function(t){for(var e,i,n,a,s=0;s<t.length;){for(e=(a=S(t[s]).split("-")).length,i=(i=S(t[s+1]))?i.split("-"):null;e>0;){if(n=M(a.slice(0,e).join("-")))return n;if(i&&i.length>=e&&g(a,i,!0)>=e-1)break;e--}s++}return null}(t)}function P(t,e){var i=t.toLowerCase();ne[i]=ne[i+"s"]=ne[e]=t}function _(t){return"string"==typeof t?ne[t]||ne[t.toLowerCase()]:void 0}function N(t){var e,i,n={};for(i in t)a(t,i)&&(e=_(i))&&(n[e]=t[i]);return n}function E(e,i){return function(n){return null!=n?(I(this,e,n),t.updateOffset(this,i),this):O(this,e)}}function O(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function I(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function L(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=_(t),x(this[t]))return this[t](e);return this}function B(t,e,i){var n=""+Math.abs(t),a=e-n.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}function R(t,e,i,n){var a=n;"string"==typeof n&&(a=function(){return this[n]()}),t&&(re[t]=a),e&&(re[e[0]]=function(){return B(a.apply(this,arguments),e[1],e[2])}),i&&(re[i]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function $(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function H(t,e){return t.isValid()?(e=V(e,t.localeData()),oe[e]=oe[e]||function(t){var e,i,n=t.match(ae);for(e=0,i=n.length;i>e;e++)re[n[e]]?n[e]=re[n[e]]:n[e]=$(n[e]);return function(e){var a,s="";for(a=0;i>a;a++)s+=n[a]instanceof Function?n[a].call(e,t):n[a];return s}}(e),oe[e](t)):t.localeData().invalidDate()}function V(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(se.lastIndex=0;n>=0&&se.test(t);)t=t.replace(se,i),se.lastIndex=0,n-=1;return t}function G(t,e,i){Se[t]=x(e)?e:function(t,n){return t&&i?i:e}}function F(t,e){return a(Se,t)?Se[t](e._strict,e._locale):new RegExp(function(t){return W(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,a){return e||i||n||a}))}(t))}function W(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Y(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(n=function(t,i){i[e]=m(t)}),i=0;i<t.length;i++)Me[t[i]]=n}function j(t,e){Y(t,function(t,i,n,a){n._w=n._w||{},e(t,n._w,n,a)})}function z(t,e,i){null!=e&&a(Me,t)&&Me[t](e,i._a,i,t)}function X(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function U(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=m(e);else if("number"!=typeof(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),X(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function q(e){return null!=e?(U(this,e),t.updateOffset(this,!0),this):O(this,"Month")}function Q(){function t(t,e){return e.length-t.length}var e,i,n=[],a=[],s=[];for(e=0;12>e;e++)i=o([2e3,e]),n.push(this.monthsShort(i,"")),a.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),a.sort(t),s.sort(t),e=0;12>e;e++)n[e]=W(n[e]),a[e]=W(a[e]),s[e]=W(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Z(t){var e,i=t._a;return i&&-2===r(t).overflow&&(e=i[ke]<0||i[ke]>11?ke:i[De]<1||i[De]>X(i[Ae],i[ke])?De:i[Pe]<0||i[Pe]>24||24===i[Pe]&&(0!==i[_e]||0!==i[Ne]||0!==i[Ee])?Pe:i[_e]<0||i[_e]>59?_e:i[Ne]<0||i[Ne]>59?Ne:i[Ee]<0||i[Ee]>999?Ee:-1,r(t)._overflowDayOfYear&&(Ae>e||e>De)&&(e=De),r(t)._overflowWeeks&&-1===e&&(e=Oe),r(t)._overflowWeekday&&-1===e&&(e=Ie),r(t).overflow=e),t}function K(t){var e,i,n,a,s,o,l=t._i,h=Ve.exec(l)||Ge.exec(l);if(h){for(r(t).iso=!0,e=0,i=We.length;i>e;e++)if(We[e][1].exec(h[1])){a=We[e][0],n=!1!==We[e][2];break}if(null==a)return void(t._isValid=!1);if(h[3]){for(e=0,i=Ye.length;i>e;e++)if(Ye[e][1].exec(h[3])){s=(h[2]||" ")+Ye[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(h[4]){if(!Fe.exec(h[4]))return void(t._isValid=!1);o="Z"}t._f=a+(s||"")+(o||""),ht(t)}else t._isValid=!1}function J(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function tt(t){return et(t)?366:365}function et(t){return t%4==0&&t%100!=0||t%400==0}function it(t,e,i){var n=7+e-i;return-((7+J(t,0,n).getUTCDay()-e)%7)+n-1}function nt(t,e,i,n,a){var s,o,r=1+7*(e-1)+(7+i-n)%7+it(t,n,a);return 0>=r?(s=t-1,o=tt(s)+r):r>tt(t)?(s=t+1,o=r-tt(t)):(s=t,o=r),{year:s,dayOfYear:o}}function at(t,e,i){var n,a,s=it(t.year(),e,i),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return 1>o?(a=t.year()-1,n=o+st(a,e,i)):o>st(t.year(),e,i)?(n=o-st(t.year(),e,i),a=t.year()+1):(a=t.year(),n=o),{week:n,year:a}}function st(t,e,i){var n=it(t,e,i),a=it(t+1,e,i);return(tt(t)-n+a)/7}function ot(t,e,i){return null!=t?t:null!=e?e:i}function rt(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function lt(t){var e,i,n,a,s=[];if(!t._d){for(n=rt(t),t._w&&null==t._a[De]&&null==t._a[ke]&&function(t){var e,i,n,a,s,o,l,h;null!=(e=t._w).GG||null!=e.W||null!=e.E?(s=1,o=4,i=ot(e.GG,t._a[Ae],at(pt(),1,4).year),n=ot(e.W,1),(1>(a=ot(e.E,1))||a>7)&&(h=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,i=ot(e.gg,t._a[Ae],at(pt(),s,o).year),n=ot(e.w,1),null!=e.d?(0>(a=e.d)||a>6)&&(h=!0):null!=e.e?(a=e.e+s,(e.e<0||e.e>6)&&(h=!0)):a=s),1>n||n>st(i,s,o)?r(t)._overflowWeeks=!0:null!=h?r(t)._overflowWeekday=!0:(l=nt(i,n,a,s,o),t._a[Ae]=l.year,t._dayOfYear=l.dayOfYear)}(t),t._dayOfYear&&(a=ot(t._a[Ae],n[Ae]),t._dayOfYear>tt(a)&&(r(t)._overflowDayOfYear=!0),i=J(a,0,t._dayOfYear),t._a[ke]=i.getUTCMonth(),t._a[De]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Pe]&&0===t._a[_e]&&0===t._a[Ne]&&0===t._a[Ee]&&(t._nextDay=!0,t._a[Pe]=0),t._d=(t._useUTC?J:function(t,e,i,n,a,s,o){var r=new Date(t,e,i,n,a,s,o);return 100>t&&t>=0&&isFinite(r.getFullYear())&&r.setFullYear(t),r}).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Pe]=24)}}function ht(e){if(e._f!==t.ISO_8601){e._a=[],r(e).empty=!0;var i,n,a,s,o,l=""+e._i,h=l.length,c=0;for(a=V(e._f,e._locale).match(ae)||[],i=0;i<a.length;i++)s=a[i],(n=(l.match(F(s,e))||[])[0])&&((o=l.substr(0,l.indexOf(n))).length>0&&r(e).unusedInput.push(o),l=l.slice(l.indexOf(n)+n.length),c+=n.length),re[s]?(n?r(e).empty=!1:r(e).unusedTokens.push(s),z(s,n,e)):e._strict&&!n&&r(e).unusedTokens.push(s);r(e).charsLeftOver=h-c,l.length>0&&r(e).unusedInput.push(l),!0===r(e).bigHour&&e._a[Pe]<=12&&e._a[Pe]>0&&(r(e).bigHour=void 0),r(e).parsedDateParts=e._a.slice(0),r(e).meridiem=e._meridiem,e._a[Pe]=function(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&12>e&&(e+=12),n||12!==e||(e=0),e):e}(e._locale,e._a[Pe],e._meridiem),lt(e),Z(e)}else K(e)}function ct(t){var n=t._i,a=t._f;return t._locale=t._locale||D(t._l),null===n||void 0===a&&""===n?h({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),p(n)?new u(Z(n)):(e(a)?function(t){var e,i,n,a,o;if(0===t._f.length)return r(t).invalidFormat=!0,void(t._d=new Date(NaN));for(a=0;a<t._f.length;a++)o=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[a],ht(e),l(e)&&(o+=r(e).charsLeftOver,o+=10*r(e).unusedTokens.length,r(e).score=o,(null==n||n>o)&&(n=o,i=e));s(t,i||e)}(t):a?ht(t):i(n)?t._d=n:dt(t),l(t)||(t._d=null),t))}function dt(a){var s=a._i;void 0===s?a._d=new Date(t.now()):i(s)?a._d=new Date(s.valueOf()):"string"==typeof s?function(e){var i=je.exec(e._i);null!==i?e._d=new Date(+i[1]):(K(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}(a):e(s)?(a._a=n(s.slice(0),function(t){return parseInt(t,10)}),lt(a)):"object"==typeof s?function(t){if(!t._d){var e=N(t._i);t._a=n([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),lt(t)}}(a):"number"==typeof s?a._d=new Date(s):t.createFromInputFallback(a)}function ut(t,e,i,n,a){var s={};return"boolean"==typeof i&&(n=i,i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=i,s._i=t,s._f=e,s._strict=n,function(t){var e=new u(Z(ct(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}(s)}function pt(t,e,i,n){return ut(t,e,i,n,!1)}function ft(t,i){var n,a;if(1===i.length&&e(i[0])&&(i=i[0]),!i.length)return pt();for(n=i[0],a=1;a<i.length;++a)(!i[a].isValid()||i[a][t](n))&&(n=i[a]);return n}function mt(t){var e=N(t),i=e.year||0,n=e.quarter||0,a=e.month||0,s=e.week||0,o=e.day||0,r=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*h+6e4*l+1e3*r*60*60,this._days=+o+7*s,this._months=+a+3*n+12*i,this._data={},this._locale=D(),this._bubble()}function gt(t){return t instanceof mt}function vt(t,e){R(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+B(~~(t/60),2)+e+B(~~t%60,2)})}function bt(t,e){var i=(e||"").match(t)||[],n=((i[i.length-1]||[])+"").match(qe)||["-",0,0],a=60*n[1]+m(n[2]);return"+"===n[0]?a:-a}function yt(e,n){var a,s;return n._isUTC?(a=n.clone(),s=(p(e)||i(e)?e.valueOf():pt(e).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+s),t.updateOffset(a,!1),a):pt(e).local()}function xt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function wt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Tt(t,e){var i,n,s,o=t,r=null;return gt(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(r=Qe.exec(t))?(i="-"===r[1]?-1:1,o={y:0,d:m(r[De])*i,h:m(r[Pe])*i,m:m(r[_e])*i,s:m(r[Ne])*i,ms:m(r[Ee])*i}):(r=Ze.exec(t))?(i="-"===r[1]?-1:1,o={y:Ct(r[2],i),M:Ct(r[3],i),w:Ct(r[4],i),d:Ct(r[5],i),h:Ct(r[6],i),m:Ct(r[7],i),s:Ct(r[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(s=function(t,e){var i;return t.isValid()&&e.isValid()?(e=yt(e,t),t.isBefore(e)?i=St(t,e):(i=St(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(pt(o.from),pt(o.to)),o={},o.ms=s.milliseconds,o.M=s.months),n=new mt(o),gt(t)&&a(t,"_locale")&&(n._locale=t._locale),n}function Ct(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function St(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Mt(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function At(t,e){return function(i,n){var a,s;return null===n||isNaN(+n)||(y(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=n,n=s),i="string"==typeof i?+i:i,a=Tt(i,n),kt(this,a,t),this}}function kt(e,i,n,a){var s=i._milliseconds,o=Mt(i._days),r=Mt(i._months);e.isValid()&&(a=null==a||a,s&&e._d.setTime(e._d.valueOf()+s*n),o&&I(e,"Date",O(e,"Date")+o*n),r&&U(e,O(e,"Month")+r*n),a&&t.updateOffset(e,o||r))}function Dt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=D(t))&&(this._locale=e),this)}function Pt(){return this._locale}function _t(t,e){R(0,[t,t.length],0,e)}function Nt(t,e,i,n,a){var s;return null==t?at(this,n,a).year:(s=st(t,n,a),e>s&&(e=s),function(t,e,i,n,a){var s=nt(t,e,i,n,a),o=J(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,t,e,i,n,a))}function Et(){function t(t,e){return e.length-t.length}var e,i,n,a,s,r=[],l=[],h=[],c=[];for(e=0;7>e;e++)i=o([2e3,1]).day(e),n=this.weekdaysMin(i,""),a=this.weekdaysShort(i,""),s=this.weekdays(i,""),r.push(n),l.push(a),h.push(s),c.push(n),c.push(a),c.push(s);for(r.sort(t),l.sort(t),h.sort(t),c.sort(t),e=0;7>e;e++)l[e]=W(l[e]),h[e]=W(h[e]),c[e]=W(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ot(){return this.hours()%12||12}function It(t,e){R(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Lt(t,e){return e._meridiemParse}function Bt(t,e){e[Ee]=m(1e3*("0."+t))}function Rt(t){return t}function $t(t,e,i,n){var a=D(),s=o().set(n,e);return a[i](s,t)}function Ht(t,e,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return $t(t,e,i,"month");var n,a=[];for(n=0;12>n;n++)a[n]=$t(t,n,i,"month");return a}function Vt(t,e,i,n){"boolean"==typeof t?("number"==typeof e&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,"number"==typeof e&&(i=e,e=void 0),e=e||"");var a=D(),s=t?a._week.dow:0;if(null!=i)return $t(e,(i+s)%7,n,"day");var o,r=[];for(o=0;7>o;o++)r[o]=$t(e,(o+s)%7,n,"day");return r}function Gt(t,e,i,n){var a=Tt(e,i);return t._milliseconds+=n*a._milliseconds,t._days+=n*a._days,t._months+=n*a._months,t._bubble()}function Ft(t){return 0>t?Math.floor(t):Math.ceil(t)}function Wt(t){return 4800*t/146097}function Yt(t){return 146097*t/4800}function jt(t){return function(){return this.as(t)}}function zt(t){return function(){return this._data[t]}}function Xt(){var t,e,i,n=Ii(this._milliseconds)/1e3,a=Ii(this._days),s=Ii(this._months);e=f((t=f(n/60))/60),n%=60,t%=60;var o=i=f(s/12),r=s%=12,l=a,h=e,c=t,d=n,u=this.asSeconds();return u?(0>u?"-":"")+"P"+(o?o+"Y":"")+(r?r+"M":"")+(l?l+"D":"")+(h||c||d?"T":"")+(h?h+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Ut,qt;qt=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;i>n;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var Qt=t.momentProperties=[],Zt=!1,Kt={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Jt;Jt=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)a(t,e)&&i.push(e);return i};var te,ee,ie={},ne={},ae=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,se=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oe={},re={},le=/\d/,he=/\d\d/,ce=/\d{3}/,de=/\d{4}/,ue=/[+-]?\d{6}/,pe=/\d\d?/,fe=/\d\d\d\d?/,me=/\d\d\d\d\d\d?/,ge=/\d{1,3}/,ve=/\d{1,4}/,be=/[+-]?\d{1,6}/,ye=/\d+/,xe=/[+-]?\d+/,we=/Z|[+-]\d\d:?\d\d/gi,Te=/Z|[+-]\d\d(?::?\d\d)?/gi,Ce=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Se={},Me={},Ae=0,ke=1,De=2,Pe=3,_e=4,Ne=5,Ee=6,Oe=7,Ie=8;ee=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),R("MMMM",0,0,function(t){return this.localeData().months(this,t)}),P("month","M"),G("M",pe),G("MM",pe,he),G("MMM",function(t,e){return e.monthsShortRegex(t)}),G("MMMM",function(t,e){return e.monthsRegex(t)}),Y(["M","MM"],function(t,e){e[ke]=m(t)-1}),Y(["MMM","MMMM"],function(t,e,i,n){var a=i._locale.monthsParse(t,n,i._strict);null!=a?e[ke]=a:r(i).invalidMonth=t});var Le=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Be="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Re="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),$e=Ce,He=Ce,Ve=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ge=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Fe=/Z|[+-]\d\d(?::?\d\d)?/,We=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ye=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],je=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=b("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),R("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),P("year","y"),G("Y",xe),G("YY",pe,he),G("YYYY",ve,de),G("YYYYY",be,ue),G("YYYYYY",be,ue),Y(["YYYYY","YYYYYY"],Ae),Y("YYYY",function(e,i){i[Ae]=2===e.length?t.parseTwoDigitYear(e):m(e)}),Y("YY",function(e,i){i[Ae]=t.parseTwoDigitYear(e)}),Y("Y",function(t,e){e[Ae]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return m(t)+(m(t)>68?1900:2e3)};var ze=E("FullYear",!0);t.ISO_8601=function(){};var Xe=b("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=pt.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:h()}),Ue=b("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=pt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:h()});vt("Z",":"),vt("ZZ",""),G("Z",Te),G("ZZ",Te),Y(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=bt(Te,t)});var qe=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Qe=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Ze=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Tt.fn=mt.prototype;var Ke=At(1,"add"),Je=At(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ti=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),_t("gggg","weekYear"),_t("ggggg","weekYear"),_t("GGGG","isoWeekYear"),_t("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),G("G",xe),G("g",xe),G("GG",pe,he),G("gg",pe,he),G("GGGG",ve,de),G("gggg",ve,de),G("GGGGG",be,ue),G("ggggg",be,ue),j(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=m(t)}),j(["gg","GG"],function(e,i,n,a){i[a]=t.parseTwoDigitYear(e)}),R("Q",0,"Qo","quarter"),P("quarter","Q"),G("Q",le),Y("Q",function(t,e){e[ke]=3*(m(t)-1)}),R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),G("w",pe),G("ww",pe,he),G("W",pe),G("WW",pe,he),j(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=m(t)});R("D",["DD",2],"Do","date"),P("date","D"),G("D",pe),G("DD",pe,he),G("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),Y(["D","DD"],De),Y("Do",function(t,e){e[De]=m(t.match(pe)[0])});var ei=E("Date",!0);R("d",0,"do","day"),R("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),R("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),R("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),G("d",pe),G("e",pe),G("E",pe),G("dd",function(t,e){return e.weekdaysMinRegex(t)}),G("ddd",function(t,e){return e.weekdaysShortRegex(t)}),G("dddd",function(t,e){return e.weekdaysRegex(t)}),j(["dd","ddd","dddd"],function(t,e,i,n){var a=i._locale.weekdaysParse(t,n,i._strict);null!=a?e.d=a:r(i).invalidWeekday=t}),j(["d","e","E"],function(t,e,i,n){e[n]=m(t)});var ii="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ni="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ai="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),si=Ce,oi=Ce,ri=Ce;R("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),G("DDD",ge),G("DDDD",ce),Y(["DDD","DDDD"],function(t,e,i){i._dayOfYear=m(t)}),R("H",["HH",2],0,"hour"),R("h",["hh",2],0,Ot),R("k",["kk",2],0,function(){return this.hours()||24}),R("hmm",0,0,function(){return""+Ot.apply(this)+B(this.minutes(),2)}),R("hmmss",0,0,function(){return""+Ot.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),R("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),R("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),It("a",!0),It("A",!1),P("hour","h"),G("a",Lt),G("A",Lt),G("H",pe),G("h",pe),G("HH",pe,he),G("hh",pe,he),G("hmm",fe),G("hmmss",me),G("Hmm",fe),G("Hmmss",me),Y(["H","HH"],Pe),Y(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),Y(["h","hh"],function(t,e,i){e[Pe]=m(t),r(i).bigHour=!0}),Y("hmm",function(t,e,i){var n=t.length-2;e[Pe]=m(t.substr(0,n)),e[_e]=m(t.substr(n)),r(i).bigHour=!0}),Y("hmmss",function(t,e,i){var n=t.length-4,a=t.length-2;e[Pe]=m(t.substr(0,n)),e[_e]=m(t.substr(n,2)),e[Ne]=m(t.substr(a)),r(i).bigHour=!0}),Y("Hmm",function(t,e,i){var n=t.length-2;e[Pe]=m(t.substr(0,n)),e[_e]=m(t.substr(n))}),Y("Hmmss",function(t,e,i){var n=t.length-4,a=t.length-2;e[Pe]=m(t.substr(0,n)),e[_e]=m(t.substr(n,2)),e[Ne]=m(t.substr(a))});var li=E("Hours",!0);R("m",["mm",2],0,"minute"),P("minute","m"),G("m",pe),G("mm",pe,he),Y(["m","mm"],_e);var hi=E("Minutes",!1);R("s",["ss",2],0,"second"),P("second","s"),G("s",pe),G("ss",pe,he),Y(["s","ss"],Ne);var ci=E("Seconds",!1);R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return 10*this.millisecond()}),R(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),R(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),R(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),R(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),R(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),G("S",ge,le),G("SS",ge,he),G("SSS",ge,ce);var di;for(di="SSSS";di.length<=9;di+="S")G(di,ye);for(di="S";di.length<=9;di+="S")Y(di,Bt);var ui=E("Milliseconds",!1);R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var pi=u.prototype;pi.add=Ke,pi.calendar=function(t,e){var i=t||pt(),n=yt(i,this).startOf("day"),a=this.diff(n,"days",!0),s=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",o=e&&(x(e[s])?e[s]():e[s]);return this.format(o||this.localeData().calendar(s,this,pt(i)))},pi.clone=function(){return new u(this)},pi.diff=function(t,e,i){var n,a,s,o;return this.isValid()&&(n=yt(t,this)).isValid()?(a=6e4*(n.utcOffset()-this.utcOffset()),"year"===(e=_(e))||"month"===e||"quarter"===e?(o=function(t,e){var i,n,a=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(a,"months");return 0>e-s?(i=t.clone().add(a-1,"months"),n=(e-s)/(s-i)):(i=t.clone().add(a+1,"months"),n=(e-s)/(i-s)),-(a+n)||0}(this,n),"quarter"===e?o/=3:"year"===e&&(o/=12)):(s=this-n,o="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-a)/864e5:"week"===e?(s-a)/6048e5:s),i?o:f(o)):NaN},pi.endOf=function(t){return void 0===(t=_(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},pi.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=H(this,e);return this.localeData().postformat(i)},pi.from=function(t,e){return this.isValid()&&(p(t)&&t.isValid()||pt(t).isValid())?Tt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},pi.fromNow=function(t){return this.from(pt(),t)},pi.to=function(t,e){return this.isValid()&&(p(t)&&t.isValid()||pt(t).isValid())?Tt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},pi.toNow=function(t){return this.to(pt(),t)},pi.get=L,pi.invalidAt=function(){return r(this).overflow},pi.isAfter=function(t,e){var i=p(t)?t:pt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=_(c(e)?"millisecond":e))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},pi.isBefore=function(t,e){var i=p(t)?t:pt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=_(c(e)?"millisecond":e))?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},pi.isBetween=function(t,e,i,n){return("("===(n=n||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))},pi.isSame=function(t,e){var i,n=p(t)?t:pt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=_(e||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},pi.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},pi.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},pi.isValid=function(){return l(this)},pi.lang=ti,pi.locale=Dt,pi.localeData=Pt,pi.max=Ue,pi.min=Xe,pi.parsingFlags=function(){return s({},r(this))},pi.set=L,pi.startOf=function(t){switch(t=_(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},pi.subtract=Je,pi.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},pi.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},pi.toDate=function(){return this._offset?new Date(this.valueOf()):this._d},pi.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():H(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},pi.toJSON=function(){return this.isValid()?this.toISOString():null},pi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},pi.unix=function(){return Math.floor(this.valueOf()/1e3)},pi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},pi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},pi.year=ze,pi.isLeapYear=function(){return et(this.year())},pi.weekYear=function(t){return Nt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},pi.isoWeekYear=function(t){return Nt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},pi.quarter=pi.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},pi.month=q,pi.daysInMonth=function(){return X(this.year(),this.month())},pi.week=pi.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},pi.isoWeek=pi.isoWeeks=function(t){var e=at(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},pi.weeksInYear=function(){var t=this.localeData()._week;return st(this.year(),t.dow,t.doy)},pi.isoWeeksInYear=function(){return st(this.year(),1,4)},pi.date=ei,pi.day=pi.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},pi.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},pi.isoWeekday=function(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN},pi.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},pi.hour=pi.hours=li,pi.minute=pi.minutes=hi,pi.second=pi.seconds=ci,pi.millisecond=pi.milliseconds=ui,pi.utcOffset=function(e,i){var n,a=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=bt(Te,e):Math.abs(e)<16&&(e*=60),!this._isUTC&&i&&(n=xt(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),a!==e&&(!i||this._changeInProgress?kt(this,Tt(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?a:xt(this):null!=e?this:NaN},pi.utc=function(t){return this.utcOffset(0,t)},pi.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(xt(this),"m")),this},pi.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(bt(we,this._i)),this},pi.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?pt(t).utcOffset():0,(this.utcOffset()-t)%60==0)},pi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},pi.isDSTShifted=function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t={};if(d(t,this),(t=ct(t))._a){var e=t._isUTC?o(t._a):pt(t._a);this._isDSTShifted=this.isValid()&&g(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted},pi.isLocal=function(){return!!this.isValid()&&!this._isUTC},pi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},pi.isUtc=wt,pi.isUTC=wt,pi.zoneAbbr=function(){return this._isUTC?"UTC":""},pi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},pi.dates=b("dates accessor is deprecated. Use date instead.",ei),pi.months=b("months accessor is deprecated. Use month instead",q),pi.years=b("years accessor is deprecated. Use year instead",ze),pi.zone=b("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()});var fi=pi,mi=C.prototype;mi._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},mi.calendar=function(t,e,i){var n=this._calendar[t];return x(n)?n.call(e,i):n},mi._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},mi.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},mi._invalidDate="Invalid date",mi.invalidDate=function(){return this._invalidDate},mi._ordinal="%d",mi.ordinal=function(t){return this._ordinal.replace("%d",t)},mi._ordinalParse=/\d{1,2}/,mi.preparse=Rt,mi.postformat=Rt,mi._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},mi.relativeTime=function(t,e,i,n){var a=this._relativeTime[i];return x(a)?a(t,e,i,n):a.replace(/%d/i,t)},mi.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return x(i)?i(e):i.replace(/%s/i,e)},mi.set=function(t){var e,i;for(i in t)e=t[i],x(e)?this[i]=e:this["_"+i]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},mi.months=function(t,i){return e(this._months)?this._months[t.month()]:this._months[Le.test(i)?"format":"standalone"][t.month()]},mi._months=Be,mi.monthsShort=function(t,i){return e(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Le.test(i)?"format":"standalone"][t.month()]},mi._monthsShort=Re,mi.monthsParse=function(t,e,i){var n,a,s;if(this._monthsParseExact)return function(t,e,i){var n,a,s,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;12>n;++n)s=o([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(a=ee.call(this._shortMonthsParse,r))?a:null:-1!==(a=ee.call(this._longMonthsParse,r))?a:null:"MMM"===e?-1!==(a=ee.call(this._shortMonthsParse,r))?a:-1!==(a=ee.call(this._longMonthsParse,r))?a:null:-1!==(a=ee.call(this._longMonthsParse,r))?a:-1!==(a=ee.call(this._shortMonthsParse,r))?a:null}.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(a=o([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},mi._monthsRegex=He,mi.monthsRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||Q.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex},mi._monthsShortRegex=$e,mi.monthsShortRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||Q.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex},mi.week=function(t){return at(t,this._week.dow,this._week.doy).week},mi._week={dow:0,doy:6},mi.firstDayOfYear=function(){return this._week.doy},mi.firstDayOfWeek=function(){return this._week.dow},mi.weekdays=function(t,i){return e(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(i)?"format":"standalone"][t.day()]},mi._weekdays=ii,mi.weekdaysMin=function(t){return this._weekdaysMin[t.day()]},mi._weekdaysMin=ai,mi.weekdaysShort=function(t){return this._weekdaysShort[t.day()]},mi._weekdaysShort=ni,mi.weekdaysParse=function(t,e,i){var n,a,s;if(this._weekdaysParseExact)return function(t,e,i){var n,a,s,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;7>n;++n)s=o([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(a=ee.call(this._weekdaysParse,r))?a:null:"ddd"===e?-1!==(a=ee.call(this._shortWeekdaysParse,r))?a:null:-1!==(a=ee.call(this._minWeekdaysParse,r))?a:null:"dddd"===e?-1!==(a=ee.call(this._weekdaysParse,r))?a:-1!==(a=ee.call(this._shortWeekdaysParse,r))?a:-1!==(a=ee.call(this._minWeekdaysParse,r))?a:null:"ddd"===e?-1!==(a=ee.call(this._shortWeekdaysParse,r))?a:-1!==(a=ee.call(this._weekdaysParse,r))?a:-1!==(a=ee.call(this._minWeekdaysParse,r))?a:null:-1!==(a=ee.call(this._minWeekdaysParse,r))?a:-1!==(a=ee.call(this._weekdaysParse,r))?a:-1!==(a=ee.call(this._shortWeekdaysParse,r))?a:null}.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;7>n;n++){if(a=o([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},mi._weekdaysRegex=si,mi.weekdaysRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Et.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex},mi._weekdaysShortRegex=oi,mi.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Et.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex},mi._weekdaysMinRegex=ri,mi.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Et.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex},mi.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},mi._meridiemParse=/[ap]\.?m?\.?/i,mi.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},A("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===m(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=b("moment.lang is deprecated. Use moment.locale instead.",A),t.langData=b("moment.langData is deprecated. Use moment.localeData instead.",D);var gi=Math.abs,vi=jt("ms"),bi=jt("s"),yi=jt("m"),xi=jt("h"),wi=jt("d"),Ti=jt("w"),Ci=jt("M"),Si=jt("y"),Mi=zt("milliseconds"),Ai=zt("seconds"),ki=zt("minutes"),Di=zt("hours"),Pi=zt("days"),_i=zt("months"),Ni=zt("years"),Ei=Math.round,Oi={s:45,m:45,h:22,d:26,M:11},Ii=Math.abs,Li=mt.prototype;Li.abs=function(){var t=this._data;return this._milliseconds=gi(this._milliseconds),this._days=gi(this._days),this._months=gi(this._months),t.milliseconds=gi(t.milliseconds),t.seconds=gi(t.seconds),t.minutes=gi(t.minutes),t.hours=gi(t.hours),t.months=gi(t.months),t.years=gi(t.years),this},Li.add=function(t,e){return Gt(this,t,e,1)},Li.subtract=function(t,e){return Gt(this,t,e,-1)},Li.as=function(t){var e,i,n=this._milliseconds;if("month"===(t=_(t))||"year"===t)return e=this._days+n/864e5,i=this._months+Wt(e),"month"===t?i:i/12;switch(e=this._days+Math.round(Yt(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Li.asMilliseconds=vi,Li.asSeconds=bi,Li.asMinutes=yi,Li.asHours=xi,Li.asDays=wi,Li.asWeeks=Ti,Li.asMonths=Ci,Li.asYears=Si,Li.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)},Li._bubble=function(){var t,e,i,n,a,s=this._milliseconds,o=this._days,r=this._months,l=this._data;return s>=0&&o>=0&&r>=0||0>=s&&0>=o&&0>=r||(s+=864e5*Ft(Yt(r)+o),o=0,r=0),l.milliseconds=s%1e3,t=f(s/1e3),l.seconds=t%60,e=f(t/60),l.minutes=e%60,i=f(e/60),l.hours=i%24,o+=f(i/24),a=f(Wt(o)),r+=a,o-=Ft(Yt(a)),n=f(r/12),r%=12,l.days=o,l.months=r,l.years=n,this},Li.get=function(t){return t=_(t),this[t+"s"]()},Li.milliseconds=Mi,Li.seconds=Ai,Li.minutes=ki,Li.hours=Di,Li.days=Pi,Li.weeks=function(){return f(this.days()/7)},Li.months=_i,Li.years=Ni,Li.humanize=function(t){var e=this.localeData(),i=function(t,e,i){var n=Tt(t).abs(),a=Ei(n.as("s")),s=Ei(n.as("m")),o=Ei(n.as("h")),r=Ei(n.as("d")),l=Ei(n.as("M")),h=Ei(n.as("y")),c=a<Oi.s&&["s",a]||1>=s&&["m"]||s<Oi.m&&["mm",s]||1>=o&&["h"]||o<Oi.h&&["hh",o]||1>=r&&["d"]||r<Oi.d&&["dd",r]||1>=l&&["M"]||l<Oi.M&&["MM",l]||1>=h&&["y"]||["yy",h];return c[2]=e,c[3]=+t>0,c[4]=i,function(t,e,i,n,a){return a.relativeTime(e||1,!!i,t,n)}.apply(null,c)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Li.toISOString=Xt,Li.toString=Xt,Li.toJSON=Xt,Li.locale=Dt,Li.localeData=Pt,Li.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Xt),Li.lang=ti,R("X",0,0,"unix"),R("x",0,0,"valueOf"),G("x",xe),G("X",/[+-]?\d+(\.\d{1,3})?/),Y("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),Y("x",function(t,e,i){i._d=new Date(m(t))}),t.version="2.13.0",Ut=pt,t.fn=fi,t.min=function(){return ft("isBefore",[].slice.call(arguments,0))},t.max=function(){return ft("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=o,t.unix=function(t){return pt(1e3*t)},t.months=function(t,e){return Ht(t,e,"months")},t.isDate=i,t.locale=A,t.invalid=h,t.duration=Tt,t.isMoment=p,t.weekdays=function(t,e,i){return Vt(t,e,i,"weekdays")},t.parseZone=function(){return pt.apply(null,arguments).parseZone()},t.localeData=D,t.isDuration=gt,t.monthsShort=function(t,e){return Ht(t,e,"monthsShort")},t.weekdaysMin=function(t,e,i){return Vt(t,e,i,"weekdaysMin")},t.defineLocale=k,t.updateLocale=function(t,e){if(null!=e){var i;null!=ie[t]&&(e=T(ie[t]._config,e)),(i=new C(e)).parentLocale=ie[t],ie[t]=i,A(t)}else null!=ie[t]&&(null!=ie[t].parentLocale?ie[t]=ie[t].parentLocale:null!=ie[t]&&delete ie[t]);return ie[t]},t.locales=function(){return Jt(ie)},t.weekdaysShort=function(t,e,i){return Vt(t,e,i,"weekdaysShort")},t.normalizeUnits=_,t.relativeTimeThreshold=function(t,e){return void 0!==Oi[t]&&(void 0===e?Oi[t]:(Oi[t]=e,!0))},t.prototype=fi;return t}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports=e():t.numeral=e()}(this,function(){function t(t,e){this._input=t,this._value=e}var e,i,n={},a={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},o={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};return e=function(a){var s,r,l,h;if(e.isNumeral(a))s=a.value();else if(0===a||void 0===a)s=0;else if(null===a||i.isNaN(a))s=null;else if("string"==typeof a)if(o.zeroFormat&&a===o.zeroFormat)s=0;else if(o.nullFormat&&a===o.nullFormat||!a.replace(/[^0-9]+/g,"").length)s=null;else{for(r in n)if((h="function"==typeof n[r].regexps.unformat?n[r].regexps.unformat():n[r].regexps.unformat)&&a.match(h)){l=n[r].unformat;break}s=(l=l||e._.stringToNumber)(a)}else s=Number(a)||null;return new t(a,s)},e.version="2.0.6",e.isNumeral=function(e){return e instanceof t},e._=i={numberToFormat:function(t,i,n){var s,o,r,l,h,c,d,u=a[e.options.currentLocale],p=!1,f=!1,m=0,g="",v=1e12,b="",y=!1;if(t=t||0,o=Math.abs(t),e._.includes(i,"(")?(p=!0,i=i.replace(/[\(|\)]/g,"")):(e._.includes(i,"+")||e._.includes(i,"-"))&&(h=e._.includes(i,"+")?i.indexOf("+"):0>t?i.indexOf("-"):-1,i=i.replace(/[\+|\-]/g,"")),e._.includes(i,"a")&&(s=i.match(/a(k|m|b|t)?/),s=!!s&&s[1],e._.includes(i," a")&&(g=" "),i=i.replace(new RegExp(g+"a[kmbt]?"),""),o>=v&&!s||"t"===s?(g+=u.abbreviations.trillion,t/=v):v>o&&o>=1e9&&!s||"b"===s?(g+=u.abbreviations.billion,t/=1e9):1e9>o&&o>=1e6&&!s||"m"===s?(g+=u.abbreviations.million,t/=1e6):(1e6>o&&o>=1e3&&!s||"k"===s)&&(g+=u.abbreviations.thousand,t/=1e3)),e._.includes(i,"[.]")&&(f=!0,i=i.replace("[.]",".")),r=t.toString().split(".")[0],l=i.split(".")[1],c=i.indexOf(","),m=(i.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(e._.includes(l,"[")?(l=l.replace("]",""),l=l.split("["),b=e._.toFixed(t,l[0].length+l[1].length,n,l[1].length)):b=e._.toFixed(t,l.length,n),r=b.split(".")[0],b=e._.includes(b,".")?u.delimiters.decimal+b.split(".")[1]:"",f&&0===Number(b.slice(1))&&(b="")):r=e._.toFixed(t,0,n),g&&!s&&Number(r)>=1e3&&g!==u.abbreviations.trillion)switch(r=String(Number(r)/1e3),g){case u.abbreviations.thousand:g=u.abbreviations.million;break;case u.abbreviations.million:g=u.abbreviations.billion;break;case u.abbreviations.billion:g=u.abbreviations.trillion}if(e._.includes(r,"-")&&(r=r.slice(1),y=!0),r.length<m)for(var x=m-r.length;x>0;x--)r="0"+r;return c>-1&&(r=r.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+u.delimiters.thousands)),0===i.indexOf(".")&&(r=""),d=r+b+(g||""),p?d=(p&&y?"(":"")+d+(p&&y?")":""):h>=0?d=0===h?(y?"-":"+")+d:d+(y?"-":"+"):y&&(d="-"+d),d},stringToNumber:function(t){var e,i,n,s=a[o.currentLocale],r=t,l={thousand:3,million:6,billion:9,trillion:12};if(o.zeroFormat&&t===o.zeroFormat)i=0;else if(o.nullFormat&&t===o.nullFormat||!t.replace(/[^0-9]+/g,"").length)i=null;else{i=1,"."!==s.delimiters.decimal&&(t=t.replace(/\./g,"").replace(s.delimiters.decimal,"."));for(e in l)if(n=new RegExp("[^a-zA-Z]"+s.abbreviations[e]+"(?:\\)|(\\"+s.currency.symbol+")?(?:\\))?)?$"),r.match(n)){i*=Math.pow(10,l[e]);break}i*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),i*=Number(t)}return i},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,i){return t.slice(0,i)+e+t.slice(i)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var i,n=Object(t),a=n.length>>>0,s=0;if(3===arguments.length)i=arguments[2];else{for(;a>s&&!(s in n);)s++;if(s>=a)throw new TypeError("Reduce of empty array with no initial value");i=n[s++]}for(;a>s;s++)s in n&&(i=e(i,n[s],s,n));return i},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(t,e){var n=i.multiplier(e);return t>n?t:n},1)},toFixed:function(t,e,i,n){var a,s,o,r,l=t.toString().split("."),h=e-(n||0);return a=2===l.length?Math.min(Math.max(l[1].length,h),e):h,o=Math.pow(10,a),r=(i(t+"e+"+a)/o).toFixed(a),n>e-a&&(s=new RegExp("\\.?0{1,"+(n-(e-a))+"}$"),r=r.replace(s,"")),r}},e.options=o,e.formats=n,e.locales=a,e.locale=function(t){return t&&(o.currentLocale=t.toLowerCase()),o.currentLocale},e.localeData=function(t){if(!t)return a[o.currentLocale];if(t=t.toLowerCase(),!a[t])throw new Error("Unknown locale : "+t);return a[t]},e.reset=function(){for(var t in s)o[t]=s[t]},e.zeroFormat=function(t){o.zeroFormat="string"==typeof t?t:null},e.nullFormat=function(t){o.nullFormat="string"==typeof t?t:null},e.defaultFormat=function(t){o.defaultFormat="string"==typeof t?t:"0.0"},e.register=function(t,e,i){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=i,i},e.validate=function(t,i){var n,a,s,o,r,l,h,c;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{h=e.localeData(i)}catch(t){h=e.localeData(e.locale())}return s=h.currency.symbol,r=h.abbreviations,n=h.delimiters.decimal,a="."===h.delimiters.thousands?"\\.":h.delimiters.thousands,(null===(c=t.match(/^[^\d]+/))||(t=t.substr(1),c[0]===s))&&!(null!==(c=t.match(/[^\d]+$/))&&(t=t.slice(0,-1),c[0]!==r.thousand&&c[0]!==r.million&&c[0]!==r.billion&&c[0]!==r.trillion)||(l=new RegExp(a+"{2}"),t.match(/[^\d.,]/g)||(o=t.split(n)).length>2||(o.length<2?!o[0].match(/^\d+.*\d$/)||o[0].match(l):1===o[0].length?!o[0].match(/^\d+$/)||o[0].match(l)||!o[1].match(/^\d+$/):!o[0].match(/^\d+.*\d$/)||o[0].match(l)||!o[1].match(/^\d+$/))))},e.fn=t.prototype={clone:function(){return e(this)},format:function(t,i){var a,s,r,l=this._value,h=t||o.defaultFormat;if(i=i||Math.round,0===l&&null!==o.zeroFormat)s=o.zeroFormat;else if(null===l&&null!==o.nullFormat)s=o.nullFormat;else{for(a in n)if(h.match(n[a].regexps.format)){r=n[a].format;break}s=(r=r||e._.numberToFormat)(l,h,i)}return s},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var e=i.correctionFactor.call(null,this._value,t);return this._value=i.reduce([this._value,t],function(t,i,n,a){return t+Math.round(e*i)},0)/e,this},subtract:function(t){var e=i.correctionFactor.call(null,this._value,t);return this._value=i.reduce([t],function(t,i,n,a){return t-Math.round(e*i)},Math.round(this._value*e))/e,this},multiply:function(t){return this._value=i.reduce([this._value,t],function(t,e,n,a){var s=i.correctionFactor(t,e);return Math.round(t*s)*Math.round(e*s)/Math.round(s*s)},1),this},divide:function(t){return this._value=i.reduce([this._value,t],function(t,e,n,a){var s=i.correctionFactor(t,e);return Math.round(t*s)/Math.round(e*s)}),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,i,n){var a,s=e._.includes(i," BPS")?" ":"";return t*=1e4,i=i.replace(/\s?BPS/,""),a=e._.numberToFormat(t,i,n),e._.includes(a,")")?((a=a.split("")).splice(-1,0,s+"BPS"),a=a.join("")):a=a+s+"BPS",a},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),function(){var t={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},i={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},n=t.suffixes.concat(i.suffixes.filter(function(e){return t.suffixes.indexOf(e)<0})).join("|");n="("+n.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(n)},format:function(n,a,s){var o,r,l,h=e._.includes(a,"ib")?i:t,c=e._.includes(a," b")||e._.includes(a," ib")?" ":"";for(a=a.replace(/\s?i?b/,""),o=0;o<=h.suffixes.length;o++)if(r=Math.pow(h.base,o),l=Math.pow(h.base,o+1),null===n||0===n||n>=r&&l>n){c+=h.suffixes[o],r>0&&(n/=r);break}return e._.numberToFormat(n,a,s)+c},unformat:function(n){var a,s,o=e._.stringToNumber(n);if(o){for(a=t.suffixes.length-1;a>=0;a--){if(e._.includes(n,t.suffixes[a])){s=Math.pow(t.base,a);break}if(e._.includes(n,i.suffixes[a])){s=Math.pow(i.base,a);break}}o*=s||1}return o}})}(),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,i,n){var a,s,o=e.locales[e.options.currentLocale],r={before:i.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:i.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(i=i.replace(/\s?\$\s?/,""),a=e._.numberToFormat(t,i,n),t>=0?(r.before=r.before.replace(/[\-\(]/,""),r.after=r.after.replace(/[\-\)]/,"")):0>t&&!e._.includes(r.before,"-")&&!e._.includes(r.before,"(")&&(r.before="-"+r.before),s=0;s<r.before.length;s++)switch(r.before[s]){case"$":a=e._.insert(a,o.currency.symbol,s);break;case" ":a=e._.insert(a," ",s+o.currency.symbol.length-1)}for(s=r.after.length-1;s>=0;s--)switch(r.after[s]){case"$":a=s===r.after.length-1?a+o.currency.symbol:e._.insert(a,o.currency.symbol,-(r.after.length-(1+s)));break;case" ":a=s===r.after.length-1?a+" ":e._.insert(a," ",-(r.after.length-(1+s)+o.currency.symbol.length-1))}return a}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,i,n){var a=("number"!=typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return i=i.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(a[0]),i,n)+"e"+a[1]},unformat:function(t){var i=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),n=Number(i[0]),a=Number(i[1]);return a=e._.includes(t,"e-")?a*=-1:a,e._.reduce([n,Math.pow(10,a)],function(t,i,n,a){var s=e._.correctionFactor(t,i);return t*s*(i*s)/(s*s)},1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,i,n){var a=e.locales[e.options.currentLocale],s=e._.includes(i," o")?" ":"";return i=i.replace(/\s?o/,""),s+=a.ordinal(t),e._.numberToFormat(t,i,n)+s}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,i,n){var a,s=e._.includes(i," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),i=i.replace(/\s?\%/,""),a=e._.numberToFormat(t,i,n),e._.includes(a,")")?((a=a.split("")).splice(-1,0,s+"%"),a=a.join("")):a=a+s+"%",a},unformat:function(t){var i=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*i:i}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,i){var n=Math.floor(t/60/60),a=Math.floor((t-60*n*60)/60),s=Math.round(t-60*n*60-60*a);return n+":"+(10>a?"0"+a:a)+":"+(10>s?"0"+s:s)},unformat:function(t){var e=t.split(":"),i=0;return 3===e.length?(i+=60*Number(e[0])*60,i+=60*Number(e[1]),i+=Number(e[2])):2===e.length&&(i+=60*Number(e[0]),i+=Number(e[1])),Number(i)}}),e}),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function i(t,e){var i=(e=e||q).createElement("script");i.text=t,e.head.appendChild(i).parentNode.removeChild(i)}function n(t){var e=!!t&&"length"in t&&t.length,i=rt.type(t);return"function"!==i&&!rt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function a(t,e,i){return rt.isFunction(e)?rt.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?rt.grep(t,function(t){return t===e!==i}):"string"!=typeof e?rt.grep(t,function(t){return tt.call(e,t)>-1!==i}):vt.test(e)?rt.filter(e,t,i):(e=rt.filter(e,t),rt.grep(t,function(t){return tt.call(e,t)>-1!==i&&1===t.nodeType}))}function s(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){return t}function r(t){throw t}function l(t,e,i){var n;try{t&&rt.isFunction(n=t.promise)?n.call(t).done(e).fail(i):t&&rt.isFunction(n=t.then)?n.call(t,e,i):e.call(void 0,t)}catch(t){i.call(void 0,t)}}function h(){q.removeEventListener("DOMContentLoaded",h),t.removeEventListener("load",h),rt.ready()}function c(){this.expando=rt.expando+c.uid++}function d(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(_t,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Pt.test(t)?JSON.parse(t):t)}(i)}catch(t){}Dt.set(t,e,i)}else i=void 0;return i}function u(t,e,i,n){var a,s=1,o=20,r=n?function(){return n.cur()}:function(){return rt.css(t,e,"")},l=r(),h=i&&i[3]||(rt.cssNumber[e]?"":"px"),c=(rt.cssNumber[e]||"px"!==h&&+l)&&Et.exec(rt.css(t,e));if(c&&c[3]!==h){h=h||c[3],i=i||[],c=+l||1;do{c/=s=s||".5",rt.style(t,e,c+h)}while(s!==(s=r()/l)&&1!==s&&--o)}return i&&(c=+c||+l||0,a=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=c,n.end=a)),a}function p(t){var e,i=t.ownerDocument,n=t.nodeName,a=Bt[n];return a||(e=i.body.appendChild(i.createElement(n)),a=rt.css(e,"display"),e.parentNode.removeChild(e),"none"===a&&(a="block"),Bt[n]=a,a)}function f(t,e){for(var i,n,a=[],s=0,o=t.length;s<o;s++)(n=t[s]).style&&(i=n.style.display,e?("none"===i&&(a[s]=kt.get(n,"display")||null,a[s]||(n.style.display="")),""===n.style.display&&It(n)&&(a[s]=p(n))):"none"!==i&&(a[s]="none",kt.set(n,"display",i)));for(s=0;s<o;s++)null!=a[s]&&(t[s].style.display=a[s]);return t}function m(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&rt.nodeName(t,e)?rt.merge([t],i):i}function g(t,e){for(var i=0,n=t.length;i<n;i++)kt.set(t[i],"globalEval",!e||kt.get(e[i],"globalEval"))}function v(t,e,i,n,a){for(var s,o,r,l,h,c,d=e.createDocumentFragment(),u=[],p=0,f=t.length;p<f;p++)if((s=t[p])||0===s)if("object"===rt.type(s))rt.merge(u,s.nodeType?[s]:s);else if(Gt.test(s)){for(o=o||d.appendChild(e.createElement("div")),r=($t.exec(s)||["",""])[1].toLowerCase(),l=Vt[r]||Vt._default,o.innerHTML=l[1]+rt.htmlPrefilter(s)+l[2],c=l[0];c--;)o=o.lastChild;rt.merge(u,o.childNodes),(o=d.firstChild).textContent=""}else u.push(e.createTextNode(s));for(d.textContent="",p=0;s=u[p++];)if(n&&rt.inArray(s,n)>-1)a&&a.push(s);else if(h=rt.contains(s.ownerDocument,s),o=m(d.appendChild(s),"script"),h&&g(o),i)for(c=0;s=o[c++];)Ht.test(s.type||"")&&i.push(s);return d}function b(){return!0}function y(){return!1}function x(){try{return q.activeElement}catch(t){}}function w(t,e,i,n,a,s){var o,r;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(r in e)w(t,r,i,n,e[r],s);return t}if(null==n&&null==a?(a=i,n=i=void 0):null==a&&("string"==typeof i?(a=n,n=void 0):(a=n,n=i,i=void 0)),!1===a)a=y;else if(!a)return t;return 1===s&&(o=a,(a=function(t){return rt().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=rt.guid++)),t.each(function(){rt.event.add(this,e,a,n,i)})}function T(t,e){return rt.nodeName(t,"table")&&rt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function C(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function S(t){var e=qt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function M(t,e){var i,n,a,s,o,r,l,h;if(1===e.nodeType){if(kt.hasData(t)&&(s=kt.access(t),o=kt.set(e,s),h=s.events)){delete o.handle,o.events={};for(a in h)for(i=0,n=h[a].length;i<n;i++)rt.event.add(e,a,h[a][i])}Dt.hasData(t)&&(r=Dt.access(t),l=rt.extend({},r),Dt.set(e,l))}}function A(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Rt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function k(t,e,n,a){e=K.apply([],e);var s,o,r,l,h,c,d=0,u=t.length,p=u-1,f=e[0],g=rt.isFunction(f);if(g||u>1&&"string"==typeof f&&!ot.checkClone&&Ut.test(f))return t.each(function(i){var s=t.eq(i);g&&(e[0]=f.call(this,i,s.html())),k(s,e,n,a)});if(u&&(s=v(e,t[0].ownerDocument,!1,t,a),o=s.firstChild,1===s.childNodes.length&&(s=o),o||a)){for(l=(r=rt.map(m(s,"script"),C)).length;d<u;d++)h=s,d!==p&&(h=rt.clone(h,!0,!0),l&&rt.merge(r,m(h,"script"))),n.call(t[d],h,d);if(l)for(c=r[r.length-1].ownerDocument,rt.map(r,S),d=0;d<l;d++)h=r[d],Ht.test(h.type||"")&&!kt.access(h,"globalEval")&&rt.contains(c,h)&&(h.src?rt._evalUrl&&rt._evalUrl(h.src):i(h.textContent.replace(Qt,""),c))}return t}function D(t,e,i){for(var n,a=e?rt.filter(e,t):t,s=0;null!=(n=a[s]);s++)i||1!==n.nodeType||rt.cleanData(m(n)),n.parentNode&&(i&&rt.contains(n.ownerDocument,n)&&g(m(n,"script")),n.parentNode.removeChild(n));return t}function P(t,e,i){var n,a,s,o,r=t.style;return(i=i||Jt(t))&&(""!==(o=i.getPropertyValue(e)||i[e])||rt.contains(t.ownerDocument,t)||(o=rt.style(t,e)),!ot.pixelMarginRight()&&Kt.test(o)&&Zt.test(e)&&(n=r.width,a=r.minWidth,s=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=i.width,r.width=n,r.minWidth=a,r.maxWidth=s)),void 0!==o?o+"":o}function _(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function N(t){if(t in ae)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=ne.length;i--;)if((t=ne[i]+e)in ae)return t}function E(t,e,i){var n=Et.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function O(t,e,i,n,a){var s,o=0;for(s=i===(n?"border":"content")?4:"width"===e?1:0;s<4;s+=2)"margin"===i&&(o+=rt.css(t,i+Ot[s],!0,a)),n?("content"===i&&(o-=rt.css(t,"padding"+Ot[s],!0,a)),"margin"!==i&&(o-=rt.css(t,"border"+Ot[s]+"Width",!0,a))):(o+=rt.css(t,"padding"+Ot[s],!0,a),"padding"!==i&&(o+=rt.css(t,"border"+Ot[s]+"Width",!0,a)));return o}function I(t,e,i){var n,a=!0,s=Jt(t),o="border-box"===rt.css(t,"boxSizing",!1,s);if(t.getClientRects().length&&(n=t.getBoundingClientRect()[e]),n<=0||null==n){if(((n=P(t,e,s))<0||null==n)&&(n=t.style[e]),Kt.test(n))return n;a=o&&(ot.boxSizingReliable()||n===t.style[e]),n=parseFloat(n)||0}return n+O(t,e,i||(o?"border":"content"),a,s)+"px"}function L(t,e,i,n,a){return new L.prototype.init(t,e,i,n,a)}function B(){oe&&(t.requestAnimationFrame(B),rt.fx.tick())}function R(){return t.setTimeout(function(){se=void 0}),se=rt.now()}function $(t,e){var i,n=0,a={height:t};for(e=e?1:0;n<4;n+=2-e)a["margin"+(i=Ot[n])]=a["padding"+i]=t;return e&&(a.opacity=a.width=t),a}function H(t,e,i){for(var n,a=(V.tweeners[e]||[]).concat(V.tweeners["*"]),s=0,o=a.length;s<o;s++)if(n=a[s].call(i,e,t))return n}function V(t,e,i){var n,a,s=0,o=V.prefilters.length,r=rt.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=se||R(),i=Math.max(0,h.startTime+h.duration-e),n=1-(i/h.duration||0),s=0,o=h.tweens.length;s<o;s++)h.tweens[s].run(n);return r.notifyWith(t,[h,n,i]),n<1&&o?i:(r.resolveWith(t,[h]),!1)},h=r.promise({elem:t,props:rt.extend({},e),opts:rt.extend(!0,{specialEasing:{},easing:rt.easing._default},i),originalProperties:e,originalOptions:i,startTime:se||R(),duration:i.duration,tweens:[],createTween:function(e,i){var n=rt.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(a)return this;for(a=!0;i<n;i++)h.tweens[i].run(1);return e?(r.notifyWith(t,[h,1,0]),r.resolveWith(t,[h,e])):r.rejectWith(t,[h,e]),this}}),c=h.props;for(function(t,e){var i,n,a,s,o;for(i in t)if(n=rt.camelCase(i),a=e[n],s=t[i],rt.isArray(s)&&(a=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(o=rt.cssHooks[n])&&"expand"in o){s=o.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=a)}else e[n]=a}(c,h.opts.specialEasing);s<o;s++)if(n=V.prefilters[s].call(h,t,c,h.opts))return rt.isFunction(n.stop)&&(rt._queueHooks(h.elem,h.opts.queue).stop=rt.proxy(n.stop,n)),n;return rt.map(c,H,h),rt.isFunction(h.opts.start)&&h.opts.start.call(t,h),rt.fx.timer(rt.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function G(t){return(t.match(Tt)||[]).join(" ")}function F(t){return t.getAttribute&&t.getAttribute("class")||""}function W(t,e,i,n){var a;if(rt.isArray(e))rt.each(e,function(e,a){i||be.test(t)?n(t,a):W(t+"["+("object"==typeof a&&null!=a?e:"")+"]",a,i,n)});else if(i||"object"!==rt.type(e))n(t,e);else for(a in e)W(t+"["+a+"]",e[a],i,n)}function Y(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,a=0,s=e.toLowerCase().match(Tt)||[];if(rt.isFunction(i))for(;n=s[a++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function j(t,e,i,n){function a(r){var l;return s[r]=!0,rt.each(t[r]||[],function(t,r){var h=r(e,i,n);return"string"!=typeof h||o||s[h]?o?!(l=h):void 0:(e.dataTypes.unshift(h),a(h),!1)}),l}var s={},o=t===Pe;return a(e.dataTypes[0])||!s["*"]&&a("*")}function z(t,e){var i,n,a=rt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((a[i]?t:n||(n={}))[i]=e[i]);return n&&rt.extend(!0,t,n),t}function X(t){return rt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var U=[],q=t.document,Q=Object.getPrototypeOf,Z=U.slice,K=U.concat,J=U.push,tt=U.indexOf,et={},it=et.toString,nt=et.hasOwnProperty,at=nt.toString,st=at.call(Object),ot={},rt=function(t,e){return new rt.fn.init(t,e)},lt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^-ms-/,ct=/-([a-z])/g,dt=function(t,e){return e.toUpperCase()};rt.fn=rt.prototype={jquery:"3.1.1",constructor:rt,length:0,toArray:function(){return Z.call(this)},get:function(t){return null==t?Z.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=rt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return rt.each(this,t)},map:function(t){return this.pushStack(rt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:U.sort,splice:U.splice},rt.extend=rt.fn.extend=function(){var t,e,i,n,a,s,o=arguments[0]||{},r=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[r]||{},r++),"object"==typeof o||rt.isFunction(o)||(o={}),r===l&&(o=this,r--);r<l;r++)if(null!=(t=arguments[r]))for(e in t)i=o[e],o!==(n=t[e])&&(h&&n&&(rt.isPlainObject(n)||(a=rt.isArray(n)))?(a?(a=!1,s=i&&rt.isArray(i)?i:[]):s=i&&rt.isPlainObject(i)?i:{},o[e]=rt.extend(h,s,n)):void 0!==n&&(o[e]=n));return o},rt.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===rt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=rt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==it.call(t))&&(!(e=Q(t))||"function"==typeof(i=nt.call(e,"constructor")&&e.constructor)&&at.call(i)===st)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?et[it.call(t)]||"object":typeof t},globalEval:function(t){i(t)},camelCase:function(t){return t.replace(ht,"ms-").replace(ct,dt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,a=0;if(n(t))for(i=t.length;a<i&&!1!==e.call(t[a],a,t[a]);a++);else for(a in t)if(!1===e.call(t[a],a,t[a]))break;return t},trim:function(t){return null==t?"":(t+"").replace(lt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?rt.merge(i,"string"==typeof t?[t]:t):J.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:tt.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,a=t.length;n<i;n++)t[a++]=e[n];return t.length=a,t},grep:function(t,e,i){for(var n=[],a=0,s=t.length,o=!i;a<s;a++)!e(t[a],a)!==o&&n.push(t[a]);return n},map:function(t,e,i){var a,s,o=0,r=[];if(n(t))for(a=t.length;o<a;o++)null!=(s=e(t[o],o,i))&&r.push(s);else for(o in t)null!=(s=e(t[o],o,i))&&r.push(s);return K.apply([],r)},guid:1,proxy:function(t,e){var i,n,a;if("string"==typeof e&&(i=t[e],e=t,t=i),rt.isFunction(t))return n=Z.call(arguments,2),a=function(){return t.apply(e||this,n.concat(Z.call(arguments)))},a.guid=t.guid=t.guid||rt.guid++,a},now:Date.now,support:ot}),"function"==typeof Symbol&&(rt.fn[Symbol.iterator]=U[Symbol.iterator]),rt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){et["[object "+e+"]"]=e.toLowerCase()});var ut=function(t){function e(t,e,i,n){var a,s,o,r,l,h,c,u=e&&e.ownerDocument,f=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return i;if(!n&&((e?e.ownerDocument||e:H)!==N&&_(e),e=e||N,O)){if(11!==f&&(l=mt.exec(t)))if(a=l[1]){if(9===f){if(!(o=e.getElementById(a)))return i;if(o.id===a)return i.push(o),i}else if(u&&(o=u.getElementById(a))&&R(e,o)&&o.id===a)return i.push(o),i}else{if(l[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((a=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(a)),i}if(x.qsa&&!Y[t+" "]&&(!I||!I.test(t))){if(1!==f)u=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((r=e.getAttribute("id"))?r=r.replace(yt,xt):e.setAttribute("id",r=$),s=(h=S(t)).length;s--;)h[s]="#"+r+" "+p(h[s]);c=h.join(","),u=gt.test(t)&&d(e.parentNode)||e}if(c)try{return Q.apply(i,u.querySelectorAll(c)),i}catch(t){}finally{r===$&&e.removeAttribute("id")}}}return A(t.replace(st,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[$]=!0,t}function a(t){var e=N.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var i=t.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function r(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function h(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Tt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function c(t){return n(function(e){return e=+e,n(function(i,n){for(var a,s=t([],i.length,e),o=s.length;o--;)i[a=s[o]]&&(i[a]=!(n[a]=i[a]))})})}function d(t){return t&&void 0!==t.getElementsByTagName&&t}function u(){}function p(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function f(t,e,i){var n=e.dir,a=e.next,s=a||n,o=i&&"parentNode"===s,r=G++;return e.first?function(e,i,a){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,a);return!1}:function(e,i,l){var h,c,d,u=[V,r];if(l){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(d=e[$]||(e[$]={}),c=d[e.uniqueID]||(d[e.uniqueID]={}),a&&a===e.nodeName.toLowerCase())e=e[n]||e;else{if((h=c[s])&&h[0]===V&&h[1]===r)return u[2]=h[2];if(c[s]=u,u[2]=t(e,i,l))return!0}return!1}}function m(t){return t.length>1?function(e,i,n){for(var a=t.length;a--;)if(!t[a](e,i,n))return!1;return!0}:t[0]}function g(t,e,i,n,a){for(var s,o=[],r=0,l=t.length,h=null!=e;r<l;r++)(s=t[r])&&(i&&!i(s,n,a)||(o.push(s),h&&e.push(r)));return o}function v(t,i,a,s,o,r){return s&&!s[$]&&(s=v(s)),o&&!o[$]&&(o=v(o,r)),n(function(n,r,l,h){var c,d,u,p=[],f=[],m=r.length,v=n||function(t,i,n){for(var a=0,s=i.length;a<s;a++)e(t,i[a],n);return n}(i||"*",l.nodeType?[l]:l,[]),b=!t||!n&&i?v:g(v,p,t,l,h),y=a?o||(n?t:m||s)?[]:r:b;if(a&&a(b,y,l,h),s)for(c=g(y,f),s(c,[],l,h),d=c.length;d--;)(u=c[d])&&(y[f[d]]=!(b[f[d]]=u));if(n){if(o||t){if(o){for(c=[],d=y.length;d--;)(u=y[d])&&c.push(b[d]=u);o(null,y=[],c,h)}for(d=y.length;d--;)(u=y[d])&&(c=o?K(n,u):p[d])>-1&&(n[c]=!(r[c]=u))}}else y=g(y===r?y.splice(m,y.length):y),o?o(null,r,y,h):Q.apply(r,y)})}function b(t){for(var e,i,n,a=t.length,s=w.relative[t[0].type],o=s||w.relative[" "],r=s?1:0,l=f(function(t){return t===e},o,!0),h=f(function(t){return K(e,t)>-1},o,!0),c=[function(t,i,n){var a=!s&&(n||i!==k)||((e=i).nodeType?l(t,i,n):h(t,i,n));return e=null,a}];r<a;r++)if(i=w.relative[t[r].type])c=[f(m(c),i)];else{if((i=w.filter[t[r].type].apply(null,t[r].matches))[$]){for(n=++r;n<a&&!w.relative[t[n].type];n++);return v(r>1&&m(c),r>1&&p(t.slice(0,r-1).concat({value:" "===t[r-2].type?"*":""})).replace(st,"$1"),i,r<n&&b(t.slice(r,n)),n<a&&b(t=t.slice(n)),n<a&&p(t))}c.push(i)}return m(c)}var y,x,w,T,C,S,M,A,k,D,P,_,N,E,O,I,L,B,R,$="sizzle"+1*new Date,H=t.document,V=0,G=0,F=i(),W=i(),Y=i(),j=function(t,e){return t===e&&(P=!0),0},z={}.hasOwnProperty,X=[],U=X.pop,q=X.push,Q=X.push,Z=X.slice,K=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",nt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",at=new RegExp(tt+"+","g"),st=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),ot=new RegExp("^"+tt+"*,"+tt+"*"),rt=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ht=new RegExp(nt),ct=new RegExp("^"+et+"$"),dt={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+nt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ut=/^(?:input|select|textarea|button)$/i,pt=/^h\d$/i,ft=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,vt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),bt=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},yt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},wt=function(){_()},Tt=f(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Q.apply(X=Z.call(H.childNodes),H.childNodes),X[H.childNodes.length].nodeType}catch(t){Q={apply:X.length?function(t,e){q.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}x=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},_=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:H;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,E=N.documentElement,O=!C(N),H!==N&&(i=N.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",wt,!1):i.attachEvent&&i.attachEvent("onunload",wt)),x.attributes=a(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=a(function(t){return t.appendChild(N.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=ft.test(N.getElementsByClassName),x.getById=a(function(t){return E.appendChild(t).id=$,!N.getElementsByName||!N.getElementsByName($).length}),x.getById?(w.filter.ID=function(t){var e=t.replace(vt,bt);return function(t){return t.getAttribute("id")===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var i=e.getElementById(t);return i?[i]:[]}}):(w.filter.ID=function(t){var e=t.replace(vt,bt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var i,n,a,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(a=e.getElementsByName(t),n=0;s=a[n++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),w.find.TAG=x.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],a=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[a++];)1===i.nodeType&&n.push(i);return n}return s},w.find.CLASS=x.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&O)return e.getElementsByClassName(t)},L=[],I=[],(x.qsa=ft.test(N.querySelectorAll))&&(a(function(t){E.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+tt+"*(?:value|"+J+")"),t.querySelectorAll("[id~="+$+"-]").length||I.push("~="),t.querySelectorAll(":checked").length||I.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||I.push(".#.+[+~]")}),a(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=N.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&I.push(":enabled",":disabled"),E.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(x.matchesSelector=ft.test(B=E.matches||E.webkitMatchesSelector||E.mozMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&a(function(t){x.disconnectedMatch=B.call(t,"*"),B.call(t,"[s!='']:x"),L.push("!=",nt)}),I=I.length&&new RegExp(I.join("|")),L=L.length&&new RegExp(L.join("|")),e=ft.test(E.compareDocumentPosition),R=e||ft.test(E.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},j=e?function(t,e){if(t===e)return P=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===N||t.ownerDocument===H&&R(H,t)?-1:e===N||e.ownerDocument===H&&R(H,e)?1:D?K(D,t)-K(D,e):0:4&i?-1:1)}:function(t,e){if(t===e)return P=!0,0;var i,n=0,a=t.parentNode,s=e.parentNode,r=[t],l=[e];if(!a||!s)return t===N?-1:e===N?1:a?-1:s?1:D?K(D,t)-K(D,e):0;if(a===s)return o(t,e);for(i=t;i=i.parentNode;)r.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;r[n]===l[n];)n++;return n?o(r[n],l[n]):r[n]===H?-1:l[n]===H?1:0},N):N},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==N&&_(t),i=i.replace(lt,"='$1']"),x.matchesSelector&&O&&!Y[i+" "]&&(!L||!L.test(i))&&(!I||!I.test(i)))try{var n=B.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&_(t),R(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&_(t);var i=w.attrHandle[e.toLowerCase()],n=i&&z.call(w.attrHandle,e.toLowerCase())?i(t,e,!O):void 0;return void 0!==n?n:x.attributes||!O?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(yt,xt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,a=0;if(P=!x.detectDuplicates,D=!x.sortStable&&t.slice(0),t.sort(j),P){for(;e=t[a++];)e===t[a]&&(n=i.push(a));for(;n--;)t.splice(i[n],1)}return D=null,t},T=e.getText=function(t){var e,i="",n=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=T(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[n++];)i+=T(e);return i},(w=e.selectors={cacheLength:50,createPseudo:n,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(vt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(vt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(vt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=F[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&F(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(a){var s=e.attr(a,t);return null==s?"!="===i:!i||(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(at," ")+" ").indexOf(n)>-1:"|="===i&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,a){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),r="of-type"===e;return 1===n&&0===a?function(t){return!!t.parentNode}:function(e,i,l){var h,c,d,u,p,f,m=s!==o?"nextSibling":"previousSibling",g=e.parentNode,v=r&&e.nodeName.toLowerCase(),b=!l&&!r,y=!1;if(g){if(s){for(;m;){for(u=e;u=u[m];)if(r?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&b){for(y=(p=(h=(c=(d=(u=g)[$]||(u[$]={}))[u.uniqueID]||(d[u.uniqueID]={}))[t]||[])[0]===V&&h[1])&&h[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(y=p=0)||f.pop();)if(1===u.nodeType&&++y&&u===e){c[t]=[V,p,y];break}}else if(b&&(y=p=(h=(c=(d=(u=e)[$]||(u[$]={}))[u.uniqueID]||(d[u.uniqueID]={}))[t]||[])[0]===V&&h[1]),!1===y)for(;(u=++p&&u&&u[m]||(y=p=0)||f.pop())&&((r?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++y||(b&&((c=(d=u[$]||(u[$]={}))[u.uniqueID]||(d[u.uniqueID]={}))[t]=[V,y]),u!==e)););return(y-=a)===n||y%n==0&&y/n>=0}}},PSEUDO:function(t,i){var a,s=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[$]?s(i):s.length>1?(a=[t,t,"",i],w.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,a=s(t,i),o=a.length;o--;)t[n=K(t,a[o])]=!(e[n]=a[o])}):function(t){return s(t,0,a)}):s}},pseudos:{not:n(function(t){var e=[],i=[],a=M(t.replace(st,"$1"));return a[$]?n(function(t,e,i,n){for(var s,o=a(t,null,n,[]),r=t.length;r--;)(s=o[r])&&(t[r]=!(e[r]=s))}):function(t,n,s){return e[0]=t,a(e,null,s,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(vt,bt),function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:n(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(vt,bt).toLowerCase(),function(e){var i;do{if(i=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===E},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:h(!1),disabled:h(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return pt.test(t.nodeName)},input:function(t){return ut.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[i<0?i+e:i]}),even:c(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=w.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[y]=r(y);for(y in{submit:!0,reset:!0})w.pseudos[y]=l(y);return u.prototype=w.filters=w.pseudos,w.setFilters=new u,S=e.tokenize=function(t,i){var n,a,s,o,r,l,h,c=W[t+" "];if(c)return i?0:c.slice(0);for(r=t,l=[],h=w.preFilter;r;){n&&!(a=ot.exec(r))||(a&&(r=r.slice(a[0].length)||r),l.push(s=[])),n=!1,(a=rt.exec(r))&&(n=a.shift(),s.push({value:n,type:a[0].replace(st," ")}),r=r.slice(n.length));for(o in w.filter)!(a=dt[o].exec(r))||h[o]&&!(a=h[o](a))||(n=a.shift(),s.push({value:n,type:o,matches:a}),r=r.slice(n.length));if(!n)break}return i?r.length:r?e.error(t):W(t,l).slice(0)},M=e.compile=function(t,i){var a,s=[],o=[],r=Y[t+" "];if(!r){for(i||(i=S(t)),a=i.length;a--;)(r=b(i[a]))[$]?s.push(r):o.push(r);(r=Y(t,function(t,i){var a=i.length>0,s=t.length>0,o=function(n,o,r,l,h){var c,d,u,p=0,f="0",m=n&&[],v=[],b=k,y=n||s&&w.find.TAG("*",h),x=V+=null==b?1:Math.random()||.1,T=y.length;for(h&&(k=o===N||o||h);f!==T&&null!=(c=y[f]);f++){if(s&&c){for(d=0,o||c.ownerDocument===N||(_(c),r=!O);u=t[d++];)if(u(c,o||N,r)){l.push(c);break}h&&(V=x)}a&&((c=!u&&c)&&p--,n&&m.push(c))}if(p+=f,a&&f!==p){for(d=0;u=i[d++];)u(m,v,o,r);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=U.call(l));v=g(v)}Q.apply(l,v),h&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return h&&(V=x,k=b),m};return a?n(o):o}(o,s))).selector=t}return r},A=e.select=function(t,e,i,n){var a,s,o,r,l,h="function"==typeof t&&t,c=!n&&S(t=h.selector||t);if(i=i||[],1===c.length){if((s=c[0]=c[0].slice(0)).length>2&&"ID"===(o=s[0]).type&&9===e.nodeType&&O&&w.relative[s[1].type]){if(!(e=(w.find.ID(o.matches[0].replace(vt,bt),e)||[])[0]))return i;h&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(a=dt.needsContext.test(t)?0:s.length;a--&&(o=s[a],!w.relative[r=o.type]);)if((l=w.find[r])&&(n=l(o.matches[0].replace(vt,bt),gt.test(s[0].type)&&d(e.parentNode)||e))){if(s.splice(a,1),!(t=n.length&&p(s)))return Q.apply(i,n),i;break}}return(h||M(t,c))(n,e,!O,i,!e||gt.test(t)&&d(e.parentNode)||e),i},x.sortStable=$.split("").sort(j).join("")===$,x.detectDuplicates=!!P,_(),x.sortDetached=a(function(t){return 1&t.compareDocumentPosition(N.createElement("fieldset"))}),a(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&a(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),a(function(t){return null==t.getAttribute("disabled")})||s(J,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);rt.find=ut,rt.expr=ut.selectors,rt.expr[":"]=rt.expr.pseudos,rt.uniqueSort=rt.unique=ut.uniqueSort,rt.text=ut.getText,rt.isXMLDoc=ut.isXML,rt.contains=ut.contains,rt.escapeSelector=ut.escape;var pt=function(t,e,i){for(var n=[],a=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(a&&rt(t).is(i))break;n.push(t)}return n},ft=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},mt=rt.expr.match.needsContext,gt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,vt=/^.[^:#\[\.,]*$/;rt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?rt.find.matchesSelector(n,t)?[n]:[]:rt.find.matches(t,rt.grep(e,function(t){return 1===t.nodeType}))},rt.fn.extend({find:function(t){var e,i,n=this.length,a=this;if("string"!=typeof t)return this.pushStack(rt(t).filter(function(){for(e=0;e<n;e++)if(rt.contains(a[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)rt.find(t,a[e],i);return n>1?rt.uniqueSort(i):i},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(t){return!!a(this,"string"==typeof t&&mt.test(t)?rt(t):t||[],!1).length}});var bt,yt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(rt.fn.init=function(t,e,i){var n,a;if(!t)return this;if(i=i||bt,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:yt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof rt?e[0]:e,rt.merge(this,rt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:q,!0)),gt.test(n[1])&&rt.isPlainObject(e))for(n in e)rt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(a=q.getElementById(n[2]))&&(this[0]=a,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):rt.isFunction(t)?void 0!==i.ready?i.ready(t):t(rt):rt.makeArray(t,this)}).prototype=rt.fn,bt=rt(q);var xt=/^(?:parents|prev(?:Until|All))/,wt={children:!0,contents:!0,next:!0,prev:!0};rt.fn.extend({has:function(t){var e=rt(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(rt.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,a=this.length,s=[],o="string"!=typeof t&&rt(t);if(!mt.test(t))for(;n<a;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&rt.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?rt.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?tt.call(rt(t),this[0]):tt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(rt.uniqueSort(rt.merge(this.get(),rt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),rt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return pt(t,"parentNode")},parentsUntil:function(t,e,i){return pt(t,"parentNode",i)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return pt(t,"nextSibling")},prevAll:function(t){return pt(t,"previousSibling")},nextUntil:function(t,e,i){return pt(t,"nextSibling",i)},prevUntil:function(t,e,i){return pt(t,"previousSibling",i)},siblings:function(t){return ft((t.parentNode||{}).firstChild,t)},children:function(t){return ft(t.firstChild)},contents:function(t){return t.contentDocument||rt.merge([],t.childNodes)}},function(t,e){rt.fn[t]=function(i,n){var a=rt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(a=rt.filter(n,a)),this.length>1&&(wt[t]||rt.uniqueSort(a),xt.test(t)&&a.reverse()),this.pushStack(a)}});var Tt=/[^\x20\t\r\n\f]+/g;rt.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return rt.each(t.match(Tt)||[],function(t,i){e[i]=!0}),e}(t):rt.extend({},t);var e,i,n,a,s=[],o=[],r=-1,l=function(){for(a=t.once,n=e=!0;o.length;r=-1)for(i=o.shift();++r<s.length;)!1===s[r].apply(i[0],i[1])&&t.stopOnFalse&&(r=s.length,i=!1);t.memory||(i=!1),e=!1,a&&(s=i?[]:"")},h={add:function(){return s&&(i&&!e&&(r=s.length-1,o.push(i)),function e(i){rt.each(i,function(i,n){rt.isFunction(n)?t.unique&&h.has(n)||s.push(n):n&&n.length&&"string"!==rt.type(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return rt.each(arguments,function(t,e){for(var i;(i=rt.inArray(e,s,i))>-1;)s.splice(i,1),i<=r&&r--}),this},has:function(t){return t?rt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return a=o=[],s=i="",this},disabled:function(){return!s},lock:function(){return a=o=[],i||e||(s=i=""),this},locked:function(){return!!a},fireWith:function(t,i){return a||(i=[t,(i=i||[]).slice?i.slice():i],o.push(i),e||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},rt.extend({Deferred:function(e){var i=[["notify","progress",rt.Callbacks("memory"),rt.Callbacks("memory"),2],["resolve","done",rt.Callbacks("once memory"),rt.Callbacks("once memory"),0,"resolved"],["reject","fail",rt.Callbacks("once memory"),rt.Callbacks("once memory"),1,"rejected"]],n="pending",a={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return a.then(null,t)},pipe:function(){var t=arguments;return rt.Deferred(function(e){rt.each(i,function(i,n){var a=rt.isFunction(t[n[4]])&&t[n[4]];s[n[1]](function(){var t=a&&a.apply(this,arguments);t&&rt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,a?[t]:arguments)})}),t=null}).promise()},then:function(e,n,a){function s(e,i,n,a){return function(){var h=this,c=arguments,d=function(){var t,d;if(!(e<l)){if((t=n.apply(h,c))===i.promise())throw new TypeError("Thenable self-resolution");d=t&&("object"==typeof t||"function"==typeof t)&&t.then,rt.isFunction(d)?a?d.call(t,s(l,i,o,a),s(l,i,r,a)):(l++,d.call(t,s(l,i,o,a),s(l,i,r,a),s(l,i,o,i.notifyWith))):(n!==o&&(h=void 0,c=[t]),(a||i.resolveWith)(h,c))}},u=a?d:function(){try{d()}catch(t){rt.Deferred.exceptionHook&&rt.Deferred.exceptionHook(t,u.stackTrace),e+1>=l&&(n!==r&&(h=void 0,c=[t]),i.rejectWith(h,c))}};e?u():(rt.Deferred.getStackHook&&(u.stackTrace=rt.Deferred.getStackHook()),t.setTimeout(u))}}var l=0;return rt.Deferred(function(t){i[0][3].add(s(0,t,rt.isFunction(a)?a:o,t.notifyWith)),i[1][3].add(s(0,t,rt.isFunction(e)?e:o)),i[2][3].add(s(0,t,rt.isFunction(n)?n:r))}).promise()},promise:function(t){return null!=t?rt.extend(t,a):a}},s={};return rt.each(i,function(t,e){var o=e[2],r=e[5];a[e[1]]=o.add,r&&o.add(function(){n=r},i[3-t][2].disable,i[0][2].lock),o.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=o.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,i=e,n=Array(i),a=Z.call(arguments),s=rt.Deferred(),o=function(t){return function(i){n[t]=this,a[t]=arguments.length>1?Z.call(arguments):i,--e||s.resolveWith(n,a)}};if(e<=1&&(l(t,s.done(o(i)).resolve,s.reject),"pending"===s.state()||rt.isFunction(a[i]&&a[i].then)))return s.then();for(;i--;)l(a[i],o(i),s.reject);return s.promise()}});var Ct=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;rt.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&Ct.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},rt.readyException=function(e){t.setTimeout(function(){throw e})};var St=rt.Deferred();rt.fn.ready=function(t){return St.then(t).catch(function(t){rt.readyException(t)}),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?rt.readyWait++:rt.ready(!0)},ready:function(t){(!0===t?--rt.readyWait:rt.isReady)||(rt.isReady=!0,!0!==t&&--rt.readyWait>0||St.resolveWith(q,[rt]))}}),rt.ready.then=St.then,"complete"===q.readyState||"loading"!==q.readyState&&!q.documentElement.doScroll?t.setTimeout(rt.ready):(q.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h));var Mt=function(t,e,i,n,a,s,o){var r=0,l=t.length,h=null==i;if("object"===rt.type(i)){a=!0;for(r in i)Mt(t,e,r,i[r],!0,s,o)}else if(void 0!==n&&(a=!0,rt.isFunction(n)||(o=!0),h&&(o?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(rt(t),i)})),e))for(;r<l;r++)e(t[r],i,o?n:n.call(t[r],r,e(t[r],i)));return a?t:h?e.call(t):l?e(t[0],i):s},At=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};c.uid=1,c.prototype={cache:function(t){var e=t[this.expando];return e||(e={},At(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,a=this.cache(t);if("string"==typeof e)a[rt.camelCase(e)]=i;else for(n in e)a[rt.camelCase(n)]=e[n];return a},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][rt.camelCase(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=rt.isArray(e)?e.map(rt.camelCase):(e=rt.camelCase(e))in n?[e]:e.match(Tt)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||rt.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!rt.isEmptyObject(e)}};var kt=new c,Dt=new c,Pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/[A-Z]/g;rt.extend({hasData:function(t){return Dt.hasData(t)||kt.hasData(t)},data:function(t,e,i){return Dt.access(t,e,i)},removeData:function(t,e){Dt.remove(t,e)},_data:function(t,e,i){return kt.access(t,e,i)},_removeData:function(t,e){kt.remove(t,e)}}),rt.fn.extend({data:function(t,e){var i,n,a,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(a=Dt.get(s),1===s.nodeType&&!kt.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=rt.camelCase(n.slice(5)),d(s,n,a[n]));kt.set(s,"hasDataAttrs",!0)}return a}return"object"==typeof t?this.each(function(){Dt.set(this,t)}):Mt(this,function(e){var i;if(s&&void 0===e){if(void 0!==(i=Dt.get(s,t)))return i;if(void 0!==(i=d(s,t)))return i}else this.each(function(){Dt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Dt.remove(this,t)})}}),rt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=kt.get(t,e),i&&(!n||rt.isArray(i)?n=kt.access(t,e,rt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=rt.queue(t,e),n=i.length,a=i.shift(),s=rt._queueHooks(t,e);"inprogress"===a&&(a=i.shift(),n--),a&&("fx"===e&&i.unshift("inprogress"),delete s.stop,a.call(t,function(){rt.dequeue(t,e)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return kt.get(t,i)||kt.access(t,i,{empty:rt.Callbacks("once memory").add(function(){kt.remove(t,[e+"queue",i])})})}}),rt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?rt.queue(this[0],t):void 0===e?this:this.each(function(){var i=rt.queue(this,t,e);rt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&rt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){rt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,a=rt.Deferred(),s=this,o=this.length,r=function(){--n||a.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=kt.get(s[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(r));return r(),a.promise(e)}});var Nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Et=new RegExp("^(?:([+-])=|)("+Nt+")([a-z%]*)$","i"),Ot=["Top","Right","Bottom","Left"],It=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&rt.contains(t.ownerDocument,t)&&"none"===rt.css(t,"display")},Lt=function(t,e,i,n){var a,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];a=i.apply(t,n||[]);for(s in e)t.style[s]=o[s];return a},Bt={};rt.fn.extend({show:function(){return f(this,!0)},hide:function(){return f(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){It(this)?rt(this).show():rt(this).hide()})}});var Rt=/^(?:checkbox|radio)$/i,$t=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ht=/^$|\/(?:java|ecma)script/i,Vt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Vt.optgroup=Vt.option,Vt.tbody=Vt.tfoot=Vt.colgroup=Vt.caption=Vt.thead,Vt.th=Vt.td;var Gt=/<|&#?\w+;/;!function(){var t=q.createDocumentFragment().appendChild(q.createElement("div")),e=q.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),ot.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ot.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ft=q.documentElement,Wt=/^key/,Yt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,jt=/^([^.]*)(?:\.(.+)|)/;rt.event={global:{},add:function(t,e,i,n,a){var s,o,r,l,h,c,d,u,p,f,m,g=kt.get(t);if(g)for(i.handler&&(i=(s=i).handler,a=s.selector),a&&rt.find.matchesSelector(Ft,a),i.guid||(i.guid=rt.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(e){return void 0!==rt&&rt.event.triggered!==e.type?rt.event.dispatch.apply(t,arguments):void 0}),h=(e=(e||"").match(Tt)||[""]).length;h--;)p=m=(r=jt.exec(e[h])||[])[1],f=(r[2]||"").split(".").sort(),p&&(d=rt.event.special[p]||{},p=(a?d.delegateType:d.bindType)||p,d=rt.event.special[p]||{},c=rt.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:a,needsContext:a&&rt.expr.match.needsContext.test(a),namespace:f.join(".")},s),(u=l[p])||((u=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,n,f,o)||t.addEventListener&&t.addEventListener(p,o)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),a?u.splice(u.delegateCount++,0,c):u.push(c),rt.event.global[p]=!0)},remove:function(t,e,i,n,a){var s,o,r,l,h,c,d,u,p,f,m,g=kt.hasData(t)&&kt.get(t);if(g&&(l=g.events)){for(h=(e=(e||"").match(Tt)||[""]).length;h--;)if(r=jt.exec(e[h])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p){for(d=rt.event.special[p]||{},u=l[p=(n?d.delegateType:d.bindType)||p]||[],r=r[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=u.length;s--;)c=u[s],!a&&m!==c.origType||i&&i.guid!==c.guid||r&&!r.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(u.splice(s,1),c.selector&&u.delegateCount--,d.remove&&d.remove.call(t,c));o&&!u.length&&(d.teardown&&!1!==d.teardown.call(t,f,g.handle)||rt.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)rt.event.remove(t,p+e[h],i,n,!0);rt.isEmptyObject(l)&&kt.remove(t,"handle events")}},dispatch:function(t){var e,i,n,a,s,o,r=rt.event.fix(t),l=new Array(arguments.length),h=(kt.get(this,"events")||{})[r.type]||[],c=rt.event.special[r.type]||{};for(l[0]=r,e=1;e<arguments.length;e++)l[e]=arguments[e];if(r.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,r)){for(o=rt.event.handlers.call(this,r,h),e=0;(a=o[e++])&&!r.isPropagationStopped();)for(r.currentTarget=a.elem,i=0;(s=a.handlers[i++])&&!r.isImmediatePropagationStopped();)r.rnamespace&&!r.rnamespace.test(s.namespace)||(r.handleObj=s,r.data=s.data,void 0!==(n=((rt.event.special[s.origType]||{}).handle||s.handler).apply(a.elem,l))&&!1===(r.result=n)&&(r.preventDefault(),r.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,r),r.result}},handlers:function(t,e){var i,n,a,s,o,r=[],l=e.delegateCount,h=t.target;if(l&&h.nodeType&&!("click"===t.type&&t.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(s=[],o={},i=0;i<l;i++)void 0===o[a=(n=e[i]).selector+" "]&&(o[a]=n.needsContext?rt(a,this).index(h)>-1:rt.find(a,this,null,[h]).length),o[a]&&s.push(n);s.length&&r.push({elem:h,handlers:s})}return h=this,l<e.length&&r.push({elem:h,handlers:e.slice(l)}),r},addProp:function(t,e){Object.defineProperty(rt.Event.prototype,t,{enumerable:!0,configurable:!0,get:rt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[rt.expando]?t:new rt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&rt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return rt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},rt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},rt.Event=function(t,e){if(!(this instanceof rt.Event))return new rt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?b:y,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&rt.extend(this,e),this.timeStamp=t&&t.timeStamp||rt.now(),this[rt.expando]=!0},rt.Event.prototype={constructor:rt.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=b,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=b,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=b,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},rt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Wt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Yt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},rt.event.addProp),rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){rt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=t.relatedTarget,a=t.handleObj;return n&&(n===this||rt.contains(this,n))||(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=e),i}}}),rt.fn.extend({on:function(t,e,i,n){return w(this,t,e,i,n)},one:function(t,e,i,n){return w(this,t,e,i,n,1)},off:function(t,e,i){var n,a;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,rt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(a in t)this.off(a,e,t[a]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=y),this.each(function(){rt.event.remove(this,t,i,e)})}});var zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Xt=/<script|<style|<link/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,qt=/^true\/(.*)/,Qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;rt.extend({htmlPrefilter:function(t){return t.replace(zt,"<$1></$2>")},clone:function(t,e,i){var n,a,s,o,r=t.cloneNode(!0),l=rt.contains(t.ownerDocument,t);if(!(ot.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||rt.isXMLDoc(t)))for(o=m(r),n=0,a=(s=m(t)).length;n<a;n++)A(s[n],o[n]);if(e)if(i)for(s=s||m(t),o=o||m(r),n=0,a=s.length;n<a;n++)M(s[n],o[n]);else M(t,r);return(o=m(r,"script")).length>0&&g(o,!l&&m(t,"script")),r},cleanData:function(t){for(var e,i,n,a=rt.event.special,s=0;void 0!==(i=t[s]);s++)if(At(i)){if(e=i[kt.expando]){if(e.events)for(n in e.events)a[n]?rt.event.remove(i,n):rt.removeEvent(i,n,e.handle);i[kt.expando]=void 0}i[Dt.expando]&&(i[Dt.expando]=void 0)}}}),rt.fn.extend({detach:function(t){return D(this,t,!0)},remove:function(t){return D(this,t)},text:function(t){return Mt(this,function(t){return void 0===t?rt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){T(this,t).appendChild(t)}})},prepend:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=T(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(rt.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return rt.clone(this,t,e)})},html:function(t){return Mt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Xt.test(t)&&!Vt[($t.exec(t)||["",""])[1].toLowerCase()]){t=rt.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(rt.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return k(this,arguments,function(e){var i=this.parentNode;rt.inArray(this,t)<0&&(rt.cleanData(m(this)),i&&i.replaceChild(e,this))},t)}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){rt.fn[t]=function(t){for(var i,n=[],a=rt(t),s=a.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),rt(a[o])[e](i),J.apply(n,i.get());return this.pushStack(n)}});var Zt=/^margin/,Kt=new RegExp("^("+Nt+")(?!px)[a-z%]+$","i"),Jt=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)};!function(){function e(){if(r){r.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",r.innerHTML="",Ft.appendChild(o);var e=t.getComputedStyle(r);i="1%"!==e.top,s="2px"===e.marginLeft,n="4px"===e.width,r.style.marginRight="50%",a="4px"===e.marginRight,Ft.removeChild(o),r=null}}var i,n,a,s,o=q.createElement("div"),r=q.createElement("div");r.style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",ot.clearCloneStyle="content-box"===r.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(r),rt.extend(ot,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return e(),n},pixelMarginRight:function(){return e(),a},reliableMarginLeft:function(){return e(),s}}))}();var te=/^(none|table(?!-c[ea]).+)/,ee={position:"absolute",visibility:"hidden",display:"block"},ie={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","Moz","ms"],ae=q.createElement("div").style;rt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=P(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,s,o,r=rt.camelCase(e),l=t.style;if(e=rt.cssProps[r]||(rt.cssProps[r]=N(r)||r),o=rt.cssHooks[e]||rt.cssHooks[r],void 0===i)return o&&"get"in o&&void 0!==(a=o.get(t,!1,n))?a:l[e];"string"==(s=typeof i)&&(a=Et.exec(i))&&a[1]&&(i=u(t,e,a),s="number"),null!=i&&i==i&&("number"===s&&(i+=a&&a[3]||(rt.cssNumber[r]?"":"px")),ot.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(l[e]=i))}},css:function(t,e,i,n){var a,s,o,r=rt.camelCase(e);return e=rt.cssProps[r]||(rt.cssProps[r]=N(r)||r),(o=rt.cssHooks[e]||rt.cssHooks[r])&&"get"in o&&(a=o.get(t,!0,i)),void 0===a&&(a=P(t,e,n)),"normal"===a&&e in ie&&(a=ie[e]),""===i||i?(s=parseFloat(a),!0===i||isFinite(s)?s||0:a):a}}),rt.each(["height","width"],function(t,e){rt.cssHooks[e]={get:function(t,i,n){if(i)return!te.test(rt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?I(t,e,n):Lt(t,ee,function(){return I(t,e,n)})},set:function(t,i,n){var a,s=n&&Jt(t),o=n&&O(t,e,n,"border-box"===rt.css(t,"boxSizing",!1,s),s);return o&&(a=Et.exec(i))&&"px"!==(a[3]||"px")&&(t.style[e]=i,i=rt.css(t,e)),E(0,i,o)}}}),rt.cssHooks.marginLeft=_(ot.reliableMarginLeft,function(t,e){if(e)return(parseFloat(P(t,"marginLeft"))||t.getBoundingClientRect().left-Lt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),rt.each({margin:"",padding:"",border:"Width"},function(t,e){rt.cssHooks[t+e]={expand:function(i){for(var n=0,a={},s="string"==typeof i?i.split(" "):[i];n<4;n++)a[t+Ot[n]+e]=s[n]||s[n-2]||s[0];return a}},Zt.test(t)||(rt.cssHooks[t+e].set=E)}),rt.fn.extend({css:function(t,e){return Mt(this,function(t,e,i){var n,a,s={},o=0;if(rt.isArray(e)){for(n=Jt(t),a=e.length;o<a;o++)s[e[o]]=rt.css(t,e[o],!1,n);return s}return void 0!==i?rt.style(t,e,i):rt.css(t,e)},t,e,arguments.length>1)}}),rt.Tween=L,(L.prototype={constructor:L,init:function(t,e,i,n,a,s){this.elem=t,this.prop=i,this.easing=a||rt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(rt.cssNumber[i]?"":"px")},cur:function(){var t=L.propHooks[this.prop];return t&&t.get?t.get(this):L.propHooks._default.get(this)},run:function(t){var e,i=L.propHooks[this.prop];return this.options.duration?this.pos=e=rt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):L.propHooks._default.set(this),this}}).init.prototype=L.prototype,(L.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=rt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){rt.fx.step[t.prop]?rt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[rt.cssProps[t.prop]]&&!rt.cssHooks[t.prop]?t.elem[t.prop]=t.now:rt.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=L.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},rt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},rt.fx=L.prototype.init,rt.fx.step={};var se,oe,re=/^(?:toggle|show|hide)$/,le=/queueHooks$/;rt.Animation=rt.extend(V,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return u(i.elem,t,Et.exec(e),i),i}]},tweener:function(t,e){rt.isFunction(t)?(e=t,t=["*"]):t=t.match(Tt);for(var i,n=0,a=t.length;n<a;n++)i=t[n],V.tweeners[i]=V.tweeners[i]||[],V.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,a,s,o,r,l,h,c,d="width"in e||"height"in e,u=this,p={},m=t.style,g=t.nodeType&&It(t),v=kt.get(t,"fxshow");i.queue||(null==(o=rt._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,r=o.empty.fire,o.empty.fire=function(){o.unqueued||r()}),o.unqueued++,u.always(function(){u.always(function(){o.unqueued--,rt.queue(t,"fx").length||o.empty.fire()})}));for(n in e)if(a=e[n],re.test(a)){if(delete e[n],s=s||"toggle"===a,a===(g?"hide":"show")){if("show"!==a||!v||void 0===v[n])continue;g=!0}p[n]=v&&v[n]||rt.style(t,n)}if((l=!rt.isEmptyObject(e))||!rt.isEmptyObject(p)){d&&1===t.nodeType&&(i.overflow=[m.overflow,m.overflowX,m.overflowY],null==(h=v&&v.display)&&(h=kt.get(t,"display")),"none"===(c=rt.css(t,"display"))&&(h?c=h:(f([t],!0),h=t.style.display||h,c=rt.css(t,"display"),f([t]))),("inline"===c||"inline-block"===c&&null!=h)&&"none"===rt.css(t,"float")&&(l||(u.done(function(){m.display=h}),null==h&&(c=m.display,h="none"===c?"":c)),m.display="inline-block")),i.overflow&&(m.overflow="hidden",u.always(function(){m.overflow=i.overflow[0],m.overflowX=i.overflow[1],m.overflowY=i.overflow[2]})),l=!1;for(n in p)l||(v?"hidden"in v&&(g=v.hidden):v=kt.access(t,"fxshow",{display:h}),s&&(v.hidden=!g),g&&f([t],!0),u.done(function(){g||f([t]),kt.remove(t,"fxshow");for(n in p)rt.style(t,n,p[n])})),l=H(g?v[n]:0,n,u),n in v||(v[n]=l.start,g&&(l.end=l.start,l.start=0))}}],prefilter:function(t,e){e?V.prefilters.unshift(t):V.prefilters.push(t)}}),rt.speed=function(t,e,i){var n=t&&"object"==typeof t?rt.extend({},t):{complete:i||!i&&e||rt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!rt.isFunction(e)&&e};return rt.fx.off||q.hidden?n.duration=0:"number"!=typeof n.duration&&(n.duration in rt.fx.speeds?n.duration=rt.fx.speeds[n.duration]:n.duration=rt.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){rt.isFunction(n.old)&&n.old.call(this),n.queue&&rt.dequeue(this,n.queue)},n},rt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(It).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var a=rt.isEmptyObject(t),s=rt.speed(e,i,n),o=function(){var e=V(this,rt.extend({},t),s);(a||kt.get(this,"finish"))&&e.stop(!0)};return o.finish=o,a||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,a=null!=t&&t+"queueHooks",s=rt.timers,o=kt.get(this);if(a)o[a]&&o[a].stop&&n(o[a]);else for(a in o)o[a]&&o[a].stop&&le.test(a)&&n(o[a]);for(a=s.length;a--;)s[a].elem!==this||null!=t&&s[a].queue!==t||(s[a].anim.stop(i),e=!1,s.splice(a,1));!e&&i||rt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=kt.get(this),n=i[t+"queue"],a=i[t+"queueHooks"],s=rt.timers,o=n?n.length:0;for(i.finish=!0,rt.queue(this,t,[]),a&&a.stop&&a.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),rt.each(["toggle","show","hide"],function(t,e){var i=rt.fn[e];rt.fn[e]=function(t,n,a){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate($(e,!0),t,n,a)}}),rt.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){rt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),rt.timers=[],rt.fx.tick=function(){var t,e=0,i=rt.timers;for(se=rt.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||rt.fx.stop(),se=void 0},rt.fx.timer=function(t){rt.timers.push(t),t()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){oe||(oe=t.requestAnimationFrame?t.requestAnimationFrame(B):t.setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(oe):t.clearInterval(oe),oe=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,i){return e=rt.fx?rt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var a=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(a)}})},function(){var t=q.createElement("input"),e=q.createElement("select").appendChild(q.createElement("option"));t.type="checkbox",ot.checkOn=""!==t.value,ot.optSelected=e.selected,(t=q.createElement("input")).value="t",t.type="radio",ot.radioValue="t"===t.value}();var he,ce=rt.expr.attrHandle;rt.fn.extend({attr:function(t,e){return Mt(this,rt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){rt.removeAttr(this,t)})}}),rt.extend({attr:function(t,e,i){var n,a,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?rt.prop(t,e,i):(1===s&&rt.isXMLDoc(t)||(a=rt.attrHooks[e.toLowerCase()]||(rt.expr.match.bool.test(e)?he:void 0)),void 0!==i?null===i?void rt.removeAttr(t,e):a&&"set"in a&&void 0!==(n=a.set(t,i,e))?n:(t.setAttribute(e,i+""),i):a&&"get"in a&&null!==(n=a.get(t,e))?n:null==(n=rt.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!ot.radioValue&&"radio"===e&&rt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,a=e&&e.match(Tt);if(a&&1===t.nodeType)for(;i=a[n++];)t.removeAttribute(i)}}),he={set:function(t,e,i){return!1===e?rt.removeAttr(t,i):t.setAttribute(i,i),i}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ce[e]||rt.find.attr;ce[e]=function(t,e,n){var a,s,o=e.toLowerCase();return n||(s=ce[o],ce[o]=a,a=null!=i(t,e,n)?o:null,ce[o]=s),a}});var de=/^(?:input|select|textarea|button)$/i,ue=/^(?:a|area)$/i;rt.fn.extend({prop:function(t,e){return Mt(this,rt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[rt.propFix[t]||t]})}}),rt.extend({prop:function(t,e,i){var n,a,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&rt.isXMLDoc(t)||(e=rt.propFix[e]||e,a=rt.propHooks[e]),void 0!==i?a&&"set"in a&&void 0!==(n=a.set(t,i,e))?n:t[e]=i:a&&"get"in a&&null!==(n=a.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=rt.find.attr(t,"tabindex");return e?parseInt(e,10):de.test(t.nodeName)||ue.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ot.optSelected||(rt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),rt.fn.extend({addClass:function(t){var e,i,n,a,s,o,r,l=0;if(rt.isFunction(t))return this.each(function(e){rt(this).addClass(t.call(this,e,F(this)))});if("string"==typeof t&&t)for(e=t.match(Tt)||[];i=this[l++];)if(a=F(i),n=1===i.nodeType&&" "+G(a)+" "){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a!==(r=G(n))&&i.setAttribute("class",r)}return this},removeClass:function(t){var e,i,n,a,s,o,r,l=0;if(rt.isFunction(t))return this.each(function(e){rt(this).removeClass(t.call(this,e,F(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Tt)||[];i=this[l++];)if(a=F(i),n=1===i.nodeType&&" "+G(a)+" "){for(o=0;s=e[o++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");a!==(r=G(n))&&i.setAttribute("class",r)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):rt.isFunction(t)?this.each(function(i){rt(this).toggleClass(t.call(this,i,F(this),e),e)}):this.each(function(){var e,n,a,s;if("string"===i)for(n=0,a=rt(this),s=t.match(Tt)||[];e=s[n++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else void 0!==t&&"boolean"!==i||((e=F(this))&&kt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":kt.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+G(F(i))+" ").indexOf(e)>-1)return!0;return!1}});var pe=/\r/g;rt.fn.extend({val:function(t){var e,i,n,a=this[0];{if(arguments.length)return n=rt.isFunction(t),this.each(function(i){var a;1===this.nodeType&&(null==(a=n?t.call(this,i,rt(this).val()):t)?a="":"number"==typeof a?a+="":rt.isArray(a)&&(a=rt.map(a,function(t){return null==t?"":t+""})),(e=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,a,"value")||(this.value=a))});if(a)return(e=rt.valHooks[a.type]||rt.valHooks[a.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(a,"value"))?i:"string"==typeof(i=a.value)?i.replace(pe,""):null==i?"":i}}}),rt.extend({valHooks:{option:{get:function(t){var e=rt.find.attr(t,"value");return null!=e?e:G(rt.text(t))}},select:{get:function(t){var e,i,n,a=t.options,s=t.selectedIndex,o="select-one"===t.type,r=o?null:[],l=o?s+1:a.length;for(n=s<0?l:o?s:0;n<l;n++)if(((i=a[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!rt.nodeName(i.parentNode,"optgroup"))){if(e=rt(i).val(),o)return e;r.push(e)}return r},set:function(t,e){for(var i,n,a=t.options,s=rt.makeArray(e),o=a.length;o--;)((n=a[o]).selected=rt.inArray(rt.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(t,e){if(rt.isArray(e))return t.checked=rt.inArray(rt(t).val(),e)>-1}},ot.checkOn||(rt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var fe=/^(?:focusinfocus|focusoutblur)$/;rt.extend(rt.event,{trigger:function(e,i,n,a){var s,o,r,l,h,c,d,u=[n||q],p=nt.call(e,"type")?e.type:e,f=nt.call(e,"namespace")?e.namespace.split("."):[];if(o=r=n=n||q,3!==n.nodeType&&8!==n.nodeType&&!fe.test(p+rt.event.triggered)&&(p.indexOf(".")>-1&&(p=(f=p.split(".")).shift(),f.sort()),h=p.indexOf(":")<0&&"on"+p,e=e[rt.expando]?e:new rt.Event(p,"object"==typeof e&&e),e.isTrigger=a?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:rt.makeArray(i,[e]),d=rt.event.special[p]||{},a||!d.trigger||!1!==d.trigger.apply(n,i))){if(!a&&!d.noBubble&&!rt.isWindow(n)){for(l=d.delegateType||p,fe.test(l+p)||(o=o.parentNode);o;o=o.parentNode)u.push(o),r=o;r===(n.ownerDocument||q)&&u.push(r.defaultView||r.parentWindow||t)}for(s=0;(o=u[s++])&&!e.isPropagationStopped();)e.type=s>1?l:d.bindType||p,(c=(kt.get(o,"events")||{})[e.type]&&kt.get(o,"handle"))&&c.apply(o,i),(c=h&&o[h])&&c.apply&&At(o)&&(e.result=c.apply(o,i),!1===e.result&&e.preventDefault());return e.type=p,a||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(u.pop(),i)||!At(n)||h&&rt.isFunction(n[p])&&!rt.isWindow(n)&&((r=n[h])&&(n[h]=null),rt.event.triggered=p,n[p](),rt.event.triggered=void 0,r&&(n[h]=r)),e.result}},simulate:function(t,e,i){var n=rt.extend(new rt.Event,i,{type:t,isSimulated:!0});rt.event.trigger(n,null,e)}}),rt.fn.extend({trigger:function(t,e){return this.each(function(){rt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return rt.event.trigger(t,e,i,!0)}}),rt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){rt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),rt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ot.focusin="onfocusin"in t,ot.focusin||rt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){rt.event.simulate(e,t.target,rt.event.fix(t))};rt.event.special[e]={setup:function(){var n=this.ownerDocument||this,a=kt.access(n,e);a||n.addEventListener(t,i,!0),kt.access(n,e,(a||0)+1)},teardown:function(){var n=this.ownerDocument||this,a=kt.access(n,e)-1;a?kt.access(n,e,a):(n.removeEventListener(t,i,!0),kt.remove(n,e))}}});var me=t.location,ge=rt.now(),ve=/\?/;rt.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+e),i};var be=/\[\]$/,ye=/\r?\n/g,xe=/^(?:submit|button|image|reset|file)$/i,we=/^(?:input|select|textarea|keygen)/i;rt.param=function(t,e){var i,n=[],a=function(t,e){var i=rt.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(rt.isArray(t)||t.jquery&&!rt.isPlainObject(t))rt.each(t,function(){a(this.name,this.value)});else for(i in t)W(i,t[i],e,a);return n.join("&")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=rt.prop(this,"elements");return t?rt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!rt(this).is(":disabled")&&we.test(this.nodeName)&&!xe.test(t)&&(this.checked||!Rt.test(t))}).map(function(t,e){var i=rt(this).val();return null==i?null:rt.isArray(i)?rt.map(i,function(t){return{name:e.name,value:t.replace(ye,"\r\n")}}):{name:e.name,value:i.replace(ye,"\r\n")}}).get()}});var Te=/%20/g,Ce=/#.*$/,Se=/([?&])_=[^&]*/,Me=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ae=/^(?:GET|HEAD)$/,ke=/^\/\//,De={},Pe={},_e="*/".concat("*"),Ne=q.createElement("a");Ne.href=me.href,rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:me.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?z(z(t,rt.ajaxSettings),e):z(rt.ajaxSettings,t)},ajaxPrefilter:Y(De),ajaxTransport:Y(Pe),ajax:function(e,i){function n(e,i,n,r){var h,u,p,x,w,T=i;c||(c=!0,l&&t.clearTimeout(l),a=void 0,o=r||"",C.readyState=e>0?4:0,h=e>=200&&e<300||304===e,n&&(x=function(t,e,i){for(var n,a,s,o,r=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(a in r)if(r[a]&&r[a].test(n)){l.unshift(a);break}if(l[0]in i)s=l[0];else{for(a in i){if(!l[0]||t.converters[a+" "+l[0]]){s=a;break}o||(o=a)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}(f,C,n)),x=function(t,e,i,n){var a,s,o,r,l,h={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)h[o.toLowerCase()]=t.converters[o];for(s=c.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=h[l+" "+s]||h["* "+s]))for(a in h)if((r=a.split(" "))[1]===s&&(o=h[l+" "+r[0]]||h["* "+r[0]])){!0===o?o=h[a]:!0!==h[a]&&(s=r[0],c.unshift(r[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(f,x,C,h),h?(f.ifModified&&((w=C.getResponseHeader("Last-Modified"))&&(rt.lastModified[s]=w),(w=C.getResponseHeader("etag"))&&(rt.etag[s]=w)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=x.state,u=x.data,h=!(p=x.error))):(p=T,!e&&T||(T="error",e<0&&(e=0))),C.status=e,C.statusText=(i||T)+"",h?v.resolveWith(m,[u,T,C]):v.rejectWith(m,[C,T,p]),C.statusCode(y),y=void 0,d&&g.trigger(h?"ajaxSuccess":"ajaxError",[C,f,h?u:p]),b.fireWith(m,[C,T]),d&&(g.trigger("ajaxComplete",[C,f]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var a,s,o,r,l,h,c,d,u,p,f=rt.ajaxSetup({},i),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?rt(m):rt.event,v=rt.Deferred(),b=rt.Callbacks("once memory"),y=f.statusCode||{},x={},w={},T="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!r)for(r={};e=Me.exec(o);)r[e[1].toLowerCase()]=e[2];e=r[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||T;return a&&a.abort(e),n(0,e),this}};if(v.promise(C),f.url=((e||f.url||me.href)+"").replace(ke,me.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Tt)||[""],null==f.crossDomain){h=q.createElement("a");try{h.href=f.url,h.href=h.href,f.crossDomain=Ne.protocol+"//"+Ne.host!=h.protocol+"//"+h.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=rt.param(f.data,f.traditional)),j(De,f,i,C),c)return C;(d=rt.event&&f.global)&&0==rt.active++&&rt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ae.test(f.type),s=f.url.replace(Ce,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Te,"+")):(p=f.url.slice(s.length),f.data&&(s+=(ve.test(s)?"&":"?")+f.data,delete f.data),!1===f.cache&&(s=s.replace(Se,"$1"),p=(ve.test(s)?"&":"?")+"_="+ge+++p),f.url=s+p),f.ifModified&&(rt.lastModified[s]&&C.setRequestHeader("If-Modified-Since",rt.lastModified[s]),rt.etag[s]&&C.setRequestHeader("If-None-Match",rt.etag[s])),(f.data&&f.hasContent&&!1!==f.contentType||i.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+_e+"; q=0.01":""):f.accepts["*"]);for(u in f.headers)C.setRequestHeader(u,f.headers[u]);if(f.beforeSend&&(!1===f.beforeSend.call(m,C,f)||c))return C.abort();if(T="abort",b.add(f.complete),C.done(f.success),C.fail(f.error),a=j(Pe,f,i,C)){if(C.readyState=1,d&&g.trigger("ajaxSend",[C,f]),c)return C;f.async&&f.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},f.timeout));try{c=!1,a.send(x,n)}catch(t){if(c)throw t;n(-1,t)}}else n(-1,"No Transport");return C},getJSON:function(t,e,i){return rt.get(t,e,i,"json")},getScript:function(t,e){return rt.get(t,void 0,e,"script")}}),rt.each(["get","post"],function(t,e){rt[e]=function(t,i,n,a){return rt.isFunction(i)&&(a=a||n,n=i,i=void 0),rt.ajax(rt.extend({url:t,type:e,dataType:a,data:i,success:n},rt.isPlainObject(t)&&t))}}),rt._evalUrl=function(t){return rt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},rt.fn.extend({wrapAll:function(t){var e;return this[0]&&(rt.isFunction(t)&&(t=t.call(this[0])),e=rt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return rt.isFunction(t)?this.each(function(e){rt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=rt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=rt.isFunction(t);return this.each(function(i){rt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){rt(this).replaceWith(this.childNodes)}),this}}),rt.expr.pseudos.hidden=function(t){return!rt.expr.pseudos.visible(t)},rt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},rt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Ee={0:200,1223:204},Oe=rt.ajaxSettings.xhr();ot.cors=!!Oe&&"withCredentials"in Oe,ot.ajax=Oe=!!Oe,rt.ajaxTransport(function(e){var i,n;if(ot.cors||Oe&&!e.crossDomain)return{send:function(a,s){var o,r=e.xhr();if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)r[o]=e.xhrFields[o];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest");for(o in a)r.setRequestHeader(o,a[o]);i=function(t){return function(){i&&(i=n=r.onload=r.onerror=r.onabort=r.onreadystatechange=null,"abort"===t?r.abort():"error"===t?"number"!=typeof r.status?s(0,"error"):s(r.status,r.statusText):s(Ee[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=i(),n=r.onerror=i("error"),void 0!==r.onabort?r.onabort=n:r.onreadystatechange=function(){4===r.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{r.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}}),rt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return rt.globalEval(t),t}}}),rt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),rt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,a){e=rt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&a("error"===t.type?404:200,t.type)}),q.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Ie=[],Le=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ie.pop()||rt.expando+"_"+ge++;return this[t]=!0,t}}),rt.ajaxPrefilter("json jsonp",function(e,i,n){var a,s,o,r=!1!==e.jsonp&&(Le.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Le.test(e.data)&&"data");if(r||"jsonp"===e.dataTypes[0])return a=e.jsonpCallback=rt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r?e[r]=e[r].replace(Le,"$1"+a):!1!==e.jsonp&&(e.url+=(ve.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return o||rt.error(a+" was not called"),o[0]},e.dataTypes[0]="json",s=t[a],t[a]=function(){o=arguments},n.always(function(){void 0===s?rt(t).removeProp(a):t[a]=s,e[a]&&(e.jsonpCallback=i.jsonpCallback,Ie.push(a)),o&&rt.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),ot.createHTMLDocument=function(){var t=q.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),rt.parseHTML=function(t,e,i){if("string"!=typeof t)return[];"boolean"==typeof e&&(i=e,e=!1);var n,a,s;return e||(ot.createHTMLDocument?((n=(e=q.implementation.createHTMLDocument("")).createElement("base")).href=q.location.href,e.head.appendChild(n)):e=q),a=gt.exec(t),s=!i&&[],a?[e.createElement(a[1])]:(a=v([t],e,s),s&&s.length&&rt(s).remove(),rt.merge([],a.childNodes))},rt.fn.load=function(t,e,i){var n,a,s,o=this,r=t.indexOf(" ");return r>-1&&(n=G(t.slice(r)),t=t.slice(0,r)),rt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(a="POST"),o.length>0&&rt.ajax({url:t,type:a||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(n?rt("<div>").append(rt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){rt.fn[e]=function(t){return this.on(e,t)}}),rt.expr.pseudos.animated=function(t){return rt.grep(rt.timers,function(e){return t===e.elem}).length},rt.offset={setOffset:function(t,e,i){var n,a,s,o,r,l,h=rt.css(t,"position"),c=rt(t),d={};"static"===h&&(t.style.position="relative"),r=c.offset(),s=rt.css(t,"top"),l=rt.css(t,"left"),("absolute"===h||"fixed"===h)&&(s+l).indexOf("auto")>-1?(o=(n=c.position()).top,a=n.left):(o=parseFloat(s)||0,a=parseFloat(l)||0),rt.isFunction(e)&&(e=e.call(t,i,rt.extend({},r))),null!=e.top&&(d.top=e.top-r.top+o),null!=e.left&&(d.left=e.left-r.left+a),"using"in e?e.using.call(t,d):c.css(d)}},rt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){rt.offset.setOffset(this,t,e)});var e,i,n,a,s=this[0];if(s)return s.getClientRects().length?(n=s.getBoundingClientRect()).width||n.height?(a=s.ownerDocument,i=X(a),e=a.documentElement,{top:n.top+i.pageYOffset-e.clientTop,left:n.left+i.pageXOffset-e.clientLeft}):n:{top:0,left:0}},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===rt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),rt.nodeName(t[0],"html")||(n=t.offset()),n={top:n.top+rt.css(t[0],"borderTopWidth",!0),left:n.left+rt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-n.top-rt.css(i,"marginTop",!0),left:e.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===rt.css(t,"position");)t=t.offsetParent;return t||Ft})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;rt.fn[t]=function(n){return Mt(this,function(t,n,a){var s=X(t);if(void 0===a)return s?s[e]:t[n];s?s.scrollTo(i?s.pageXOffset:a,i?a:s.pageYOffset):t[n]=a},t,n,arguments.length)}}),rt.each(["top","left"],function(t,e){rt.cssHooks[e]=_(ot.pixelPosition,function(t,i){if(i)return i=P(t,e),Kt.test(i)?rt(t).position()[e]+"px":i})}),rt.each({Height:"height",Width:"width"},function(t,e){rt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){rt.fn[n]=function(a,s){var o=arguments.length&&(i||"boolean"!=typeof a),r=i||(!0===a||!0===s?"margin":"border");return Mt(this,function(e,i,a){var s;return rt.isWindow(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===a?rt.css(e,i,r):rt.style(e,i,a,r)},e,o?a:void 0,o)}})}),rt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),rt.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var Be=t.jQuery,Re=t.$;return rt.noConflict=function(e){return t.$===rt&&(t.$=Re),e&&t.jQuery===rt&&(t.jQuery=Be),rt},e||(t.jQuery=t.$=rt),rt}),function(t,e){"use strict";function i(i){var n=e.console;a[i]||(a[i]=!0,t.migrateWarnings.push(i),n&&n.warn&&!t.migrateMute&&(n.warn("JQMIGRATE: "+i),t.migrateTrace&&n.trace&&n.trace()))}function n(t,e,n,a){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i(a),n}})}t.migrateVersion="3.0.0",function(){var i=e.console&&e.console.log&&function(){e.console.log.apply(e.console,arguments)};i&&(t&&!/^[12]\./.test(t.fn.jquery)||i("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),t.migrateWarnings&&i("JQMIGRATE: Migrate plugin loaded multiple times"),i("JQMIGRATE: Migrate is installed"+(t.migrateMute?"":" with logging active")+", version "+t.migrateVersion))}();var a={};t.migrateWarnings=[],void 0===t.migrateTrace&&(t.migrateTrace=!0),t.migrateReset=function(){a={},t.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var s=t.fn.init,o=t.isNumeric,r=t.find,l=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,h=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;t.fn.init=function(t){var e=Array.prototype.slice.call(arguments);return"string"==typeof t&&"#"===t&&(i("jQuery( '#' ) is not a valid selector"),e[0]=[]),s.apply(this,e)},t.fn.init.prototype=t.fn,t.find=function(t){var e=Array.prototype.slice.call(arguments);if("string"==typeof t&&l.test(t))try{document.querySelector(t)}catch(n){t=t.replace(h,function(t,e,i,n){return"["+e+i+'"'+n+'"]'});try{document.querySelector(t),i("Attribute selector with '#' must be quoted: "+e[0]),e[0]=t}catch(t){i("Attribute selector with '#' was not fixed: "+e[0])}}return r.apply(this,e)};var c;for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t.find[c]=r[c]);t.fn.size=function(){return i("jQuery.fn.size() is deprecated; use the .length property"),this.length},t.parseJSON=function(){return i("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},t.isNumeric=function(e){var n=o(e),a=function(e){var i=e&&e.toString();return!t.isArray(e)&&i-parseFloat(i)+1>=0}(e);return n!==a&&i("jQuery.isNumeric() should not be called on constructed objects"),a},n(t,"unique",t.uniqueSort,"jQuery.unique is deprecated, use jQuery.uniqueSort"),n(t.expr,"filters",t.expr.pseudos,"jQuery.expr.filters is now jQuery.expr.pseudos"),n(t.expr,":",t.expr.pseudos,'jQuery.expr[":"] is now jQuery.expr.pseudos');var d=t.ajax;t.ajax=function(){var t=d.apply(this,arguments);return t.promise&&(n(t,"success",t.done,"jQXHR.success is deprecated and removed"),n(t,"error",t.fail,"jQXHR.error is deprecated and removed"),n(t,"complete",t.always,"jQXHR.complete is deprecated and removed")),t};var u=t.fn.removeAttr,p=t.fn.toggleClass,f=/\S+/g;t.fn.removeAttr=function(e){var n=this;return t.each(e.match(f),function(e,a){t.expr.match.bool.test(a)&&(i("jQuery.fn.removeAttr no longer sets boolean properties: "+a),n.prop(a,!1))}),u.apply(this,arguments)},t.fn.toggleClass=function(e){return void 0!==e&&"boolean"!=typeof e?p.apply(this,arguments):(i("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var i=this.getAttribute&&this.getAttribute("class")||"";i&&t.data(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":t.data(this,"__className__")||"")}))};var m=!1;t.swap&&t.each(["height","width","reliableMarginRight"],function(e,i){var n=t.cssHooks[i]&&t.cssHooks[i].get;n&&(t.cssHooks[i].get=function(){var t;return m=!0,t=n.apply(this,arguments),m=!1,t})}),t.swap=function(t,e,n,a){var s,o,r={};m||i("jQuery.swap() is undocumented and deprecated");for(o in e)r[o]=t.style[o],t.style[o]=e[o];s=n.apply(t,a||[]);for(o in e)t.style[o]=r[o];return s};var g=t.data;t.data=function(e,n,a){var s;if(n&&"object"==typeof n&&2===arguments.length){s=t.hasData(e)&&g.call(this,e);var o={};for(var r in n)r!==t.camelCase(r)?(i("jQuery.data() always sets/gets camelCased names: "+r),s[r]=n[r]):o[r]=n[r];return g.call(this,e,o),n}return n&&"string"==typeof n&&n!==t.camelCase(n)&&(s=t.hasData(e)&&g.call(this,e))&&n in s?(i("jQuery.data() always sets/gets camelCased names: "+n),arguments.length>2&&(s[n]=a),s[n]):g.apply(this,arguments)};var v=t.Tween.prototype.run;t.Tween.prototype.run=function(e){t.easing[this.easing].length>1&&(i('easing function "jQuery.easing.'+this.easing.toString()+'" should use only first argument'),t.easing[this.easing]=t.easing[this.easing].bind(t.easing,e,this.options.duration*e,0,1,this.options.duration)),v.apply(this,arguments)};var b=t.fn.load,y=t.event.fix;t.event.props=[],t.event.fixHooks={},t.event.fix=function(e){var n,a=e.type,s=this.fixHooks[a],o=t.event.props;if(o.length)for(i("jQuery.event.props are deprecated and removed: "+o.join());o.length;)t.event.addProp(o.pop());if(s&&!s._migrated_&&(s._migrated_=!0,i("jQuery.event.fixHooks are deprecated and removed: "+a),(o=s.props)&&o.length))for(;o.length;)t.event.addProp(o.pop());return n=y.call(this,e),s&&s.filter?s.filter(n,e):n},t.each(["load","unload","error"],function(e,n){t.fn[n]=function(){var t=Array.prototype.slice.call(arguments,0);return"load"===n&&"string"==typeof t[0]?b.apply(this,t):(i("jQuery.fn."+n+"() is deprecated"),t.splice(0,0,n),arguments.length?this.on.apply(this,t):(this.triggerHandler.apply(this,t),this))}}),t(function(){t(document).triggerHandler("ready")}),t.event.special.ready={setup:function(){this===document&&i("'ready' event is deprecated")}},t.fn.extend({bind:function(t,e,n){return i("jQuery.fn.bind() is deprecated"),this.on(t,null,e,n)},unbind:function(t,e){return i("jQuery.fn.unbind() is deprecated"),this.off(t,null,e)},delegate:function(t,e,n,a){return i("jQuery.fn.delegate() is deprecated"),this.on(e,t,n,a)},undelegate:function(t,e,n){return i("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var x=t.fn.offset;t.fn.offset=function(){var e,n=this[0],a={top:0,left:0};return n&&n.nodeType?(e=(n.ownerDocument||document).documentElement,t.contains(e,n)?x.apply(this,arguments):(i("jQuery.fn.offset() requires an element connected to a document"),a)):(i("jQuery.fn.offset() requires a valid DOM element"),a)};var w=t.param;t.param=function(e,n){var a=t.ajaxSettings&&t.ajaxSettings.traditional;return void 0===n&&a&&(i("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),n=a),w.call(this,e,n)};var T=t.fn.andSelf||t.fn.addBack;t.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),T.apply(this,arguments)};var C=t.Deferred,S=[["resolve","done",t.Callbacks("once memory"),t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory"),t.Callbacks("memory")]];t.Deferred=function(e){var n=C(),a=n.promise();return n.pipe=a.pipe=function(){var e=arguments;return i("deferred.pipe() is deprecated"),t.Deferred(function(i){t.each(S,function(s,o){var r=t.isFunction(e[s])&&e[s];n[o[1]](function(){var e=r&&r.apply(this,arguments);e&&t.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===a?i.promise():this,r?[e]:arguments)})}),e=null}).promise()},e&&e.call(n,n),n}}(jQuery,window),function(t,e,i){function n(t){return t.replace(/\s*$/,"")}function a(t,e){if(t.innerText)t.innerText=e;else if(t.nodeValue)t.nodeValue=e;else{if(!t.textContent)return!1;t.textContent=e}}function s(t,e,i,n){var s,r=t.parent();t.remove();var l=i?i.length:0;if(r.contents().length>l)return s=r.contents().eq(-1-l),o(s,e,i,n);var h=r.prev();return!!(s=h.contents().eq(-1)).length&&(a(s[0],s.text()+n.ellipsis),r.remove(),i.length&&h.append(i),!0)}function o(t,e,i,o){return"end"===o.position?function(t,e,i,o){for(var r,l,h=t[0],c=t.text(),d="",u=0,p=c.length;u<=p;)r=u+(p-u>>1),a(h,l=n(c.substr(0,r+1))+o.ellipsis),e.height()>o.maxHeight?p=r-1:(u=r+1,d=d.length>l.length?d:l);return d.length>0?(a(h,d),!0):s(t,e,i,o)}(t,e,i,o):"start"===o.position?function(t,e,i,o){for(var r,l,h=t[0],c=t.text(),d="",u=0,p=c.length;u<=p;)r=u+(p-u>>1),a(h,l=o.ellipsis+n(c.substr(r-1,c.length))),e.height()>o.maxHeight?u=r+1:(p=r-1,d=d.length>l.length?d:l);return d.length>0?(a(h,d),!0):s(t,e,i,o)}(t,e,i,o):function(t,e,i,o){for(var r,l,h=t[0],c=t.text(),d="",u=0,p=c.length,f=p>>1;u<=f;)r=u+(f-u>>1),a(h,l=n(c.substr(0,r))+o.ellipsis+c.substr(p-r,p-r)),e.height()>o.maxHeight?f=r-1:(u=r+1,d=d.length>l.length?d:l);return d.length>0?(a(h,d),!0):s(t,e,i,o)}(t,e,i,o)}function r(t,i,n,a){var s,r,h=t[0],d=t.contents(),u=0,p=d.length,f=!1;for(t.empty();u<p&&!f;u++)8!==(r=(s=d.eq(u))[0]).nodeType&&(h.appendChild(r),n.length&&(e.inArray(h.tagName.toLowerCase(),c)>=0?t.after(n):t.append(n)),i.height()>a.maxHeight&&(f=3===r.nodeType?o(s,i,n,a):l(s,i,n,a)),!f&&n.length&&n.remove());return f}function l(t,i,n,a){return"end"===a.position?r(t,i,n,a):"start"===a.position?function(t,i,n,a){var s,r,h=t[0],d=t.contents(),u=d.length-1,p=!1;for(t.empty();u>=0&&!p;u--)8!==(r=(s=d.eq(u))[0]).nodeType&&(h.insertBefore(r,h.firstChild),n.length&&(e.inArray(h.tagName.toLowerCase(),c)>=0?t.after(n):t.append(n)),i.height()>a.maxHeight&&(p=3===r.nodeType?o(s,i,n,a):l(s,i,n,a)),!p&&n.length&&n.remove());return p}(t,i,n,a):r(t,i,n,a)}function h(t,n){if(this.element=t,this.$element=e(t),this._name="truncate",this._defaults={lines:1,ellipsis:"…",showMore:"",showLess:"",position:"end",lineHeight:"auto"},this.options=e.extend({},this._defaults,n),"auto"===this.options.lineHeight){var a=this.$element.css("line-height"),s=18;"normal"!==a&&(s=parseInt(a,10)),this.options.lineHeight=s}this.options.maxHeight===i&&(this.options.maxHeight=parseInt(this.options.lines,10)*parseInt(this.options.lineHeight,10)),"start"!==this.options.position&&"middle"!==this.options.position&&"end"!==this.options.position&&(this.options.position="end"),this.$clipNode=e(e.parseHTML(this.options.showMore),this.$element),this.original=this.cached=t.innerHTML,this.isTruncated=!1,this.isCollapsed=!0,this.update()}var c=["table","thead","tbody","tfoot","tr","col","colgroup","object","embed","param","ol","ul","dl","blockquote","select","optgroup","option","textarea","script","style"];h.prototype={update:function(t){var e=!this.isCollapsed;void 0!==t?this.original=this.element.innerHTML=t:this.isCollapsed&&this.element.innerHTML===this.cached&&(this.element.innerHTML=this.original);var i=this.$element.wrapInner("<div/>").children();i.css({border:"none",margin:0,padding:0,width:"auto",height:"auto","word-wrap":"break-word"}),this.isTruncated=!1,i.height()>this.options.maxHeight?(this.isTruncated=l(i,i,this.$clipNode,this.options),this.isExplicitlyCollapsed&&(this.isCollapsed=!0,e=!1)):this.isCollapsed=!1,i.replaceWith(i.contents()),this.cached=this.element.innerHTML,e&&(this.element.innerHTML=this.original)},expand:function(){var t=!0;this.isExplicitlyCollapsed&&(this.isExplicitlyCollapsed=!1,t=!1),this.isCollapsed&&(this.isCollapsed=!1,this.element.innerHTML=this.isTruncated?this.original+(t?this.options.showLess:""):this.original)},collapse:function(t){this.isExplicitlyCollapsed=!0,this.isCollapsed||(this.isCollapsed=!0,(t=t||!1)?this.update():this.element.innerHTML=this.cached)}},e.fn.truncate=function(t){var i=e.makeArray(arguments).slice(1);return this.each(function(){var n=e.data(this,"jquery-truncate");n?"function"==typeof n[t]&&n[t].apply(n,i):e.data(this,"jquery-truncate",new h(this,t))})},t.Truncate=h}(this,jQuery),function(t){function e(e){return(e=t(e)).selector?e.selector:e&&e.attr("id")?"#"+e.attr("id"):void 0}function i(e,i,a){var s=this;return this.on("click.pjax",e,function(e){var o=t.extend({},g(i,a));o.container||(o.container=t(this).attr("data-pjax")||s),n(e,o)})}function n(e,i,n){n=g(i,n);var a=e.currentTarget;if("A"!==a.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==a.protocol||location.hostname!==a.hostname||a.href.indexOf("#")>-1&&m(a)==m(location)||e.isDefaultPrevented())){var o={url:a.href,container:t(a).attr("data-pjax"),target:a},r=t.extend({},o,n),l=t.Event("pjax:click");t(a).trigger(l,[r]),l.isDefaultPrevented()||(s(r),e.preventDefault(),t(a).trigger("pjax:clicked",[r]))}}function a(e,i,n){n=g(i,n);var a=e.currentTarget;if("FORM"!==a.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var o={type:a.method.toUpperCase(),url:a.action,container:t(a).attr("data-pjax"),target:a};if("GET"!==o.type&&void 0!==window.FormData)o.data=new FormData(a),o.processData=!1,o.contentType=!1;else{if(t(a).find(":file").length)return;o.data=t(a).serializeObject()}s(t.extend({},o,n)),e.preventDefault()}function s(i){function n(e,i,n){n||(n={}),n.relatedTarget=a;var s=t.Event(e,n);return l.trigger(s,i),!s.isDefaultPrevented()}i=t.extend(!0,{},t.ajaxSettings,s.defaults,i),t.isFunction(i.url)&&(i.url=i.url());var a=i.target,o=f(i.url).hash,l=i.context=v(i.container);i.data||(i.data={}),t.isArray(i.data)?i.data.push({name:"_pjax",value:e(l)}):i.data._pjax=e(l);var h;i.beforeSend=function(t,a){if("GET"!==a.type&&(a.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",e(l)),!n("pjax:beforeSend",[t,a]))return!1;a.timeout>0&&(h=setTimeout(function(){n("pjax:timeout",[t,i])&&t.abort("timeout")},a.timeout),a.timeout=0);var s=f(a.url);o&&(s.hash=o),i.requestUrl=p(s)},i.complete=function(t,e){h&&clearTimeout(h),n("pjax:complete",[t,e,i]),n("pjax:end",[t,i])},i.error=function(t,e,a){var s=x("",t,i),o=n("pjax:error",[t,e,a,i]);"GET"==i.type&&"abort"!==e&&o&&r(s.url)},i.success=function(a,h,c){var u=s.state,p="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,m=c.getResponseHeader("X-PJAX-Version"),g=x(a,c,i),v=f(g.url);if(o&&(v.hash=o,g.url=v.href),p&&m&&p!==m)r(g.url);else if(g.contents){s.state={id:i.id||d(),url:g.url,title:g.title,container:e(l),fragment:i.fragment,timeout:i.timeout},(i.push||i.replace)&&window.history.replaceState(s.state,g.title,g.url);try{document.activeElement.blur()}catch(t){}g.title&&(document.title=g.title),n("pjax:beforeReplace",[g.contents,i],{state:s.state,previousState:u}),l.html(g.contents);var b=l.find("input[autofocus], textarea[autofocus]").last()[0];b&&document.activeElement!==b&&b.focus(),function(e){if(!e)return;var i=t("script[src]");e.each(function(){var e=this.src;if(!i.filter(function(){return this.src===e}).length){var n=document.createElement("script"),a=t(this).attr("type");a&&(n.type=a),n.src=t(this).attr("src"),document.head.appendChild(n)}})}(g.scripts);var y=i.scrollTo;if(o){var w=decodeURIComponent(o.slice(1)),T=document.getElementById(w)||document.getElementsByName(w)[0];T&&(y=t(T).offset().top)}"number"==typeof y&&t(window).scrollTop(y),n("pjax:success",[a,h,c,i])}else r(g.url)},s.state||(s.state={id:d(),url:window.location.href,title:document.title,container:e(l),fragment:i.fragment,timeout:i.timeout},window.history.replaceState(s.state,document.title)),c(s.xhr),s.options=i;var m=s.xhr=t.ajax(i);return m.readyState>0&&(i.push&&!i.replace&&(!function(t,e){D[t]=e,_.push(t),w(P,0),w(_,s.defaults.maxCacheLength)}(s.state.id,u(l)),window.history.pushState(null,"",i.requestUrl)),n("pjax:start",[m,i]),n("pjax:send",[m,i])),s.xhr}function o(e,i){var n={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return s(t.extend(n,g(e,i)))}function r(t){window.history.replaceState(null,"",s.state.url),window.location.replace(t)}function l(e){M||c(s.xhr);var i,n=s.state,a=e.state;if(a&&a.container){if(M&&A==a.url)return;if(n){if(n.id===a.id)return;i=n.id<a.id?"forward":"back"}var o=D[a.id]||[],l=t(o[0]||a.container),h=o[1];if(l.length){n&&function(t,e,i){var n,a;D[e]=i,"forward"===t?(n=_,a=P):(n=P,a=_);n.push(e),(e=a.pop())&&delete D[e];w(n,s.defaults.maxCacheLength)}(i,n.id,u(l));var d=t.Event("pjax:popstate",{state:a,direction:i});l.trigger(d);var p={id:a.id,url:a.url,container:l,push:!1,fragment:a.fragment,timeout:a.timeout,scrollTo:!1};if(h){l.trigger("pjax:start",[null,p]),s.state=a,a.title&&(document.title=a.title);var f=t.Event("pjax:beforeReplace",{state:a,previousState:n});l.trigger(f,[h,p]),l.html(h),l.trigger("pjax:end",[null,p])}else s(p);l[0].offsetHeight}else r(location.href)}M=!1}function h(e){var i=t.isFunction(e.url)?e.url():e.url,n=e.type?e.type.toUpperCase():"GET",a=t("<form>",{method:"GET"===n?"GET":"POST",action:i,style:"display:none"});"GET"!==n&&"POST"!==n&&a.append(t("<input>",{type:"hidden",name:"_method",value:n.toLowerCase()}));var s=e.data;if("string"==typeof s)t.each(s.split("&"),function(e,i){var n=i.split("=");a.append(t("<input>",{type:"hidden",name:n[0],value:n[1]}))});else if(t.isArray(s))t.each(s,function(e,i){a.append(t("<input>",{type:"hidden",name:i.name,value:i.value}))});else if("object"==typeof s){var o;for(o in s)a.append(t("<input>",{type:"hidden",name:o,value:s[o]}))}t(document.body).append(a),a.submit()}function c(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function d(){return(new Date).getTime()}function u(t){var i=t.clone();return i.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[e(t),i.contents()]}function p(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),t.href.replace(/\?($|#)/,"$1")}function f(t){var e=document.createElement("a");return e.href=t,e}function m(t){return t.href.replace(/#.*/,"")}function g(e,i){return e&&i?i.container=e:i=t.isPlainObject(e)?e:{container:e},i.container&&(i.container=v(i.container)),i}function v(i){if((i=t(i)).length){if(e(i)&&i.context===document)return i;if(i.attr("id"))return t("#"+i.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+e(i)}function b(t,e){return t.filter(e).add(t.find(e))}function y(e){return t.parseHTML(e,document,!0)}function x(e,i,n){var a={},s=/<html/i.test(e),o=i.getResponseHeader("X-PJAX-URL");if(a.url=o?p(f(o)):n.requestUrl,s)var r=t(y(e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),l=t(y(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else r=l=t(y(e));if(0===l.length)return a;if(a.title=b(r,"title").last().text(),n.fragment){if("body"===n.fragment)h=l;else var h=b(l,n.fragment).first();h.length&&(a.contents="body"===n.fragment?h:h.contents(),a.title||(a.title=h.attr("title")||h.data("title")))}else s||(a.contents=l);return a.contents&&(a.contents=a.contents.not(function(){return t(this).is("title")}),a.contents.find("title").remove(),a.scripts=b(a.contents,"script[src]").remove(),a.contents=a.contents.not(a.scripts)),a.title&&(a.title=t.trim(a.title)),a}function w(t,e){for(;t.length>e;)delete D[t.shift()]}function T(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function C(){t.fn.pjax=i,t.pjax=s,t.pjax.enable=t.noop,t.pjax.disable=S,t.pjax.click=n,t.pjax.submit=a,t.pjax.reload=o,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:T},t(window).on("popstate.pjax",l)}function S(){t.fn.pjax=function(){return this},t.pjax=h,t.pjax.enable=C,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",l)}var M=!0,A=window.location.href,k=window.history.state;k&&k.container&&(s.state=k),"state"in window.history&&(M=!1);var D={},P=[],_=[];t.inArray("state",t.event.props)<0&&t.event.props.push("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),t.support.pjax?C():S()}(jQuery),function(t){function e(e,n){function a(t,e,i){return t[e]=i,t}function s(t,e){for(var n,s=t.match(i.key);void 0!==(n=s.pop());)if(i.push.test(n)){e=a([],function(t){void 0===l[t]&&(l[t]=0);return l[t]++}(t.replace(/\[\]$/,"")),e)}else i.fixed.test(n)?e=a([],n,e):i.named.test(n)&&(e=a({},n,e));return e}function o(){return r}var r={},l={};this.addPair=function(a){if(!i.validate.test(a.name))return this;var o=s(a.name,function(e){switch(t('[name="'+e.name+'"]',n).attr("type")){case"checkbox":return"on"===e.value||e.value;default:return e.value}}(a));return r=e.extend(!0,r,o),this},this.addPairs=function(t){if(!e.isArray(t))throw new Error("formSerializer.addPairs expects an Array");for(var i=0,n=t.length;i<n;i++)this.addPair(t[i]);return this},this.serialize=o,this.serializeJSON=function(){return JSON.stringify(o())}}var i={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};e.patterns=i,e.serializeObject=function(){return new e(t,this).addPairs(this.serializeArray()).serialize()},e.serializeJSON=function(){return new e(t,this).addPairs(this.serializeArray()).serializeJSON()},void 0!==t.fn&&(t.fn.serializeObject=e.serializeObject,t.fn.serializeJSON=e.serializeJSON,t.fn.formSerializer=e)}(jQuery),function(){"use strict";function t(){for(;r.length;)r[0](),r.shift()}function e(t){this.a=l,this.b=void 0,this.f=[];var e=this;try{t(function(t){n(e,t)},function(t){a(e,t)})}catch(t){a(e,t)}}function i(t){return new e(function(e){e(t)})}function n(t,e){if(t.a==l){if(e==t)throw new TypeError;var i=!1;try{var o=e&&e.then;if(null!=e&&"object"==typeof e&&"function"==typeof o)return void o.call(e,function(e){i||n(t,e),i=!0},function(e){i||a(t,e),i=!0})}catch(e){return void(i||a(t,e))}t.a=0,t.b=e,s(t)}}function a(t,e){if(t.a==l){if(e==t)throw new TypeError;t.a=1,t.b=e,s(t)}}function s(t){!function(t){r.push(t),1==r.length&&o()}(function(){if(t.a!=l)for(;t.f.length;){var e=(a=t.f.shift())[0],i=a[1],n=a[2],a=a[3];try{0==t.a?n("function"==typeof e?e.call(void 0,t.b):t.b):1==t.a&&("function"==typeof i?n(i.call(void 0,t.b)):a(t.b))}catch(t){a(t)}}})}var o,r=[];o=function(){setTimeout(t)};var l=2;e.prototype.g=function(t){return this.c(void 0,t)},e.prototype.c=function(t,i){var n=this;return new e(function(e,a){n.f.push([t,i,e,a]),s(n)})},window.Promise||(window.Promise=e,window.Promise.resolve=i,window.Promise.reject=function(t){return new e(function(e,i){i(t)})},window.Promise.race=function(t){return new e(function(e,n){for(var a=0;a<t.length;a+=1)i(t[a]).c(e,n)})},window.Promise.all=function(t){return new e(function(e,n){function a(i){return function(n){o[i]=n,(s+=1)==t.length&&e(o)}}var s=0,o=[];0==t.length&&e(o);for(var r=0;r<t.length;r+=1)i(t[r]).c(a(r),n)})},window.Promise.prototype.then=e.prototype.c,window.Promise.prototype.catch=e.prototype.g)}(),function(){function t(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function e(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function n(t){var e=t.a.offsetWidth,i=e+100;return t.f.style.width=i+"px",t.c.scrollLeft=i,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function a(e,i){function a(){var t=s;n(t)&&t.a.parentNode&&i(t.g)}var s=e;t(e.b,a),t(e.c,a),n(e)}function s(t,e){var i=e||{};this.family=t,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"}function o(){return null===d&&(d=!!document.fonts),d}function r(t,e){return[t.style,t.weight,function(){if(null===c){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}c=""!==t.style.font}return c}()?t.stretch:"","100px",e].join(" ")}var l=null,h=null,c=null,d=null;s.prototype.load=function(t,n){var s=this,c=t||"BESbswy",d=0,u=n||3e3,p=(new Date).getTime();return new Promise(function(t,n){if(o()&&!function(){if(null===h)if(o()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);h=!!t&&603>parseInt(t[1],10)}else h=!1;return h}()){var f=new Promise(function(t,e){function i(){(new Date).getTime()-p>=u?e():document.fonts.load(r(s,'"'+s.family+'"'),c).then(function(e){1<=e.length?t():setTimeout(i,25)},function(){e()})}i()}),m=new Promise(function(t,e){d=setTimeout(e,u)});Promise.race([m,f]).then(function(){clearTimeout(d),t(s)},function(){n(s)})}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())})}(function(){function o(){var e;(e=-1!=v&&-1!=b||-1!=v&&-1!=y||-1!=b&&-1!=y)&&((e=v!=b&&v!=y&&b!=y)||(null===l&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=l&&(v==x&&b==x&&y==x||v==w&&b==w&&y==w||v==T&&b==T&&y==T)),e=!e),e&&(C.parentNode&&C.parentNode.removeChild(C),clearTimeout(d),t(s))}function h(){if((new Date).getTime()-p>=u)C.parentNode&&C.parentNode.removeChild(C),n(s);else{var t=document.hidden;!0!==t&&void 0!==t||(v=f.a.offsetWidth,b=m.a.offsetWidth,y=g.a.offsetWidth,o()),d=setTimeout(h,50)}}var f=new e(c),m=new e(c),g=new e(c),v=-1,b=-1,y=-1,x=-1,w=-1,T=-1,C=document.createElement("div");C.dir="ltr",i(f,r(s,"sans-serif")),i(m,r(s,"serif")),i(g,r(s,"monospace")),C.appendChild(f.a),C.appendChild(m.a),C.appendChild(g.a),document.body.appendChild(C),x=f.a.offsetWidth,w=m.a.offsetWidth,T=g.a.offsetWidth,h(),a(f,function(t){v=t,o()}),i(f,r(s,'"'+s.family+'",sans-serif')),a(m,function(t){b=t,o()}),i(m,r(s,'"'+s.family+'",serif')),a(g,function(t){y=t,o()}),i(g,r(s,'"'+s.family+'",monospace'))})})},"object"==typeof module?module.exports=s:(window.FontFaceObserver=s,window.FontFaceObserver.prototype.load=s.prototype.load)}(),function(t,e){function i(t,e,i){var n=t+":",a=document.createElement("test").style;return a.cssText=i?n+e:n+["-webkit-","-moz-","-ms-","-o-",""].join(e+";"+n)+e+";",-1!==a[t].indexOf(e)}function n(t){return parseInt(t,10)||0}var a=0,s={classes:{plugin:"fixedsticky",active:"fixedsticky-on",inactive:"fixedsticky-off",clone:"fixedsticky-dummy",withoutFixedFixed:"fixedsticky-withoutfixedfixed"},keys:{offset:"fixedStickyOffset",position:"fixedStickyPosition",id:"fixedStickyId"},tests:{sticky:i("position","sticky"),fixed:i("position","fixed",!0)},getScrollTop:function(){return t?"pageYOffset"in t?t.pageYOffset:t.document.documentElement.scrollTop:t.document.body.scrollTop},bypass:function(){return s.tests.sticky&&!s.optOut||!s.tests.fixed||t.FixedFixed&&!e(t.document.documentElement).hasClass("fixed-supported")},update:function(t){if(t.offsetWidth){var i,a,o,r=e(t),l=r.outerHeight(),h=r.data(s.keys.offset),c=s.getScrollTop(),d=r.is("."+s.classes.active),u=function(t){r[t?"addClass":"removeClass"](s.classes.active)[t?"removeClass":"addClass"](s.classes.inactive)},p=e(window).height(),f=r.data(s.keys.position),m=r.parent(),g=m.offset().top,v=m.outerHeight();void 0===h?(h=r.offset().top,r.data(s.keys.offset,h),r.after(e("<div>").addClass(s.classes.clone).height(l))):r.next("."+s.classes.clone).height(l),f||((i="auto"!==r.css("top")||"auto"!==r.css("bottom"))||r.css("position","fixed"),f={top:"auto"!==r.css("top"),bottom:"auto"!==r.css("bottom")},i||r.css("position",""),r.data(s.keys.position,f)),a=n(r.css("top")),o=n(r.css("bottom")),f.top&&function(){var t=c+a;return h<t&&t+l<=g+v}()||f.bottom&&h+(l||0)>c+p-o&&c+p-o>=g+(l||0)?d||u(!0):d&&u(!1)}},destroy:function(i){var n=e(i);return s.bypass()?n:n.each(function(){var i=e(this),n=i.data(s.keys.id);e(t).unbind(".fixedsticky"+n),i.removeData([s.keys.offset,s.keys.position,s.keys.id]).removeClass(s.classes.active).removeClass(s.classes.inactive).next("."+s.classes.clone).remove()})},init:function(i){var n=e(i);return s.bypass()?n:n.each(function(){var i=this,o=a++;e(this).data(s.keys.id,o),e(t).bind("scroll.fixedsticky"+o,function(){s.update(i)}).trigger("scroll.fixedsticky"+o),e(t).bind("resize.fixedsticky"+o,function(){n.is("."+s.classes.active)&&s.update(i)})})}};t.FixedSticky=s,e.fn.fixedsticky=function(t){if("function"==typeof s[t])return s[t].call(s,this);if("object"!=typeof t&&t)throw new Error("Method `"+t+"` does not exist on jQuery.fixedsticky");return s.init.call(s,this)},t.FixedFixed||e(t.document.documentElement).addClass(s.classes.withoutFixedFixed)}(window,jQuery);var Util=function(t){function e(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function i(t){return(t[0]||t).nodeType}function n(e){var i=this,n=!1;return t(this).one(o.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||o.triggerTransitionEnd(i)},e),this}var a=!1,s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},o={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function(t){new Function("bs","return bs")(t.offsetHeight)},triggerTransitionEnd:function(e){t(e).trigger(a.end)},supportsTransitionEnd:function(){return Boolean(a)},typeCheckConfig:function(t,n,a){for(var s in a)if(a.hasOwnProperty(s)){var o=a[s],r=n[s],l=void 0;if(l=r&&i(r)?"element":e(r),!new RegExp(o).test(l))throw new Error(t.toUpperCase()+': Option "'+s+'" provided type "'+l+'" but expected type "'+o+'".')}}};return a=function(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in s)if(void 0!==t.style[e])return{end:s[e]};return!1}(),t.fn.emulateTransitionEnd=n,o.supportsTransitionEnd()&&(t.event.special[o.TRANSITION_END]={bindType:a.end,delegateType:a.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}),o}(jQuery),_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Dropdown=function(t){var e="dropdown",i=".bs.dropdown",n=t.fn[e],a={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,CLICK:"click"+i,CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api"},s={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",OPEN:"open"},o={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},r=function(){function e(t){_classCallCheck(this,e),this._element=t,this._addEventListeners()}return e.prototype.toggle=function(){if(this.disabled||t(this).hasClass(s.DISABLED))return!1;var i=e._getParentFromElement(this),n=t(i).hasClass(s.OPEN);if(e._clearMenus(),n)return!1;if("ontouchstart"in document.documentElement&&!t(i).closest(o.NAVBAR_NAV).length){var r=document.createElement("div");r.className=s.BACKDROP,t(r).insertBefore(this),t(r).on("click",e._clearMenus)}var l={relatedTarget:this},h=t.Event(a.SHOW,l);return t(i).trigger(h),!h.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded","true"),t(i).toggleClass(s.OPEN),t(i).trigger(t.Event(a.SHOWN,l)),!1)},e.prototype.dispose=function(){t.removeData(this._element,"bs.dropdown"),t(this._element).off(i),this._element=null},e.prototype._addEventListeners=function(){t(this._element).on(a.CLICK,this.toggle)},e._jQueryInterface=function(i){return this.each(function(){var n=t(this).data("bs.dropdown");if(n||t(this).data("bs.dropdown",n=new e(this)),"string"==typeof i){if(void 0===n[i])throw new Error('No method named "'+i+'"');n[i].call(this)}})},e._clearMenus=function(i){if(!i||3!==i.which){var n=t(o.BACKDROP)[0];n&&n.parentNode.removeChild(n);for(var r=t.makeArray(t(o.DATA_TOGGLE)),l=0;l<r.length;l++){var h=e._getParentFromElement(r[l]),c={relatedTarget:r[l]};if(t(h).hasClass(s.OPEN)&&!(i&&"click"===i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(h,i.target))){var d=t.Event(a.HIDE,c);t(h).trigger(d),d.isDefaultPrevented()||(r[l].setAttribute("aria-expanded","false"),t(h).removeClass(s.OPEN).trigger(t.Event(a.HIDDEN,c)))}}}},e._getParentFromElement=function(e){var i=void 0,n=Util.getSelectorFromElement(e);return n&&(i=t(n)[0]),i||e.parentNode},e._dataApiKeydownHandler=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)&&(i.preventDefault(),i.stopPropagation(),!this.disabled&&!t(this).hasClass(s.DISABLED))){var n=e._getParentFromElement(this),a=t(n).hasClass(s.OPEN);if(!a&&27!==i.which||a&&27===i.which){if(27===i.which){var r=t(n).find(o.DATA_TOGGLE)[0];t(r).trigger("focus")}t(this).trigger("click")}else{var l=t.makeArray(t(o.VISIBLE_ITEMS));if((l=l.filter(function(t){return t.offsetWidth||t.offsetHeight})).length){var h=l.indexOf(i.target);38===i.which&&h>0&&h--,40===i.which&&h<l.length-1&&h++,h<0&&(h=0),l[h].focus()}}}},_createClass(e,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}}]),e}();return t(document).on(a.KEYDOWN_DATA_API,o.DATA_TOGGLE,r._dataApiKeydownHandler).on(a.KEYDOWN_DATA_API,o.ROLE_MENU,r._dataApiKeydownHandler).on(a.KEYDOWN_DATA_API,o.ROLE_LISTBOX,r._dataApiKeydownHandler).on(a.CLICK_DATA_API,r._clearMenus).on(a.CLICK_DATA_API,o.DATA_TOGGLE,r.prototype.toggle).on(a.CLICK_DATA_API,o.FORM_CHILD,function(t){t.stopPropagation()}),t.fn[e]=r._jQueryInterface,t.fn[e].Constructor=r,t.fn[e].noConflict=function(){return t.fn[e]=n,r._jQueryInterface},r}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Tooltip=function(t){if(void 0===window.Tether)throw new Error("Bootstrap tooltips require Tether (http://tether.io/)");var e="tooltip",i=".bs.tooltip",n=t.fn[e],a={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[]},s={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array"},o={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},r={IN:"in",OUT:"out"},l={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},h={FADE:"fade",IN:"in"},c={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner"},d={element:!1,enabled:!1},u={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},p=function(){function n(t,e){_classCallCheck(this,n),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._tether=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}return n.prototype.enable=function(){this._isEnabled=!0},n.prototype.disable=function(){this._isEnabled=!1},n.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},n.prototype.toggle=function(e){if(e){var i=this.constructor.DATA_KEY,n=t(e.currentTarget).data(i);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(t(this.getTipElement()).hasClass(h.IN))return void this._leave(null,this);this._enter(null,this)}},n.prototype.dispose=function(){clearTimeout(this._timeout),this.cleanupTether(),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null},n.prototype.show=function(){var e=this,i=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(i);var a=t.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!a)return;var s=this.getTipElement(),o=Util.getUID(this.constructor.NAME);s.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&t(s).addClass(h.FADE);var l="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,c=this._getAttachment(l);t(s).data(this.constructor.DATA_KEY,this).appendTo(document.body),t(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:c,element:s,target:this.element,classes:d,classPrefix:"bs-tether",offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),Util.reflow(s),this._tether.position(),t(s).addClass(h.IN);var u=function(){var i=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),i===r.OUT&&e._leave(null,e)};if(Util.supportsTransitionEnd()&&t(this.tip).hasClass(h.FADE))return void t(this.tip).one(Util.TRANSITION_END,u).emulateTransitionEnd(n._TRANSITION_DURATION);u()}},n.prototype.hide=function(e){var i=this,n=this.getTipElement(),a=t.Event(this.constructor.Event.HIDE),s=function(){i._hoverState!==r.IN&&n.parentNode&&n.parentNode.removeChild(n),i.element.removeAttribute("aria-describedby"),t(i.element).trigger(i.constructor.Event.HIDDEN),i.cleanupTether(),e&&e()};t(this.element).trigger(a),a.isDefaultPrevented()||(t(n).removeClass(h.IN),Util.supportsTransitionEnd()&&t(this.tip).hasClass(h.FADE)?t(n).one(Util.TRANSITION_END,s).emulateTransitionEnd(150):s(),this._hoverState="")},n.prototype.isWithContent=function(){return Boolean(this.getTitle())},n.prototype.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0]},n.prototype.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(c.TOOLTIP_INNER),this.getTitle()),e.removeClass(h.FADE).removeClass(h.IN),this.cleanupTether()},n.prototype.setElementContent=function(e,i){var n=this.config.html;"object"===(void 0===i?"undefined":_typeof(i))&&(i.nodeType||i.jquery)?n?t(i).parent().is(e)||e.empty().append(i):e.text(t(i).text()):e[n?"html":"text"](i)},n.prototype.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},n.prototype.cleanupTether=function(){this._tether&&this._tether.destroy()},n.prototype._getAttachment=function(t){return o[t.toUpperCase()]},n.prototype._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(i){if("click"===i)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,t.proxy(e.toggle,e));else if(i!==u.MANUAL){var n=i===u.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,a=i===u.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(n,e.config.selector,t.proxy(e._enter,e)).on(a,e.config.selector,t.proxy(e._leave,e))}}),this.config.selector?this.config=t.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},n.prototype._fixTitle=function(){var t=_typeof(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},n.prototype._enter=function(e,i){var n=this.constructor.DATA_KEY;(i=i||t(e.currentTarget).data(n))||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),e&&(i._activeTrigger["focusin"===e.type?u.FOCUS:u.HOVER]=!0),t(i.getTipElement()).hasClass(h.IN)||i._hoverState===r.IN?i._hoverState=r.IN:(clearTimeout(i._timeout),i._hoverState=r.IN,i.config.delay&&i.config.delay.show?i._timeout=setTimeout(function(){i._hoverState===r.IN&&i.show()},i.config.delay.show):i.show())},n.prototype._leave=function(e,i){var n=this.constructor.DATA_KEY;(i=i||t(e.currentTarget).data(n))||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),e&&(i._activeTrigger["focusout"===e.type?u.FOCUS:u.HOVER]=!1),i._isWithActiveTrigger()||(clearTimeout(i._timeout),i._hoverState=r.OUT,i.config.delay&&i.config.delay.hide?i._timeout=setTimeout(function(){i._hoverState===r.OUT&&i.hide()},i.config.delay.hide):i.hide())},n.prototype._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},n.prototype._getConfig=function(i){return(i=t.extend({},this.constructor.Default,t(this.element).data(),i)).delay&&"number"==typeof i.delay&&(i.delay={show:i.delay,hide:i.delay}),Util.typeCheckConfig(e,i,this.constructor.DefaultType),i},n.prototype._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},n._jQueryInterface=function(e){return this.each(function(){var i=t(this).data("bs.tooltip"),a="object"===(void 0===e?"undefined":_typeof(e))?e:null;if((i||!/dispose|hide/.test(e))&&(i||(i=new n(this,a),t(this).data("bs.tooltip",i)),"string"==typeof e)){if(void 0===i[e])throw new Error('No method named "'+e+'"');i[e]()}})},_createClass(n,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}},{key:"Default",get:function(){return a}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return l}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return s}}]),n}();return t.fn[e]=p._jQueryInterface,t.fn[e].Constructor=p,t.fn[e].noConflict=function(){return t.fn[e]=n,p._jQueryInterface},p}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Popover=function(t){var e="popover",i=".bs.popover",n=t.fn[e],a=t.extend({},Tooltip.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),s=t.extend({},Tooltip.DefaultType,{content:"(string|element|function)"}),o={FADE:"fade",IN:"in"},r={TITLE:".popover-title",CONTENT:".popover-content"},l={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},h=function(n){function h(){return _classCallCheck(this,h),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(h,n),h.prototype.isWithContent=function(){return this.getTitle()||this._getContent()},h.prototype.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0]},h.prototype.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(r.TITLE),this.getTitle()),this.setElementContent(e.find(r.CONTENT),this._getContent()),e.removeClass(o.FADE).removeClass(o.IN),this.cleanupTether()},h.prototype._getContent=function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},h._jQueryInterface=function(e){return this.each(function(){var i=t(this).data("bs.popover"),n="object"===(void 0===e?"undefined":_typeof(e))?e:null;if((i||!/destroy|hide/.test(e))&&(i||(i=new h(this,n),t(this).data("bs.popover",i)),"string"==typeof e)){if(void 0===i[e])throw new Error('No method named "'+e+'"');i[e]()}})},_createClass(h,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}},{key:"Default",get:function(){return a}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return l}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return s}}]),h}(Tooltip);return t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=n,h._jQueryInterface},h}(jQuery);!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=-1,i=-1,n=function(t){return parseFloat(t)||0},a=function(e){var i=null,a=[];return t(e).each(function(){var e=t(this),s=e.offset().top-n(e.css("margin-top")),o=a.length>0?a[a.length-1]:null;null===o?a.push(e):Math.floor(Math.abs(i-s))<=1?a[a.length-1]=o.add(e):a.push(e),i=s}),a},s=function(e){var i={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?t.extend(i,e):("boolean"==typeof e?i.byRow=e:"remove"===e&&(i.remove=!0),i)},o=t.fn.matchHeight=function(e){var i=s(e);if(i.remove){var n=this;return this.css(i.property,""),t.each(o._groups,function(t,e){e.elements=e.elements.not(n)}),this}return this.length<=1&&!i.target?this:(o._groups.push({elements:this,options:i}),o._apply(this,i),this)};o.version="0.7.2",o._groups=[],o._throttle=80,o._maintainScroll=!1,o._beforeUpdate=null,o._afterUpdate=null,o._rows=a,o._parse=n,o._parseOptions=s,o._apply=function(e,i){var r=s(i),l=t(e),h=[l],c=t(window).scrollTop(),d=t("html").outerHeight(!0),u=l.parents().filter(":hidden");return u.each(function(){var e=t(this);e.data("style-cache",e.attr("style"))}),u.css("display","block"),r.byRow&&!r.target&&(l.each(function(){var e=t(this),i=e.css("display");"inline-block"!==i&&"flex"!==i&&"inline-flex"!==i&&(i="block"),e.data("style-cache",e.attr("style")),e.css({display:i,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),h=a(l),l.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||"")})),t.each(h,function(e,i){var a=t(i),s=0;if(r.target)s=r.target.outerHeight(!1);else{if(r.byRow&&a.length<=1)return void a.css(r.property,"");a.each(function(){var e=t(this),i=e.attr("style"),n=e.css("display");"inline-block"!==n&&"flex"!==n&&"inline-flex"!==n&&(n="block");var a={display:n};a[r.property]="",e.css(a),e.outerHeight(!1)>s&&(s=e.outerHeight(!1)),i?e.attr("style",i):e.css("display","")})}a.each(function(){var e=t(this),i=0;r.target&&e.is(r.target)||("border-box"!==e.css("box-sizing")&&(i+=n(e.css("border-top-width"))+n(e.css("border-bottom-width")),i+=n(e.css("padding-top"))+n(e.css("padding-bottom"))),e.css(r.property,s-i+"px"))})}),u.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||null)}),o._maintainScroll&&t(window).scrollTop(c/d*t("html").outerHeight(!0)),this},o._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each(function(){var i=t(this),n=i.attr("data-mh")||i.attr("data-match-height");e[n]=n in e?e[n].add(i):i}),t.each(e,function(){this.matchHeight(!0)})};var r=function(e){o._beforeUpdate&&o._beforeUpdate(e,o._groups),t.each(o._groups,function(){o._apply(this.elements,this.options)}),o._afterUpdate&&o._afterUpdate(e,o._groups)};o._update=function(n,a){if(a&&"resize"===a.type){var s=t(window).width();if(s===e)return;e=s}n?-1===i&&(i=setTimeout(function(){r(a),i=-1},o._throttle)):r(a)},t(o._applyDataApi);var l=t.fn.on?"on":"bind";t(window)[l]("load",function(t){o._update(!1,t)}),t(window)[l]("resize orientationchange",function(t){o._update(!0,t)})}),function(t){var e=[],i=/^url\(["']?([^"'\)]*)["']?\);?$/i,n=/\.png$/i,a=!!window.createPopup,s=a&&void 0===document.documentElement.currentStyle.minWidth,o=a&&!document.defaultView;t(window).resize(function(){t.each(e,function(){this.refresh(!0)})}),t.Poshytip=function(e,i){this.$elm=t(e),this.opts=t.extend({},t.fn.poshytip.defaults,i);var n=""!=this.opts.idName?"id="+this.opts.idName:"";this.$tip=t(["<div ",n,' class="',this.opts.className,'">','<div class="tip-inner tip-bg-image"></div>','<div class="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left"></div>',"</div>"].join("")).appendTo(document.body),this.$arrow=this.$tip.find("div.tip-arrow"),this.$inner=this.$tip.find("div.tip-inner"),this.disabled=!1,this.content=null,this.init()},t.Poshytip.hideAll=function(){t.each(e,function(){this.hide()})},t.Poshytip.prototype={init:function(){e.push(this);var i=this.$elm.attr("title");if(this.$elm.data("title.poshytip",void 0!==i?i:null).data("poshytip",this),"none"!=this.opts.showOn)switch(this.$elm.bind({"mouseenter.poshytip":t.proxy(this.mouseenter,this),"mouseleave.poshytip":t.proxy(this.mouseleave,this)}),this.opts.showOn){case"hover":"cursor"==this.opts.alignTo&&this.$elm.bind("mousemove.poshytip",t.proxy(this.mousemove,this)),this.opts.allowTipHover&&this.$tip.hover(t.proxy(this.clearTimeouts,this),t.proxy(this.mouseleave,this));break;case"focus":this.$elm.bind({"focus.poshytip":t.proxy(this.showDelayed,this),"blur.poshytip":t.proxy(this.hideDelayed,this)})}},mouseenter:function(t){return!!this.disabled||(this.updateCursorPos(t),this.$elm.attr("title",""),"focus"==this.opts.showOn||void this.showDelayed())},mouseleave:function(t){if(this.disabled||this.asyncAnimating&&(this.$tip[0]===t.relatedTarget||jQuery.contains(this.$tip[0],t.relatedTarget)))return!0;if(!this.$tip.data("active")){var e=this.$elm.data("title.poshytip");null!==e&&this.$elm.attr("title",e)}if("focus"==this.opts.showOn)return!0;this.hideDelayed()},mousemove:function(t){if(this.disabled)return!0;this.updateCursorPos(t),this.opts.followCursor&&this.$tip.data("active")&&(this.calcPos(),this.$tip.css({left:this.pos.l,top:this.pos.t}),this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow))},show:function(){this.disabled||this.$tip.data("active")||(this.reset(),this.update(),this.content&&(this.display(),this.opts.timeOnScreen&&this.hideDelayed(this.opts.timeOnScreen)))},showDelayed:function(e){this.clearTimeouts(),this.showTimeout=setTimeout(t.proxy(this.show,this),"number"==typeof e?e:this.opts.showTimeout)},hide:function(){!this.disabled&&this.$tip.data("active")&&this.display(!0)},hideDelayed:function(e){this.clearTimeouts(),this.hideTimeout=setTimeout(t.proxy(this.hide,this),"number"==typeof e?e:this.opts.hideTimeout)},reset:function(){this.$tip.queue([]).detach().css("visibility","hidden").data("active",!1),this.$inner.find("*").poshytip("hide"),this.opts.fade&&this.$tip.css("opacity",this.opacity),this.$arrow[0].className="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left",this.asyncAnimating=!1},update:function(t,e){if(!this.disabled){var i=void 0!==t;if(i){if(e||(this.opts.content=t),!this.$tip.data("active"))return}else t=this.opts.content;var n=this,a="function"==typeof t?t.call(this.$elm[0],function(t){n.update(t)}):"[title]"==t?this.$elm.data("title.poshytip"):t;this.content!==a&&(this.$inner.empty().append(a),this.content=a),this.refresh(i)}},refresh:function(t){if(!this.disabled){if(t){if(!this.$tip.data("active"))return;var e={left:this.$tip.css("left"),top:this.$tip.css("top")}}this.$tip.css({left:0,top:0}).appendTo(document.body),void 0===this.opacity&&(this.opacity=this.$tip.css("opacity"));var a=this.$tip.css("background-image").match(i),r=this.$arrow.css("background-image").match(i);if(a){var l=n.test(a[1]);s&&l?(this.$tip.css("background-image","none"),this.$inner.css({margin:0,border:0,padding:0}),a=l=!1):this.$tip.prepend('<table class="tip-table" border="0" cellpadding="0" cellspacing="0"><tr><td class="tip-top tip-bg-image" colspan="2"><span></span></td><td class="tip-right tip-bg-image" rowspan="2"><span></span></td></tr><tr><td class="tip-left tip-bg-image" rowspan="2"><span></span></td><td></td></tr><tr><td class="tip-bottom tip-bg-image" colspan="2"><span></span></td></tr></table>').css({border:0,padding:0,"background-image":"none","background-color":"transparent"}).find(".tip-bg-image").css("background-image",'url("'+a[1]+'")').end().find("td").eq(3).append(this.$inner),l&&o&&(this.opts.fade=!1)}r&&o&&(s&&n.test(r[1])&&(r=!1,this.$arrow.css("background-image","none")),this.opts.fade=!1);var h=this.$tip.find("> table.tip-table");if(s){this.$tip[0].style.width="",h.width("auto").find("td").eq(3).width("auto");var c=this.$tip.width(),d=parseInt(this.$tip.css("min-width")),u=parseInt(this.$tip.css("max-width"));!isNaN(d)&&c<d?c=d:!isNaN(u)&&c>u&&(c=u),this.$tip.add(h).width(c).eq(0).find("td").eq(3).width("100%")}else h[0]&&h.width("auto").find("td").eq(3).width("auto").end().end().width(document.defaultView&&document.defaultView.getComputedStyle&&parseFloat(document.defaultView.getComputedStyle(this.$tip[0],null).width)||this.$tip.width()).find("td").eq(3).width("100%");if(this.tipOuterW=this.$tip.outerWidth(),this.tipOuterH=this.$tip.outerHeight(),this.calcPos(),r&&this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow,this.$arrow.css("visibility","inherit")),t&&this.opts.refreshAniDuration){this.asyncAnimating=!0;var p=this;this.$tip.css(e).animate({left:this.pos.l,top:this.pos.t},this.opts.refreshAniDuration,function(){p.asyncAnimating=!1})}else this.$tip.css({left:this.pos.l,top:this.pos.t})}},display:function(e){var i=this.$tip.data("active");if(!(i&&!e||!i&&e)){if(this.$tip.stop(),(this.opts.slide&&this.pos.arrow||this.opts.fade)&&(e&&this.opts.hideAniDuration||!e&&this.opts.showAniDuration)){var n={},a={};if(this.opts.slide&&this.pos.arrow){var s,o;"bottom"==this.pos.arrow||"top"==this.pos.arrow?(s="top",o="bottom"):(s="left",o="right");var r=parseInt(this.$tip.css(s));n[s]=r+(e?0:this.pos.arrow==o?-this.opts.slideOffset:this.opts.slideOffset),a[s]=r+(e?this.pos.arrow==o?this.opts.slideOffset:-this.opts.slideOffset:0)+"px"}this.opts.fade&&(n.opacity=e?this.$tip.css("opacity"):0,a.opacity=e?0:this.opacity),this.$tip.css(n).animate(a,this.opts[e?"hideAniDuration":"showAniDuration"])}if(e?this.$tip.queue(t.proxy(this.reset,this)):this.$tip.css("visibility","inherit"),i){var l=this.$elm.data("title.poshytip");null!==l&&this.$elm.attr("title",l)}this.$tip.data("active",!i)}},disable:function(){this.reset(),this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.reset(),this.$tip.remove(),delete this.$tip,this.content=null,this.$elm.unbind(".poshytip").removeData("title.poshytip").removeData("poshytip"),e.splice(t.inArray(this,e),1)},clearTimeouts:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0),this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},updateCursorPos:function(t){this.eventX=t.pageX,this.eventY=t.pageY},calcPos:function(){var e,i,n,a,s,o,r={l:0,t:0,arrow:""},l=t(window),h={l:l.scrollLeft(),t:l.scrollTop(),w:l.width(),h:l.height()};if("cursor"==this.opts.alignTo)e=i=n=this.eventX,a=s=o=this.eventY;else{var c=this.$elm.offset(),d={l:c.left,t:c.top,w:this.$elm.outerWidth(),h:this.$elm.outerHeight()};i=(e=d.l+("inner-right"!=this.opts.alignX?0:d.w))+Math.floor(d.w/2),n=e+("inner-left"!=this.opts.alignX?d.w:0),s=(a=d.t+("inner-bottom"!=this.opts.alignY?0:d.h))+Math.floor(d.h/2),o=a+("inner-top"!=this.opts.alignY?d.h:0)}switch(this.opts.alignX){case"right":case"inner-left":r.l=n+this.opts.offsetX,this.opts.keepInViewport&&r.l+this.tipOuterW>h.l+h.w&&(r.l=h.l+h.w-this.tipOuterW),"right"!=this.opts.alignX&&"center"!=this.opts.alignY||(r.arrow="left");break;case"center":r.l=i-Math.floor(this.tipOuterW/2),this.opts.keepInViewport&&(r.l+this.tipOuterW>h.l+h.w?r.l=h.l+h.w-this.tipOuterW:r.l<h.l&&(r.l=h.l));break;default:r.l=e-this.tipOuterW-this.opts.offsetX,this.opts.keepInViewport&&r.l<h.l&&(r.l=h.l),"left"!=this.opts.alignX&&"center"!=this.opts.alignY||(r.arrow="right")}switch(this.opts.alignY){case"bottom":case"inner-top":r.t=o+this.opts.offsetY,r.arrow&&"cursor"!=this.opts.alignTo||(r.arrow="top"),this.opts.keepInViewport&&r.t+this.tipOuterH>h.t+h.h&&(r.t=a-this.tipOuterH-this.opts.offsetY,"top"==r.arrow&&(r.arrow="bottom"));break;case"center":r.t=s-Math.floor(this.tipOuterH/2),this.opts.keepInViewport&&(r.t+this.tipOuterH>h.t+h.h?r.t=h.t+h.h-this.tipOuterH:r.t<h.t&&(r.t=h.t));break;default:r.t=a-this.tipOuterH-this.opts.offsetY,r.arrow&&"cursor"!=this.opts.alignTo||(r.arrow="bottom"),this.opts.keepInViewport&&r.t<h.t&&(r.t=o+this.opts.offsetY,"bottom"==r.arrow&&(r.arrow="top"))}this.pos=r}},t.fn.poshytip=function(e){if("string"==typeof e){var i=arguments,n=e;return Array.prototype.shift.call(i),"destroy"==n&&(this.die?this.die("mouseenter.poshytip").die("focus.poshytip"):t(document).undelegate(this.selector,"mouseenter.poshytip").undelegate(this.selector,"focus.poshytip")),this.each(function(){var e=t(this).data("poshytip");e&&e[n]&&e[n].apply(e,i)})}var a=t.extend({},t.fn.poshytip.defaults,e);if(t("#poshytip-css-"+a.className)[0]||t(['<style id="poshytip-css-',a.className,'" type="text/css">',"div.",a.className,"{visibility:hidden;position:absolute;top:0;left:0;}","div.",a.className," table.tip-table, div.",a.className," table.tip-table td{margin:0;font-family:inherit;font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;vertical-align:middle;}","div.",a.className," td.tip-bg-image span{display:block;font:1px/1px sans-serif;height:",a.bgImageFrameSize,"px;width:",a.bgImageFrameSize,"px;overflow:hidden;}","div.",a.className," td.tip-right{background-position:100% 0;}","div.",a.className," td.tip-bottom{background-position:100% 100%;}","div.",a.className," td.tip-left{background-position:0 100%;}","div.",a.className," div.tip-inner{background-position:-",a.bgImageFrameSize,"px -",a.bgImageFrameSize,"px;}","div.",a.className," div.tip-arrow{visibility:hidden;position:absolute;overflow:hidden;font:1px/1px sans-serif;}","</style>"].join("")).appendTo("head"),a.liveEvents&&"none"!=a.showOn){var s,o=t.extend({},a,{liveEvents:!1});switch(a.showOn){case"hover":s=function(){var e=t(this);e.data("poshytip")||e.poshytip(o).poshytip("mouseenter")},this.live?this.live("mouseenter.poshytip",s):t(document).delegate(this.selector,"mouseenter.poshytip",s);break;case"focus":s=function(){var e=t(this);e.data("poshytip")||e.poshytip(o).poshytip("showDelayed")},this.live?this.live("focus.poshytip",s):t(document).delegate(this.selector,"focus.poshytip",s)}return this}return this.each(function(){new t.Poshytip(this,a)})},t.fn.poshytip.defaults={content:"[title]",className:"tip-yellow",idName:"",bgImageFrameSize:10,showTimeout:500,hideTimeout:100,timeOnScreen:0,showOn:"hover",liveEvents:!1,alignTo:"cursor",alignX:"right",alignY:"top",offsetX:-22,offsetY:18,keepInViewport:!0,allowTipHover:!0,followCursor:!1,fade:!0,slide:!0,slideOffset:8,showAniDuration:300,hideAniDuration:300,refreshAniDuration:200}}(jQuery),function(t){"use strict";var e=function(e,i){this.options=t.extend({},t.fn.editableform.defaults,i),this.$div=t(e),this.options.scope||(this.options.scope=this)};e.prototype={constructor:e,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=t(t.fn.editableform.template)},initButtons:function(){var e=this.$form.find(".editable-buttons");e.append(t.fn.editableform.buttons),"bottom"===this.options.showbuttons&&e.addClass("editable-buttons-bottom")},render:function(){this.$loading=t(t.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),t.when(this.input.render()).then(t.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(t.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(t){t.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var e=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(e),this.$form.submit(t.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var t,e;this.$form?(t=this.$form.outerWidth(),e=this.$form.outerHeight(),t&&this.$loading.width(t),e&&this.$loading.height(e),this.$form.hide()):(t=this.$loading.parent().width())&&this.$loading.width(t),this.$loading.show()},showForm:function(t){this.$loading.hide(),this.$form.show(),!1!==t&&this.input.activate(),this.$div.triggerHandler("show")},error:function(e){var i,n=this.$form.find(".control-group"),a=this.$form.find(".editable-error-block");if(!1===e)n.removeClass(t.fn.editableform.errorGroupClass),a.removeClass(t.fn.editableform.errorBlockClass).empty().hide();else{if(e){i=(""+e).split("\n");for(var s=0;s<i.length;s++)i[s]=t("<div>").text(i[s]).html();e=i.join("<br>")}n.addClass(t.fn.editableform.errorGroupClass),a.addClass(t.fn.editableform.errorBlockClass).html(e).show()}},submit:function(e){e.stopPropagation(),e.preventDefault();var i=this.input.input2value(),n=this.validate(i);if("object"===t.type(n)&&void 0!==n.newValue){if(i=n.newValue,this.input.value2input(i),"string"==typeof n.msg)return this.error(n.msg),void this.showForm()}else if(n)return this.error(n),void this.showForm();if(this.options.savenochange||this.input.value2str(i)!=this.input.value2str(this.value)){var a=this.input.value2submit(i);this.isSaving=!0,t.when(this.save(a)).done(t.proxy(function(t){this.isSaving=!1;var e="function"==typeof this.options.success?this.options.success.call(this.options.scope,t,i):null;return!1===e?(this.error(!1),void this.showForm(!1)):"string"==typeof e?(this.error(e),void this.showForm()):(e&&"object"==typeof e&&e.hasOwnProperty("newValue")&&(i=e.newValue),this.error(!1),this.value=i,void this.$div.triggerHandler("save",{newValue:i,submitValue:a,response:t}))},this)).fail(t.proxy(function(t){this.isSaving=!1;var e;e="function"==typeof this.options.error?this.options.error.call(this.options.scope,t,i):"string"==typeof t?t:t.responseText||t.statusText||"Unknown error!",this.error(e),this.showForm()},this))}else this.$div.triggerHandler("nochange")},save:function(e){this.options.pk=t.fn.editableutils.tryParseJson(this.options.pk,!0);var i,n="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk;return!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==n&&void 0!==n))?(this.showLoading(),i={name:this.options.name||"",value:e,pk:n},"function"==typeof this.options.params?i=this.options.params.call(this.options.scope,i):(this.options.params=t.fn.editableutils.tryParseJson(this.options.params,!0),t.extend(i,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,i):t.ajax(t.extend({url:this.options.url,data:i,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(t){return void 0===t&&(t=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,t):void 0},option:function(t,e){t in this.options&&(this.options[t]=e),"value"===t&&this.setValue(e)},setValue:function(t,e){this.value=e?this.input.str2value(t):t,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},t.fn.editableform=function(i){var n=arguments;return this.each(function(){var a=t(this),s=a.data("editableform"),o="object"==typeof i&&i;s||a.data("editableform",s=new e(this,o)),"string"==typeof i&&s[i].apply(s,Array.prototype.slice.call(n,1))})},t.fn.editableform.Constructor=e,t.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},t.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',t.fn.editableform.loading='<div class="editableform-loading"></div>',t.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',t.fn.editableform.errorGroupClass=null,t.fn.editableform.errorBlockClass="editable-error",t.fn.editableform.engine="jquery"}(window.jQuery),function(t){"use strict";t.fn.editableutils={inherit:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=e.prototype},setCursorPosition:function(t,e){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},tryParseJson:function(t,e){if("string"==typeof t&&t.length&&t.match(/^[\{\[].*[\}\]]$/))if(e)try{t=new Function("return "+t)()}catch(t){}finally{return t}else t=new Function("return "+t)();return t},sliceObj:function(e,i,n){var a,s,o={};if(!t.isArray(i)||!i.length)return o;for(var r=0;r<i.length;r++)a=i[r],e.hasOwnProperty(a)&&(o[a]=e[a]),!0!==n&&(s=a.toLowerCase(),e.hasOwnProperty(s)&&(o[a]=e[s]));return o},getConfigData:function(e){var i={};return t.each(e.data(),function(t,e){("object"!=typeof e||e&&"object"==typeof e&&(e.constructor===Object||e.constructor===Array))&&(i[t]=e)}),i},objectKeys:function(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i},escape:function(e){return t("<div>").text(e).html()},itemsByValue:function(e,i,n){if(!i||null===e)return[];if("function"!=typeof n){var a=n||"value";n=function(t){return t[a]}}var s=t.isArray(e),o=[],r=this;return t.each(i,function(i,a){if(a.children)o=o.concat(r.itemsByValue(e,a.children,n));else if(s)t.grep(e,function(t){return t==(a&&"object"==typeof a?n(a):a)}).length&&o.push(a);else{var l=a&&"object"==typeof a?n(a):a;e==l&&o.push(a)}}),o},createInput:function(e){var i,n,a=e.type;return"date"===a&&("inline"===e.mode?t.fn.editabletypes.datefield?a="datefield":t.fn.editabletypes.dateuifield&&(a="dateuifield"):t.fn.editabletypes.date?a="date":t.fn.editabletypes.dateui&&(a="dateui"),"date"!==a||t.fn.editabletypes.date||(a="combodate")),"datetime"===a&&"inline"===e.mode&&(a="datetimefield"),"wysihtml5"!==a||t.fn.editabletypes[a]||(a="textarea"),"function"==typeof t.fn.editabletypes[a]?(i=t.fn.editabletypes[a],n=this.sliceObj(e,this.objectKeys(i.defaults)),new i(n)):(t.error("Unknown type: "+a),!1)},supportsTransitions:function(){var t=(document.body||document.documentElement).style,e="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var n=0;n<i.length;n++)if("string"==typeof t[i[n]+e])return!0;return!1}}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init(t,e)},i=function(t,e){this.init(t,e)};e.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(i,n){this.$element=t(i),this.options=t.extend({},t.fn.editableContainer.defaults,n),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",t.proxy(function(){this.destroy()},this)),t(document).data("editable-handlers-attached")||(t(document).on("keyup.editable",function(e){27===e.which&&t(".editable-open").editableContainer("hide")}),t(document).on("click.editable",function(i){var n,a=t(i.target),s=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(t.contains(document.documentElement,i.target)&&!a.is(document)){for(n=0;n<s.length;n++)if(a.is(s[n])||a.parents(s[n]).length)return;e.prototype.closeOthers(i.target)}}),t(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!t.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var e in this.options)e in this.defaults?this.containerOptions[e]=this.options[e]:this.formOptions[e]=this.options[e]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var t;return this.containerDataName&&(t=this.$element.data(this.containerDataName))?t:t=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:t.proxy(this.save,this),nochange:t.proxy(function(){this.hide("nochange")},this),cancel:t.proxy(function(){this.hide("cancel")},this),show:t.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:t.proxy(this.setPosition,this),resize:t.proxy(this.setPosition,this),rendered:t.proxy(function(){this.$element.triggerHandler("shown",t(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(e){this.$element.addClass("editable-open"),!1!==e&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=t("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(t){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:t});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",t||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(t){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(t)},setPosition:function(){},save:function(t,e){this.$element.triggerHandler("save",e),this.hide("save")},option:function(t,e){this.options[t]=e,t in this.containerOptions?(this.containerOptions[t]=e,this.setContainerOption(t,e)):(this.formOptions[t]=e,this.$form&&this.$form.editableform("option",t,e))},setContainerOption:function(t,e){this.call("option",t,e)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(e){t(".editable-open").each(function(i,n){if(n!==e&&!t(n).find(e).length){var a=t(n),s=a.data("editableContainer");s&&("cancel"===s.options.onblur?a.data("editableContainer").hide("onblur"):"submit"===s.options.onblur&&a.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},t.fn.editableContainer=function(n){var a=arguments;return this.each(function(){var s=t(this),o="editableContainer",r=s.data(o),l="object"==typeof n&&n,h="inline"===l.mode?i:e;r||s.data(o,r=new h(this,l)),"string"==typeof n&&r[n].apply(r,Array.prototype.slice.call(a,1))})},t.fn.editableContainer.Popup=e,t.fn.editableContainer.Inline=i,t.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Inline.prototype,t.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=t("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,t.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.editable.defaults,i,t.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!t.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};e.prototype={constructor:e,init:function(){var e,i=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=t.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(t.trim(this.$element.html())),i=!0):(this.options.value=t.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",t.proxy(function(t){if(this.options.disabled||t.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var e="click"!==this.options.toggle;this.toggle(e)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":e=!0;break;case"auto":e=!t.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!i;break;default:e=!1}t.when(!e||this.render()).then(t.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var e=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",e,t.proxy(function(e){var i=t(e.target);i.data("editable")||(i.hasClass(this.options.emptyclass)&&i.empty(),i.editable(this.options).trigger(e))},this))},render:function(t){return!1!==this.options.display?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,t):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,t):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(e,i){return e&&"object"==typeof e?void t.each(e,t.proxy(function(e,i){this.option(t.trim(e),i)},this)):(this.options[e]=i,"disabled"===e?i?this.disable():this.enable():("value"===e&&this.setValue(i),this.container&&this.container.option(e,i),void(this.input.option&&this.input.option(e,i))))},handleEmpty:function(e){!1!==this.options.display&&(this.isEmpty=void 0!==e?e:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===t.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(e){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var i=t.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(i),this.$element.on("save.internal",t.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(e)}},hide:function(){this.container&&this.container.hide()},toggle:function(t){this.container&&this.container.tip().is(":visible")?this.hide():this.show(t)},save:function(t,e){if(this.options.unsavedclass){var i=!1;(i=(i=(i=(i=i||"function"==typeof this.options.url)||!1===this.options.display)||void 0!==e.response)||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue))?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var n=this.$element,a=n.css("background-color");n.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===a&&(a=""),n.css("background-color",a),n.addClass("editable-bg-transition"),setTimeout(function(){n.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(e,i,n){this.value=i?this.input.str2value(e):e,this.container&&this.container.option("value",this.value),t.when(this.render(n)).then(t.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},t.fn.editable=function(i){var n={},a=arguments,s="editable";switch(i){case"validate":return this.each(function(){var e,i=t(this).data(s);i&&(e=i.validate())&&(n[i.options.name]=e)}),n;case"getValue":return 2===arguments.length&&!0===arguments[1]?n=this.eq(0).data(s).value:this.each(function(){var e=t(this).data(s);e&&void 0!==e.value&&null!==e.value&&(n[e.options.name]=e.input.value2submit(e.value))}),n;case"submit":var o=arguments[1]||{},r=this,l=this.editable("validate");if(t.isEmptyObject(l)){var h={};if(1===r.length){var c=r.data("editable"),d={name:c.options.name||"",value:c.input.value2submit(c.value),pk:"function"==typeof c.options.pk?c.options.pk.call(c.options.scope):c.options.pk};"function"==typeof c.options.params?d=c.options.params.call(c.options.scope,d):(c.options.params=t.fn.editableutils.tryParseJson(c.options.params,!0),t.extend(d,c.options.params)),h={url:c.options.url,data:d,type:"POST"},o.success=o.success||c.options.success,o.error=o.error||c.options.error}else{var u=this.editable("getValue");h={url:o.url,data:u,type:"POST"}}h.success="function"==typeof o.success?function(t){o.success.call(r,t,o)}:t.noop,h.error="function"==typeof o.error?function(){o.error.apply(r,arguments)}:t.noop,o.ajaxOptions&&t.extend(h,o.ajaxOptions),o.data&&t.extend(h.data,o.data),t.ajax(h)}else"function"==typeof o.error&&o.error.call(r,l);return this}return this.each(function(){var n=t(this),o=n.data(s),r="object"==typeof i&&i;return r&&r.selector?void(o=new e(this,r)):(o||n.data(s,o=new e(this,r)),void("string"==typeof i&&o[i].apply(o,Array.prototype.slice.call(a,1))))})},t.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(t){"use strict";t.fn.editabletypes={};var e=function(){};e.prototype={init:function(e,i,n){this.type=e,this.options=t.extend({},n,i)},prerender:function(){this.$tpl=t(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(e,i){t(i)[this.options.escape?"text":"html"](t.trim(e))},html2value:function(e){return t("<div>").html(e).text()},value2str:function(t){return t},str2value:function(t){return t},value2submit:function(t){return t},value2input:function(t){this.$input.val(t)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(e){return t("<div>").text(e).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(t){void 0!==this.options[t]&&null!==this.options[t]&&this.$input.attr(t,this.options[t])},option:function(t,e){this.options[t]=e}},e.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},t.extend(t.fn.editabletypes,{abstractinput:e})}(window.jQuery),function(t){"use strict";var e=function(){};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){var e=t.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),e.resolve()},function(){this.error=this.options.sourceError,e.resolve()}),e.promise()},html2value:function(){return null},value2html:function(e,i,n,a){var s=t.Deferred(),o=function(){"function"==typeof n?n.call(i,e,this.sourceData,a):this.value2htmlFinal(e,i),s.resolve()};return null===e?o.call(this):this.onSourceReady(o,function(){s.resolve()}),s.promise()},onSourceReady:function(e,i){var n;if(t.isFunction(this.options.source)?(n=this.options.source.call(this.options.scope),this.sourceData=null):n=this.options.source,this.options.sourceCache&&t.isArray(this.sourceData))e.call(this);else{try{n=t.fn.editableutils.tryParseJson(n,!1)}catch(t){return void i.call(this)}if("string"==typeof n){if(this.options.sourceCache){var a,s=n;if(t(document).data(s)||t(document).data(s,{}),!1===(a=t(document).data(s)).loading&&a.sourceData)return this.sourceData=a.sourceData,this.doPrepend(),void e.call(this);if(!0===a.loading)return a.callbacks.push(t.proxy(function(){this.sourceData=a.sourceData,this.doPrepend(),e.call(this)},this)),void a.err_callbacks.push(t.proxy(i,this));a.loading=!0,a.callbacks=[],a.err_callbacks=[]}var o=t.extend({url:n,type:"get",cache:!1,dataType:"json",success:t.proxy(function(n){a&&(a.loading=!1),this.sourceData=this.makeArray(n),t.isArray(this.sourceData)?(a&&(a.sourceData=this.sourceData,t.each(a.callbacks,function(){this.call()})),this.doPrepend(),e.call(this)):(i.call(this),a&&t.each(a.err_callbacks,function(){this.call()}))},this),error:t.proxy(function(){i.call(this),a&&(a.loading=!1,t.each(a.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);t.ajax(o)}else this.sourceData=this.makeArray(n),t.isArray(this.sourceData)?(this.doPrepend(),e.call(this)):i.call(this)}},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(t.isArray(this.prependData)||(t.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=t.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),t.isArray(this.prependData)&&t.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(e){var i,n,a,s,o=[];if(!e||"string"==typeof e)return null;if(t.isArray(e)){s=function(t,e){return n={value:t,text:e},!(i++>=2)&&void 0};for(var r=0;r<e.length;r++)"object"==typeof(a=e[r])?(i=0,t.each(a,s),1===i?o.push(n):i>1&&(a.children&&(a.children=this.makeArray(a.children)),o.push(a))):o.push({value:a,text:a})}else t.each(e,function(t,e){o.push({value:t,text:e})});return o},option:function(t,e){this.options[t]=e,"source"===t&&(this.sourceData=null),"prepend"===t&&(this.prependData=null)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),t.fn.editabletypes.list=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("text",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),t.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=t('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(t.proxy(function(e){if(!~t.inArray(e.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var i=this;this.t=setTimeout(function(){i.toggleClear(e)},100)}},this)).parent().css("position","relative"),this.$clear.click(t.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var t=this.$input.val().length,e=this.$clear.is(":visible");t&&!e&&this.$clear.show(),!t&&e&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),t.fn.editabletypes.text=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("textarea",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(e){e.ctrlKey&&13===e.which&&t(this).closest("form").submit()})},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),t.fn.editabletypes.textarea=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("select",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){this.$input.empty();var e=function(i,n){var a;if(t.isArray(n))for(var s=0;s<n.length;s++)a={},n[s].children?(a.label=n[s].text,i.append(e(t("<optgroup>",a),n[s].children))):(a.value=n[s].value,n[s].disabled&&(a.disabled=!0),i.append(t("<option>",a).text(n[s].text)));return i};e(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(e){13===e.which&&t(this).closest("form").submit()})},value2htmlFinal:function(e,i){var n="",a=t.fn.editableutils.itemsByValue(e,this.sourceData);a.length&&(n=a[0].text),t.fn.editabletypes.abstractinput.prototype.value2html.call(this,n,i)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),t.fn.editabletypes.select=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("checklist",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){var e;if(this.$tpl.empty(),t.isArray(this.sourceData)){for(var i=0;i<this.sourceData.length;i++)e=t("<label>").append(t("<input>",{type:"checkbox",value:this.sourceData[i].value})).append(t("<span>").text(" "+this.sourceData[i].text)),t("<div>").append(e).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(e){return t.isArray(e)?e.sort().join(t.trim(this.options.separator)):""},str2value:function(e){var i,n=null;return"string"==typeof e&&e.length?(i=new RegExp("\\s*"+t.trim(this.options.separator)+"\\s*"),n=e.split(i)):n=t.isArray(e)?e:[e],n},value2input:function(e){this.$input.prop("checked",!1),t.isArray(e)&&e.length&&this.$input.each(function(i,n){var a=t(n);t.each(e,function(t,e){a.val()==e&&a.prop("checked",!0)})})},input2value:function(){var e=[];return this.$input.filter(":checked").each(function(i,n){e.push(t(n).val())}),e},value2htmlFinal:function(e,i){var n=[],a=t.fn.editableutils.itemsByValue(e,this.sourceData),s=this.options.escape;a.length?(t.each(a,function(e,i){var a=s?t.fn.editableutils.escape(i.text):i.text;n.push(a)}),t(i).html(n.join("<br>"))):t(i).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),t.fn.editabletypes.checklist=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("password",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{value2html:function(e,i){e?t(i).text("[hidden]"):t(i).empty()},html2value:function(){return null}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),t.fn.editabletypes.password=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("email",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),t.fn.editabletypes.email=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("url",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),t.fn.editabletypes.url=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("tel",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),t.fn.editabletypes.tel=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("number",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{render:function(){e.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),t.fn.editabletypes.number=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("range",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.number),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){t(this).siblings("output").text(t(this).val())})},activate:function(){this.$input.focus()}}),e.defaults=t.extend({},t.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),t.fn.editabletypes.range=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("time",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),t.fn.editabletypes.time=e}(window.jQuery),function(t){"use strict";var e=function(i){if(this.init("select2",i,e.defaults),i.select2=i.select2||{},this.sourceData=null,i.placeholder&&(i.select2.placeholder=i.placeholder),!i.select2.tags&&i.source){var n=i.source;t.isFunction(i.source)&&(n=i.source.call(i.scope)),"string"==typeof n?(i.select2.ajax=i.select2.ajax||{},i.select2.ajax.data||(i.select2.ajax.data=function(t){return{query:t}}),i.select2.ajax.results||(i.select2.ajax.results=function(t){return{results:t}}),i.select2.ajax.url=n):(this.sourceData=this.convertSource(n),i.select2.data=this.sourceData)}if(this.options.select2=t.extend({},e.defaults.select2,i.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var a=this.idFunc||"id";this.idFunc=function(t){return t[a]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(t){return t.text})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",t.proxy(function(t){this.sourceData=t.items.results},this)),this.isMultiple&&this.$input.on("change",function(){t(this).closest("form").parent().triggerHandler("resize")})},value2html:function(i,n){var a,s="",o=this;this.options.select2.tags?a=i:this.sourceData&&(a=t.fn.editableutils.itemsByValue(i,this.sourceData,this.idFunc)),t.isArray(a)?(s=[],t.each(a,function(t,e){s.push(e&&"object"==typeof e?o.formatSelection(e):e)})):a&&(s=o.formatSelection(a)),s=t.isArray(s)?s.join(this.options.viewseparator):s,e.superclass.value2html.call(this,s,n)},html2value:function(t){return this.options.select2.tags?this.str2value(t,this.options.viewseparator):null},value2input:function(e){if(t.isArray(e)&&(e=e.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(e).trigger("change",!0):(this.$input.val(e),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var i=this.options.select2.id,n=this.options.select2.formatSelection;if(!i&&!n){var a=t(this.options.scope);if(!a.data("editable").isEmpty){var s={id:e,text:a.text()};this.$input.select2("data",s)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(e,i){if("string"!=typeof e||!this.isMultiple)return e;i=i||this.getSeparator();var n,a,s;if(null===e||e.length<1)return null;for(a=0,s=(n=e.split(i)).length;s>a;a+=1)n[a]=t.trim(n[a]);return n},autosubmit:function(){this.$input.on("change",function(e,i){i||t(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||t.fn.select2.defaults.separator},convertSource:function(e){if(t.isArray(e)&&e.length&&void 0!==e[0].value)for(var i=0;i<e.length;i++)void 0!==e[i].value&&(e[i].id=e[i].value,delete e[i].value);return e},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),t.fn.editabletypes.select2=e}(window.jQuery),function(t){var e=function(e,i){return this.$element=t(e),this.$element.is("input")?(this.options=t.extend({},t.fn.combodate.defaults,i,this.$element.data()),void this.init()):void t.error("Combodate should be applied to INPUT element")};e.prototype={constructor:e,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=t('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",t.proxy(function(e){this.$element.val(this.getValue()).change(),this.options.smartDays&&(t(e.target).is(".month")||t(e.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template;return t.each(this.map,function(t,i){i=i[0];var n=new RegExp(i+"+"),a=i.length>1?i.substring(1,2):i;e=e.replace(n,"{"+a+"}")}),e=e.replace(/ /g,"&nbsp;"),t.each(this.map,function(t,i){var n=(i=i[0]).length>1?i.substring(1,2):i;e=e.replace("{"+n+"}",'<select class="'+t+'"></select>')}),e},initCombos:function(){for(var t in this.map){var e=this.$widget.find("."+t);this["$"+t]=e.length?e:null,this.fillCombo(t)}},fillCombo:function(t){var e=this["$"+t];if(e){var i=this["fill"+t.charAt(0).toUpperCase()+t.slice(1)](),n=e.val();e.empty();for(var a=0;a<i.length;a++)e.append('<option value="'+i[a][0]+'">'+i[a][1]+"</option>");e.val(n)}},fillCommon:function(t){var e,i=[];if("name"===this.options.firstItem){var n="function"==typeof(e=moment.relativeTime||moment.langData()._relativeTime)[t]?e[t](1,!0,t,!1):e[t];n=n.split(" ").reverse()[0],i.push(["",n])}else"empty"===this.options.firstItem&&i.push(["",""]);return i},fillDay:function(){var t,e,i=this.fillCommon("d"),n=-1!==this.options.template.indexOf("DD"),a=31;if(this.options.smartDays&&this.$month&&this.$year){var s=parseInt(this.$month.val(),10),o=parseInt(this.$year.val(),10);isNaN(s)||isNaN(o)||(a=moment([o,s]).daysInMonth())}for(e=1;a>=e;e++)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillMonth:function(){var t,e,i=this.fillCommon("M"),n=-1!==this.options.template.indexOf("MMMM"),a=-1!==this.options.template.indexOf("MMM"),s=-1!==this.options.template.indexOf("MM");for(e=0;11>=e;e++)t=n?moment().date(1).month(e).format("MMMM"):a?moment().date(1).month(e).format("MMM"):s?this.leadZero(e+1):e+1,i.push([e,t]);return i},fillYear:function(){var t,e,i=[],n=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--)t=n?e:(e+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([e,t]);return i=this.fillCommon("y").concat(i)},fillHour:function(){var t,e,i=this.fillCommon("h"),n=-1!==this.options.template.indexOf("h"),a=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),s=n?12:23;for(e=n?1:0;s>=e;e++)t=a?this.leadZero(e):e,i.push([e,t]);return i},fillMinute:function(){var t,e,i=this.fillCommon("m"),n=-1!==this.options.template.indexOf("mm");for(e=0;59>=e;e+=this.options.minuteStep)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillSecond:function(){var t,e,i=this.fillCommon("s"),n=-1!==this.options.template.indexOf("ss");for(e=0;59>=e;e+=this.options.secondStep)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillAmpm:function(){var t=-1!==this.options.template.indexOf("a");return this.options.template.indexOf("A"),[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]},getValue:function(e){var i,n={},a=this,s=!1;return t.each(this.map,function(t){if("ampm"!==t){var e="day"===t?1:0;return n[t]=a["$"+t]?parseInt(a["$"+t].val(),10):e,isNaN(n[t])?(s=!0,!1):void 0}}),s?"":(this.$ampm&&(n.hour=12===n.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?n.hour:n.hour+12),i=moment([n.year,n.month,n.day,n.hour,n.minute,n.second]),this.highlight(i),null===(e=void 0===e?this.options.format:e)?i.isValid()?i:null:i.isValid()?i.format(e):"")},setValue:function(e){function i(e,i){var n={};return e.children("option").each(function(e,a){var s,o=t(a).attr("value");""!==o&&(s=Math.abs(o-i),(void 0===n.distance||s<n.distance)&&(n={value:o,distance:s}))}),n.value}if(e){var n="string"==typeof e?moment(e,this.options.format):moment(e),a=this,s={};n.isValid()&&(t.each(this.map,function(t,e){"ampm"!==t&&(s[t]=n[e[1]]())}),this.$ampm&&(s.hour>=12?(s.ampm="pm",s.hour>12&&(s.hour-=12)):(s.ampm="am",0===s.hour&&(s.hour=12))),t.each(s,function(t,e){a["$"+t]&&("minute"===t&&a.options.minuteStep>1&&a.options.roundTime&&(e=i(a["$"+t],e)),"second"===t&&a.options.secondStep>1&&a.options.roundTime&&(e=i(a["$"+t],e)),a["$"+t].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(n.format(this.options.format)).change())}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return 9>=t?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},t.fn.combodate=function(i){var n,a=Array.apply(null,arguments);return a.shift(),"getValue"===i&&this.length&&(n=this.eq(0).data("combodate"))?n.getValue.apply(n,a):this.each(function(){var n=t(this),s=n.data("combodate"),o="object"==typeof i&&i;s||n.data("combodate",s=new e(this,o)),"string"==typeof i&&"function"==typeof s[i]&&s[i].apply(s,a)})},t.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(t){"use strict";var e=function(i){this.init("combodate",i,e.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),i.combodate=t.fn.editableutils.tryParseJson(i.combodate,!0),this.options.combodate=t.extend({},e.defaults.combodate,i.combodate,{format:this.options.format,template:this.options.template})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===t.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(t,i){var n=t?t.format(this.options.viewformat):"";e.superclass.value2html.call(this,n,i)},html2value:function(t){return t?moment(t,this.options.viewformat):null},value2str:function(t){return t?t.format(this.options.format):""},str2value:function(t){return t?moment(t,this.options.format):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.combodate("setValue",t)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),t.fn.editabletypes.combodate=e}(window.jQuery),function(t){"use strict";if(t.extend(t.fn.editableContainer.Popup.prototype,{containerName:"poshytip",innerCss:"div.tip-inner",defaults:t.fn.poshytip.defaults,initContainer:function(){this.handlePlacement(),t.extend(this.containerOptions,{showOn:"none",content:"",alignTo:"target"}),this.call(this.containerOptions)},show:function(e){this.$element.addClass("editable-open"),!1!==e&&this.closeOthers(this.$element[0]),this.$form=t("<div>"),this.renderForm();var i=t("<label>").text(this.options.title||this.$element.data("title")||this.$element.data("originalTitle")),n=t("<div>").append(i).append(this.$form);this.call("update",n),this.call("show"),this.tip().addClass(this.containerClass),this.$form.data("editableform").input.activate()},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setPosition:function(){this.container().refresh(!1)},handlePlacement:function(){var e,i,n=0,a=0;switch(this.options.placement){case"top":e="center",i="top",a=5;break;case"right":e="right",i="center",n=10;break;case"bottom":e="center",i="bottom",a=5;break;case"left":e="left",i="center",n=10}t.extend(this.containerOptions,{alignX:e,offsetX:n,alignY:i,offsetY:a})}}),t.fn.editableContainer.defaults=t.extend({},t.fn.editableContainer.defaults,{className:"tip-yellowsimple"}),t.Poshytip){var e=/^url\(["']?([^"'\)]*)["']?\);?$/i,i=/\.png$/i,n=!!window.createPopup&&"undefined"==document.documentElement.currentStyle.minWidth;t.Poshytip.prototype.refresh=function(a){if(!this.disabled){var s;if(a){if(!this.$tip.data("active"))return;s={left:this.$tip.css("left"),top:this.$tip.css("top")}}this.$tip.css({left:0,top:0}).appendTo(document.body),void 0===this.opacity&&(this.opacity=this.$tip.css("opacity"));var o=this.$tip.css("background-image").match(e),r=this.$arrow.css("background-image").match(e);if(o){var l=i.test(o[1]);n&&l?(this.$tip.css("background-image","none"),this.$inner.css({margin:0,border:0,padding:0}),o=l=!1):this.$tip.prepend('<table class="fallback" border="0" cellpadding="0" cellspacing="0"><tr><td class="tip-top tip-bg-image" colspan="2"><span></span></td><td class="tip-right tip-bg-image" rowspan="2"><span></span></td></tr><tr><td class="tip-left tip-bg-image" rowspan="2"><span></span></td><td></td></tr><tr><td class="tip-bottom tip-bg-image" colspan="2"><span></span></td></tr></table>').css({border:0,padding:0,"background-image":"none","background-color":"transparent"}).find(".tip-bg-image").css("background-image",'url("'+o[1]+'")').end().find("td").eq(3).append(this.$inner),l&&!t.support.opacity&&(this.opts.fade=!1)}r&&!t.support.opacity&&(n&&i.test(r[1])&&(r=!1,this.$arrow.css("background-image","none")),this.opts.fade=!1);var h=this.$tip.find("table.fallback");if(n){this.$tip[0].style.width="",h.width("auto").find("td").eq(3).width("auto");var c=this.$tip.width(),d=parseInt(this.$tip.css("min-width"),10),u=parseInt(this.$tip.css("max-width"),10);!isNaN(d)&&d>c?c=d:!isNaN(u)&&c>u&&(c=u),this.$tip.add(h).width(c).eq(0).find("td").eq(3).width("100%")}else h[0]&&h.width("auto").find("td").eq(3).width("auto").end().end().width(document.defaultView&&document.defaultView.getComputedStyle&&parseFloat(document.defaultView.getComputedStyle(this.$tip[0],null).width)||this.$tip.width()).find("td").eq(3).width("100%");if(this.tipOuterW=this.$tip.outerWidth(),this.tipOuterH=this.$tip.outerHeight(),this.calcPos(),r&&this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow,this.$arrow.css("visibility","inherit")),a){this.asyncAnimating=!0;var p=this;this.$tip.css(s).animate({left:this.pos.l,top:this.pos.t},200,function(){p.asyncAnimating=!1})}else this.$tip.css({left:this.pos.l,top:this.pos.t})}}}}(window.jQuery),function(t){"use strict";var e=function(t){this.init("dateui",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,i){this.options.viewformat||(this.options.viewformat=this.options.format),this.options.viewformat=this.options.viewformat.replace("yyyy","yy"),this.options.format=this.options.format.replace("yyyy","yy"),this.options.datepicker=t.extend({},i.datepicker,e.datepicker,{dateFormat:this.options.viewformat})},render:function(){this.$input.datepicker(this.options.datepicker),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(i,n){var a=t.datepicker.formatDate(this.options.viewformat,i);e.superclass.value2html.call(this,a,n)},html2value:function(e){if("string"!=typeof e)return e;var i;try{i=t.datepicker.parseDate(this.options.viewformat,e)}catch(t){}return i},value2str:function(e){return t.datepicker.formatDate(this.options.format,e)},str2value:function(e){if("string"!=typeof e)return e;var i;try{i=t.datepicker.parseDate(this.options.format,e)}catch(t){}return i},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.datepicker("setDate",t)},input2value:function(){return this.$input.datepicker("getDate")},activate:function(){},clear:function(){this.$input.datepicker("setDate",null),this.isAutosubmit&&this.submit()},autosubmit:function(){this.isAutosubmit=!0,this.$input.on("mouseup","table.ui-datepicker-calendar a.ui-state-default",t.proxy(this.submit,this))},submit:function(){var t=this.$input.closest("form");setTimeout(function(){t.submit()},200)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{firstDay:0,changeYear:!0,changeMonth:!0,showOtherMonths:!0},clear:"&times; clear"}),t.fn.editabletypes.dateui=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("dateuifield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.dateui),t.extend(e.prototype,{render:function(){this.$input.datepicker(this.options.datepicker),t.fn.editabletypes.text.prototype.renderClear.call(this)},value2input:function(e){this.$input.val(t.datepicker.formatDate(this.options.viewformat,e))},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},toggleClear:function(){t.fn.editabletypes.text.prototype.toggleClear.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.dateui.defaults,{tpl:'<input type="text"/>',inputclass:null,datepicker:{showOn:"button",buttonImage:"http://jqueryui.com/resources/demos/datepicker/images/calendar.gif",buttonImageOnly:!0,firstDay:0,changeYear:!0,changeMonth:!0,showOtherMonths:!0},clear:!1}),t.fn.editabletypes.dateuifield=e}(window.jQuery),function(t){"object"==typeof module&&"object"==typeof module.exports?t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,e,i,n){var a=[],s=function(){return a.length?a[a.length-1]:null},o=function(){var t,e=!1;for(t=a.length-1;t>=0;t--)a[t].$blocker&&(a[t].$blocker.toggleClass("current",!e).toggleClass("behind",e),e=!0)};t.modal=function(e,i){var n,o;if(this.$body=t("body"),this.options=t.extend({},t.modal.defaults,i),this.options.doFade=!isNaN(parseInt(this.options.fadeDuration,10)),this.$blocker=null,this.options.closeExisting)for(;t.modal.isActive();)t.modal.close();if(a.push(this),e.is("a"))if(o=e.attr("href"),/^#/.test(o)){if(this.$elm=t(o),1!==this.$elm.length)return null;this.$body.append(this.$elm),this.open()}else this.$elm=t("<div>"),this.$body.append(this.$elm),n=function(t,e){e.elm.remove()},this.showSpinner(),e.trigger(t.modal.AJAX_SEND),t.get(o).done(function(i){if(t.modal.isActive()){e.trigger(t.modal.AJAX_SUCCESS);var a=s();a.$elm.empty().append(i).on(t.modal.CLOSE,n),a.hideSpinner(),a.open(),e.trigger(t.modal.AJAX_COMPLETE)}}).fail(function(){e.trigger(t.modal.AJAX_FAIL);s().hideSpinner(),a.pop(),e.trigger(t.modal.AJAX_COMPLETE)});else this.$elm=e,this.$body.append(this.$elm),this.open()},t.modal.prototype={constructor:t.modal,open:function(){var e=this;this.block(),this.options.doFade?setTimeout(function(){e.show()},this.options.fadeDuration*this.options.fadeDelay):this.show(),t(i).off("keydown.modal").on("keydown.modal",function(t){var e=s();27==t.which&&e.options.escapeClose&&e.close()}),this.options.clickClose&&this.$blocker.click(function(e){e.target==this&&t.modal.close()})},close:function(){a.pop(),this.unblock(),this.hide(),t.modal.isActive()||t(i).off("keydown.modal")},block:function(){this.$elm.trigger(t.modal.BEFORE_BLOCK,[this._ctx()]),this.$body.css("overflow","hidden"),this.$blocker=t('<div class="jquery-modal blocker current"></div>').appendTo(this.$body),o(),this.options.doFade&&this.$blocker.css("opacity",0).animate({opacity:1},this.options.fadeDuration),this.$elm.trigger(t.modal.BLOCK,[this._ctx()])},unblock:function(e){!e&&this.options.doFade?this.$blocker.fadeOut(this.options.fadeDuration,this.unblock.bind(this,!0)):(this.$blocker.children().appendTo(this.$body),this.$blocker.remove(),this.$blocker=null,o(),t.modal.isActive()||this.$body.css("overflow",""))},show:function(){this.$elm.trigger(t.modal.BEFORE_OPEN,[this._ctx()]),this.options.showClose&&(this.closeButton=t('<a href="#close-modal" rel="modal:close" class="close-modal '+this.options.closeClass+'">'+this.options.closeText+"</a>"),this.$elm.append(this.closeButton)),this.$elm.addClass(this.options.modalClass).appendTo(this.$blocker),this.options.doFade?this.$elm.css("opacity",0).show().animate({opacity:1},this.options.fadeDuration):this.$elm.show(),this.$elm.trigger(t.modal.OPEN,[this._ctx()])},hide:function(){this.$elm.trigger(t.modal.BEFORE_CLOSE,[this._ctx()]),this.closeButton&&this.closeButton.remove();var e=this;this.options.doFade?this.$elm.fadeOut(this.options.fadeDuration,function(){e.$elm.trigger(t.modal.AFTER_CLOSE,[e._ctx()])}):this.$elm.hide(0,function(){e.$elm.trigger(t.modal.AFTER_CLOSE,[e._ctx()])}),this.$elm.trigger(t.modal.CLOSE,[this._ctx()])},showSpinner:function(){this.options.showSpinner&&(this.spinner=this.spinner||t('<div class="'+this.options.modalClass+'-spinner"></div>').append(this.options.spinnerHtml),this.$body.append(this.spinner),this.spinner.show())},hideSpinner:function(){this.spinner&&this.spinner.remove()},_ctx:function(){return{elm:this.$elm,$blocker:this.$blocker,options:this.options}}},t.modal.close=function(e){if(t.modal.isActive()){e&&e.preventDefault();var i=s();return i.close(),i.$elm}},t.modal.isActive=function(){return a.length>0},t.modal.getCurrent=s,t.modal.defaults={closeExisting:!0,escapeClose:!0,clickClose:!0,closeText:"Close",closeClass:"",modalClass:"modal",spinnerHtml:null,showSpinner:!0,showClose:!0,fadeDuration:null,fadeDelay:1},t.modal.BEFORE_BLOCK="modal:before-block",t.modal.BLOCK="modal:block",t.modal.BEFORE_OPEN="modal:before-open",t.modal.OPEN="modal:open",t.modal.BEFORE_CLOSE="modal:before-close",t.modal.CLOSE="modal:close",t.modal.AFTER_CLOSE="modal:after-close",t.modal.AJAX_SEND="modal:ajax:send",t.modal.AJAX_SUCCESS="modal:ajax:success",t.modal.AJAX_FAIL="modal:ajax:fail",t.modal.AJAX_COMPLETE="modal:ajax:complete",t.fn.modal=function(e){return 1===this.length&&new t.modal(this,e),this},t(i).on("click.modal",'a[rel="modal:close"]',t.modal.close),t(i).on("click.modal",'a[rel="modal:open"]',function(e){e.preventDefault(),t(this).modal()})}),function(){var t,e;t=this.jQuery||window.jQuery,e=t(window),t.fn.stick_in_parent=function(i){var n,a,s,o,r,l,h,c,d,u,p,f;for(null==i&&(i={}),f=i.sticky_class,l=i.inner_scrolling,p=i.recalc_every,u=i.parent,d=i.offset_top,c=i.spacer,s=i.bottoming,null==d&&(d=0),null==u&&(u=void 0),null==l&&(l=!0),null==f&&(f="is_stuck"),n=t(document),null==s&&(s=!0),o=function(i,a,o,r,h,m,g,v){var b,y,x,w,T,C,S,M,A,k,D,P;if(!i.data("sticky_kit")){if(i.data("sticky_kit",!0),T=n.height(),S=i.parent(),null!=u&&(S=S.closest(u)),!S.length)throw"failed to find stick parent";if(x=!1,b=!1,(D=null!=c?c&&i.closest(c):t("<div />"))&&D.css("position",i.css("position")),(M=function(){var t,e,s;if(!v)return T=n.height(),t=parseInt(S.css("border-top-width"),10),e=parseInt(S.css("padding-top"),10),a=parseInt(S.css("padding-bottom"),10),o=S.offset().top+t+e,r=S.height(),x&&(x=!1,b=!1,null==c&&(i.insertAfter(D),D.detach()),i.css({position:"",top:"",width:"",bottom:""}).removeClass(f),s=!0),h=i.offset().top-(parseInt(i.css("margin-top"),10)||0)-d,m=i.outerHeight(!0),g=i.css("float"),D&&D.css({width:i.outerWidth(!0),height:m,display:i.css("display"),"vertical-align":i.css("vertical-align"),float:g}),s?P():void 0})(),m!==r)return w=void 0,C=d,k=p,P=function(){var t,u,y,A,P,_;if(!v)return y=!1,null!=k&&(k-=1)<=0&&(k=p,M(),y=!0),y||n.height()===T||(M(),y=!0),A=e.scrollTop(),null!=w&&(u=A-w),w=A,x?(s&&(P=A+m+C>r+o,b&&!P&&(b=!1,i.css({position:"fixed",bottom:"",top:C}).trigger("sticky_kit:unbottom"))),A<h&&(x=!1,C=d,null==c&&("left"!==g&&"right"!==g||i.insertAfter(D),D.detach()),t={position:"",width:"",top:""},i.css(t).removeClass(f).trigger("sticky_kit:unstick")),l&&(_=e.height(),m+d>_&&(b||(C-=u,C=Math.max(_-m,C),C=Math.min(d,C),x&&i.css({top:C+"px"}))))):A>h&&(x=!0,(t={position:"fixed",top:C}).width="border-box"===i.css("box-sizing")?i.outerWidth()+"px":i.width()+"px",i.css(t).addClass(f),null==c&&(i.after(D),"left"!==g&&"right"!==g||D.append(i)),i.trigger("sticky_kit:stick")),x&&s&&(null==P&&(P=A+m+C>r+o),!b&&P)?(b=!0,"static"===S.css("position")&&S.css({position:"relative"}),i.css({position:"absolute",bottom:a,top:"auto"}).trigger("sticky_kit:bottom")):void 0},A=function(){return M(),P()},y=function(){if(v=!0,e.off("touchmove",P),e.off("scroll",P),e.off("resize",A),t(document.body).off("sticky_kit:recalc",A),i.off("sticky_kit:detach",y),i.removeData("sticky_kit"),i.css({position:"",bottom:"",top:"",width:""}),S.position("position",""),x)return null==c&&("left"!==g&&"right"!==g||i.insertAfter(D),D.remove()),i.removeClass(f)},e.on("touchmove",P),e.on("scroll",P),e.on("resize",A),t(document.body).on("sticky_kit:recalc",A),i.on("sticky_kit:detach",y),setTimeout(P,0)}},r=0,h=this.length;r<h;r++)a=this[r],o(t(a));return this}}.call(this),function(t,e,i){"use strict";function n(e,I,L){function B(i){var n=Nt.length;if(Ct.old=t.extend({},Ct),wt=bt?0:yt[gt.horizontal?"width":"height"](),At=St[gt.horizontal?"width":"height"](),Tt=bt?e:xt[gt.horizontal?"outerWidth":"outerHeight"](),Nt.length=0,Ct.start=0,Ct.end=N(Tt-wt,0),Ft){Ot.length,Et=xt.children(gt.itemSelector),Ot.length=0;var a,s=h(xt,gt.horizontal?"paddingLeft":"paddingTop"),o=h(xt,gt.horizontal?"paddingRight":"paddingBottom"),r="border-box"===t(Et).css("boxSizing"),l="none"!==Et.css("float"),d=0,u=Et.length-1;Tt=0,Et.each(function(e,i){var n=t(i),r=i.getBoundingClientRect(),c=_(gt.horizontal?r.width||r.right-r.left:r.height||r.bottom-r.top),p=h(n,gt.horizontal?"marginLeft":"marginTop"),f=h(n,gt.horizontal?"marginRight":"marginBottom"),m=c+p+f,g=!p||!f,v={};v.el=i,v.size=g?c:m,v.half=v.size/2,v.start=Tt+(g?p:0),v.center=v.start-_(wt/2-v.size/2),v.end=v.start-wt+v.size,e||(Tt+=s),Tt+=m,gt.horizontal||l||f&&p&&e>0&&(Tt-=E(p,f)),e===u&&(v.end+=o,Tt+=o,d=g?f:0),Ot.push(v),a=v}),xt[0].style[gt.horizontal?"width":"height"]=(r?Tt:Tt-s-o)+"px",Tt-=d,Ot.length?(Ct.start=Ot[0][Vt?"center":"start"],Ct.end=Vt?a.center:wt<Tt?a.end:Ct.start):Ct.start=Ct.end=0}if(Ct.center=_(Ct.end/2+Ct.start/2),z(),Mt.length&&At>0&&(gt.dynamicHandle?(kt=c(kt=Ct.start===Ct.end?At:_(At*wt/Tt),gt.minHandleSize,At),Mt[0].style[gt.horizontal?"width":"height"]=kt+"px"):kt=Mt[gt.horizontal?"outerWidth":"outerHeight"](),Dt.end=At-kt,ne||H()),!bt&&wt>0){var p=Ct.start,f="";if(Ft)t.each(Ot,function(t,e){Vt?Nt.push(e.center):e.start+e.size>p&&p<=Ct.end&&(p=e.start,Nt.push(p),(p+=wt)>Ct.end&&p<Ct.end+wt&&Nt.push(Ct.end))});else for(;p-wt<Ct.end;)Nt.push(p),p+=wt;if(Pt[0]&&n!==Nt.length){for(var m=0;m<Nt.length;m++)f+=gt.pageBuilder.call(vt,m);(_t=Pt.html(f).children()).eq(It.activePage).addClass(gt.activeClass)}}if(It.slideeSize=Tt,It.frameSize=wt,It.sbSize=At,It.handleSize=kt,Ft){i&&null!=gt.startAt&&(Y(gt.startAt),vt[Gt?"toCenter":"toStart"](gt.startAt));var g=Ot[It.activeItem];R(Gt&&g?g.center:c(Ct.dest,Ct.start,Ct.end))}else i?null!=gt.startAt&&R(gt.startAt,1):R(c(Ct.dest,Ct.start,Ct.end));pt("load")}function R(t,e,i){if(Ft&&ee.released&&!i){var n=j(t),a=t>Ct.start&&t<Ct.end;Gt?(a&&(t=Ot[n.centerItem].center),Vt&&gt.activateMiddle&&Y(n.centerItem)):a&&(t=Ot[n.firstItem].start)}ee.init&&ee.slidee&&gt.elasticBounds?t>Ct.end?t=Ct.end+(t-Ct.end)/6:t<Ct.start&&(t=Ct.start+(t-Ct.start)/6):t=c(t,Ct.start,Ct.end),Jt.start=+new Date,Jt.time=0,Jt.from=Ct.cur,Jt.to=t,Jt.delta=t-Ct.cur,Jt.tweesing=ee.tweese||ee.init&&!ee.slidee,Jt.immediate=!Jt.tweesing&&(e||ee.init&&ee.slidee||!gt.speed),ee.tweese=0,t!==Ct.dest&&(Ct.dest=t,pt("change"),ne||$()),Q(),z(),X(),_t[0]&&Kt.page!==It.activePage&&(Kt.page=It.activePage,_t.removeClass(gt.activeClass).eq(It.activePage).addClass(gt.activeClass),pt("activePage",Kt.page))}function $(){if(vt.initialized){if(!ne)return ne=v($),void(ee.released&&pt("moveStart"));Jt.immediate?Ct.cur=Jt.to:Jt.tweesing?(Jt.tweeseDelta=Jt.to-Ct.cur,k(Jt.tweeseDelta)<.1?Ct.cur=Jt.to:Ct.cur+=Jt.tweeseDelta*(ee.released?gt.swingSpeed:gt.syncSpeed)):(Jt.time=E(+new Date-Jt.start,gt.speed),Ct.cur=Jt.from+Jt.delta*t.easing[gt.easing](Jt.time/gt.speed,Jt.time,0,1,gt.speed)),Jt.to===Ct.cur?(Ct.cur=Jt.to,ee.tweese=ne=0):ne=v($),pt("move"),bt||(u?xt[0].style[u]=p+(gt.horizontal?"translateX":"translateY")+"("+-Ct.cur+"px)":xt[0].style[gt.horizontal?"left":"top"]=-_(Ct.cur)+"px"),!ne&&ee.released&&pt("moveEnd"),H()}}function H(){Mt.length&&(Dt.cur=Ct.start===Ct.end?0:((ee.init&&!ee.slidee?Ct.dest:Ct.cur)-Ct.start)/(Ct.end-Ct.start)*Dt.end,Dt.cur=c(_(Dt.cur),Dt.start,Dt.end),Kt.hPos!==Dt.cur&&(Kt.hPos=Dt.cur,u?Mt[0].style[u]=p+(gt.horizontal?"translateX":"translateY")+"("+Dt.cur+"px)":Mt[0].style[gt.horizontal?"left":"top"]=Dt.cur+"px"))}function V(){te.speed&&Ct.cur!==(te.speed>0?Ct.end:Ct.start)||vt.stop(),oe=ee.init?v(V):0,te.now=+new Date,te.pos=Ct.cur+(te.now-te.lastTime)/1e3*te.speed,R(ee.init?te.pos:_(te.pos)),ee.init||Ct.cur!==Ct.dest||pt("moveEnd"),te.lastTime=te.now}function G(t,e,n){if("boolean"===a(e)&&(n=e,e=i),e===i)R(Ct[t],n);else{if(Gt&&"center"!==t)return;var s=vt.getPos(e);s&&R(s[t],n,!Gt)}}function F(t){return null!=t?l(t)?t>=0&&t<Ot.length?t:-1:Et.index(t):-1}function W(t){return F(l(t)&&t<0?t+Ot.length:t)}function Y(t,e){var i=F(t);return!(!Ft||i<0)&&((Kt.active!==i||e)&&(Et.eq(It.activeItem).removeClass(gt.activeClass),Et.eq(i).addClass(gt.activeClass),Kt.active=It.activeItem=i,X(),pt("active",i)),i)}function j(t){t=c(l(t)?t:Ct.dest,Ct.start,Ct.end);var e={},i=Vt?0:wt/2;if(!bt)for(var n=0,a=Nt.length;n<a;n++){if(t>=Ct.end||n===Nt.length-1){e.activePage=Nt.length-1;break}if(t<=Nt[n]+i){e.activePage=n;break}}if(Ft){for(var s=!1,o=!1,r=!1,h=0,d=Ot.length;h<d;h++)if(!1===s&&t<=Ot[h].start+Ot[h].half&&(s=h),!1===r&&t<=Ot[h].center+Ot[h].half&&(r=h),h===d-1||t<=Ot[h].end+Ot[h].half){o=h;break}e.firstItem=l(s)?s:0,e.centerItem=l(r)?r:e.firstItem,e.lastItem=l(o)?o:e.centerItem}return e}function z(e){t.extend(It,j(e))}function X(){var t=Ct.dest<=Ct.start,e=Ct.dest>=Ct.end,i=(t?1:0)|(e?2:0);if(Kt.slideePosState!==i&&(Kt.slideePosState=i,qt.is("button,input")&&qt.prop("disabled",t),Qt.is("button,input")&&Qt.prop("disabled",e),qt.add(zt)[t?"addClass":"removeClass"](gt.disabledClass),Qt.add(jt)[e?"addClass":"removeClass"](gt.disabledClass)),Kt.fwdbwdState!==i&&ee.released&&(Kt.fwdbwdState=i,zt.is("button,input")&&zt.prop("disabled",t),jt.is("button,input")&&jt.prop("disabled",e)),Ft&&null!=It.activeItem){var n=0===It.activeItem,a=It.activeItem>=Ot.length-1,s=(n?1:0)|(a?2:0);Kt.itemsButtonState!==s&&(Kt.itemsButtonState=s,Xt.is("button,input")&&Xt.prop("disabled",n),Ut.is("button,input")&&Ut.prop("disabled",a),Xt[n?"addClass":"removeClass"](gt.disabledClass),Ut[a?"addClass":"removeClass"](gt.disabledClass))}}function U(t,e,i){if(t=W(t),e=W(e),t>-1&&e>-1&&t!==e&&(!i||e!==t-1)&&(i||e!==t+1)){Et.eq(t)[i?"insertAfter":"insertBefore"](Ot[e].el);var n=t<e?t:i?e:e-1,a=t>e?t:i?e+1:e,s=t>e;null!=It.activeItem&&(t===It.activeItem?Kt.active=It.activeItem=i?s?e+1:e:s?e:e-1:It.activeItem>n&&It.activeItem<a&&(Kt.active=It.activeItem+=s?1:-1)),B()}}function q(t,e){for(var i=0,n=Zt[t].length;i<n;i++)if(Zt[t][i]===e)return i;return-1}function Q(){ee.released&&!vt.isPaused&&vt.resume()}function Z(t){return _(c(t,Dt.start,Dt.end)/Dt.end*(Ct.end-Ct.start))+Ct.start}function K(){ee.history[0]=ee.history[1],ee.history[1]=ee.history[2],ee.history[2]=ee.history[3],ee.history[3]=ee.delta}function J(t){ee.released=0,ee.source=t,ee.slidee="slidee"===t}function tt(e){var i="touchstart"===e.type,n=e.data.source,a="slidee"===n;ee.init||!i&&nt(e.target)||("handle"!==n||gt.dragHandle&&Dt.start!==Dt.end)&&(a&&!(i?gt.touchDragging:gt.mouseDragging&&e.which<2)||(i||s(e),J(n),ee.init=0,ee.$source=t(e.target),ee.touch=i,ee.pointer=i?e.originalEvent.touches[0]:e,ee.initX=ee.pointer.pageX,ee.initY=ee.pointer.pageY,ee.initPos=a?Ct.cur:Dt.cur,ee.start=+new Date,ee.time=0,ee.path=0,ee.delta=0,ee.locked=0,ee.history=[0,0,0,0],ee.pathToLock=a?i?30:10:0,b.on(i?w:x,et),vt.pause(1),(a?xt:Mt).addClass(gt.draggedClass),pt("moveStart"),a&&(ae=setInterval(K,10))))}function et(t){if(ee.released="mouseup"===t.type||"touchend"===t.type,ee.pointer=ee.touch?t.originalEvent[ee.released?"changedTouches":"touches"][0]:t,ee.pathX=ee.pointer.pageX-ee.initX,ee.pathY=ee.pointer.pageY-ee.initY,ee.path=D(P(ee.pathX,2)+P(ee.pathY,2)),ee.delta=gt.horizontal?ee.pathX:ee.pathY,ee.released||!(ee.path<1)){if(!ee.init){if(ee.path<gt.dragThreshold)return ee.released?it():i;if(!(gt.horizontal?k(ee.pathX)>k(ee.pathY):k(ee.pathX)<k(ee.pathY)))return it();ee.init=1}s(t),!ee.locked&&ee.path>ee.pathToLock&&ee.slidee&&(ee.locked=1,ee.$source.on(C,o)),ee.released&&(it(),gt.releaseSwing&&ee.slidee&&(ee.swing=(ee.delta-ee.history[0])/40*300,ee.delta+=ee.swing,ee.tweese=k(ee.swing)>10)),R(ee.slidee?_(ee.initPos-ee.delta):Z(ee.initPos+ee.delta))}}function it(){clearInterval(ae),ee.released=!0,b.off(ee.touch?w:x,et),(ee.slidee?xt:Mt).removeClass(gt.draggedClass),setTimeout(function(){ee.$source.off(C,o)}),Ct.cur===Ct.dest&&ee.init&&pt("moveEnd"),vt.resume(1),ee.init=0}function nt(e){return~t.inArray(e.nodeName,M)||t(e).is(gt.interactive)}function at(){vt.stop(),b.off("mouseup",at)}function st(t){switch(s(t),this){case jt[0]:case zt[0]:vt.moveBy(jt.is(this)?gt.moveBy:-gt.moveBy),b.on("mouseup",at);break;case Xt[0]:vt.prev();break;case Ut[0]:vt.next();break;case qt[0]:vt.prevPage();break;case Qt[0]:vt.nextPage()}}function ot(t){return ie.curDelta=(gt.horizontal?t.deltaY||t.deltaX:t.deltaY)||-t.wheelDelta,ie.curDelta/=1===t.deltaMode?3:100,Ft?(f=+new Date,ie.last<f-ie.resetTime&&(ie.delta=0),ie.last=f,ie.delta+=ie.curDelta,k(ie.delta)<1?ie.finalDelta=0:(ie.finalDelta=_(ie.delta/1),ie.delta%=1),ie.finalDelta):ie.curDelta}function rt(t){t.originalEvent[m]=vt;var e=+new Date;if(O+gt.scrollHijack>e&&Wt[0]!==document&&Wt[0]!==window)O=e;else if(gt.scrollBy&&Ct.start!==Ct.end){var i=ot(t.originalEvent);(gt.scrollTrap||i>0&&Ct.dest<Ct.end||i<0&&Ct.dest>Ct.start)&&s(t,1),vt.slideBy(gt.scrollBy*i)}}function lt(t){gt.clickBar&&t.target===St[0]&&(s(t),R(Z((gt.horizontal?t.pageX-St.offset().left:t.pageY-St.offset().top)-kt/2)))}function ht(t){if(gt.keyboardNavBy)switch(t.which){case gt.horizontal?37:38:s(t),vt["pages"===gt.keyboardNavBy?"prevPage":"prev"]();break;case gt.horizontal?39:40:s(t),vt["pages"===gt.keyboardNavBy?"nextPage":"next"]()}}function ct(t){nt(this)?t.originalEvent[m+"ignore"]=!0:this.parentNode!==xt[0]||t.originalEvent[m+"ignore"]||vt.activate(this)}function dt(){this.parentNode===Pt[0]&&vt.activatePage(_t.index(this))}function ut(t){gt.pauseOnHover&&vt["mouseenter"===t.type?"pause":"resume"](2)}function pt(t,e){if(Zt[t]){for(mt=Zt[t].length,A.length=0,ft=0;ft<mt;ft++)A.push(Zt[t][ft]);for(ft=0;ft<mt;ft++)A[ft].call(vt,t,e)}}if(!(this instanceof n))return new n(e,I,L);var ft,mt,gt=t.extend({},n.defaults,I),vt=this,bt=l(e),yt=t(e),xt=gt.slidee?t(gt.slidee).eq(0):yt.children().eq(0),wt=0,Tt=0,Ct={start:0,center:0,end:0,cur:0,dest:0},St=t(gt.scrollBar).eq(0),Mt=St.children().eq(0),At=0,kt=0,Dt={start:0,end:0,cur:0},Pt=t(gt.pagesBar),_t=0,Nt=[],Et=0,Ot=[],It={firstItem:0,lastItem:0,centerItem:0,activeItem:null,activePage:0},Lt=new d(yt[0]),Bt=new d(xt[0]),Rt=new d(St[0]),$t=new d(Mt[0]),Ht="basic"===gt.itemNav,Vt="forceCentered"===gt.itemNav,Gt="centered"===gt.itemNav||Vt,Ft=!bt&&(Ht||Gt||Vt),Wt=gt.scrollSource?t(gt.scrollSource):yt,Yt=gt.dragSource?t(gt.dragSource):yt,jt=t(gt.forward),zt=t(gt.backward),Xt=t(gt.prev),Ut=t(gt.next),qt=t(gt.prevPage),Qt=t(gt.nextPage),Zt={},Kt={},Jt={},te={},ee={released:1},ie={last:0,delta:0,resetTime:200},ne=0,ae=0,se=0,oe=0;bt||(e=yt[0]),vt.initialized=0,vt.frame=e,vt.slidee=xt[0],vt.pos=Ct,vt.rel=It,vt.items=Ot,vt.pages=Nt,vt.isPaused=0,vt.options=gt,vt.dragging=ee,vt.reload=function(){B()},vt.getPos=function(t){if(Ft){var e=F(t);return-1!==e&&Ot[e]}var i=xt.find(t).eq(0);if(i[0]){var n=gt.horizontal?i.offset().left-xt.offset().left:i.offset().top-xt.offset().top,a=i[gt.horizontal?"outerWidth":"outerHeight"]();return{start:n,center:n-wt/2+a/2,end:n-wt+a,size:a}}return!1},vt.moveBy=function(t){te.speed=t,!ee.init&&te.speed&&Ct.cur!==(te.speed>0?Ct.end:Ct.start)&&(te.lastTime=+new Date,te.startPos=Ct.cur,J("button"),ee.init=1,pt("moveStart"),g(oe),V())},vt.stop=function(){"button"===ee.source&&(ee.init=0,ee.released=1)},vt.prev=function(){vt.activate(null==It.activeItem?0:It.activeItem-1)},vt.next=function(){vt.activate(null==It.activeItem?0:It.activeItem+1)},vt.prevPage=function(){vt.activatePage(It.activePage-1)},vt.nextPage=function(){vt.activatePage(It.activePage+1)},vt.slideBy=function(t,e){t&&(Ft?vt[Gt?"toCenter":"toStart"](c((Gt?It.centerItem:It.firstItem)+gt.scrollBy*t,0,Ot.length)):R(Ct.dest+t,e))},vt.slideTo=function(t,e){R(t,e)},vt.toStart=function(t,e){G("start",t,e)},vt.toEnd=function(t,e){G("end",t,e)},vt.toCenter=function(t,e){G("center",t,e)},vt.getIndex=F,vt.activate=function(t,e){var i=Y(t);gt.smart&&!1!==i&&(Gt?vt.toCenter(i,e):i>=It.lastItem?vt.toStart(i,e):i<=It.firstItem?vt.toEnd(i,e):Q())},vt.activatePage=function(t,e){l(t)&&R(Nt[c(t,0,Nt.length-1)],e)},vt.resume=function(t){gt.cycleBy&&gt.cycleInterval&&("items"!==gt.cycleBy||Ot[0]&&null!=It.activeItem)&&!(t<vt.isPaused)&&(vt.isPaused=0,se?se=clearTimeout(se):pt("resume"),se=setTimeout(function(){switch(pt("cycle"),gt.cycleBy){case"items":vt.activate(It.activeItem>=Ot.length-1?0:It.activeItem+1);break;case"pages":vt.activatePage(It.activePage>=Nt.length-1?0:It.activePage+1)}},gt.cycleInterval))},vt.pause=function(t){t<vt.isPaused||(vt.isPaused=t||100,se&&(se=clearTimeout(se),pt("pause")))},vt.toggle=function(){vt[se?"pause":"resume"]()},vt.set=function(e,i){t.isPlainObject(e)?t.extend(gt,e):gt.hasOwnProperty(e)&&(gt[e]=i)},vt.add=function(e,i){var n=t(e);Ft?(null==i||!Ot[0]||i>=Ot.length?n.appendTo(xt):Ot.length&&n.insertBefore(Ot[i].el),null!=It.activeItem&&i<=It.activeItem&&(Kt.active=It.activeItem+=n.length)):xt.append(n),B()},vt.remove=function(e){if(Ft){var i=W(e);if(i>-1){Et.eq(i).remove();var n=i===It.activeItem;null!=It.activeItem&&i<It.activeItem&&(Kt.active=--It.activeItem),B(),n&&(Kt.active=null,vt.activate(It.activeItem))}}else t(e).remove(),B()},vt.moveAfter=function(t,e){U(t,e,1)},vt.moveBefore=function(t,e){U(t,e)},vt.on=function(t,e){if("object"===a(t))for(var i in t)t.hasOwnProperty(i)&&vt.on(i,t[i]);else if("function"===a(e))for(var n=t.split(" "),s=0,o=n.length;s<o;s++)Zt[n[s]]=Zt[n[s]]||[],-1===q(n[s],e)&&Zt[n[s]].push(e);else if("array"===a(e))for(var r=0,l=e.length;r<l;r++)vt.on(t,e[r])},vt.one=function(t,e){function i(){e.apply(vt,arguments),vt.off(t,i)}vt.on(t,i)},vt.off=function(t,e){if(e instanceof Array)for(var i=0,n=e.length;i<n;i++)vt.off(t,e[i]);else for(var a=t.split(" "),s=0,o=a.length;s<o;s++)if(Zt[a[s]]=Zt[a[s]]||[],null==e)Zt[a[s]].length=0;else{var r=q(a[s],e);-1!==r&&Zt[a[s]].splice(r,1)}},vt.destroy=function(){return n.removeInstance(e),Wt.add(Mt).add(St).add(Pt).add(jt).add(zt).add(Xt).add(Ut).add(qt).add(Qt).off("."+m),b.off("keydown",ht),Xt.add(Ut).add(qt).add(Qt).removeClass(gt.disabledClass),Et&&null!=It.activeItem&&Et.eq(It.activeItem).removeClass(gt.activeClass),Pt.empty(),bt||(yt.off("."+m),Lt.restore(),Bt.restore(),Rt.restore(),$t.restore(),t.removeData(e,m)),Ot.length=Nt.length=0,Kt={},vt.initialized=0,vt},vt.init=function(){if(!vt.initialized){if(n.getInstance(e))throw new Error("There is already a Sly instance on this element");n.storeInstance(e,vt),vt.on(L);var t=["overflow","position"],i=["position","webkitTransform","msTransform","transform","left","top","width","height"];Lt.save.apply(Lt,t),Rt.save.apply(Rt,t),Bt.save.apply(Bt,i),$t.save.apply($t,i);var a=Mt;return bt||(a=a.add(xt),yt.css("overflow","hidden"),u||"static"!==yt.css("position")||yt.css("position","relative")),u?p&&a.css(u,p):("static"===St.css("position")&&St.css("position","relative"),a.css({position:"absolute"})),gt.forward&&jt.on(S,st),gt.backward&&zt.on(S,st),gt.prev&&Xt.on(C,st),gt.next&&Ut.on(C,st),gt.prevPage&&qt.on(C,st),gt.nextPage&&Qt.on(C,st),Wt.on(T,rt),St[0]&&St.on(C,lt),Ft&&gt.activateOn&&yt.on(gt.activateOn+"."+m,"*",ct),Pt[0]&&gt.activatePageOn&&Pt.on(gt.activatePageOn+"."+m,"*",dt),Yt.on(y,{source:"slidee"},tt),Mt&&Mt.on(y,{source:"handle"},tt),b.on("keydown",ht),bt||(yt.on("mouseenter."+m+" mouseleave."+m,ut),yt.on("scroll."+m,r)),vt.initialized=1,B(!0),gt.cycleBy&&!bt&&vt[gt.startPaused?"pause":"resume"](),vt}}}function a(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof t}function s(t,e){t.preventDefault(),e&&t.stopPropagation()}function o(e){s(e,1),t(this).off(e.type,o)}function r(){this.scrollLeft=0,this.scrollTop=0}function l(t){return!isNaN(parseFloat(t))&&isFinite(t)}function h(t,e){return 0|_(String(t.css(e)).replace(/[^\-0-9.]/g,""))}function c(t,e,i){return t<e?e:t>i?i:t}function d(t){var e={};return e.style={},e.save=function(){if(t&&t.nodeType){for(var i=0;i<arguments.length;i++)e.style[arguments[i]]=t.style[arguments[i]];return e}},e.restore=function(){if(t&&t.nodeType){for(var i in e.style)e.style.hasOwnProperty(i)&&(t.style[i]=e.style[i]);return e}},e}var u,p,f,m="sly",g=e.cancelAnimationFrame||e.cancelRequestAnimationFrame,v=e.requestAnimationFrame,b=t(document),y="touchstart."+m+" mousedown."+m,x="mousemove."+m+" mouseup."+m,w="touchmove."+m+" touchend."+m,T=(document.implementation.hasFeature("Event.wheel","3.0")?"wheel.":"mousewheel.")+m,C="click."+m,S="mousedown."+m,M=["INPUT","SELECT","BUTTON","TEXTAREA"],A=[],k=Math.abs,D=Math.sqrt,P=Math.pow,_=Math.round,N=Math.max,E=Math.min,O=0;b.on(T,function(t){var e=t.originalEvent[m],i=+new Date;(!e||e.options.scrollHijack<i-O)&&(O=i)}),n.getInstance=function(e){return t.data(e,m)},n.storeInstance=function(e,i){return t.data(e,m,i)},n.removeInstance=function(e){return t.removeData(e,m)},function(t){v=t.requestAnimationFrame||t.webkitRequestAnimationFrame||function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),a=setTimeout(t,n);return e=i,a};var e=(new Date).getTime(),i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;g=function(e){i.call(t,e)}}(window),function(){function t(t){for(var n=0,a=e.length;n<a;n++){var s=e[n]?e[n]+t.charAt(0).toUpperCase()+t.slice(1):t;if(null!=i.style[s])return s}}var e=["","Webkit","Moz","ms","O"],i=document.createElement("div");u=t("transform"),p=t("perspective")?"translateZ(0) ":""}(),e.Sly=n,t.fn.sly=function(e,i){var s,o;return t.isPlainObject(e)||("string"!==a(e)&&!1!==e||(s=!1===e?"destroy":e,o=Array.prototype.slice.call(arguments,1)),e={}),this.each(function(t,a){var r=n.getInstance(a);r||s?r&&s&&r[s]&&r[s].apply(r,o):r=new n(a,e,i).init()})},n.defaults={slidee:null,horizontal:!1,itemNav:null,itemSelector:null,smart:!1,activateOn:null,activateMiddle:!1,scrollSource:null,scrollBy:0,scrollHijack:300,scrollTrap:!1,dragSource:null,mouseDragging:!1,touchDragging:!1,releaseSwing:!1,swingSpeed:.2,elasticBounds:!1,dragThreshold:3,interactive:null,scrollBar:null,dragHandle:!1,dynamicHandle:!1,minHandleSize:50,clickBar:!1,syncSpeed:.5,pagesBar:null,activatePageOn:null,pageBuilder:function(t){return"<li>"+(t+1)+"</li>"},forward:null,backward:null,prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5e3,pauseOnHover:!1,startPaused:!1,moveBy:300,speed:0,easing:"swing",startAt:null,keyboardNavBy:null,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}}(jQuery,window),function(t,e,i,n){"use strict";function a(t,e,i){return setTimeout(h(t,i),e)}function s(t,e,i){return!!Array.isArray(t)&&(o(t,i[e],i),!0)}function o(t,e,i){var a;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(a=0;a<t.length;)e.call(i,t[a],a,t),a++;else for(a in t)t.hasOwnProperty(a)&&e.call(i,t[a],a,t)}function r(e,i,n){var a="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=t.console&&(t.console.warn||t.console.log);return s&&s.call(t.console,a,n),e.apply(this,arguments)}}function l(t,e,i){var n,a=e.prototype;(n=t.prototype=Object.create(a)).constructor=t,n._super=a,i&&Z(n,i)}function h(t,e){return function(){return t.apply(e,arguments)}}function c(t,e){return typeof t==tt?t.apply(e?e[0]||n:n,e):t}function d(t,e){return t===n?e:t}function u(t,e,i){o(g(e),function(e){t.addEventListener(e,i,!1)})}function p(t,e,i){o(g(e),function(e){t.removeEventListener(e,i,!1)})}function f(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function v(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function b(t){return Array.prototype.slice.call(t,0)}function y(t,e,i){for(var n=[],a=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];v(a,o)<0&&n.push(t[s]),a[s]=o,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function x(t,e){for(var i,a,s=e[0].toUpperCase()+e.slice(1),o=0;o<K.length;){if(i=K[o],(a=i?i+s:e)in t)return a;o++}return n}function w(e){var i=e.ownerDocument||e;return i.defaultView||i.parentWindow||t}function T(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){c(t.options.enable,[t])&&i.handler(e)},this.init()}function C(t,e,i){var a=i.pointers.length,s=i.changedPointers.length,o=e&dt&&a-s==0,r=e&(pt|ft)&&a-s==0;i.isFirst=!!o,i.isFinal=!!r,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,a=e.pointers,s=a.length;i.firstInput||(i.firstInput=S(e));s>1&&!i.firstMultiple?i.firstMultiple=S(e):1===s&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,l=r?r.center:o.center,h=e.center=M(a);e.timeStamp=nt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=P(l,h),e.distance=D(l,h),function(t,e){var i=e.center,n=t.offsetDelta||{},a=t.prevDelta||{},s=t.prevInput||{};e.eventType!==dt&&s.eventType!==pt||(a=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=a.x+(i.x-n.x),e.deltaY=a.y+(i.y-n.y)}(i,e),e.offsetDirection=k(e.deltaX,e.deltaY);var c=A(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=it(c.x)>it(c.y)?c.x:c.y,e.scale=r?function(t,e){return D(e[0],e[1],St)/D(t[0],t[1],St)}(r.pointers,a):1,e.rotation=r?function(t,e){return P(e[1],e[0],St)+P(t[1],t[0],St)}(r.pointers,a):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,a,s,o,r=t.lastInterval||e,l=e.timeStamp-r.timeStamp;if(e.eventType!=ft&&(l>ct||r.velocity===n)){var h=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=A(l,h,c);a=d.x,s=d.y,i=it(d.x)>it(d.y)?d.x:d.y,o=k(h,c),t.lastInterval=e}else i=r.velocity,a=r.velocityX,s=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=a,e.velocityY=s,e.direction=o}(i,e);var d=t.element;f(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function S(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:et(t.pointers[i].clientX),clientY:et(t.pointers[i].clientY)},i++;return{timeStamp:nt(),pointers:e,center:M(e),deltaX:t.deltaX,deltaY:t.deltaY}}function M(t){var e=t.length;if(1===e)return{x:et(t[0].clientX),y:et(t[0].clientY)};for(var i=0,n=0,a=0;a<e;)i+=t[a].clientX,n+=t[a].clientY,a++;return{x:et(i/e),y:et(n/e)}}function A(t,e,i){return{x:e/t||0,y:i/t||0}}function k(t,e){return t===e?mt:it(t)>=it(e)?t<0?gt:vt:e<0?bt:yt}function D(t,e,i){i||(i=Ct);var n=e[i[0]]-t[i[0]],a=e[i[1]]-t[i[1]];return Math.sqrt(n*n+a*a)}function P(t,e,i){i||(i=Ct);var n=e[i[0]]-t[i[0]],a=e[i[1]]-t[i[1]];return 180*Math.atan2(a,n)/Math.PI}function _(){this.evEl=At,this.evWin=kt,this.pressed=!1,T.apply(this,arguments)}function N(){this.evEl=_t,this.evWin=Nt,T.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function E(){this.evTarget=Ot,this.evWin=It,this.started=!1,T.apply(this,arguments)}function O(){this.evTarget=Bt,this.targetIds={},T.apply(this,arguments)}function I(){T.apply(this,arguments);var t=h(this.handler,this);this.touch=new O(this.manager,t),this.mouse=new _(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function L(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)},Rt)}}function B(t,e){this.manager=t,this.set(e)}function R(t){this.options=Z({},this.defaults,t||{}),this.id=ot++,this.manager=null,this.options.enable=d(this.options.enable,!0),this.state=Xt,this.simultaneous={},this.requireFail=[]}function $(t){return t&Kt?"cancel":t&Qt?"end":t&qt?"move":t&Ut?"start":""}function H(t){return t==yt?"down":t==bt?"up":t==gt?"left":t==vt?"right":""}function V(t,e){var i=e.manager;return i?i.get(t):t}function G(){R.apply(this,arguments)}function F(){G.apply(this,arguments),this.pX=null,this.pY=null}function W(){G.apply(this,arguments)}function Y(){R.apply(this,arguments),this._timer=null,this._input=null}function j(){G.apply(this,arguments)}function z(){G.apply(this,arguments)}function X(){R.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function U(t,e){return e=e||{},e.recognizers=d(e.recognizers,U.defaults.preset),new q(t,e)}function q(t,e){this.options=Z({},U.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){var e=t.options.inputClass;return new(e||(lt?N:ht?O:rt?I:_))(t,C)}(this),this.touchAction=new B(this,this.options.touchAction),Q(this,!0),o(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Q(t,e){var i=t.element;if(i.style){var n;o(t.options.cssProps,function(a,s){n=x(i.style,s),e?(t.oldCssProps[n]=i.style[n],i.style[n]=a):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}var Z,K=["","webkit","Moz","MS","ms","o"],J=e.createElement("div"),tt="function",et=Math.round,it=Math.abs,nt=Date.now;Z="function"!=typeof Object.assign?function(t){if(t===n||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var a=arguments[i];if(a!==n&&null!==a)for(var s in a)a.hasOwnProperty(s)&&(e[s]=a[s])}return e}:Object.assign;var at=r(function(t,e,i){for(var a=Object.keys(e),s=0;s<a.length;)(!i||i&&t[a[s]]===n)&&(t[a[s]]=e[a[s]]),s++;return t},"extend","Use `assign`."),st=r(function(t,e){return at(t,e,!0)},"merge","Use `assign`."),ot=1,rt="ontouchstart"in t,lt=x(t,"PointerEvent")!==n,ht=rt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ct=25,dt=1,ut=2,pt=4,ft=8,mt=1,gt=2,vt=4,bt=8,yt=16,xt=gt|vt,wt=bt|yt,Tt=xt|wt,Ct=["x","y"],St=["clientX","clientY"];T.prototype={handler:function(){},init:function(){this.evEl&&u(this.element,this.evEl,this.domHandler),this.evTarget&&u(this.target,this.evTarget,this.domHandler),this.evWin&&u(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(w(this.element),this.evWin,this.domHandler)}};var Mt={mousedown:dt,mousemove:ut,mouseup:pt},At="mousedown",kt="mousemove mouseup";l(_,T,{handler:function(t){var e=Mt[t.type];e&dt&&0===t.button&&(this.pressed=!0),e&ut&&1!==t.which&&(e=pt),this.pressed&&(e&pt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Dt={pointerdown:dt,pointermove:ut,pointerup:pt,pointercancel:ft,pointerout:ft},Pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},_t="pointerdown",Nt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(_t="MSPointerDown",Nt="MSPointerMove MSPointerUp MSPointerCancel"),l(N,T,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),a=Dt[n],s=Pt[t.pointerType]||t.pointerType,o="touch"==s,r=v(e,t.pointerId,"pointerId");a&dt&&(0===t.button||o)?r<0&&(e.push(t),r=e.length-1):a&(pt|ft)&&(i=!0),r<0||(e[r]=t,this.callback(this.manager,a,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(r,1))}});var Et={touchstart:dt,touchmove:ut,touchend:pt,touchcancel:ft},Ot="touchstart",It="touchstart touchmove touchend touchcancel";l(E,T,{handler:function(t){var e=Et[t.type];if(e===dt&&(this.started=!0),this.started){var i=function(t,e){var i=b(t.touches),n=b(t.changedTouches);return e&(pt|ft)&&(i=y(i.concat(n),"identifier",!0)),[i,n]}.call(this,t,e);e&(pt|ft)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var Lt={touchstart:dt,touchmove:ut,touchend:pt,touchcancel:ft},Bt="touchstart touchmove touchend touchcancel";l(O,T,{handler:function(t){var e=Lt[t.type],i=function(t,e){var i=b(t.touches),n=this.targetIds;if(e&(dt|ut)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var a,s,o=b(t.changedTouches),r=[],l=this.target;if(s=i.filter(function(t){return f(t.target,l)}),e===dt)for(a=0;a<s.length;)n[s[a].identifier]=!0,a++;for(a=0;a<o.length;)n[o[a].identifier]&&r.push(o[a]),e&(pt|ft)&&delete n[o[a].identifier],a++;return r.length?[y(s.concat(r),"identifier",!0),r]:void 0}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var Rt=2500,$t=25;l(I,T,{handler:function(t,e,i){var n="touch"==i.pointerType,a="mouse"==i.pointerType;if(!(a&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)(function(t,e){t&dt?(this.primaryTouch=e.changedPointers[0].identifier,L.call(this,e)):t&(pt|ft)&&L.call(this,e)}).call(this,e,i);else if(a&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var a=this.lastTouches[n],s=Math.abs(e-a.x),o=Math.abs(i-a.y);if(s<=$t&&o<=$t)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ht=x(J.style,"touchAction"),Vt=Ht!==n,Gt="auto",Ft="manipulation",Wt="none",Yt="pan-x",jt="pan-y",zt=function(){if(!Vt)return!1;var e={},i=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!i||t.CSS.supports("touch-action",n)}),e}();B.prototype={set:function(t){"compute"==t&&(t=this.compute()),Vt&&this.manager.element.style&&zt[t]&&(this.manager.element.style[Ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return o(this.manager.recognizers,function(e){c(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(m(t,Wt))return Wt;var e=m(t,Yt),i=m(t,jt);return e&&i?Wt:e||i?e?Yt:jt:m(t,Ft)?Ft:Gt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,a=m(n,Wt)&&!zt[Wt],s=m(n,jt)&&!zt[jt],o=m(n,Yt)&&!zt[Yt];if(a){var r=1===t.pointers.length,l=t.distance<2,h=t.deltaTime<250;if(r&&l&&h)return}if(!o||!s)return a||s&&i&xt||o&&i&wt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Xt=1,Ut=2,qt=4,Qt=8,Zt=Qt,Kt=16;R.prototype={defaults:{},set:function(t){return Z(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=V(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=V(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=V(t,this),-1===v(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=V(t,this);var e=v(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;n<Qt&&e(i.options.event+$(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=Qt&&e(i.options.event+$(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Xt)))return!1;t++}return!0},recognize:function(t){var e=Z({},t);if(!c(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Zt|Kt|32)&&(this.state=Xt),this.state=this.process(e),this.state&(Ut|qt|Qt|Kt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},l(G,R,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(Ut|qt),a=this.attrTest(t);return n&&(i&ft||!a)?e|Kt:n||a?i&pt?e|Qt:e&Ut?e|qt:Ut:32}}),l(F,G,{defaults:{event:"pan",threshold:10,pointers:1,direction:Tt},getTouchAction:function(){var t=this.options.direction,e=[];return t&xt&&e.push(jt),t&wt&&e.push(Yt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,a=t.direction,s=t.deltaX,o=t.deltaY;return a&e.direction||(e.direction&xt?(a=0===s?mt:s<0?gt:vt,i=s!=this.pX,n=Math.abs(t.deltaX)):(a=0===o?mt:o<0?bt:yt,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=a,i&&n>e.threshold&&a&e.direction},attrTest:function(t){return G.prototype.attrTest.call(this,t)&&(this.state&Ut||!(this.state&Ut)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=H(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),l(W,G,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Ut)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),l(Y,R,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Gt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(pt|ft)&&!s)this.reset();else if(t.eventType&dt)this.reset(),this._timer=a(function(){this.state=Zt,this.tryEmit()},e.time,this);else if(t.eventType&pt)return Zt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Zt&&(t&&t.eventType&pt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=nt(),this.manager.emit(this.options.event,this._input)))}}),l(j,G,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Ut)}}),l(z,G,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:xt|wt,pointers:1},getTouchAction:function(){return F.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(xt|wt)?e=t.overallVelocity:i&xt?e=t.overallVelocityX:i&wt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&it(e)>this.options.velocity&&t.eventType&pt},emit:function(t){var e=H(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(X,R,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ft]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&dt&&0===this.count)return this.failTimeout();if(n&&s&&i){if(t.eventType!=pt)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,r&&o?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=a(function(){this.state=Zt,this.tryEmit()},e.interval,this),Ut):Zt}return 32},failTimeout:function(){return this._timer=a(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Zt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),U.VERSION="2.0.7",U.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[j,{enable:!1}],[W,{enable:!1},["rotate"]],[z,{direction:xt}],[F,{direction:xt},["swipe"]],[X],[X,{event:"doubletap",taps:2},["tap"]],[Y]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};q.prototype={set:function(t){return Z(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,a=e.curRecognizer;(!a||a&&a.state&Zt)&&(a=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||a&&i!=a&&!i.canRecognizeWith(a)?i.reset():i.recognize(t),!a&&i.state&(Ut|qt|Qt)&&(a=e.curRecognizer=i),s++}},get:function(t){if(t instanceof R)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=v(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==n&&e!==n){var i=this.handlers;return o(g(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==n){var i=this.handlers;return o(g(t),function(t){e?i[t]&&i[t].splice(v(i[t],e),1):delete i[t]}),this}},emit:function(t,i){this.options.domEvents&&function(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}(t,i);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){i.type=t,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<n.length;)n[a](i),a++}},destroy:function(){this.element&&Q(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Z(U,{INPUT_START:dt,INPUT_MOVE:ut,INPUT_END:pt,INPUT_CANCEL:ft,STATE_POSSIBLE:Xt,STATE_BEGAN:Ut,STATE_CHANGED:qt,STATE_ENDED:Qt,STATE_RECOGNIZED:Zt,STATE_CANCELLED:Kt,STATE_FAILED:32,DIRECTION_NONE:mt,DIRECTION_LEFT:gt,DIRECTION_RIGHT:vt,DIRECTION_UP:bt,DIRECTION_DOWN:yt,DIRECTION_HORIZONTAL:xt,DIRECTION_VERTICAL:wt,DIRECTION_ALL:Tt,Manager:q,Input:T,TouchAction:B,TouchInput:O,MouseInput:_,PointerEventInput:N,TouchMouseInput:I,SingleTouchInput:E,Recognizer:R,AttrRecognizer:G,Tap:X,Pan:F,Swipe:z,Pinch:W,Rotate:j,Press:Y,on:u,off:p,each:o,merge:st,extend:at,assign:Z,inherit:l,bindFn:h,prefixed:x});(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=U,"function"==typeof define&&define.amd?define(function(){return U}):"undefined"!=typeof module&&module.exports?module.exports=U:t.Hammer=U}(window,document),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){"use strict";function e(t){return"number"==typeof t&&!T(t)}function i(t){return void 0===t}function n(t,e){for(var i=arguments.length,n=Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];return function(){for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return t.apply(e,n.concat(a))}}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return S.test(t)?Math.round(t*e)/e:t}function s(t){var e=t.match(A);return e&&(e[1]!==M.protocol||e[2]!==M.hostname||e[3]!==M.port)}function o(t){var e="timestamp="+(new Date).getTime();return t+(-1===t.indexOf("?")?"?":"&")+e}function r(t){var i=t.rotate,n=t.scaleX,a=t.scaleY,s=t.translateX,o=t.translateY,r=[];return e(s)&&0!==s&&r.push("translateX("+s+"px)"),e(o)&&0!==o&&r.push("translateY("+o+"px)"),e(i)&&0!==i&&r.push("rotate("+i+"deg)"),e(n)&&1!==n&&r.push("scaleX("+n+")"),e(a)&&1!==a&&r.push("scaleY("+a+")"),r.length?r.join(" "):"none"}function l(e,i){var n=e.pageX,a=e.pageY,s={endX:n,endY:a};return i?s:t.extend({startX:n,startY:a},s)}function h(t){var e=t.aspectRatio,i=t.height,n=t.width,a=function(t){return P(t)&&t>0};return a(n)&&a(i)?i*e>n?i=n/e:n=i*e:a(n)?i=n/e:a(i)&&(n=i*e),{width:n,height:i}}function c(e,i,n,s){var o=i.naturalWidth,r=i.naturalHeight,l=i.rotate,c=void 0===l?0:l,d=i.scaleX,u=void 0===d?1:d,p=i.scaleY,f=void 0===p?1:p,m=n.aspectRatio,g=n.naturalWidth,v=n.naturalHeight,b=s.fillColor,y=void 0===b?"transparent":b,x=s.imageSmoothingEnabled,w=void 0===x||x,T=s.imageSmoothingQuality,C=void 0===T?"low":T,S=s.maxWidth,M=void 0===S?1/0:S,A=s.maxHeight,k=void 0===A?1/0:A,D=s.minWidth,P=void 0===D?0:D,_=s.minHeight,N=void 0===_?0:_,E=h({aspectRatio:m,width:M,height:k}),O=h({aspectRatio:m,width:P,height:N}),I=Math.min(E.width,Math.max(O.width,g)),L=Math.min(E.height,Math.max(O.height,v)),B=document.createElement("canvas"),R=B.getContext("2d"),$=[-o/2,-r/2,o,r];return B.width=a(I),B.height=a(L),R.fillStyle=y,R.fillRect(0,0,I,L),R.save(),R.translate(I/2,L/2),R.rotate(c*Math.PI/180),R.scale(u,f),R.imageSmoothingEnabled=!!w,R.imageSmoothingQuality=C,R.drawImage.apply(R,[e].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(t.map($,function(t){return Math.floor(a(t))})))),R.restore(),B}function d(t){var e=new DataView(t),i=void 0,n=void 0,a=void 0,s=void 0;if(255===e.getUint8(0)&&216===e.getUint8(1))for(var o=e.byteLength,r=2;r<o;){if(255===e.getUint8(r)&&225===e.getUint8(r+1)){a=r;break}r+=1}if(a){var l=a+10;if("Exif"===function(t,e,i){var n="",a=void 0;for(i+=e,a=e;a<i;a+=1)n+=_(t.getUint8(a));return n}(e,a+4,4)){var h=e.getUint16(l);if(((n=18761===h)||19789===h)&&42===e.getUint16(l+2,n)){var c=e.getUint32(l+4,n);c>=8&&(s=l+c)}}}if(s){var d=e.getUint16(s,n),u=void 0,p=void 0;for(p=0;p<d;p+=1)if(u=s+12*p+2,274===e.getUint16(u,n)){u+=8,i=e.getUint16(u,n),e.setUint16(u,1,n);break}}return i}t=t&&t.hasOwnProperty("default")?t.default:t;var u="undefined"!=typeof window?window:{},p="cropper-hidden",f=u.PointerEvent?"pointerdown":"touchstart mousedown",m=u.PointerEvent?"pointermove":"touchmove mousemove",g=u.PointerEvent?" pointerup pointercancel":"touchend touchcancel mouseup",v=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,b=/^data:/,y=/^data:image\/jpeg;base64,/,x=/^(img|canvas)$/i,w={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},T=Number.isNaN||u.isNaN,C=Object.keys||function(e){var i=[];return t.each(e,function(t){i.push(t)}),i},S=/\.\d*(?:0|9){12}\d*$/i,M=u.location,A=/^(https?:)\/\/([^:/?#]+):?(\d*)/i,k=u.navigator,D=k&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(k.userAgent),P=Number.isFinite||u.isFinite,_=String.fromCharCode,N=/^data:.*,/,E={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.$element,e=this.options,i=this.$container,n=this.$cropper;n.addClass(p),t.removeClass(p),n.css(this.container={width:Math.max(i.width(),Number(e.minContainerWidth)||200),height:Math.max(i.height(),Number(e.minContainerHeight)||100)}),t.addClass(p),n.removeClass(p)},initCanvas:function(){var e=this.container,i=this.image,n=this.options.viewMode,a=Math.abs(i.rotate)%180==90,s=a?i.naturalHeight:i.naturalWidth,o=a?i.naturalWidth:i.naturalHeight,r=s/o,l=e.width,h=e.height;e.height*r>e.width?3===n?l=e.height*r:h=e.width/r:3===n?h=e.width/r:l=e.height*r;var c={aspectRatio:r,naturalWidth:s,naturalHeight:o,width:l,height:h};c.left=(e.width-l)/2,c.top=(e.height-h)/2,c.oldLeft=c.left,c.oldTop=c.top,this.canvas=c,this.limited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImage=t.extend({},i),this.initialCanvas=t.extend({},c)},limitCanvas:function(t,e){var i=this.options,n=this.container,a=this.canvas,s=this.cropBox,o=i.viewMode,r=a.aspectRatio,l=this.cropped&&s;if(t){var c=Number(i.minCanvasWidth)||0,d=Number(i.minCanvasHeight)||0;o>0&&(o>1?(c=Math.max(c,n.width),d=Math.max(d,n.height),3===o&&(d*r>c?c=d*r:d=c/r)):c?c=Math.max(c,l?s.width:0):d?d=Math.max(d,l?s.height:0):l&&(c=s.width,(d=s.height)*r>c?c=d*r:d=c/r));var u=h({aspectRatio:r,width:c,height:d});c=u.width,d=u.height,a.minWidth=c,a.minHeight=d,a.maxWidth=1/0,a.maxHeight=1/0}if(e)if(o>0){var p=n.width-a.width,f=n.height-a.height;a.minLeft=Math.min(0,p),a.minTop=Math.min(0,f),a.maxLeft=Math.max(0,p),a.maxTop=Math.max(0,f),l&&this.limited&&(a.minLeft=Math.min(s.left,s.left+s.width-a.width),a.minTop=Math.min(s.top,s.top+s.height-a.height),a.maxLeft=s.left,a.maxTop=s.top,2===o&&(a.width>=n.width&&(a.minLeft=Math.min(0,p),a.maxLeft=Math.max(0,p)),a.height>=n.height&&(a.minTop=Math.min(0,f),a.maxTop=Math.max(0,f))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=n.width,a.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvas,n=this.image;if(e){var a=function(t){var e=t.width,i=t.height,n=t.degree;if((n=Math.abs(n))%180==90)return{width:i,height:e};var a=n%90*Math.PI/180,s=Math.sin(a),o=Math.cos(a);return{width:e*o+i*s,height:e*s+i*o}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),s=a.width,o=a.height,l=i.width*(s/i.naturalWidth),h=i.height*(o/i.naturalHeight);i.left-=(l-i.width)/2,i.top-=(h-i.height)/2,i.width=l,i.height=h,i.aspectRatio=s/o,i.naturalWidth=s,i.naturalHeight=o,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,this.$canvas.css({width:i.width,height:i.height,transform:r({translateX:i.left,translateY:i.top})}),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var i=this.canvas,n=this.image,a=n.naturalWidth*(i.width/i.naturalWidth),s=n.naturalHeight*(i.height/i.naturalHeight);t.extend(n,{width:a,height:s,left:(i.width-a)/2,top:(i.height-s)/2}),this.$clone.css({width:n.width,height:n.height,transform:r(t.extend({translateX:n.left,translateY:n.top},n))}),e&&this.output()},initCropBox:function(){var e=this.options,i=this.canvas,n=e.aspectRatio,a=Number(e.autoCropArea)||.8,s={width:i.width,height:i.height};n&&(i.height*n>i.width?s.height=s.width/n:s.width=s.height*n),this.cropBox=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*a),s.height=Math.max(s.minHeight,s.height*a),s.left=i.left+(i.width-s.width)/2,s.top=i.top+(i.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBox=t.extend({},s)},limitCropBox:function(t,e){var i=this.options,n=this.container,a=this.canvas,s=this.cropBox,o=this.limited,r=i.aspectRatio;if(t){var l=Number(i.minCropBoxWidth)||0,h=Number(i.minCropBoxHeight)||0,c=Math.min(n.width,o?a.width:n.width),d=Math.min(n.height,o?a.height:n.height);l=Math.min(l,n.width),h=Math.min(h,n.height),r&&(l&&h?h*r>l?h=l/r:l=h*r:l?h=l/r:h&&(l=h*r),d*r>c?d=c/r:c=d*r),s.minWidth=Math.min(l,c),s.minHeight=Math.min(h,d),s.maxWidth=c,s.maxHeight=d}e&&(o?(s.minLeft=Math.max(0,a.left),s.minTop=Math.max(0,a.top),s.maxLeft=Math.min(n.width,a.left+a.width)-s.width,s.maxTop=Math.min(n.height,a.top+a.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=n.width-s.width,s.maxTop=n.height-s.height))},renderCropBox:function(){var t=this.options,e=this.container,i=this.cropBox;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&this.$face.data("action",i.width>=e.width&&i.height>=e.height?"move":"all"),this.$cropBox.css({width:i.width,height:i.height,transform:r({translateX:i.left,translateY:i.top})}),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),this.completed&&this.trigger("crop",this.getData())}},O={initPreview:function(){var e=this.crossOrigin,i=e?this.crossOriginUrl:this.url,n=document.createElement("img");e&&(n.crossOrigin=e),n.src=i;var a=t(n);this.$preview=t(this.options.preview),this.$clone2=a,this.$viewBox.html(a),this.$preview.each(function(n,a){var s=t(a),o=document.createElement("img");s.data("preview",{width:s.width(),height:s.height(),html:s.html()}),e&&(o.crossOrigin=e),o.src=i,o.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',s.html(o)})},resetPreview:function(){this.$preview.each(function(e,i){var n=t(i),a=n.data("preview");n.css({width:a.width,height:a.height}).html(a.html).removeData("preview")})},preview:function(){var e=this.image,i=this.canvas,n=this.cropBox,a=n.width,s=n.height,o=e.width,l=e.height,h=n.left-i.left-e.left,c=n.top-i.top-e.top;this.cropped&&!this.disabled&&(this.$clone2.css({width:o,height:l,transform:r(t.extend({translateX:-h,translateY:-c},e))}),this.$preview.each(function(i,n){var d=t(n),u=d.data("preview"),p=u.width,f=u.height,m=p,g=f,v=1;a&&(g=s*(v=p/a)),s&&g>f&&(m=a*(v=f/s),g=f),d.css({width:m,height:g}).find("img").css({width:o*v,height:l*v,transform:r(t.extend({translateX:-h*v,translateY:-c*v},e))})}))}},I={bind:function(){var e=this.$element,i=this.options,a=this.$cropper;t.isFunction(i.cropstart)&&e.on("cropstart",i.cropstart),t.isFunction(i.cropmove)&&e.on("cropmove",i.cropmove),t.isFunction(i.cropend)&&e.on("cropend",i.cropend),t.isFunction(i.crop)&&e.on("crop",i.crop),t.isFunction(i.zoom)&&e.on("zoom",i.zoom),a.on(f,n(this.cropStart,this)),i.zoomable&&i.zoomOnWheel&&a.on("wheel mousewheel DOMMouseScroll",n(this.wheel,this)),i.toggleDragModeOnDblclick&&a.on("dblclick",n(this.dblclick,this)),t(document).on(m,this.onCropMove=n(this.cropMove,this)).on(g,this.onCropEnd=n(this.cropEnd,this)),i.responsive&&t(window).on("resize",this.onResize=n(this.resize,this))},unbind:function(){var e=this.$element,i=this.options,n=this.$cropper;t.isFunction(i.cropstart)&&e.off("cropstart",i.cropstart),t.isFunction(i.cropmove)&&e.off("cropmove",i.cropmove),t.isFunction(i.cropend)&&e.off("cropend",i.cropend),t.isFunction(i.crop)&&e.off("crop",i.crop),t.isFunction(i.zoom)&&e.off("zoom",i.zoom),n.off(f,this.cropStart),i.zoomable&&i.zoomOnWheel&&n.off("wheel mousewheel DOMMouseScroll",this.wheel),i.toggleDragModeOnDblclick&&n.off("dblclick",this.dblclick),t(document).off(m,this.onCropMove).off(g,this.onCropEnd),i.responsive&&t(window).off("resize",this.onResize)}},L={resize:function(){var e=this.options,i=this.$container,n=this.container,a=Number(e.minContainerWidth)||200,s=Number(e.minContainerHeight)||100;if(!(this.disabled||n.width<=a||n.height<=s)){var o=i.width()/n.width;if(1!==o||i.height()!==n.height){var r=void 0,l=void 0;e.restore&&(r=this.getCanvasData(),l=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(t.each(r,function(t,e){r[t]=e*o})),this.setCropBoxData(t.each(l,function(t,e){l[t]=e*o})))}}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(this.$dragBox.hasClass("cropper-crop")?"move":"crop")},wheel:function(t){var e=this,i=t.originalEvent||t,n=Number(this.options.wheelZoomRatio)||.1;if(!this.disabled&&(t.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50);var a=1;i.deltaY?a=i.deltaY>0?1:-1:i.wheelDelta?a=-i.wheelDelta/120:i.detail&&(a=i.detail>0?1:-1),this.zoom(-a*n,t)}},cropStart:function(e){if(!this.disabled){var i=this.options,n=this.pointers,a=e.originalEvent,s=void 0;a&&a.changedTouches?t.each(a.changedTouches,function(t,e){n[e.identifier]=l(e)}):n[a&&a.pointerId||0]=l(a||e),s=C(n).length>1&&i.zoomable&&i.zoomOnTouch?"zoom":t(e.target).data("action"),v.test(s)&&(this.trigger("cropstart",{originalEvent:a,action:s}).isDefaultPrevented()||(e.preventDefault(),this.action=s,this.cropping=!1,"crop"===s&&(this.cropping=!0,this.$dragBox.addClass("cropper-modal"))))}},cropMove:function(e){var i=this.action;if(!this.disabled&&i){var n=this.pointers,a=e.originalEvent;e.preventDefault(),this.trigger("cropmove",{originalEvent:a,action:i}).isDefaultPrevented()||(a&&a.changedTouches?t.each(a.changedTouches,function(e,i){t.extend(n[i.identifier],l(i,!0))}):t.extend(n[a&&a.pointerId||0],l(a||e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var i=this.action,n=this.pointers,a=e.originalEvent;a&&a.changedTouches?t.each(a.changedTouches,function(t,e){delete n[e.identifier]}):delete n[a&&a.pointerId||0],i&&(e.preventDefault(),C(n).length||(this.action=""),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass("cropper-modal",this.cropped&&this.options.modal)),this.trigger("cropend",{originalEvent:a,action:i}))}}},B={change:function(e){var i=this.options,n=this.pointers,a=this.container,s=this.canvas,o=this.cropBox,r=this.action,l=i.aspectRatio,h=o.left,c=o.top,d=o.width,u=o.height,f=h+d,m=c+u,g=0,v=0,b=a.width,y=a.height,x=!0,w=void 0;!l&&e.shiftKey&&(l=d&&u?d/u:1),this.limited&&(g=o.minLeft,v=o.minTop,b=g+Math.min(a.width,s.width,s.left+s.width),y=v+Math.min(a.height,s.height,s.top+s.height));var T=n[C(n)[0]],S={x:T.endX-T.startX,y:T.endY-T.startY},M=function(t){switch(t){case"e":f+S.x>b&&(S.x=b-f);break;case"w":h+S.x<g&&(S.x=g-h);break;case"n":c+S.y<v&&(S.y=v-c);break;case"s":m+S.y>y&&(S.y=y-m)}};switch(r){case"all":h+=S.x,c+=S.y;break;case"e":if(S.x>=0&&(f>=b||l&&(c<=v||m>=y))){x=!1;break}M("e"),d+=S.x,l&&(u=d/l,c-=S.x/l/2),d<0&&(r="w",d=0);break;case"n":if(S.y<=0&&(c<=v||l&&(h<=g||f>=b))){x=!1;break}M("n"),u-=S.y,c+=S.y,l&&(d=u*l,h+=S.y*l/2),u<0&&(r="s",u=0);break;case"w":if(S.x<=0&&(h<=g||l&&(c<=v||m>=y))){x=!1;break}M("w"),d-=S.x,h+=S.x,l&&(u=d/l,c+=S.x/l/2),d<0&&(r="e",d=0);break;case"s":if(S.y>=0&&(m>=y||l&&(h<=g||f>=b))){x=!1;break}M("s"),u+=S.y,l&&(d=u*l,h-=S.y*l/2),u<0&&(r="n",u=0);break;case"ne":if(l){if(S.y<=0&&(c<=v||f>=b)){x=!1;break}M("n"),u-=S.y,c+=S.y,d=u*l}else M("n"),M("e"),S.x>=0?f<b?d+=S.x:S.y<=0&&c<=v&&(x=!1):d+=S.x,S.y<=0?c>v&&(u-=S.y,c+=S.y):(u-=S.y,c+=S.y);d<0&&u<0?(r="sw",u=0,d=0):d<0?(r="nw",d=0):u<0&&(r="se",u=0);break;case"nw":if(l){if(S.y<=0&&(c<=v||h<=g)){x=!1;break}M("n"),u-=S.y,c+=S.y,d=u*l,h+=S.y*l}else M("n"),M("w"),S.x<=0?h>g?(d-=S.x,h+=S.x):S.y<=0&&c<=v&&(x=!1):(d-=S.x,h+=S.x),S.y<=0?c>v&&(u-=S.y,c+=S.y):(u-=S.y,c+=S.y);d<0&&u<0?(r="se",u=0,d=0):d<0?(r="ne",d=0):u<0&&(r="sw",u=0);break;case"sw":if(l){if(S.x<=0&&(h<=g||m>=y)){x=!1;break}M("w"),d-=S.x,h+=S.x,u=d/l}else M("s"),M("w"),S.x<=0?h>g?(d-=S.x,h+=S.x):S.y>=0&&m>=y&&(x=!1):(d-=S.x,h+=S.x),S.y>=0?m<y&&(u+=S.y):u+=S.y;d<0&&u<0?(r="ne",u=0,d=0):d<0?(r="se",d=0):u<0&&(r="nw",u=0);break;case"se":if(l){if(S.x>=0&&(f>=b||m>=y)){x=!1;break}M("e"),u=(d+=S.x)/l}else M("s"),M("e"),S.x>=0?f<b?d+=S.x:S.y>=0&&m>=y&&(x=!1):d+=S.x,S.y>=0?m<y&&(u+=S.y):u+=S.y;d<0&&u<0?(r="nw",u=0,d=0):d<0?(r="sw",d=0):u<0&&(r="ne",u=0);break;case"move":this.move(S.x,S.y),x=!1;break;case"zoom":this.zoom(function(e){var i=t.extend({},e),n=[];return t.each(e,function(e,a){delete i[e],t.each(i,function(t,e){var i=Math.abs(a.startX-e.startX),s=Math.abs(a.startY-e.startY),o=Math.abs(a.endX-e.endX),r=Math.abs(a.endY-e.endY),l=Math.sqrt(i*i+s*s),h=(Math.sqrt(o*o+r*r)-l)/l;n.push(h)})}),n.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),n[0]}(n),e.originalEvent),x=!1;break;case"crop":if(!S.x||!S.y){x=!1;break}w=this.$cropper.offset(),h=T.startX-w.left,c=T.startY-w.top,d=o.minWidth,u=o.minHeight,S.x>0?r=S.y>0?"se":"ne":S.x<0&&(h-=d,r=S.y>0?"sw":"nw"),S.y<0&&(c-=u),this.cropped||(this.$cropBox.removeClass(p),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}x&&(o.width=d,o.height=u,o.left=h,o.top=c,this.action=r,this.renderCropBox()),t.each(n,function(t,e){e.startX=e.endX,e.startY=e.endY})}},R={crop:function(){this.ready&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass("cropper-modal"),this.$cropBox.removeClass(p)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.ready&&!this.disabled&&(this.image=t.extend({},this.initialImage),this.canvas=t.extend({},this.initialCanvas),this.cropBox=t.extend({},this.initialCropBox),this.renderCanvas(),this.cropped&&this.renderCropBox())},clear:function(){this.cropped&&!this.disabled&&(t.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass("cropper-modal"),this.$cropBox.addClass(p))},replace:function(t,e){!this.disabled&&t&&(this.isImg&&this.$element.attr("src",t),e?(this.url=t,this.$clone.attr("src",t),this.ready&&this.$preview.find("img").add(this.$clone2).attr("src",t)):(this.isImg&&(this.replaced=!0),this.options.data=null,this.load(t)))},enable:function(){this.ready&&(this.disabled=!1,this.$cropper.removeClass("cropper-disabled"))},disable:function(){this.ready&&(this.disabled=!0,this.$cropper.addClass("cropper-disabled"))},destroy:function(){var t=this.$element;this.loaded?(this.isImg&&this.replaced&&t.attr("src",this.originalUrl),this.unbuild(),t.removeClass(p)):this.isImg?t.off("load",this.start):this.$clone&&this.$clone.remove(),t.removeData("cropper")},move:function(t,e){var n=this.canvas,a=n.left,s=n.top;this.moveTo(i(t)?t:a+Number(t),i(e)?e:s+Number(e))},moveTo:function(t,n){var a=this.canvas,s=!1;i(n)&&(n=t),t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(e(t)&&(a.left=t,s=!0),e(n)&&(a.top=n,s=!0),s&&this.renderCanvas(!0))},zoom:function(t,e){var i=this.canvas;t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,e)},zoomTo:function(e,i){var n=this.options,a=this.pointers,s=this.canvas,o=s.width,r=s.height,l=s.naturalWidth,h=s.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&n.zoomable){var c=l*e,d=h*e,u=void 0;if(i&&(u=i.originalEvent),this.trigger("zoom",{originalEvent:u,oldRatio:o/l,ratio:c/l}).isDefaultPrevented())return;if(u){var p=this.$cropper.offset(),f=a&&C(a).length?function(e){var i=0,n=0,a=0;return t.each(e,function(t,e){var s=e.startX,o=e.startY;i+=s,n+=o,a+=1}),i/=a,n/=a,{pageX:i,pageY:n}}(a):{pageX:i.pageX||u.pageX||0,pageY:i.pageY||u.pageY||0};s.left-=(c-o)*((f.pageX-p.left-s.left)/o),s.top-=(d-r)*((f.pageY-p.top-s.top)/r)}else s.left-=(c-o)/2,s.top-=(d-r)/2;s.width=c,s.height=d,this.renderCanvas(!0)}},rotate:function(t){this.rotateTo((this.image.rotate||0)+Number(t))},rotateTo:function(t){e(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.image.rotate=t%360,this.renderCanvas(!0,!0))},scaleX:function(t){var i=this.image.scaleY;this.scale(t,e(i)?i:1)},scaleY:function(t){var i=this.image.scaleX;this.scale(e(i)?i:1,t)},scale:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.image,a=!1;t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(e(t)&&(n.scaleX=t,a=!0),e(i)&&(n.scaleY=i,a=!0),a&&this.renderCanvas(!0,!0))},getData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.image,a=this.canvas,s=this.cropBox,o=void 0;if(this.ready&&this.cropped){o={x:s.left-a.left,y:s.top-a.top,width:s.width,height:s.height};var r=n.width/n.naturalWidth;t.each(o,function(t,i){i/=r,o[t]=e?Math.round(i):i})}else o={x:0,y:0,width:0,height:0};return i.rotatable&&(o.rotate=n.rotate||0),i.scalable&&(o.scaleX=n.scaleX||1,o.scaleY=n.scaleY||1),o},setData:function(i){var n=this.options,a=this.image,s=this.canvas,o={};if(t.isFunction(i)&&(i=i.call(this.element)),this.ready&&!this.disabled&&t.isPlainObject(i)){var r=!1;n.rotatable&&e(i.rotate)&&i.rotate!==a.rotate&&(a.rotate=i.rotate,r=!0),n.scalable&&(e(i.scaleX)&&i.scaleX!==a.scaleX&&(a.scaleX=i.scaleX,r=!0),e(i.scaleY)&&i.scaleY!==a.scaleY&&(a.scaleY=i.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var l=a.width/a.naturalWidth;e(i.x)&&(o.left=i.x*l+s.left),e(i.y)&&(o.top=i.y*l+s.top),e(i.width)&&(o.width=i.width*l),e(i.height)&&(o.height=i.height*l),this.setCropBoxData(o)}},getContainerData:function(){return this.ready?t.extend({},this.container):{}},getImageData:function(){return this.loaded?t.extend({},this.image):{}},getCanvasData:function(){var e=this.canvas,i={};return this.ready&&t.each(["left","top","width","height","naturalWidth","naturalHeight"],function(t,n){i[n]=e[n]}),i},setCanvasData:function(i){var n=this.canvas,a=n.aspectRatio;t.isFunction(i)&&(i=i.call(this.$element)),this.ready&&!this.disabled&&t.isPlainObject(i)&&(e(i.left)&&(n.left=i.left),e(i.top)&&(n.top=i.top),e(i.width)?(n.width=i.width,n.height=i.width/a):e(i.height)&&(n.height=i.height,n.width=i.height*a),this.renderCanvas(!0))},getCropBoxData:function(){var t=this.cropBox;return this.ready&&this.cropped?{left:t.left,top:t.top,width:t.width,height:t.height}:{}},setCropBoxData:function(i){var n=this.cropBox,a=this.options.aspectRatio,s=void 0,o=void 0;t.isFunction(i)&&(i=i.call(this.$element)),this.ready&&this.cropped&&!this.disabled&&t.isPlainObject(i)&&(e(i.left)&&(n.left=i.left),e(i.top)&&(n.top=i.top),e(i.width)&&i.width!==n.width&&(s=!0,n.width=i.width),e(i.height)&&i.height!==n.height&&(o=!0,n.height=i.height),a&&(s?n.height=n.width/a:o&&(n.width=n.height*a)),this.renderCropBox())},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var i=this.canvas,n=c(this.$clone[0],this.image,i,e);if(!this.cropped)return n;var s=this.getData(),o=s.x,r=s.y,l=s.width,d=s.height,u=l/d,p=h({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=h({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0}),m=h({aspectRatio:u,width:e.width||l,height:e.height||d}),g=m.width,v=m.height;g=Math.min(p.width,Math.max(f.width,g)),v=Math.min(p.height,Math.max(f.height,v));var b=document.createElement("canvas"),y=b.getContext("2d");b.width=a(g),b.height=a(v),y.fillStyle=e.fillColor||"transparent",y.fillRect(0,0,g,v);var x=e.imageSmoothingEnabled,w=void 0===x||x,T=e.imageSmoothingQuality;y.imageSmoothingEnabled=w,T&&(y.imageSmoothingQuality=T);var C=n.width,S=n.height,M=o,A=r,k=void 0,D=void 0,P=void 0,_=void 0,N=void 0,E=void 0;M<=-l||M>C?(M=0,k=0,P=0,N=0):M<=0?(P=-M,M=0,N=k=Math.min(C,l+M)):M<=C&&(P=0,N=k=Math.min(l,C-M)),k<=0||A<=-d||A>S?(A=0,D=0,_=0,E=0):A<=0?(_=-A,A=0,E=D=Math.min(S,d+A)):A<=S&&(_=0,E=D=Math.min(d,S-A));var O=[M,A,k,D];if(N>0&&E>0){var I=g/l;O.push(P*I,_*I,N*I,E*I)}return y.drawImage.apply(y,[n].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(t.map(O,function(t){return Math.floor(a(t))})))),b},setAspectRatio:function(t){var e=this.options;this.disabled||i(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox()))},setDragMode:function(t){var e=this.options,i=void 0,n=void 0;this.loaded&&!this.disabled&&(i="crop"===t,n=e.movable&&"move"===t,t=i||n?t:"none",this.$dragBox.data("action",t).toggleClass("cropper-crop",i).toggleClass("cropper-move",n),e.cropBoxMovable||this.$face.data("action",t).toggleClass("cropper-crop",i).toggleClass("cropper-move",n))}},$=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),H=function(){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!i||!x.test(i.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=i,this.$element=t(i),this.options=t.extend({},w,t.isPlainObject(n)&&n),this.completed=!1,this.cropped=!1,this.disabled=!1,this.isImg=!1,this.limited=!1,this.loaded=!1,this.ready=!1,this.replaced=!1,this.wheeling=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.pointers={},this.init()}return $(e,[{key:"init",value:function(){var t=this.$element,e=void 0;if(t.is("img")){if(this.isImg=!0,e=t.attr("src")||"",this.originalUrl=e,!e)return;e=t.prop("src")}else t.is("canvas")&&window.HTMLCanvasElement&&(e=t[0].toDataURL());this.load(e)}},{key:"trigger",value:function(e,i){var n=t.Event(e,i);return this.$element.trigger(n),n}},{key:"load",value:function(e){var i=this;if(e){this.url=e,this.image={};var n=this.$element,a=this.options;if(a.checkOrientation&&window.ArrayBuffer)if(b.test(e))y.test(e)?this.read(function(e){var i=e.replace(N,""),n=atob(i),a=new ArrayBuffer(n.length),s=new Uint8Array(a);return t.each(s,function(t){s[t]=n.charCodeAt(t)}),a}(e)):this.clone();else{var r=new XMLHttpRequest;r.onerror=function(){i.clone()},r.onload=function(){i.read(r.response)},a.checkCrossOrigin&&s(e)&&n.prop("crossOrigin")&&(e=o(e)),r.open("get",e),r.responseType="arraybuffer",r.withCredentials="use-credentials"===n.prop("crossOrigin"),r.send()}else this.clone()}}},{key:"read",value:function(e){var i=this.options,n=this.image,a=d(e),s=0,o=1,r=1;if(a>1){this.url=function(e,i){var n=new Uint8Array(e),a="";return t.each(n,function(t,e){a+=_(e)}),"data:"+i+";base64,"+btoa(a)}(e,"image/jpeg");var l=function(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}(a);s=l.rotate,o=l.scaleX,r=l.scaleY}i.rotatable&&(n.rotate=s),i.scalable&&(n.scaleX=o,n.scaleY=r),this.clone()}},{key:"clone",value:function(){var e=this.$element,i=this.options,n=this.url,a="",r=void 0;i.checkCrossOrigin&&s(n)&&((a=e.prop("crossOrigin"))?r=n:(a="anonymous",r=o(n))),this.crossOrigin=a,this.crossOriginUrl=r;var l=document.createElement("img");a&&(l.crossOrigin=a),l.src=r||n;var h=t(l);this.$clone=h,this.isImg?this.element.complete?this.start():e.one("load",t.proxy(this.start,this)):h.one("load",t.proxy(this.start,this)).one("error",t.proxy(this.stop,this)).addClass("cropper-hide").insertAfter(e)}},{key:"start",value:function(){var e=this,i=this.$clone,n=this.$element;this.isImg||(i.off("error",this.stop),n=i),function(t,e){if(!t.naturalWidth||D){var i=document.createElement("img");i.onload=function(){e(i.width,i.height)},i.src=t.src}else e(t.naturalWidth,t.naturalHeight)}(n[0],function(i,n){t.extend(e.image,{naturalWidth:i,naturalHeight:n,aspectRatio:i/n}),e.loaded=!0,e.build()})}},{key:"stop",value:function(){this.$clone.remove(),this.$clone=null}},{key:"build",value:function(){var e=this;if(this.loaded){this.ready&&this.unbuild();var i=this.$element,n=this.options,a=this.$clone,s=t('<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>'),o=s.find(".cropper-crop-box"),r=o.find(".cropper-face");this.$container=i.parent(),this.$cropper=s,this.$canvas=s.find(".cropper-canvas").append(a),this.$dragBox=s.find(".cropper-drag-box"),this.$cropBox=o,this.$viewBox=s.find(".cropper-view-box"),this.$face=r,i.addClass(p).after(s),this.isImg||a.removeClass("cropper-hide"),this.initPreview(),this.bind(),n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,this.cropped=n.autoCrop,n.autoCrop?n.modal&&this.$dragBox.addClass("cropper-modal"):o.addClass(p),n.guides||o.find(".cropper-dashed").addClass(p),n.center||o.find(".cropper-center").addClass(p),n.cropBoxMovable&&r.addClass("cropper-move").data("action","all"),n.highlight||r.addClass("cropper-invisible"),n.background&&s.addClass("cropper-bg"),n.cropBoxResizable||o.find(".cropper-line,.cropper-point").addClass(p),this.setDragMode(n.dragMode),this.render(),this.ready=!0,this.setData(n.data),this.completing=setTimeout(function(){t.isFunction(n.ready)&&i.one("ready",n.ready),e.trigger("ready"),e.trigger("crop",e.getData()),e.completed=!0},0)}}},{key:"unbuild",value:function(){this.ready&&(this.completed||clearTimeout(this.completing),this.ready=!1,this.completed=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.unbind(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)}}],[{key:"setDefaults",value:function(e){t.extend(w,t.isPlainObject(e)&&e)}}]),e}();if(t.extend&&t.extend(H.prototype,E,O,I,L,B,R),t.fn){var V=t.fn.cropper;t.fn.cropper=function(e){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];var o=void 0;return this.each(function(i,n){var s=t(n),r=s.data("cropper");if(!r){if(/destroy/.test(e))return;var l=t.extend({},s.data(),t.isPlainObject(e)&&e);r=new H(n,l),s.data("cropper",r)}if(function(t){return"string"==typeof t}(e)){var h=r[e];t.isFunction(h)&&(o=h.apply(r,a))}}),i(o)?this:o},t.fn.cropper.Constructor=H,t.fn.cropper.setDefaults=H.setDefaults,t.fn.cropper.noConflict=function(){return t.fn.cropper=V,this}}}),function(t){"use strict";var e,i,n=t();t.fn.sortable=function(a){var s=String(a);return a=t.extend({connectWith:!1,placeholder:null,dragImage:null},a),this.each(function(){var o,r=t(this).children(a.items),l=a.handle?r.find(a.handle):r;if("reload"===s&&(t(this).children(a.items).off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s"),t(this).off("dragover.h5s dragenter.h5s drop.h5s")),/^enable|disable|destroy$/.test(s)){var h=t(this).children(t(this).data("items")).attr("draggable","enable"===s);return t(this).attr("aria-dropeffect",/^disable|destroy$/.test(s)?"none":"move"),void("destroy"===s&&(t(this).off("sortstart sortupdate"),t(this).removeData("opts"),h.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s dragover.h5s dragenter.h5s drop.h5s").off("sortupdate"),l.off("selectstart.h5s")))}var c=t(this).data("opts");void 0===c?t(this).data("opts",a):a=c;var d,u,p=null===a.placeholder?t("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder"/>'):t(a.placeholder).addClass("sortable-placeholder");t(this).data("items",a.items),n=n.add(p),a.connectWith&&t(a.connectWith).add(this).data("connectWith",a.connectWith),r.attr("role","option"),r.attr("aria-grabbed","false"),l.attr("draggable","true").not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end(),r.on("dragstart.h5s",function(n){n.stopImmediatePropagation();var s=n.originalEvent.dataTransfer;s.effectAllowed="move",s.setData("text",""),a.dragImage&&s.setDragImage&&s.setDragImage(a.dragImage,0,0),o=(e=t(this)).addClass("sortable-dragging").attr("aria-grabbed","true").index(),i=e.outerHeight(),d=t(this).parent(),e.parent().triggerHandler("sortstart",{item:e,startparent:d})}).on("dragend.h5s",function(){e&&(e.removeClass("sortable-dragging").attr("aria-grabbed","false").show(),n.detach(),u=t(this).parent(),o===e.index()&&d.get(0)===u.get(0)||e.parent().triggerHandler("sortupdate",{item:e,oldindex:o,startparent:d,endparent:u}),e=null,i=null)}).add([this,p]).on("dragover.h5s dragenter.h5s drop.h5s",function(s){if(!r.is(e)&&a.connectWith!==t(e).parent().data("connectWith"))return!0;if("drop"===s.type)return s.stopPropagation(),n.filter(":visible").after(e),e.trigger("dragend.h5s"),!1;if(s.preventDefault(),s.originalEvent.dataTransfer.dropEffect="move",r.is(this)){var o=t(this).outerHeight();if(a.forcePlaceholderSize&&p.height(i),o>i){var l=o-i,h=t(this).offset().top;if(p.index()<t(this).index()&&s.originalEvent.pageY<h+l)return!1;if(p.index()>t(this).index()&&s.originalEvent.pageY>h+o-l)return!1}e.hide(),t(this)[p.index()<t(this).index()?"after":"before"](p),n.not(p).detach()}else n.is(this)||t(this).children(a.items).length||(n.detach(),t(this).append(p));return!1})})}}(jQuery),function(t){void 0===t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var i=t([0]),n=-1,a=this.length;++n<a&&(i.context=i[0]=this[n])&&!1!==e.call(i[0],n,i););return this}})}(jQuery),function(t,e){"use strict";function i(e){var i=t(document.createTextNode(""));e.before(i),i.before(e),i.remove()}function n(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return E[t]||t})}function a(t,e){for(var i=0,n=e.length;i<n;i+=1)if(s(t,e[i]))return i;return-1}function s(t,i){return t===i||t!==e&&i!==e&&(null!==t&&null!==i&&(t.constructor===String?t+""==i+"":i.constructor===String&&i+""==t+""))}function o(t,e,i){var n,a,s;if(null===t||t.length<1)return[];for(a=0,s=(n=t.split(e)).length;a<s;a+=1)n[a]=i(n[a]);return n}function r(t){return t.outerWidth(!1)-t.width()}function l(i){var n="keyup-change-value";i.on("keydown",function(){t.data(i,n)===e&&t.data(i,n,i.val())}),i.on("keyup",function(){var a=t.data(i,n);a!==e&&i.val()!==a&&(t.removeData(i,n),i.trigger("keyup-change"))})}function h(t,i,n){n=n||e;var a;return function(){var e=arguments;window.clearTimeout(a),a=window.setTimeout(function(){i.apply(n,e)},t)}}function c(t){t.preventDefault(),t.stopPropagation()}function d(e,i,n){var a,s,o=[];(a=t.trim(e.attr("class")))&&t((a=""+a).split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&o.push(this)}),(a=t.trim(i.attr("class")))&&t((a=""+a).split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(s=n(this))&&o.push(s)}),e.attr("class",o.join(" "))}function u(t,e,i,a){var s=n(t.toUpperCase()).indexOf(n(e.toUpperCase())),o=e.length;s<0?i.push(a(t)):(i.push(a(t.substring(0,s))),i.push("<span class='select2-match'>"),i.push(a(t.substring(s,s+o))),i.push("</span>"),i.push(a(t.substring(s+o,t.length))))}function p(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function f(i){var n,a=null,s=i.quietMillis||100,o=i.url,r=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){var n=i.data,s=o,h=i.transport||t.fn.select2.ajaxDefaults.transport,c={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||e,dataType:i.dataType||"json"},d=t.extend({},t.fn.select2.ajaxDefaults.params,c);n=n?n.call(r,l.term,l.page,l.context):null,s="function"==typeof s?s.call(r,l.term,l.page,l.context):s,a&&"function"==typeof a.abort&&a.abort(),i.params&&(t.isFunction(i.params)?t.extend(d,i.params.call(r)):t.extend(d,i.params)),t.extend(d,{url:s,dataType:i.dataType,data:n,success:function(t){var e=i.results(t,l.page,l);l.callback(e)},error:function(t,e,i){var n={hasError:!0,jqXHR:t,textStatus:e,errorThrown:i};l.callback(n)}}),a=h.call(r,d)},s)}}function m(e){var i,n,a=e,s=function(t){return""+t.text};t.isArray(a)&&(a={results:n=a}),!1===t.isFunction(a)&&(n=a,a=function(){return n});var o=a();return o.text&&(s=o.text,t.isFunction(s)||(i=o.text,s=function(t){return t[i]})),function(e){var i,n=e.term,o={results:[]};""!==n?(i=function(a,o){var r,l;if((a=a[0]).children){r={};for(l in a)a.hasOwnProperty(l)&&(r[l]=a[l]);r.children=[],t(a.children).each2(function(t,e){i(e,r.children)}),(r.children.length||e.matcher(n,s(r),a))&&o.push(r)}else e.matcher(n,s(a),a)&&o.push(a)},t(a().results).each2(function(t,e){i(e,o.results)}),e.callback(o)):e.callback(a())}}function g(i){var n=t.isFunction(i);return function(a){var s=a.term,o={results:[]},r=n?i(a):i;t.isArray(r)&&(t(r).each(function(){var t=this.text!==e,i=t?this.text:this;(""===s||a.matcher(s,i))&&o.results.push(t?this:{id:this,text:this})}),a.callback(o))}}function v(e,i){if(t.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(i+" must be a string, function, or falsy value")}function b(e,i){if(t.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return e.apply(i,n)}return e}function y(e){var i=0;return t.each(e,function(t,e){e.children?i+=y(e.children):i++}),i}function x(){var e=this;t.each(arguments,function(t,i){e[i].remove(),e[i]=null})}function w(e,i){var n=function(){};return n.prototype=new e,n.prototype.constructor=n,n.prototype.parent=e.prototype,n.prototype=t.extend(n.prototype,i),n}if(window.Select2===e){var T,C,S,M,A,k,D,P={x:0,y:0},_={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case _.LEFT:case _.RIGHT:case _.UP:case _.DOWN:return!0}return!1},isControl:function(t){switch(t.which){case _.SHIFT:case _.CTRL:case _.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return(t=t.which?t.which:t)>=112&&t<=123}},N="<div class='select2-measure-scrollbar'></div>",E={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};k=t(document),M=function(){var t=1;return function(){return t++}}(),C=w(T=w(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var n,s;this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=t(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+M()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=t(document.body),d(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(b(i.containerCss,this.opts.element)),this.container.addClass(b(i.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",c),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),d(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(b(i.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",c),this.results=n=this.container.find(".select2-results"),this.search=s=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",c),function(i){i.on("mousemove",function(i){var n=P;n!==e&&n.x===i.pageX&&n.y===i.pageY||t(i.target).trigger("mousemove-filtered",i)})}(this.results),this.dropdown.on("mousemove-filtered",".select2-results",this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",".select2-results",this.bind(function(t){this._touchEvent=!0,this.highlightUnderEvent(t)})),this.dropdown.on("touchmove",".select2-results",this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",".select2-results",this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(t){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),function(t,e){var i=h(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){a(t.target,e.get())>=0&&i(t)})}(80,this.results),this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&n.mousewheel(function(t,e,i,a){var s=n.scrollTop();a>0&&s-a<=0?(n.scrollTop(0),c(t)):a<0&&n.get(0).scrollHeight-n.scrollTop()+a<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),c(t))}),l(s),s.on("keyup-change input paste",this.bind(this.updateResults)),s.on("focus",function(){s.addClass("select2-focused")}),s.on("blur",function(){s.removeClass("select2-focused")}),this.dropdown.on("mouseup",".select2-results",this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(t){t.stopPropagation()}),this.lastSearchTerm=e,t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var o=i.element.prop("disabled");o===e&&(o=!1),this.enable(!o);var r=i.element.prop("readonly");r===e&&(r=!1),this.readonly(r),D=D||function(){var e=t(N);e.appendTo(document.body);var i={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),i}(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,i=t.data("select2"),n=this;this.close(),t.length&&t[0].detachEvent&&n._sync&&t.each(function(){n._sync&&this.detachEvent("onpropertychange",n._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,i!==e&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),t.removeData("select2").off(".select2"),t.is("input[type='hidden']")?t.css("display",""):(t.show().prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())),x.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:s(t.attr("locked"),"locked")||s(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(i){var n,a,r,l,h=this;if("select"===(n=i.element).get(0).tagName.toLowerCase()&&(this.select=a=i.element),a&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i.debug=i.debug||t.fn.select2.defaults.debug,i.debug&&console&&console.warn&&(null!=i.id&&console.warn("Select2: The `id` option has been removed in Select2 4.0.0, consider renaming your `id` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=i.text&&console.warn("Select2: The `text` option has been removed in Select2 4.0.0, consider renaming your `text` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=i.sortResults&&console.warn("Select2: the `sortResults` option has been renamed to `sorter` in Select2 4.0.0. "),null!=i.selectOnBlur&&console.warn("Select2: The `selectOnBlur` option has been renamed to `selectOnClose` in Select2 4.0.0."),null!=i.ajax&&null!=i.ajax.results&&console.warn("Select2: The `ajax.results` option has been renamed to `ajax.processResults` in Select2 4.0.0."),null!=i.formatNoResults&&console.warn("Select2: The `formatNoResults` option has been renamed to `language.noResults` in Select2 4.0.0."),null!=i.formatSearching&&console.warn("Select2: The `formatSearching` option has been renamed to `language.searching` in Select2 4.0.0."),null!=i.formatInputTooShort&&console.warn("Select2: The `formatInputTooShort` option has been renamed to `language.inputTooShort` in Select2 4.0.0."),null!=i.formatInputTooLong&&console.warn("Select2: The `formatInputTooLong` option has been renamed to `language.inputTooLong` in Select2 4.0.0."),null!=i.formatLoading&&console.warn("Select2: The `formatLoading` option has been renamed to `language.loadingMore` in Select2 4.0.0."),null!=i.formatSelectionTooBig&&console.warn("Select2: The `formatSelectionTooBig` option has been renamed to `language.maximumSelected` in Select2 4.0.0."),i.element.data("select2Tags")&&console.warn("Select2: The `data-select2-tags` attribute has been renamed to `data-tags` in Select2 4.0.0.")),null!=i.element.data("tags")){var c=i.element.data("tags");t.isArray(c)||(c=[]),i.element.data("select2Tags",c)}if(null!=i.sorter&&(i.sortResults=i.sorter),null!=i.selectOnClose&&(i.selectOnBlur=i.selectOnClose),null!=i.ajax&&t.isFunction(i.ajax.processResults)&&(i.ajax.results=i.ajax.processResults),null!=i.language){var d=i.language;t.isFunction(d.noMatches)&&(i.formatNoMatches=d.noMatches),t.isFunction(d.searching)&&(i.formatSearching=d.searching),t.isFunction(d.inputTooShort)&&(i.formatInputTooShort=d.inputTooShort),t.isFunction(d.inputTooLong)&&(i.formatInputTooLong=d.inputTooLong),t.isFunction(d.loadingMore)&&(i.formatLoading=d.loadingMore),t.isFunction(d.maximumSelected)&&(i.formatSelectionTooBig=d.maximumSelected)}if("function"!=typeof(i=t.extend({},{populateResults:function(n,a,s){var o,r=this.opts.id,l=this.liveRegion;(o=function(n,a,c){var d,u,p,f,m,g,v,b,y,x,w=[];for(d=0,u=(n=i.sortResults(n,a,s)).length;d<u;d+=1)f=!(m=!0===(p=n[d]).disabled)&&r(p)!==e,g=p.children&&p.children.length>0,(v=t("<li></li>")).addClass("select2-results-dept-"+c),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(h.opts.formatResultCssClass(p)),v.attr("role","presentation"),(b=t(document.createElement("div"))).addClass("select2-result-label"),b.attr("id","select2-result-label-"+M()),b.attr("role","option"),(x=i.formatResult(p,b,s,h.opts.escapeMarkup))!==e&&(b.html(x),v.append(b)),g&&((y=t("<ul></ul>")).addClass("select2-result-sub"),o(p.children,y,c+1),v.append(y)),v.data("select2-data",p),w.push(v[0]);a.append(w),l.text(i.formatMatches(n.length))})(a,n,0)}},t.fn.select2.defaults,i)).id&&(r=i.id,i.id=function(t){return t[r]}),t.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(a?(i.query=this.bind(function(t){var i,a,s,o={results:[],more:!1},r=t.term;s=function(e,i){var n;e.is("option")?t.matcher(r,e.text(),e)&&i.push(h.optionToData(e)):e.is("optgroup")&&(n=h.optionToData(e),e.children().each2(function(t,e){s(e,n.children)}),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==e&&i.length>0&&(a=this.getPlaceholderOption())&&(i=i.not(a)),i.each2(function(t,e){s(e,o.results)}),t.callback(o)}),i.id=function(t){return t.id}):"query"in i||("ajax"in i?((l=i.element.data("ajax-url"))&&l.length>0&&(i.ajax.url=l),i.query=f.call(i.element,i.ajax)):"data"in i?i.query=m(i.data):"tags"in i&&(i.query=g(i.tags),i.createSearchChoice===e&&(i.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),i.initSelection===e&&(i.initSelection=function(e,n){var a=[];t(o(e.val(),i.separator,i.transformVal)).each(function(){var e={id:this,text:this},n=i.tags;t.isFunction(n)&&(n=n()),t(n).each(function(){if(s(this.id,e.id))return e=this,!1}),a.push(e)}),n(a)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,n=this.opts.element,a=this;n.on("change.select2",this.bind(function(t){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var t=n.prop("disabled");t===e&&(t=!1),this.enable(!t);var i=n.prop("readonly");i===e&&(i=!1),this.readonly(i),this.container&&(d(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(b(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(d(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(b(this.opts.dropdownCssClass,this.opts.element)))}),n.length&&n[0].attachEvent&&n.each(function(){this.attachEvent("onpropertychange",a._sync)}),(i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(function(e){t.each(e,a._sync)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var i=t.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,i,n,a,s,o=this.dropdown,r=this.container,l=r.offset(),h=r.outerHeight(!1),c=r.outerWidth(!1),d=o.outerHeight(!1),u=t(window),p=u.width(),f=u.height(),m=u.scrollLeft()+p,g=u.scrollTop()+f,v=l.top+h,y=l.left,x=v+d<=g,w=l.top-d>=u.scrollTop(),T=o.outerWidth(!1);o.hasClass("select2-drop-above")?(i=!0,!w&&x&&(n=!0,i=!1)):(i=!1,!x&&w&&(n=!0,i=!0)),n&&(o.hide(),l=this.container.offset(),h=this.container.outerHeight(!1),c=this.container.outerWidth(!1),d=o.outerHeight(!1),m=u.scrollLeft()+p,g=u.scrollTop()+f,v=l.top+h,y=l.left,T=o.outerWidth(!1),o.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(s=t(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),(T=o.outerWidth(!1)+(s.scrollHeight===s.clientHeight?0:D.width))>c?c=T:T=c,d=o.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(v-=(e=this.body.offset()).top,y-=e.left),!(y+T<=m)&&l.left+m+r.outerWidth(!1)>T&&(y=l.left+this.container.outerWidth(!1)-T),a={left:y,width:c},i?(this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above"),d=o.outerHeight(!1),a.top=l.top-d,a.bottom="auto"):(a.top=v,a.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),a=t.extend(a,b(this.opts.dropdownCss,this.opts.element)),o.css(a)},shouldOpen:function(){var e;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),k.on("mousemove.select2Event",function(t){P.x=t.pageX,P.y=t.pageY}),!0)},opening:function(){var e,n=this.containerEventName,a="scroll."+n,s="resize."+n,o="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0===(e=t("#select2-drop-mask")).length&&((e=t(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body),e.on("mousedown touchstart click",function(n){i(e);var a,s=t("#select2-drop");s.length>0&&((a=s.data("select2")).opts.selectOnBlur&&a.selectHighlighted({noFocus:!0}),a.close(),n.preventDefault(),n.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var r=this;this.container.parents().add(window).each(function(){t(this).on(s+" "+a+" "+o,function(t){r.opened()&&r.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerEventName,i="scroll."+e,n="resize."+e,a="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(i).off(n).off(a)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),k.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.search.removeAttr("aria-activedescendant"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},prefillNextSearchTerm:function(){if(""!==this.search.val())return!1;var t=this.opts.nextSearchTerm(this.data(),this.lastSearchTerm);return t!==e&&(this.search.val(t),this.search.select(),!0)},getMaximumSelectionSize:function(){return b(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e,i,n,a,s,o,r,l,h=this.results;(i=this.highlight())<0||(0!=i?(e=this.findHighlightableChoices().find(".select2-result-label"),a=(l=((n=t(e[i])).offset()||{}).top||0)+n.outerHeight(!0),i===e.length-1&&(r=h.find("li.select2-more-results")).length>0&&(a=r.offset().top+r.outerHeight(!0)),a>(s=h.offset().top+h.outerHeight(!1))&&h.scrollTop(h.scrollTop()+(a-s)),(o=l-h.offset().top)<0&&"none"!=n.css("display")&&h.scrollTop(h.scrollTop()+o)):h.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){var a=t(i[n+=e]);if(a.hasClass("select2-result-selectable")&&!a.hasClass("select2-disabled")&&!a.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(e){var i,n,s=this.findHighlightableChoices();if(0===arguments.length)return a(s.filter(".select2-highlighted")[0],s.get());e>=s.length&&(e=s.length-1),e<0&&(e=0),this.removeHighlight(),(i=t(s[e])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),(n=i.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,e=t.find("li.select2-more-results"),i=this.resultsPage+1,n=this,a=this.search.val(),s=this.context;0!==e.length&&e.offset().top-t.offset().top-t.height()<=this.opts.loadMorePadding&&(e.addClass("select2-active"),this.opts.query({element:this.opts.element,term:a,page:i,context:s,matcher:this.opts.matcher,callback:this.bind(function(o){n.opened()&&(n.opts.populateResults.call(this,t,o.results,{term:a,page:i,context:s}),n.postprocessResults(o,!1,!1),!0===o.more?(e.detach().appendTo(t).html(n.opts.escapeMarkup(b(n.opts.formatLoadMore,n.opts.element,i+1))),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):e.remove(),n.positionDropdown(),n.resultsPage=i,n.context=o.context,this.opts.element.trigger({type:"select2-loaded",items:o}))})}))},tokenize:function(){},updateResults:function(i){function n(){h.removeClass("select2-active"),u.positionDropdown(),c.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?u.liveRegion.text(c.text()):u.liveRegion.text(u.opts.formatMatches(c.find('.select2-result-selectable:not(".select2-selected")').length))}function a(t){c.html(t),n()}var o,r,l,h=this.search,c=this.results,d=this.opts,u=this,p=h.val(),f=t.data(this.container,"select2-last-term");if((!0===i||!f||!s(p,f))&&(t.data(this.container,"select2-last-term",p),!0===i||!1!==this.showSearchInput&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(!(m>=1&&(o=this.data(),t.isArray(o)&&o.length>=m&&v(d.formatSelectionTooBig,"formatSelectionTooBig"))))return h.val().length<d.minimumInputLength?(a(v(d.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+b(d.formatInputTooShort,d.element,h.val(),d.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0))):void(d.maximumInputLength&&h.val().length>d.maximumInputLength?a(v(d.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+b(d.formatInputTooLong,d.element,h.val(),d.maximumInputLength)+"</li>":""):(d.formatSearching&&0===this.findHighlightableChoices().length&&a("<li class='select2-searching'>"+b(d.formatSearching,d.element)+"</li>"),h.addClass("select2-active"),this.removeHighlight(),(r=this.tokenize())!=e&&null!=r&&h.val(r),this.resultsPage=1,d.query({element:d.element,term:h.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(o){var r;if(l==this.queryCount)if(this.opened())if(o.hasError!==e&&v(d.formatAjaxError,"formatAjaxError"))a("<li class='select2-ajax-error'>"+b(d.formatAjaxError,d.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>");else{if(this.context=o.context===e?null:o.context,this.opts.createSearchChoice&&""!==h.val()&&(r=this.opts.createSearchChoice.call(u,h.val(),o.results))!==e&&null!==r&&u.id(r)!==e&&null!==u.id(r)&&0===t(o.results).filter(function(){return s(u.id(this),u.id(r))}).length&&this.opts.createSearchChoicePosition(o.results,r),0===o.results.length&&v(d.formatNoMatches,"formatNoMatches"))return a("<li class='select2-no-results'>"+b(d.formatNoMatches,d.element,h.val())+"</li>"),void(this.showSearch&&this.showSearch(h.val()));c.empty(),u.opts.populateResults.call(this,c,o.results,{term:h.val(),page:this.resultsPage,context:null}),!0===o.more&&v(d.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+d.escapeMarkup(b(d.formatLoadMore,d.element,this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(o,i),n(),this.opts.element.trigger({type:"select2-loaded",items:o})}else this.search.removeClass("select2-active")})})));a("<li class='select2-selection-limit'>"+b(d.formatSelectionTooBig,d.element,m)+"</li>")}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){!function(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,i=t[0],n=t.val().length;t.focus(),(i.offsetWidth>0||i.offsetHeight>0)&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&((e=i.createTextRange()).collapse(!1),e.select()))},0)}(this.search)},selectHighlighted:function(t){if(this._touchMoved)this.clearTouchMoved();else{var e=this.highlight(),i=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");i?(this.highlight(e),this.onSelect(i,t)):t&&t.noFocus&&this.close()}},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){var e=function(){var e,i,n,a,s,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if("string"==typeof(e=this.opts.element.attr("style")))for(a=0,s=(i=e.split(";")).length;a<s;a+=1)if(o=i[a].replace(/\s/g,""),null!==(n=o.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&n.length>=1)return n[1];return"resolve"===this.opts.width?(e=this.opts.element.css("width")).indexOf("%")>0?e:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==e&&this.container.css("width",e)}}),{createContainer:function(){return t(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var e,i,n;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(e=this.search.get(0)).createTextRange?((i=e.createTextRange()).collapse(!1),i.select()):e.setSelectionRange&&(n=this.search.val().length,e.setSelectionRange(n,n))),this.prefillNextSearchTerm(),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),x.call(this,"selection","focusser")},initContainer:function(){var e,n,a=this.container,s=this.dropdown,o=M();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=a.find(".select2-choice"),this.focusser=a.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+o),this.focusser.attr("aria-labelledby","select2-chosen-"+o),this.results.attr("id","select2-results-"+o),this.search.attr("aria-owns","select2-results-"+o),this.focusser.attr("id","s2id_autogen"+o),n=t("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var r=this.opts.element.attr("title");this.opts.element.attr("title",r||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(t("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&229!=t.keyCode)if(t.which!==_.PAGE_UP&&t.which!==_.PAGE_DOWN)switch(t.which){case _.UP:case _.DOWN:return this.moveHighlight(t.which===_.UP?-1:1),void c(t);case _.ENTER:return this.selectHighlighted(),void c(t);case _.TAB:return void this.selectHighlighted({noFocus:!0});case _.ESC:return this.cancel(t),void c(t)}else c(t)})),this.search.on("blur",this.bind(function(t){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.results&&this.results.length>1&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==_.TAB&&!_.isControl(t)&&!_.isFunctionKey(t)&&t.which!==_.ESC){if(!1!==this.opts.openOnEnter||t.which!==_.ENTER){if(t.which==_.DOWN||t.which==_.UP||t.which==_.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void c(t)}return t.which==_.DELETE||t.which==_.BACKSPACE?(this.opts.allowClear&&this.clear(),void c(t)):void 0}c(t)}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),function(t){t.preventDefault(),t.stopImmediatePropagation()}(t),this.close(),this.selection&&this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(n){i(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),c(n)})),s.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),e.on("focus",this.bind(function(t){c(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(e){var i=this.selection.data("select2-data");if(i){var n=t.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var a=this.getPlaceholderOption();this.opts.element.val(a?a.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==e&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.setPlaceholder(),t.lastSearchTerm=t.search.val())})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()!==e&&((t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val())},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=t.find("option").filter(function(){return this.selected&&!this.disabled});e(i.optionToData(n))}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var a=i.val(),o=null;e.query({matcher:function(t,i,n){var r=s(a,e.id(n));return r&&(o=n),r},callback:t.isFunction(n)?function(){n(o)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,i){var n=0,a=this;if(this.findHighlightableChoices().each2(function(t,e){if(s(a.id(e.data("select2-data")),a.opts.element.val()))return n=t,!1}),!1!==i&&(!0===e&&n>=0?this.highlight(n):this.highlight(0)),!0===e){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(y(t.results)>=o)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.lastSearchTerm=this.search.val(),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),s(i,this.id(t))||this.triggerChange({added:t,removed:n})}},updateSelection:function(t){var i,n,a=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),a.empty(),null!==t&&(i=this.opts.formatSelection(t,a,this.opts.escapeMarkup)),i!==e&&a.append(i),(n=this.opts.formatSelectionCssClass(t,a))!==e&&a.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,i=!1,n=null,a=this,s=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1],this.opts.debug&&console&&console.warn&&console.warn('Select2: The second option to `select2("val")` is not supported in Select2 4.0.0. The `change` event will always be triggered in 4.0.0.')),this.select)this.opts.debug&&console&&console.warn&&console.warn('Select2: Setting the value on a <select> using `select2("val")` is no longer supported in 4.0.0. You can use the `.val(newValue).trigger("change")` method provided by jQuery instead.'),this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return n=a.optionToData(e),!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:s});else{if(!t&&0!==t)return void this.clear(i);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){a.opts.element.val(t?a.id(t):""),a.updateSelection(t),a.setPlaceholder(),i&&a.triggerChange({added:t,removed:s})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var i,n=!1;if(0===arguments.length)return(i=this.selection.data("select2-data"))==e&&(i=null),i;this.opts.debug&&console&&console.warn&&console.warn('Select2: The `select2("data")` method can no longer set selected values in 4.0.0, consider using the `.val()` method instead.'),arguments.length>1&&(n=arguments[1]),t?(i=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),n&&this.triggerChange({added:t,removed:i})):this.clear(n)}}),S=w(T,{createContainer:function(){return t(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,e){n.push(i.optionToData(e))}),e(n)}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var a=o(i.val(),e.separator,e.transformVal),r=[];e.query({matcher:function(i,n,o){var l=t.grep(a,function(t){return s(t,e.id(o))}).length;return l&&r.push(o),l},callback:t.isFunction(n)?function(){for(var t=[],i=0;i<a.length;i++)for(var o=a[i],l=0;l<r.length;l++){var h=r[l];if(s(o,e.id(h))){t.push(h),r.splice(l,1);break}}n(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),x.call(this,"searchContainer","selection")},initContainer:function(){var e,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(i);var n=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(e){n.search[0].focus(),n.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+M()),this.search.prev().text(t("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(i){if(this.isInterfaceEnabled()){++this.keydowns;var n=e.find(".select2-search-choice-focus"),a=n.prev(".select2-search-choice:not(.select2-locked)"),s=n.next(".select2-search-choice:not(.select2-locked)"),o=function(e){var i=0,n=0;if("selectionStart"in(e=t(e)[0]))i=e.selectionStart,n=e.selectionEnd-i;else if("selection"in document){e.focus();var a=document.selection.createRange();n=document.selection.createRange().text.length,a.moveStart("character",-e.value.length),i=a.text.length-n}return{offset:i,length:n}}(this.search);if(n.length&&(i.which==_.LEFT||i.which==_.RIGHT||i.which==_.BACKSPACE||i.which==_.DELETE||i.which==_.ENTER)){var r=n;return i.which==_.LEFT&&a.length?r=a:i.which==_.RIGHT?r=s.length?s:null:i.which===_.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),r=a.length?a:s):i.which==_.DELETE?this.unselect(n.first())&&(this.search.width(10),r=s.length?s:null):i.which==_.ENTER&&(r=null),this.selectChoice(r),c(i),void(r&&r.length||this.open())}if((i.which===_.BACKSPACE&&1==this.keydowns||i.which==_.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void c(i);if(this.selectChoice(null),this.opened())switch(i.which){case _.UP:case _.DOWN:return this.moveHighlight(i.which===_.UP?-1:1),void c(i);case _.ENTER:return this.selectHighlighted(),void c(i);case _.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case _.ESC:return this.cancel(i),void c(i)}if(i.which!==_.TAB&&!_.isControl(i)&&!_.isFunctionKey(i)&&i.which!==_.BACKSPACE&&i.which!==_.ESC){if(i.which===_.ENTER){if(!1===this.opts.openOnEnter)return;if(i.altKey||i.ctrlKey||i.shiftKey||i.metaKey)return}this.open(),i.which!==_.PAGE_UP&&i.which!==_.PAGE_DOWN||c(i),i.which===_.ENTER&&c(i)}}})),this.search.on("keyup",this.bind(function(t){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),i=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(t).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.prefillNextSearchTerm(),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i={},n=[],a=this;t(e).each(function(){a.id(this)in i||(i[a.id(this)]=0,n.push(this))}),this.selection.find(".select2-search-choice").remove(),this.addSelectedChoice(n),a.postprocessResults()},tokenize:function(){var t=this.search.val();null!=(t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts))&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&""!==t.text&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.lastSearchTerm=this.search.val(),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(t,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.prefillNextSearchTerm()&&this.updateResults(),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(e){var i=this.getVal(),n=this;t(e).each(function(){i.push(n.createChoice(this))}),this.setVal(i)},createChoice:function(i){var n,a,s=!i.locked,o=t("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=s?o:r,h=this.id(i);return(n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup))!=e&&l.find("div").replaceWith(t("<div></div>").html(n)),(a=this.opts.formatSelectionCssClass(i,l.find("div")))!=e&&l.addClass(a),s&&l.find(".select2-search-choice-close").on("mousedown",c).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),c(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),h},unselect:function(e){var i,n,s=this.getVal();if(0===(e=e.closest(".select2-search-choice")).length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(i=e.data("select2-data")){var o=t.Event("select2-removing");if(o.val=this.id(i),o.choice=i,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(n=a(this.id(i),s))>=0;)s.splice(n,1),this.setVal(s),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(t,e,i){var n=this.getVal(),s=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),r=this;s.each2(function(t,e){a(r.id(e.data("select2-data")),n)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&!1!==i&&!0===this.opts.closeOnSelect&&r.highlight(0),!this.opts.createSearchChoice&&!s.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&v(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+b(r.opts.formatNoMatches,r.opts.element,r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-r(this.search)},resizeSearch:function(){var e,i,n,a,s=r(this.search);e=function(e){if(!A){var i=e[0].currentStyle||window.getComputedStyle(e[0],null);(A=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),t(document.body).append(A)}return A.text(e.val()),A.width()}(this.search)+10,i=this.search.offset().left,(a=(n=this.selection.width())-(i-this.selection.offset().left)-s)<e&&(a=n-s),a<40&&(a=n-s),a<=0&&(a=e),this.search.width(Math.floor(a))},getVal:function(){var t;return this.select?null===(t=this.select.val())?[]:t:(t=this.opts.element.val(),o(t,this.opts.separator,this.opts.transformVal))},setVal:function(e){if(this.select)this.select.val(e);else{var i=[],n={};t(e).each(function(){this in n||(i.push(this),n[this]=0)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator))}},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),i=0;i<e.length;i++)for(var n=0;n<t.length;n++)if(s(this.opts.id(e[i]),this.opts.id(t[n]))){e.splice(i,1),i--,t.splice(n,1);break}return{added:e,removed:t}},val:function(i,n){var a,s=this;if(0===arguments.length)return this.getVal();if((a=this.data()).length||(a=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:a}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(a,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var i=t.map(e,s.id);s.setVal(i),s.updateSelection(e),s.clearSearch(),n&&s.triggerChange(s.buildChangeDetails(a,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(i.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,i){var n,a,s=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get();a=this.data(),e||(e=[]),n=t.map(e,function(t){return s.opts.id(t)}),this.setVal(n),this.updateSelection(e),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(a,this.data()))}}),t.fn.select2=function(){var i,n,s,o,r,l=Array.prototype.slice.call(arguments,0),h=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],d=["val","data"],u={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])(i=0===l.length?{}:t.extend({},l[0])).element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?r=i.element.prop("multiple"):(r=i.multiple||!1,"tags"in i&&(i.multiple=r=!0)),(n=r?new window.Select2.class.multi:new window.Select2.class.single).init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(a(l[0],h)<0)throw"Unknown method: "+l[0];if(o=e,(n=t(this).data("select2"))===e)return;if("container"===(s=l[0])?o=n.container:"dropdown"===s?o=n.dropdown:(u[s]&&(s=u[s]),o=n[s].apply(n,l.slice(1))),a(l[0],c)>=0||a(l[0],d)>=0&&1==l.length)return!1}}),o===e?this:o},t.fn.select2.defaults={debug:!1,width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,n){var a=[];return u(this.text(t),i.term,a,n),a.join("")},transformVal:function(e){return t.trim(e)},formatSelection:function(t,i,n){return t?n(this.text(t)):e},sortResults:function(t,e,i){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(t,i){return e},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},text:function(e){return e&&this.data&&this.data.text?t.isFunction(this.data.text)?this.data.text(e):e[this.data.text]:e.text},matcher:function(t,e){return n(""+e).toUpperCase().indexOf(n(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(t,i,n,a){var o,r,l,h,c,d=t,u=!1;if(!a.createSearchChoice||!a.tokenSeparators||a.tokenSeparators.length<1)return e;for(;;){for(r=-1,l=0,h=a.tokenSeparators.length;l<h&&(c=a.tokenSeparators[l],!((r=t.indexOf(c))>=0));l++);if(r<0)break;if(o=t.substring(0,r),t=t.substring(r+c.length),o.length>0&&(o=a.createSearchChoice.call(this,o,i))!==e&&null!==o&&a.id(o)!==e&&null!==a.id(o)){for(u=!1,l=0,h=i.length;l<h;l++)if(s(a.id(o),a.id(i[l]))){u=!0;break}u||n(o)}}return d!==t?t:void 0},escapeMarkup:p,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(t){return null},nextSearchTerm:function(t,i){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){return!("ontouchstart"in window||navigator.msMaxTouchPoints>0)||!(t.opts.minimumResultsForSearch<0)}},t.fn.select2.locales=[],t.fn.select2.locales.en={formatMatches:function(t){return 1===t?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(t,e,i){return"Loading failed"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(t){return"Loading more results…"},formatSearching:function(){return"Searching…"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.en),t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:f,local:m,tags:g},util:{debounce:h,markMatch:u,escapeMarkup:p,stripDiacritics:n},class:{abstract:T,single:C,multi:S}}}}(jQuery),function(t){"use strict";t.fn.select2.locales.fr={formatMatches:function(t){return t+" résultats sont disponibles, utilisez les flèches haut et bas pour naviguer."},formatNoMatches:function(){return"Aucun résultat trouvé"},formatInputTooShort:function(t,e){var i=e-t.length;return"Saisissez "+i+" caractère"+(1==i?"":"s")+" supplémentaire"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Supprimez "+i+" caractère"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"Vous pouvez seulement sélectionner "+t+" élément"+(1==t?"":"s")},formatLoadMore:function(t){return"Chargement de résultats supplémentaires…"},formatSearching:function(){return"Recherche en cours…"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.fr)}(jQuery),function(t){function e(t){return t.prev(".select2-container").find("ul.select2-choices")}function i(e,i){e.sortable({forcePlaceholderSize:!0,items:"li.select2-search-choice",placeholder:"<li>&nbsp;</li>"}),i&&i.bindSortEvent&&i.$select&&e.bind("sortupdate",function(n,a){t(e.find("li.select2-search-choice").get().reverse()).each(function(){var e=t(this).data("select2Data").id,n=i.$select.find('option[value="'+e+'"]')[0];i.$select.prepend(n)})})}function n(i,n){var a=e(i),s=a.find(".select2-search-choice");t.each(n,function(e,i){s.each(function(){i==t(this).data("select2Data").id&&t(this).insertBefore(a.find(".select2-search-field"))})}),a.trigger("sortupdate")}t.fn.extend({select2Sortable:function(a){return this.each(function(){var s=t(this);if(s.prop("multiple")){if(!s.data("hasSelect2Sortable")){!function(t){var n,a;t.select2(),a=e(t),n=new MutationObserver(function(t){i(a),n.disconnect()}),t.on("select2-selecting",function(){n.observe(a.get(0),{subtree:!1,childList:!0,attributes:!1})}),i(a,{bindSortEvent:!0,$select:t}),t.data("hasSelect2Sortable",!0)}(s);var o=s.attr("data-order");o&&n(s,o.split(","))}a&&n(s,a)}}),this}})}(window.jQuery),function t(e,i,n){function a(o,r){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return a(i||t)},c,c.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(t,e,i){function n(t){this.message=t}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(n.prototype=new Error).name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,s,o=0,r=0,l="";s=e.charAt(r++);~s&&(i=o%4?64*i+s:s,o++%4)?l+=String.fromCharCode(255&i>>(-2*o&6)):0)s=a.indexOf(s);return l}},{}],2:[function(t,e,i){var n=t("./atob");e.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(n(t).replace(/(.)/g,function(t,e){var i=e.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}(e)}catch(t){return n(e)}}},{"./atob":1}],3:[function(t,e,i){"use strict";function n(t){this.message=t}var a=t("./base64_url_decode");(n.prototype=new Error).name="InvalidTokenError",e.exports=function(t,e){if("string"!=typeof t)throw new n("Invalid token specified");var i=!0===(e=e||{}).header?0:1;try{return JSON.parse(a(t.split(".")[i]))}catch(t){throw new n("Invalid token specified: "+t.message)}},e.exports.InvalidTokenError=n},{"./base64_url_decode":2}],4:[function(t,e,i){(function(e){var i=t("./lib/index");"function"==typeof e.window.define&&e.window.define.amd?e.window.define("jwt_decode",function(){return i}):e.window&&(e.window.jwt_decode=i)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/index":3}]},{},[4]),$(document).on("load",function(t,e){$(e).find("[data-smart-click-pixel]").each(function(){var t=$(this).data(),e=[];$.each(t.smartUrls,function(i,n){$('a[data-smart-id="'+i+'"]').on("click",function(){$(this).append($('<img style="display: none;" />').attr("src",t.smartPixelUrl.replace("%d",n))),e.push(n)})}),$(document).find("[data-smart-id]").each(function(){var i=$(this).data("smartId");-1===e.indexOf(i)&&$(this).on("click",function(){$(this).append($('<img style="display: none;" />').attr("src",t.smartPixelUrl.replace("%d",i)))})})})}),function(t,e){t(function(){"use strict";function t(t,e){return null!=t&&null!=e&&t.toLowerCase()===e.toLowerCase()}function e(t){for(var e in t)s.call(t,e)&&(t[e]=new RegExp(t[e],"i"))}function i(t,e){this.ua=t||"",this._cache={},this.maxPhoneWidth=e||600}var n={};n.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b",Samsung:"Samsung|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)|^.*Android.*Nexus(?:(?!Mobile).)*$",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI)\\b",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K017 |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD",LenovoTablet:"Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris E10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.*\\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",Hudl:"Hudl HT7S3",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bJolla\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",Tizen:"Tizen",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:"Firefox/[VER]",Fennec:"Fennec/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},n.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var a,s=Object.prototype.hasOwnProperty;return n.FALLBACK_PHONE="UnknownPhone",n.FALLBACK_TABLET="UnknownTablet",n.FALLBACK_MOBILE="UnknownMobile",a="isArray"in Array?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},function(){var t,i,o,r,l,h,c=n.mobileDetectRules;for(t in c.props)if(s.call(c.props,t)){for(i=c.props[t],a(i)||(i=[i]),l=i.length,r=0;r<l;++r)(h=(o=i[r]).indexOf("[VER]"))>=0&&(o=o.substring(0,h)+"([\\w._\\+]+)"+o.substring(h+5)),i[r]=new RegExp(o,"i");c.props[t]=i}e(c.oss),e(c.phones),e(c.tablets),e(c.uas),e(c.utils),c.oss0={WindowsPhoneOS:c.oss.WindowsPhoneOS,WindowsMobileOS:c.oss.WindowsMobileOS}}(),n.findMatch=function(t,e){for(var i in t)if(s.call(t,i)&&t[i].test(e))return i;return null},n.getVersionStr=function(t,e){var i,a,o,r,l=n.mobileDetectRules.props;if(s.call(l,t))for(o=(i=l[t]).length,a=0;a<o;++a)if(null!==(r=i[a].exec(e)))return r[1];return null},n.getVersion=function(t,e){var i=n.getVersionStr(t,e);return i?n.prepareVersionNo(i):NaN},n.prepareVersionNo=function(t){var e;return 1===(e=t.split(/[a-z._ \/\-]/i)).length&&(t=e[0]),e.length>1&&(t=e[0]+".",e.shift(),t+=e.join("")),Number(t)},n.isMobileFallback=function(t){return n.detectMobileBrowsers.fullPattern.test(t)||n.detectMobileBrowsers.shortPattern.test(t.substr(0,4))},n.isTabletFallback=function(t){return n.detectMobileBrowsers.tabletPattern.test(t)},n.prepareDetectionCache=function(t,e,a){if(void 0===t.mobile){var s,o,r;if(o=n.findMatch(n.mobileDetectRules.tablets,e))return t.mobile=t.tablet=o,void(t.phone=null);if(s=n.findMatch(n.mobileDetectRules.phones,e))return t.mobile=t.phone=s,void(t.tablet=null);n.isMobileFallback(e)?void 0===(r=i.isPhoneSized(a))?(t.mobile=n.FALLBACK_MOBILE,t.tablet=t.phone=null):r?(t.mobile=t.phone=n.FALLBACK_PHONE,t.tablet=null):(t.mobile=t.tablet=n.FALLBACK_TABLET,t.phone=null):n.isTabletFallback(e)?(t.mobile=t.tablet=n.FALLBACK_TABLET,t.phone=null):t.mobile=t.tablet=t.phone=null}},n.mobileGrade=function(t){var e=null!==t.mobile();return t.os("iOS")&&t.version("iPad")>=4.3||t.os("iOS")&&t.version("iPhone")>=3.1||t.os("iOS")&&t.version("iPod")>=3.1||t.version("Android")>2.1&&t.is("Webkit")||t.version("Windows Phone OS")>=7||t.is("BlackBerry")&&t.version("BlackBerry")>=6||t.match("Playbook.*Tablet")||t.version("webOS")>=1.4&&t.match("Palm|Pre|Pixi")||t.match("hp.*TouchPad")||t.is("Firefox")&&t.version("Firefox")>=12||t.is("Chrome")&&t.is("AndroidOS")&&t.version("Android")>=4||t.is("Skyfire")&&t.version("Skyfire")>=4.1&&t.is("AndroidOS")&&t.version("Android")>=2.3||t.is("Opera")&&t.version("Opera Mobi")>11&&t.is("AndroidOS")||t.is("MeeGoOS")||t.is("Tizen")||t.is("Dolfin")&&t.version("Bada")>=2||(t.is("UC Browser")||t.is("Dolfin"))&&t.version("Android")>=2.3||t.match("Kindle Fire")||t.is("Kindle")&&t.version("Kindle")>=3||t.is("AndroidOS")&&t.is("NookTablet")||t.version("Chrome")>=11&&!e||t.version("Safari")>=5&&!e||t.version("Firefox")>=4&&!e||t.version("MSIE")>=7&&!e||t.version("Opera")>=10&&!e?"A":t.os("iOS")&&t.version("iPad")<4.3||t.os("iOS")&&t.version("iPhone")<3.1||t.os("iOS")&&t.version("iPod")<3.1||t.is("Blackberry")&&t.version("BlackBerry")>=5&&t.version("BlackBerry")<6||t.version("Opera Mini")>=5&&t.version("Opera Mini")<=6.5&&(t.version("Android")>=2.3||t.is("iOS"))||t.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||t.version("Opera Mobi")>=11&&t.is("SymbianOS")?"B":(t.version("BlackBerry")<5||t.match("MSIEMobile|Windows CE.*Mobile")||t.version("Windows Mobile"),"C")},n.detectOS=function(t){return n.findMatch(n.mobileDetectRules.oss0,t)||n.findMatch(n.mobileDetectRules.oss,t)},n.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},i.prototype={constructor:i,mobile:function(){return n.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return n.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return n.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return void 0===this._cache.userAgent&&(this._cache.userAgent=n.findMatch(n.mobileDetectRules.uas,this.ua)),this._cache.userAgent},os:function(){return void 0===this._cache.os&&(this._cache.os=n.detectOS(this.ua)),this._cache.os},version:function(t){return n.getVersion(t,this.ua)},versionStr:function(t){return n.getVersionStr(t,this.ua)},is:function(e){return t(e,this.userAgent())||t(e,this.os())||t(e,this.phone())||t(e,this.tablet())||t(e,n.findMatch(n.mobileDetectRules.utils,this.ua))},match:function(t){return t instanceof RegExp||(t=new RegExp(t,"i")),t.test(this.ua)},isPhoneSized:function(t){return i.isPhoneSized(t||this.maxPhoneWidth)},mobileGrade:function(){return void 0===this._cache.grade&&(this._cache.grade=n.mobileGrade(this)),this._cache.grade}},i.isPhoneSized="undefined"!=typeof window&&window.screen?function(t){return t<0?void 0:n.getDeviceSmallerSide()<=t}:function(){},i._impl=n,i})}(function(t){if("undefined"!=typeof module&&module.exports)return function(t){module.exports=t()};if("function"==typeof define&&define.amd)return define;if("undefined"!=typeof window)return function(t){window.MobileDetect=t()};throw new Error("unknown environment")}());var tc_vars;$.fn.tagCommander={history:{},getScript:function(t,e){delete window.xtparam,tc_vars=t,$.getScript(e),this.history[window.location.href]={data:tc_vars,url:e}},trackVirtualPage:function(t){"function"==typeof tc_events_1&&tc_events_1(this,"ATPAGE",{full_page_id:t.fullPageId,USER_LEVEL:t.userLevel,search_filters:t.searchFilter,search_keywords:t.searchKeywords,search_page_number:t.searchPageNumber})},pushTracking:function(t){"function"==typeof tc_events_1&&tc_events_1(this,"ATCLICK",{AT_LABEL:t.label,AT_NIVEAU2:t.s2,AT_TYPE:t.type})},triggerEvent:function(t,e,i,n){var a="tc_events_"+t;window[a]&&window[a](n,e,i)}},$(document).on("history:pushState",function(t,e,i,n){$.fn.tagCommander.history[n]&&$.fn.tagCommander.getScript($.fn.tagCommander.history[n].data,$.fn.tagCommander.history[n].url)}),$(document).on("load",function(t,e){$(e).find("[data-tag-commander-click]").on("click",function(){var t=$(this).data("tagCommanderClick");$.fn.tagCommander.pushTracking(t)}),$(e).find("[data-tag-commander-page]").each(function(){$.fn.tagCommander.trackVirtualPage($(this).data("tagCommanderPage"))})}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;(e=(e=(e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Raven||(e.Raven={})).Plugins||(e.Plugins={})).Angular=t()}}(function(){return function t(e,i,n){function a(o,r){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return a(i||t)},c,c.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(t,e,i){"use strict";function n(t,e){function i(t,e){return function(i,n){t.captureException(i,{extra:{cause:n}}),e(i,n)}}(e=e||window.angular)&&(e.module(o,[]).provider("Raven",function(){this.$get=["$window",function(e){return t}]}).config(["$provide",function(t){t.decorator("$exceptionHandler",["Raven","$delegate",i])}]),t.setDataCallback(a(function(t){return n._normalizeData(t)})))}var a=t(2).wrappedCallback,s=/^\[((?:[$a-zA-Z0-9]+:)?(?:[$a-zA-Z0-9]+))\] (.*?)\n?(\S+)$/,o="ngRaven";n._normalizeData=function(t){var e=t.exception;if(e){e=e.values[0];var i=s.exec(e.value);i&&(e.type=i[1],e.value=i[2],t.message=e.type+": "+e.value,t.extra.angularDocs=i[3].substr(0,250))}return t},n.moduleName=o,e.exports=n},{2:2}],2:[function(t,e,i){"use strict";e.exports={isObject:function(t){return"object"==typeof t&&null!==t},isError:function(t){switch({}.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},wrappedCallback:function(t){return function(e,i){var n=t(e)||e;return i?i(n)||n:n}}}},{}]},{},[1])(1)}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return s.raw?t:encodeURIComponent(t)}function i(t){return s.raw?t:decodeURIComponent(t)}function n(e,i){var n=s.raw?e:function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(a," ")),s.json?JSON.parse(t):t}catch(t){}}(e);return t.isFunction(i)?i(n):n}var a=/\+/g,s=t.cookie=function(a,o,r){if(void 0!==o&&!t.isFunction(o)){if("number"==typeof(r=t.extend({},s.defaults,r)).expires){var l=r.expires,h=r.expires=new Date;h.setTime(+h+864e5*l)}return document.cookie=[e(a),"=",function(t){return e(s.json?JSON.stringify(t):String(t))}(o),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}for(var c=a?void 0:{},d=document.cookie?document.cookie.split("; "):[],u=0,p=d.length;u<p;u++){var f=d[u].split("="),m=i(f.shift()),g=f.join("=");if(a&&a===m){c=n(g,o);break}a||void 0===(g=n(g))||(c[m]=g)}return c};s.defaults={},t.removeCookie=function(e,i){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},i,{expires:-1})),!t.cookie(e))}}),$(function(){String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t})}),function(t){var e,i,n=[],a={removeClass:!1,activeTolerance:0},s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};t(window).bind("resize",function(){i=null});var o=function(){var e=function(){if(!i){var t=document.createElement("div");t.style.cssText="position: fixed;top: 0;left: 0;bottom: 0;right: 0;",document.documentElement.insertBefore(t,document.documentElement.firstChild),i={width:t.offsetWidth,height:t.offsetHeight},document.documentElement.removeChild(t)}return i}().height;t(n).each(function(){var i=t(this).is(".inviewport"),n=this.getBoundingClientRect().top,s=n+this.offsetHeight,o=0,r=t(this).attr("data-scroll-activetolerance");if(r){var l=parseFloat(r);isNaN(l)||(o=l)}var h=t.extend(a,{removeClass:t(this).is("[data-scroll-deactivate]")||!1,activeTolerance:o});0!==h.activeTolerance&&(n+=h.activeTolerance),n>=0&&n<=e||n<=0&&s>=e||s>=0&&s<=e?i||t(this).addClass("inviewport").trigger("inviewport"):i&&!0===h.removeClass&&t(this).removeClass("inviewport").trigger("outviewport")})};t.fn.porthole=function(){return this.each(function(){n.push(this),e||(s(o),e=!0,t(window).bind("scroll",function(){s(o)}))})}}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(t){return t&&(0===t.offsetWidth||0===t.offsetHeight||!1===t.open)}function i(t){for(var i=[],n=t.parentNode;e(n);)i.push(n),n=n.parentNode;return i}function n(t,e){function n(t){void 0!==t.open&&(t.open=!t.open)}var a=i(t),s=a.length,o=[],r=t[e];if(s){for(var l=0;l<s;l++)o[l]=a[l].style.cssText,a[l].style.setProperty?a[l].style.setProperty("display","block","important"):a[l].style.cssText+=";display: block !important",a[l].style.height="0",a[l].style.overflow="hidden",a[l].style.visibility="hidden",n(a[l]);r=t[e];for(var h=0;h<s;h++)a[h].style.cssText=o[h],n(a[h])}return r}function a(t,e){var i=parseFloat(t);return Number.isNaN(i)?e:i}function s(t){return t.charAt(0).toUpperCase()+t.substr(1)}function o(e,i){if(this.$window=t(window),this.$document=t(document),this.$element=t(e),this.options=t.extend({},c,i),this.polyfill=this.options.polyfill,this.orientation=this.$element[0].getAttribute("data-orientation")||this.options.orientation,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.DIMENSION=d.orientation[this.orientation].dimension,this.DIRECTION=d.orientation[this.orientation].direction,this.DIRECTION_STYLE=d.orientation[this.orientation].directionStyle,this.COORDINATE=d.orientation[this.orientation].coordinate,this.polyfill&&h)return!1;this.identifier="js-"+r+"-"+l++,this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier,this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier,this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier,this.toFixed=(this.step+"").replace(".","").length-1,this.$fill=t('<div class="'+this.options.fillClass+'" />'),this.$handle=t('<div class="'+this.options.handleClass+'" />'),this.$range=t('<div class="'+this.options.rangeClass+" "+this.options[this.orientation+"Class"]+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.handleDown=t.proxy(this.handleDown,this),this.handleMove=t.proxy(this.handleMove,this),this.handleEnd=t.proxy(this.handleEnd,this),this.init();var n=this;this.$window.on("resize."+this.identifier,function(t,e){return e=e||100,function(){if(!t.debouncing){var i=Array.prototype.slice.apply(arguments);t.lastReturnVal=t.apply(window,i),t.debouncing=!0}return clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout(function(){t.debouncing=!1},e),t.lastReturnVal}}(function(){!function(t,e){var i=Array.prototype.slice.call(arguments,2);setTimeout(function(){return t.apply(null,i)},e)}(function(){n.update(!1,!1)},300)},20)),this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown),this.$element.on("change."+this.identifier,function(t,e){if(!e||e.origin!==n.identifier){var i=t.target.value,a=n.getPositionFromValue(i);n.setPosition(a)}})}Number.isNaN=Number.isNaN||function(t){return"number"==typeof t&&t!=t};var r="rangeslider",l=0,h=function(){var t=document.createElement("input");return t.setAttribute("type","range"),"text"!==t.type}(),c={polyfill:!0,orientation:"horizontal",rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",activeClass:"rangeslider--active",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]},d={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};return o.prototype.init=function(){this.update(!0,!1),this.onInit&&"function"==typeof this.onInit&&this.onInit()},o.prototype.update=function(t,e){(t=t||!1)&&(this.min=a(this.$element[0].getAttribute("min"),0),this.max=a(this.$element[0].getAttribute("max"),100),this.value=a(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2)),this.step=a(this.$element[0].getAttribute("step"),1)),this.handleDimension=n(this.$handle[0],"offset"+s(this.DIMENSION)),this.rangeDimension=n(this.$range[0],"offset"+s(this.DIMENSION)),this.maxHandlePos=this.rangeDimension-this.handleDimension,this.grabPos=this.handleDimension/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position,e)},o.prototype.handleDown=function(t){if(t.preventDefault(),this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),this.$range.addClass(this.options.activeClass),!((" "+t.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1)){var e=this.getRelativePosition(t),i=this.$range[0].getBoundingClientRect()[this.DIRECTION],n=this.getPositionFromNode(this.$handle[0])-i,a="vertical"===this.orientation?this.maxHandlePos-(e-this.grabPos):e-this.grabPos;this.setPosition(a),e>=n&&e<n+this.handleDimension&&(this.grabPos=e-n)}},o.prototype.handleMove=function(t){t.preventDefault();var e=this.getRelativePosition(t),i="vertical"===this.orientation?this.maxHandlePos-(e-this.grabPos):e-this.grabPos;this.setPosition(i)},o.prototype.handleEnd=function(t){t.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd),this.$range.removeClass(this.options.activeClass),this.$element.trigger("change",{origin:this.identifier}),this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.position,this.value)},o.prototype.cap=function(t,e,i){return t<e?e:t>i?i:t},o.prototype.setPosition=function(t,e){var i,n;void 0===e&&(e=!0),i=this.getValueFromPosition(this.cap(t,0,this.maxHandlePos)),n=this.getPositionFromValue(i),this.$fill[0].style[this.DIMENSION]=n+this.grabPos+"px",this.$handle[0].style[this.DIRECTION_STYLE]=n+"px",this.setValue(i),this.position=n,this.value=i,e&&this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(n,i)},o.prototype.getPositionFromNode=function(t){for(var e=0;null!==t;)e+=t.offsetLeft,t=t.offsetParent;return e},o.prototype.getRelativePosition=function(t){var e=s(this.COORDINATE),i=this.$range[0].getBoundingClientRect()[this.DIRECTION],n=0;return void 0!==t.originalEvent["client"+e]?n=t.originalEvent["client"+e]:t.originalEvent.touches&&t.originalEvent.touches[0]&&void 0!==t.originalEvent.touches[0]["client"+e]?n=t.originalEvent.touches[0]["client"+e]:t.currentPoint&&void 0!==t.currentPoint[this.COORDINATE]&&(n=t.currentPoint[this.COORDINATE]),n-i},o.prototype.getPositionFromValue=function(t){var e;return e=(t-this.min)/(this.max-this.min),Number.isNaN(e)?0:e*this.maxHandlePos},o.prototype.getValueFromPosition=function(t){var e,i;return e=t/(this.maxHandlePos||1),i=this.step*Math.round(e*(this.max-this.min)/this.step)+this.min,Number(i.toFixed(this.toFixed))},o.prototype.setValue=function(t){t===this.value&&""!==this.$element[0].value||this.$element.val(t).trigger("input",{origin:this.identifier})},o.prototype.destroy=function(){this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_"+r),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])},t.fn[r]=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),a=n.data("plugin_"+r);a||n.data("plugin_"+r,a=new o(this,e)),"string"==typeof e&&a[e].apply(a,i)})},"rangeslider.js is available in jQuery context e.g $(selector).rangeslider(options);"}),function(t){var e,i,n,a=0,s={control:t('<div class="colorPicker-picker">&nbsp;</div>'),palette:t('<div id="colorPicker_palette" class="colorPicker-palette" />'),swatch:t('<div class="colorPicker-swatch">&nbsp;</div>'),hexLabel:t('<label for="colorPicker_hex">Hex</label>'),hexField:t('<input type="text" id="colorPicker_hex" />')},o="transparent";t.fn.colorPicker=function(e){return this.each(function(){var i,n,r=t(this),l=t.extend({},t.fn.colorPicker.defaults,e),h=t.fn.colorPicker.toHex(r.val().length>0?r.val():l.pickerDefault),c=s.control.clone(),d=s.palette.clone().attr("id","colorPicker_palette-"+a),u=s.hexLabel.clone(),p=s.hexField.clone(),f=d[0].id;if(t.each(l.colors,function(e){i=s.swatch.clone(),l.colors[e]===o?(i.addClass(o).text("X"),t.fn.colorPicker.bindPalette(p,i,o)):(i.css("background-color","#"+this),t.fn.colorPicker.bindPalette(p,i)),i.appendTo(d)}),u.attr("for","colorPicker_hex-"+a),p.attr({id:"colorPicker_hex-"+a,value:h}),p.bind("keydown",function(e){if(13===e.keyCode){var i=t.fn.colorPicker.toHex(t(this).val());t.fn.colorPicker.changeColor(i||r.val())}27===e.keyCode&&t.fn.colorPicker.hidePalette()}),p.bind("keyup",function(e){var i=t.fn.colorPicker.toHex(t(e.target).val());t.fn.colorPicker.previewColor(i||r.val())}),t('<div class="colorPicker_hexWrap" />').append(u).appendTo(d),d.find(".colorPicker_hexWrap").append(p),!1===l.showHexField&&(p.hide(),u.hide()),t("body").append(d),d.hide(),c.css("background-color",h),c.bind("touchstart click",function(e){e.preventDefault(),e.stopPropagation(),r.is(":not(:disabled)")&&t.fn.colorPicker.togglePalette(t("#"+f),t(this))}),e&&e.onColorChange?c.data("onColorChange",e.onColorChange):c.data("onColorChange",function(){}),(n=r.data("text"))&&c.html(n),r.after(c),r.bind("change",function(){r.next(".colorPicker-picker").css("background-color",t.fn.colorPicker.toHex(t(this).val()))}),r.val(h),"input"===r[0].tagName.toLowerCase())try{r.attr("type","hidden")}catch(t){r.css("visibility","hidden").css("position","absolute")}else r.hide();a++})},t.extend(!0,t.fn.colorPicker,{toHex:function(t){var e,i;if(t.match(/[0-9A-F]{6}|[0-9A-F]{3}$/i))return"#"===t.charAt(0)?t:"#"+t;if(!t.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/))return!1;if(e=[parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10)],i=function(t){if(t.length<2)for(var e=0,i=2-t.length;e<i;e++)t="0"+t;return t},3===e.length){return"#"+i(e[0].toString(16))+i(e[1].toString(16))+i(e[2].toString(16))}},checkMouse:function(n){var a=i,s=t(n.target).parents("#"+a.attr("id")).length;n.target===t(a)[0]||n.target===e[0]||s>0||t.fn.colorPicker.hidePalette()},hidePalette:function(){t(document).unbind("touchstart mousedown",t.fn.colorPicker.checkMouse),t(".colorPicker-palette").hide()},showPalette:function(i){var n=e.prev("input").val();i.css({top:e.offset().top+e.outerHeight(),left:e.offset().left}),t("#color_value").val(n),i.show(),t(document).bind("touchstart mousedown",t.fn.colorPicker.checkMouse)},togglePalette:function(n,a){a&&(e=a),(i=n).is(":visible")?t.fn.colorPicker.hidePalette():t.fn.colorPicker.showPalette(n)},changeColor:function(i){e.css("background-color",i),e.prev("input").val(i).change(),t.fn.colorPicker.hidePalette(),e.data("onColorChange").call(e,t(e).prev("input").attr("id"),i)},previewColor:function(t){e.css("background-color",t)},bindPalette:function(i,a,s){s=s||t.fn.colorPicker.toHex(a.css("background-color")),a.bind({click:function(){n=s,t.fn.colorPicker.changeColor(s)},mouseover:function(){n=i.val(),t(this).css("border-color","#598FEF"),i.val(s),t.fn.colorPicker.previewColor(s)},mouseout:function(){t(this).css("border-color","#000"),i.val(e.css("background-color")),i.val(n),t.fn.colorPicker.previewColor(n)}})}}),t.fn.colorPicker.defaults={pickerDefault:"FFFFFF",colors:["000000","993300","333300","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","999999","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFFF","99CCFF","FFFFFF","606060","E0E0E0","C00000","FF4040"],addColors:[],showHexField:!0}}(jQuery),function(){function t(){}function e(t){return null==t?t===r?u:c:k&&k in Object(t)?function(t){var e=S.call(t,k),i=t[k];try{t[k]=r;var n=!0}catch(t){}var a=M.call(t);n&&(e?t[k]=i:delete t[k]);return a}(t):function(t){return M.call(t)}(t)}function i(t,e,i){function a(e){var i=u,n=p;return u=p=r,b=e,m=t.apply(n,i)}function s(t){var i=t-v;return v===r||i>=e||i<0||x&&t-b>=f}function h(){var t=_();if(s(t))return c(t);g=setTimeout(h,function(t){var i=e-(t-v);return x?P(i,f-(t-b)):i}(t))}function c(t){return g=r,w&&u?a(t):(u=p=r,m)}function d(){var t=_(),i=s(t);if(u=arguments,p=this,v=t,i){if(g===r)return function(t){return b=t,g=setTimeout(h,e),y?a(t):m}(v);if(x)return g=setTimeout(h,e),a(v)}return g===r&&(g=setTimeout(h,e)),m}var u,p,f,m,g,v,b=0,y=!1,x=!1,w=!0;if("function"!=typeof t)throw new TypeError(l);return e=o(e)||0,n(i)&&(y=!!i.leading,f=(x="maxWait"in i)?D(o(i.maxWait)||0,e):f,w="trailing"in i?!!i.trailing:w),d.cancel=function(){g!==r&&clearTimeout(g),b=0,u=v=p=g=r},d.flush=function(){return g===r?m:c(_())},d}function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function a(t){return null!=t&&"object"==typeof t}function s(t){return"symbol"==typeof t||a(t)&&e(t)==d}function o(t){if("number"==typeof t)return t;if(s(t))return h;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(p,"");var i=m.test(t);return i||g.test(t)?v(t.slice(2),i?2:8):f.test(t)?h:+t}var r,l="Expected a function",h=NaN,c="[object Null]",d="[object Symbol]",u="[object Undefined]",p=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,g=/^0o[0-7]+$/i,v=parseInt,b="object"==typeof global&&global&&global.Object===Object&&global,y="object"==typeof self&&self&&self.Object===Object&&self,x=b||y||Function("return this")(),w="object"==typeof exports&&exports&&!exports.nodeType&&exports,T=w&&"object"==typeof module&&module&&!module.nodeType&&module,C=Object.prototype,S=C.hasOwnProperty,M=C.toString,A=x.Symbol,k=A?A.toStringTag:r,D=Math.max,P=Math.min,_=function(){return x.Date.now()};t.debounce=i,t.throttle=function(t,e,a){var s=!0,o=!0;if("function"!=typeof t)throw new TypeError(l);return n(a)&&(s="leading"in a?!!a.leading:s,o="trailing"in a?!!a.trailing:o),i(t,e,{leading:s,maxWait:e,trailing:o})},t.isObject=n,t.isObjectLike=a,t.isSymbol=s,t.now=_,t.toNumber=o,t.VERSION="4.17.4","function"==typeof define&&"object"==typeof define.amd&&define.amd?(x._=t,define(function(){return t})):T?((T.exports=t)._=t,w._=t):x._=t}.call(this);var mydragg,RODTA;!function(t){t.fn.RODGraph=function(e){function i(t){return t+Ti.callID}function n(){Ti.dataBacktest={params:null,trades:[]}}function a(t){for(var e,i,n=ti(),a=t.length,s=0;s<a;s++)e=new ut(t[s].dateEntry,t[s].quoteEntry),"A"==t[s].sensOpen?Me(n.ctx,e,"#008000","arrup","#008000",0):Me(n.ctx,e,"#c00000","arrdw","#c00000",0),i=new ut(t[s].dateExit,t[s].quoteExit),"S"==t[s].sensClose?"A"==t[s].sensOpen?Me(n.ctx,i,"#c00000","arrdw","#ff8080",0):Me(n.ctx,i,"#008000","arrup","#73f072",0):"TP"==t[s].sensClose?"A"==t[s].sensOpen?Me(n.ctx,i,"#3366ff","arrdw","#3366ff",0):Me(n.ctx,i,"#3366ff","arrup","#3366ff",0):"A"==t[s].sensClose?Me(n.ctx,i,"#008000","arrup","#008000",0):Me(n.ctx,i,"#c00000","arrdw","#c00000",0)}function s(e,i){var n,a,s,o,r;if(n=i?e.type:e,Ti.flagSave=!0,xt(),mi.mainChart.typedef.nolinearX){if(wi.maxX=0,wi.minX=0,wi.minY=fi.Low,wi.maxY=fi.High,mi.isCompare&&null!=Ti.datas2&&x(fi.High,fi.Low,Ti.datas2.High,Ti.datas2.Low,fi.QuoteTab[0].c,Ti.datas2.QuoteTab[0].c),mi.mainChart.type=n,mi.mainChart.typedef=ci(n),i&&t.extend(!0,mi.mainChart,e),bi.length>1&&bi.splice(0,1),mi.mainChart.typedef.nolinearX)return X(),!1;for(1!=mi.histoLength||mi.set.noVeilleIntra||((a=fi.qv.c)>wi.maxY&&(wi.maxY=a),a<wi.minY&&(wi.minY=a)),o=bi.length,s=0;s<o;s++)bi[s].Bars=0==s?[]:{},delete bi[s].canvas,delete bi[s].ctx;return r=yt(bi),It(!0),Ct(r),St(),kt(),Zt(),!1}mi.mainChart.type=n,mi.mainChart.typedef=ci(n),i&&t.extend(!0,mi.mainChart,e),mi.mainChart.typedef.nolinearX?X():kt()}function o(e){var n,a,s,o,h;$t(),n=bi[0].Bars[0][0].c,a="buy"==e?.98*n:1.02*n,s=t("#orderzn"),0==t(i("#")).has("#orderzn").length&&t(i("#")).append(s);var c=Si.gi(i("overlay-")),d=c.getContext("2d"),u=w(Si.gi(i("rodgraph-")));d.strokeStyle=s.find("div:eq(1)").css("background-color"),d.lineWidth=2,d.setLineDash&&d.setLineDash([]),o=parseInt((mi.widthGraph-s.width())/2),s.css("left",o+"px").show(),l(d,c,n,e,a,s),h=!1,t("#ordertype").on("touchstart mousedown",function(t){t.preventDefault(),h=!0}),t(document).on("touchmove mousemove",function(t){if(t.preventDefault(),!h)return!1;!function(t,e,i,n,a,s,o){var r,h=gi(t),c=parseInt(h.y-n.top),d=parseInt(h.x-n.left);if(c<mi.paddingTop||c>bi[0].HeightPx+mi.paddingTop)return!1;r=new oe(d,c-mi.paddingTop),l(e,i,s,o,r.y,a)}(t,d,c,u,s,n,e)}),t(document).on("touchend mouseup",function(t){t.preventDefault(),h=!1}),t("#ordertype").on("touchend mouseup",function(t){t.preventDefault(),h=!1}),t(".closeorder").on(Ti.clickHandler,function(t){t.preventDefault(),r(),d.clearRect(0,0,c.width,c.height)}),t("#orderlevel").on("keydown",function(i){var a;13==(i.which?i.which:i.keyCode)&&(a=parseFloat(t(this).val().replace(/,/g,".")),l(d,c,n,e,a,s))})}function r(){if(!t("#orderzn").is(":visible"))return!1;var e=Si.gi(i("overlay-"));e.getContext("2d").clearRect(0,0,e.width,e.height),t("#ordertype").off(),t("#orderlevel").off(),t(".closeorder").off(),t(document).off("mousemove"),t(document).off("mouseup"),t("#orderzn").off().hide(),t(i("#")).after(t("#orderzn")),Zt()}function l(t,e,i,n,a,s){var o,r,l,h,c;t.clearRect(0,0,e.width,e.height),o=a,a>wi.maxY&&(a=wi.maxY),a<wi.minY&&(a=wi.minY),l=(r=I(a,mi.logData)+mi.paddingTop)+1,t.beginPath(),t.moveTo(mi.paddingLeft,r),t.lineTo(e.width-mi.paddingRight,r),t.stroke(),s.css("top",l+"px"),Si.gi("orderlevel").value=formatDecimales(o),h=function(t,e,i){var n={t:"limité",c:"limit"},a={t:"seuil de déclenchement",c:"stop"};return"buy"==i?t>=e?n:a:t<=e?n:a}(i,a,n),null!=(c=Si.gi("ordertype"))&&(c.textContent=h.t,c.setAttribute("order",h.c))}function h(){t.ajax({type:"POST",url:VGP.urlWS+"TraceDeleteSymbol",data:JSON.stringify({userid:VGP.userID,symbol:mi.symbol}),contentType:"application/json; charset=utf-8",dataType:"json"})}function c(){for(var t=mi.mainChart.indicators.length,e=0;e<t;e++)if("compare"==mi.mainChart.indicators[e].type){mi.mainChart.indicators.splice(e,1),mi.isCompare=null,bi[0].Bars.splice(e+1,1);break}}function d(e,i,n){t.ajax({type:"POST",url:VGP.urlWS+"TraceGetSymbol",data:JSON.stringify({userid:VGP.userID,symbol:mi.symbol}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){if(null!=t.d){var a='"'==t.d.substring(0,1)?t.d.substr(1,t.d.length-2):t.d;try{m(mi.symbol,JSON.parse(a)),VGP.drawings[mi.symbol]=1,i&&(xi=JSON.parse(a),kt())}catch(t){xi=[],localStorage.removeItem(mi.symbol),h(),delete VGP.drawings[mi.symbol]}}e&&C(mi.histoLength,n,parseInt(mi.chartPeriod))}})}function u(t){0!=VGP.drawings[mi.symbol]||mi.isIntraday||VGP.noCommand||VGP.noAutoReadTrace?C(mi.histoLength,t,parseInt(mi.chartPeriod)):d(!0,!1,t)}function p(t){return(t=t.replace(/'/g,"%27")).replace(/"/g,"%22")}function f(){var t="test";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}function m(t,e,i){if(!f())return!1;mi.chartPeriod<0||i?sessionStorage.setItem(t,JSON.stringify(e)):localStorage.setItem(t,JSON.stringify(e)),VGP.isPro&&SynchronizeDrawings(Ti.callID,t)}function g(t){var e;if(!f())return[];if(e=null,null!=(e=mi.chartPeriod<0?sessionStorage.getItem(t):localStorage.getItem(t))&&""!=e&&"[]"!=e){for(var i=JSON.parse(e),n=i.length,a=0,s=0;s<n;s++)"a"==i[s].type&&(i[s].h=p(i[s].h),a=1);return 1==a&&localStorage.setItem(t,JSON.stringify(i)),i}return mi.chartPeriod>=0&&localStorage.removeItem(t),[]}function v(t){if(null!=fi){if(0==Ci.length||Ci[Ci.length-1].i<25||wi.maxX-wi.minX<25)return!1;wi.minX=wi.minX+8*t,y(),kt(!0,!1)}}function b(t){if(null!=fi){if(mi.mainChart.typedef.nolinearX)wi.minX>0?(wi.minX=wi.minX-8*t,wi.minX<0&&(wi.minX=0)):wi.maxX=wi.maxX+8*t,wi.maxX>wi.maxNL&&0==wi.minX&&(wi.maxX=wi.maxNL);else if(wi.minX>0)wi.minX=wi.minX-8*t,wi.minX<0&&(wi.minX=0);else if(wi.maxX=wi.maxX+8*t,wi.maxX>fi.QuoteTab.length-1){if(wi.maxX=fi.QuoteTab.length-1,y(),1==mi.histoLength&&!mi.set.noVeilleIntra){var e=fi.qv.c;e>wi.maxY&&(wi.maxY=e),e<wi.minY&&(wi.minY=e)}return kt(!0,!1),!1}y(),kt(!0,!1)}}function y(){var t,e=0,i=999999,n=0,a=wi.minX,s=wi.maxX,o=fi.QuoteTab;for(mi.mainChart.typedef.nolinearX&&(a=0,s=o.length-1),t=a;t<=s;t++)null!=o[t]&&(0==n&&(n=o[t].c),o[t].h>e&&(e=o[t].h),o[t].l<i&&(i=fi.QuoteTab[t].l));if(wi.maxY=e,wi.minY=i,null!=mi.isCompare){var r=0,l=999999,h=0,c=Ti.datas2.QuoteTab;for(t=a;t<=s;t++)null!=c[t]&&(0==h&&(h=c[t].c),c[t].h>r&&(r=c[t].h),c[t].l<l&&(l=c[t].l));x(e,i,r,l,n,h)}}function x(t,e,i,n,a,s){var o=(i-s)/s,r=(n-s)/s,l=(e-a)/a;o>(t-a)/a&&(wi.maxY=a*(1+o)),r<l&&(wi.minY=a*(1+r))}function w(t){if(!t.getClientRects().length)return{top:0,left:0};var e,i;return e=t.getBoundingClientRect(),i=t.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}}function T(e,i,n){var a="GetCalendar";"actu"==n&&(a="GetNewsList"),$t(),t.ajax({type:"POST",url:VGP.urlWS+a,data:JSON.stringify({symbol:mi.symbol}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){null!=t.d?(Ti.fiEvt=t.d,O(e,!1,i,!1,n)):Ti.fiEvt="no",Zt()}})}function C(e,n,a){var s,o,r;if("season"==mi.mainChart.type)return q(),!1;null==e&&(e=365),(null==a||""==a)&&(a=e>20?0:1),"function"==typeof stopTimers&&stopTimers(),VGP.noCommand||(s=Si.gi(i("trace-")),s.getContext("2d").clearRect(0,0,s.width,s.height),xi=g(mi.symbol)),e<20?(mi.isIntraday=!0,c()):mi.isIntraday=!1,Ti.datas2=null,(o=mi.dataSource)?null!=(r=JSON.parse(Si.gigt(o))).d&&(fi=S(r.d),M(r.d,n)):t.ajax({type:VGP.callType,url:VGP.urlWS+"GetTicksEOD",data:JSON.stringify({symbol:mi.symbol,length:e,period:a,guid:Si.gigt("guid")}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(i){if(null==i.d)return a<0&&"function"==typeof DisplayAlert?DisplayAlert(lang.l_msg3,3):DisplayAlert(lang.l_msg4,4),!1;fi=S(i.d),null!=mi.isCompare?t.ajax({type:VGP.callType,url:VGP.urlWS+"GetTicksEOD",data:JSON.stringify({symbol:mi.isCompare,length:e,period:a,guid:Si.gigt("guid")}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){null!=t.d&&(Ti.datas2=S(t.d)),M(i.d,n)}}):M(i.d,n)}})}function S(t){for(var e=t.QuoteTab,i=0,n=999999,a=e.length,s=0;s<a;s++)e[s].h>i&&(i=e[s].h),e[s].l<n&&(n=e[s].l);return t.High=i,t.Low=n,t}function M(e,n){var a,s,o;if(wi.minX=0,wi.maxX=e.QuoteTab.length-1,wi.maxY=e.High,wi.minY=e.Low,null!=Ti.datas2&&x(e.High,e.Low,Ti.datas2.High,Ti.datas2.Low,fi.QuoteTab[0].c,Ti.datas2.QuoteTab[0].c),1!=mi.histoLength||mi.set.noVeilleIntra||((a=e.qv.c)>wi.maxY&&(wi.maxY=a),a<wi.minY&&(wi.minY=a)),wi.qv=e.qv,wi.qd=e.qd,mi.chartPeriod=parseInt(e.Xperiod),0==n){if(mi.mainChart.typedef.nolinearX)Q(!0);else for(Z(e),o=bi.length,s=1;s<o;s++)Ot(bi[s]);VGP.chartSimple||Zt()}else null==t._data(Si.gi(Ti.callID),"events")&&Zt(),kt(!1,!0);VGP.chartSimple||(Si.qstxt(i("#eod_topinfo-")+" span",e.Name),St()),"function"==typeof launchTimers&&launchTimers(Ti.callID,mi.chartPeriod,mi.symbol)}function A(e,n,a,s,o,r){var l,h,c;if(a||o||t(i("#eod_mainchartinfos-")).append('<div style="color:'+rgb2hex(e.color)+'" ><span class="eod_param" title="pivots_'+s+'" ><span class="mci-p"></span>'+lang.l_ptpivot+"</span></div>"),bi[0].Bars[s+1]=null,mi.chartPeriod>=0||null==wi.qv||null==wi.qd)return!1;var d,u,p=new Date;if(p.getFullYear().toString().substring(2,4)+padLeft(p.getMonth()+1,"00")+padLeft(p.getDate(),"00")+padLeft(60*p.getHours()+p.getMinutes(),"0000")-fi.QuoteTab[fi.QuoteTab.length-1].d>30)d=new ut(fi.QuoteTab[fi.QuoteTab.length-1].d,0,0),u=wi.qd;else{if((h=fi.QuoteTab.length)<3)c=fi.QuoteTab[0].d;else for(l=h-1;l>0;l--)if(fi.QuoteTab[l].d-fi.QuoteTab[l-1].d>480){c=fi.QuoteTab[l].d;break}null==c&&(c=fi.QuoteTab[0].d),d=new ut(c,0,0),u=wi.qv}var f=bi[0].ctx,m=(u.h+u.l+u.c)/3,g=2*m-u.l,v=m+(u.h-u.l),b=2*m-u.h,y=m-(u.h-u.l),x=d.mx+mi.paddingLeft;f.save(),e.v1||k(f,e.color,x,m,1,r),e.v2||(k(f,e.color2,x,b,1,r),k(f,e.color2,x,y,2,r)),e.v3||(k(f,e.color3,x,g,1,r),k(f,e.color3,x,v,2,r)),f.restore()}function k(t,e,i,n,a,s){var o=I(n,s)+.5*a;t.lineWidth=a,t.beginPath(),t.strokeStyle=e,t.moveTo(i,o),t.lineTo(mi.widthGraph-mi.paddingRight,o),t.fillStyle=rgb2hex(e),t.fillText(n.toFixed(2),mi.widthGraph-mi.paddingRight-47,o-3),t.stroke()}function D(e,n,a,s,o,r){var l,h,c,d,u,p,f,m,g,v,b,y,x;if(a||o||t(i("#eod_mainchartinfos-")).append('<div style="color:'+rgb2hex(e.color)+'" ><span class="eod_param" title="ichimoku_'+s+'" ><span class="mci-p"></span>ICHIMOKU ('+e.param1+", "+e.param2+')</span><span id="val-'+Ti.callID+s+'"></span></div>'),l={},h=bi[0],h.Bars[s+1]={},null!=(c=RODTA.computeIchimoku(fi.QuoteTab,e.param1,e.param2,mi.chartPeriod))){for(c.Values=$(c.Values),d=c.Values.length,u=h.ctx,g=1;g<6;g++)if(v="v"+g,!e[v]){for(u.save(),u.strokeStyle=1==g?e.color:e["color"+g],5==g?null!=e.s5?ii(u,5,e):ii(u,3):ii(u,g,e),u.beginPath(),ei(u,e,g),m=I(c.Values[0][v],r),u.moveTo(n,m+.5),f=1;f<d;f++)null!=(y=c.Values[f])&&null!=y[v]&&(p=Math.round(f*h.PxPointX+n),m=I(y[v],r),u.lineTo(p+.5,m+.5),1==g&&(l[y.d]="KS "+y.v1.toFixed(2)+'<span style="color:'+e.color2+'"> TS '+y.v2.toFixed(2)+"</span>",b=f));u.stroke(),u.restore()}if(null!=b&&(y=c.Values[b],l[0]=l[y.d]="KS "+y.v1.toFixed(2)+'<span style="color:'+e.color2+'"> TS '+y.v2.toFixed(2)+"</span>"),h.Bars[s+1]=l,a||o||!mi.set.indicValues||Si.idhtml(i("val-")+s,l[0]||""),!e.v6){for(u.save(),null!=e.color6?(u.strokeStyle=e.color6,u.fillStyle=e.color6):(u.strokeStyle=hexToRgb(rgb2hex(e.color4),.3),u.fillStyle=hexToRgb(rgb2hex(e.color4),.3)),u.beginPath(),x=!1,f=d-1;f>=0;f--)null!=c.Values[f]&&null!=c.Values[f].v6&&(m=I(c.Values[f].v6,r),x?(p=Math.round(f*h.PxPointX+n),u.lineTo(p+.5,m+.5)):(u.moveTo(Math.round(f*h.PxPointX+n)+.5,m+.5),x=!0));for(f=0;f<d;f++)null!=c.Values[f]&&(p=Math.round(f*h.PxPointX+n),m=I(c.Values[f].v7,r),u.lineTo(p+.5,m+.5));u.closePath(),u.stroke(),u.fill(),u.restore()}}}function P(e,n,a,s,o){var r,l,h,c,d,u,p,f,m,g,v,b=Ti.datas2.QuoteTab,y={},x=bi[0];if(x.Bars[s+1]={},a||o||VGP.chartSimple||t(i("#eod_mainchartinfos-")).append('<div style="color:'+rgb2hex(e.color)+'" ><span class="eod_param" title="compare_'+s+'" ><span class="mci-p"></span>'+Ti.datas2.Name+'</span><span id="val-'+Ti.callID+s+'"></span></div>'),e.v1)return!1;for(r=b.length,(l=x.ctx).strokeStyle=e.color,l.save(),l.beginPath(),d=x.PxPointY*fi.QuoteTab[wi.minX].c,u=Math.round((x.V0-fi.QuoteTab[wi.minX].c)*x.PxPointY),l.moveTo(n,u),ei(l,e,1),ii(l,1,e),p=0,c=0;c<r;c++)null!=b[c]&&null!=x.Bars[0][b[c].d]&&(m=x.Bars[0][b[c].d].i,h=Math.round(m*x.PxPointX+n),0==p?p=b[c].c:(f=(b[c].c-p)/p,l.lineTo(h+.5,u-f*d),y[b[c].d]=b[c].c.toFixed(2),g=c));null!=g&&(y[0]=b[g].c.toFixed(2)),x.Bars[s+1]=y,a||o||!mi.set.indicValues||VGP.chartSimple||Si.idst(i("val-")+s,y[0]||""),l.stroke(),l.restore(),!mi.set.nosticky&&0!=r&&y.length>0&&(v=x.V0-(u-f*d)/x.PxPointY,j(l,x.V0,v,x.PxPointY,e.color,!0,null))}function _(e,n,a,s,o,r){var l,h,c,d,u,p,f,m,g,v,b,y,x={},w=bi[0];if(w.Bars[s+1]={},a||o||t(i("#eod_mainchartinfos-")).append('<div style="color:'+rgb2hex(e.color)+'" ><span class="eod_param" title="supertrend_'+s+'" ><span class="mci-p"></span>SUPERTREND ('+e.param1+')</span><span id="val-'+Ti.callID+s+'"></span></div>'),l=RODTA.computeSupertrend(fi.QuoteTab,e.param1,e.param2),l.Values=$(l.Values),null==l.Values)return!1;for(h=l.Values.length,c=w.ctx,f=1;f<3;f++)if(g="v"+f,m=!0,!e["v"+f]){for(c.save(),c.beginPath(),p=I(l.Values[0][g],r),c.moveTo(n,p+.5),ei(c,e,f),c.strokeStyle=1==f?e.color:e.color2,u=1;u<h;u++)null!=(v=l.Values[u])&&(0==v[g]?(m&&c.stroke(),m=!1):(x[v.d]=v[g].toFixed(2),b=u,y=g,d=Math.round(u*w.PxPointX+n),p=I(v[g],r),m?c.lineTo(d+.5,p+.5):(c.beginPath(),c.moveTo(d+.5,p+.5),m=!0)));m&&c.stroke(),c.restore()}null!=b&&(x[0]=l.Values[b][y].toFixed(2)),w.Bars[s+1]=x,a||o||!mi.set.indicValues||Si.idst(i("val-")+s,x[0]||"")}function N(e,n,a,s,o,r){var l,h,c,d,u,p,f,m,g,v=RODTA.computeHighLow(fi.QuoteTab,e.param1),b={},y=bi[0];if(a||o||t(i("#eod_mainchartinfos-")).append('<div style="color:'+rgb2hex(e.color)+'" ><span class="eod_param" title="phpb_'+s+'" ><span class="mci-p"></span>Hauts/Bas ('+e.param1+')</span><span id="val-'+Ti.callID+s+'"></span></div>'),y.Bars[s+1]={},null==v)return null;for(l=y.ctx,v.Values=$(v.Values),g=v.Values.length,u=1;u<3;u++)if(p="v"+u,!e[p])for(l.fillStyle=1==u?e.color:e.color2,c=0;c<g;c++)null!=v.Values[c]&&(h=Math.round(c*y.PxPointX+n),0!=v.Values[c][p]&&(l.beginPath(),d=I(v.Values[c][p],r),l.arc(h,d,3,0,2*Math.PI),l.fill(),b[v.Values[c].d]=v.Values[c][p].toFixed(2),f=c,m=p));null!=f&&(b[0]=v.Values[f][m].toFixed(2)),y.Bars[s+1]=b,a||o||!mi.set.indicValues||Si.idst(i("val-")+s,b[0]||"")}function E(e,n,a,s,o,r){var l,h,c,d,u,p,f,m,g,v=RODTA.computeSAR(fi.QuoteTab,e.param1,e.param2),b={},y=bi[0];if(a||o||t(i("#eod_mainchartinfos-")).append('<div style="color:'+rgb2hex(e.color)+'" ><span class="eod_param" title="sar_'+s+'" ><span class="mci-p"></span>SAR ('+e.param1+')</span><span id="val-'+Ti.callID+s+'"></span></div>'),y.Bars[s+1]={},v.Values=$(v.Values),(l=v.Values.length)<5)return!1;for(h=y.ctx,p=1;p<3;p++)if(f="v"+p,!e[f])for(h.fillStyle=1==p?e.color:e.color2,d=5;d<l;d++)null!=v.Values[d]&&(c=Math.round(d*y.PxPointX+n),0!=v.Values[d][f]&&(h.beginPath(),u=I(v.Values[d][f],r),h.arc(c,u,2,0,2*Math.PI),h.fill(),b[v.Values[d].d]=v.Values[d][f].toFixed(2),m=d,g=f));null!=m&&(b[0]=v.Values[m][g].toFixed(2)),y.Bars[s+1]=b,a||o||!mi.set.indicValues||Si.idst(i("val-")+s,b[0]||"")}function O(e,n,a,s,o){var r,l;if("no"==Ti.fiEvt)return!1;if(0!=Ti.fiEvt.length){var h,c,d=[],u=bi[0],p=lang.l_fievents;"actu"==o&&(p=lang.l_actus),u.Bars[a+1]=[],n||s||t(i("#eod_mainchartinfos-")).append('<div><span class="eod_param" title="evt_'+a+'" ><span class="mci-p"></span>'+p+'</span><span id="val-'+Ti.callID+a+'"></span></div>');var f=fi.QuoteTab[wi.minX].d,m=fi.QuoteTab[fi.QuoteTab.length-1].d,g=Ti.fiEvt.length;for(h=0;h<g;h++){if(Ti.fiEvt[h].d>f&&Ti.fiEvt[h].d<=m)if(null!=u.Bars[0][Ti.fiEvt[h].d])d[u.Bars[0][Ti.fiEvt[h].d].i]={i:h,evt:Ti.fiEvt[h].evt};else for(c=wi.minX;c<=wi.maxX;c++)if(null!=fi.QuoteTab[c]&&fi.QuoteTab[c].d>=Ti.fiEvt[h].d){d[u.Bars[0][fi.QuoteTab[c].d].i]={i:h,evt:Ti.fiEvt[h].evt};break}Ti.fiEvt[h].d>f&&Ti.fiEvt[h].d>m&&null!=u.Bars[0][m]&&(r=Ti.fiEvt[h].d-fi.QuoteTab[fi.QuoteTab.length-1].d,r=0!=mi.chartPeriod?Math.round(r/mi.chartPeriod):Math.round(5*r/7),(l=u.Bars[0][m].i+r)<=wi.maxX-r+2&&(d[l]={i:h,evt:Ti.fiEvt[h].evt}))}var v,b=u.ctx,y=u.HeightPx-15,x=d.length;if(null!=x)for(h=1;h<x;h++)if(null!=d[h]){switch(v=Math.round(h*u.PxPointX+e),Ti.fiEvt[d[h].i].px=v,b.beginPath(),b.lineWidth=2,d[h].evt){case"A":case"R":b.fillStyle="#ffd5d6",b.strokeStyle="#c00000";break;case"D":b.fillStyle="#d5d6ff",b.strokeStyle="#000080";break;case"C":b.fillStyle="#c0ffc0",b.strokeStyle="#008000";break;case"S":b.fillStyle="#ffc0ff",b.strokeStyle="#800080"}b.arc(v,y,10,0,2*Math.PI),b.stroke(),b.fill(),b.beginPath(),b.lineWidth=1,b.moveTo(v+.5,y+10),b.lineTo(v+.5,y+15),b.stroke(),b.fillStyle=b.strokeStyle,b.fillText(d[h].evt,v-3,y+3)}}else Ti.fiEvt="no"}function I(t,e){return null==e?Math.round((bi[0].V0-t)*bi[0].PxPointY):bi[0].HeightPx-Math.round((Math.log10(t)/Math.log10(10)-e.floor)/e.range*bi[0].HeightPx)}function L(t,e){return null==e?(bi[0].V0*bi[0].PxPointY-t)/bi[0].PxPointY:Math.pow(10,Math.log10(10)*((bi[0].HeightPx-t)*e.range/bi[0].HeightPx+e.floor))}function B(t,e,n,a,s,o){var r,l,h,c,d,u,p,f,m,g={},v=bi[0];switch(v.Bars[a+1]={},l="",h=null!=t.source?t.source:"c",t.type){case"mm":r=RODTA.computeMovingAverage(fi.QuoteTab,t.param1,h),l=lang.l_mm2+" ("+t.param1;break;case"zig zag":r=RODTA.computeZigZag(fi.QuoteTab,t.param1/100,h),l="Zig Zag ("+t.param1;break;case"mmt":r=RODTA.computeMovingAverageT(fi.QuoteTab,t.param1,h),l=lang.l_mmt2+" ("+t.param1;break;case"mmp":r=RODTA.computeMovingAverageP(fi.QuoteTab,t.param1,h),l=lang.l_mmp2+" ("+t.param1;break;case"mmh":r=RODTA.computeMovingAverageHull(fi.QuoteTab,t.param1,h),l=lang.l_mmh2+" ("+t.param1;break;case"double EMA":r=RODTA.computeDoubleEMA(fi.QuoteTab,t.param1,h),l="Double EMA ("+t.param1;break;case"triple EMA":r=RODTA.computeTripleEMA(fi.QuoteTab,t.param1,h),l="Triple EMA ("+t.param1;break;case"linearc":r=RODTA.computeLinearCurve(fi.QuoteTab,t.param1,1,null,h),l=lang.l_regcurve2+" ("+t.param1;break;case"lineard":c=ui(fi.QuoteTab,t.param1,t,h),l=lang.l_regline2+" ("+t.param1+", "+t.param2;break;case"supres":di(fi,t.param1,t),l="Supports-Resist. ("+t.param1;break;case"mme":r=RODTA.computeMovingAverageE(fi.QuoteTab,t.param1,h),l=lang.l_mme2+" ("+t.param1;break;case"boll":null==t.param2&&(t.param2=2),r=RODTA.computeBollinger(fi.QuoteTab,t.param1,t.param2,h),l="BOLLINGER ("+t.param1+", "+t.param2;break;case"donchian":r=RODTA.computeDonchian(fi.QuoteTab,t.param1),l="DONCHIAN ("+t.param1;break;case"keltner":r=RODTA.computeKeltner(fi.QuoteTab,t.param1,t.param2,t.param3),l="KELTNER ("+t.param1+", "+t.param2+", "+t.param3;break;case"evmm":r=RODTA.computeEVMM(fi.QuoteTab,t.param1,t.param2,h),l=lang.l_envmm2+" ("+t.param1+", "+t.param2;break;case"alligator":r=RODTA.computeAlligator(fi.QuoteTab,t.param1,t.param2,t.param3),l="ALLIGATOR ("+t.param1+", "+t.param2+", "+t.param3;break;case"gmma":r=RODTA.computeGMMA(fi.QuoteTab),l="GMMA (3,5,8,10,12,15,30,35,40,45,50,60"}if(n||s||VGP.chartSimple||(l+=")",d=document.createElement("div"),d.style.color=rgb2hex(t.color),(u=document.createElement("span")).setAttribute("class","eod_param"),u.setAttribute("title",t.type+"_"+a),u.textContent=l,VGP.noCommand||((p=document.createElement("span")).setAttribute("class","mci-p"),u.appendChild(p)),d.appendChild(u),f=document.createElement("span"),f.id="val-"+Ti.callID+a,d.appendChild(f),Si.gi(i("eod_mainchartinfos-")).appendChild(d)),"lineard"==t.type)return function(t,e){var i,n,a,s;if(t.save(),i=mi.paddingLeft,null==e)return!1;for(s=e.id.param2*e.et*bi[0].PxPointY,n=1;n<4;n++)if(!e.id["v"+n]){switch(t.strokeStyle=1==n?e.id.color:e.id["color"+n],n){case 1:a=0;break;case 2:a=-s;break;case 3:a=s}t.lineWidth=null!=e.id["w"+n]?e.id["w"+n]:1,t.beginPath(),t.moveTo(e.p0.mx+i,e.p0.my+a),t.lineTo(e.p1.mx+i,e.p1.my+a),t.stroke()}t.restore()}(v.ctx,c),!1;if("supres"==t.type||null==r)return!1;if(r.Values=$(r.Values),"alligator"==t.type)return function(t,e,n,a,s,o,r,l){for(var h,c,d,u,p,f,m=e.Values.length,g=t.ctx,v=t.PxPointX,b={},y=1;y<4;y++){for(d="v"+y,g.save(),g.strokeStyle=1==y?a[d]?"transparent":a.color:a[d]?"transparent":a["color"+y],g.beginPath(),ei(g,a,y),ii(g,y,a),f=!1,c=1;c<m;c++)null!=(p=e.Values[c])&&null!=p[d]&&(h=Math.round(c*v+n),f||(g.moveTo(h,I(p[d],s)+.5),f=!0),g.lineTo(h+.5,I(p[d],s)+.5),3==y&&(u=c,b[p.d]=p.v1.toFixed(2)+'<span style="color:'+a.color2+'"> '+p.v2.toFixed(2)+'</span> <span style="color:'+a.color3+'"> '+p.v3.toFixed(2)+"</span>"));g.stroke(),g.restore()}p=e.Values[u],b[0]=p.v1.toFixed(2)+'<span style="color:'+a.color2+'"> '+p.v2.toFixed(2)+'</span> <span style="color:'+a.color3+'"> '+p.v3.toFixed(2)+"</span>",t.Bars[o+1]=b,r||l||!mi.set.indicValues||Si.idhtml(i("val-")+o,b[0])}(v,r,e,t,o,a,n,s),!1;if("gmma"==t.type)return function(t,e,i,n,a){for(var s,o,r,l=e.Values.length,h=t.ctx,c=t.PxPointX,d=1;d<13;d++){for(h.save(),h.strokeStyle=d<7?n.v1?"transparent":n.color:n.v2?"transparent":n.color2,h.beginPath(),d<7&&ei(h,n,1),d>=7&&ei(h,n,2),ei(h,n,d),d<7?ii(h,1,n):ii(h,2,n),r=!1,o=1;o<l;o++)null!=e.Values[o]&&(s=Math.round(o*c+i),r||(h.moveTo(s,I(e.Values[o]["v"+d],a)+.5),r=!0),h.lineTo(s+.5,I(e.Values[o]["v"+d],a)+.5));h.stroke(),h.restore()}}(v,r,e,t,o),!1;var b,y,x,w,T=r.Values.length,C=v.ctx,S=e-1,M=v.PxPointX;if(C.strokeStyle=t.v1?"transparent":t.color,null==r.Values[0]&&(r.Values[0]={v1:fi.QuoteTab[wi.minX].c,d:fi.QuoteTab[wi.minX].d}),null==r.Values[0].v2){for(C.save(),C.beginPath(),C.moveTo(e,I(r.Values[0].v1,o)+.5),ei(C,t,1),ii(C,1,t),y=1;y<T;y++)null!=r.Values[y]&&((b=Math.round(y*M+e))-S>=2&&(C.lineTo(b+.5,I(r.Values[y].v1,o)+.5),S=b),g[r.Values[y].d]=r.Values[y].v1.toFixed(2),w=y);return null!=w&&(g[0]=r.Values[w].v1.toFixed(2)),v.Bars[a+1]=g,n||s||!mi.set.indicValues||Si.idst(i("val-")+a,g[0]||""),C.stroke(),C.restore(),!1}for(C.beginPath(),m=!1,y=T-1;y>=0;y--)null!=r.Values[y]&&(x=I(r.Values[y].v1,o),m?(b=Math.round(y*M+e),C.lineTo(b+.5,Math.round(x)+.5)):(C.moveTo(Math.round(y*M+e)+.5,x+.5),m=!0));for(x=I(r.Values[0].v1,o),C.lineTo(mi.paddingLeft+1,x+.5),x=I(r.Values[0].v2,o),C.lineTo(mi.paddingLeft+1,x+.5),y=0;y<T;y++)null!=r.Values[y]&&(b=Math.round(y*M+e),x=I(r.Values[y].v2,o),C.lineTo(b+.5,x+.5),g[r.Values[y].d]=r.Values[y].v1.toFixed(2)+" - "+r.Values[y].v2.toFixed(2),w=y);g[0]=r.Values[w].v1.toFixed(2)+" - "+r.Values[w].v2.toFixed(2),C.save(),ei(C,t,1),ii(C,1,t),C.stroke(),C.restore(),t.v2||(C.fillStyle=t.color2,C.fill()),v.Bars[a+1]=g,n||s||!mi.set.indicValues||Si.idst(i("val-")+a,g[0]||"")}function R(t,e){var i,n=t.length-e;for(n<0&&(n=0),i=n;i>=0;i--)if(null!=t[i])return t[i]}function $(t){if(null==t)return t;for(var e=[],i=wi.minX,n=wi.maxX,a=i;a<=n;a++)e.push(t[a]);return e}function H(t,e,i,n){var a,s,o,r,l,h,c,d,u,p=e.ctx;if(W(e),null==t)return!1;t.Values=$(t.Values);var f,m,g,v,b,y=t.High,x=t.Low,w=t.Values.length;if(e.PxPointY=e.HeightPx/(y-x),a=bi[0].PxPointX,s=mi.paddingLeft+mi.padBarCandle,Y(p,e.HeightPx,s,y,e.PxPointY),o=s-1,e.V0=Math.round(e.PxPointY*y),r=e.V0-Math.round(n*e.PxPointY),e.Bars={},"curve"==i){for(p.strokeStyle=e.Indicator.v1?"transparent":e.Indicator.color,p.beginPath(),p.moveTo(s,r),f=0;f<w;f++)null!=t.Values[f]&&((m=Math.round(f*a+s))-o>=2&&(p.lineTo(m,e.V0-Math.round(t.Values[f].v1*e.PxPointY)),o=m),b=f,e.Bars[t.Values[f].d]=t.Values[f].v1.toFixed(2));null!=b&&(e.Bars[0]=t.Values[b].v1.toFixed(2)),p.save(),ei(p,e.Indicator,1),ii(p,1,e.Indicator),p.stroke(),p.restore(),p.lineTo(o,r),p.lineTo(s,r),e.Indicator.v2||(p.fillStyle=e.Indicator.color2,p.fill())}if("bar"==i){for(0!=mi.padBarCandle?((d=Math.floor(mi.innerWidth/w)-1)<1&&(d=1),s=mi.paddingLeft+mi.padBarCandle-Math.round(d/2)):(s=mi.paddingLeft,d=2),h=e.Indicator.v1?"transparent":e.Indicator.color,c=e.Indicator.v2?"transparent":e.Indicator.color2,f=0;f<w;f++)null!=t.Values[f]&&(m=Math.round(f*a+s),l=Math.round(-t.Values[f].v1*e.PxPointY),m-o>=1&&(p.fillStyle=l<=0?h:c,p.fillRect(m,e.V0,d,l),o=m),b=f,e.Bars[t.Values[f].d]=t.Values[f].v1.toFixed(2));null!=b&&(e.Bars[0]=t.Values[b].v1.toFixed(2))}if("awesome"==i||"bop"==i){for(0!=mi.padBarCandle?((d=Math.floor(mi.innerWidth/w)-1)<1&&(d=1),s=mi.paddingLeft+mi.padBarCandle-Math.round(d/2)):(s=mi.paddingLeft,d=2),b=0,g=1;g<4&&(v="v"+g,3!=g||"bop"==i);g++)for(p.fillStyle=1==g?e.Indicator.v1?"transparent":e.Indicator.color:e.Indicator[v]?"transparent":e.Indicator["color"+g],f=0;f<w;f++)null!=t.Values[f]&&null!=t.Values[f][v]&&(m=Math.round(f*a+s),l=Math.round(-t.Values[f][v]*e.PxPointY),p.fillRect(m,e.V0,d,l),e.Bars[t.Values[f].d]=t.Values[f][v].toFixed(2),f>b&&(b=f,u=v));0!=b&&(e.Bars[0]=t.Values[b][u].toFixed(2))}G(p,e,t.Values,s,a),mi.set.nosticky||j(p,e.V0,e.Bars[0]||"",e.PxPointY,e.Indicator.color)}function V(t,e){var i,n,a,s,o,r,l,h,c,d=e.ctx,u=t.High;for(W(e),u*=1.08,t.Values=$(t.Values),i=t.Values.length,e.PxPointY=e.HeightPx/u,e.V0=Math.round(e.PxPointY*u),n=bi[0].PxPointX,(a=Math.floor(mi.innerWidth/i)-2)%2==0&&a++,a>21?a=21:a<0?a=1:a<2&&(a=2),s=mi.paddingLeft+mi.padBarCandle-Math.round(a/2),l=!1,Y(d,e.HeightPx,s,u,e.PxPointY),e.Bars={},d.fillStyle=e.Indicator.v1?"transparent":e.Indicator.color,d.beginPath(),c=mi.innerWidth+mi.paddingLeft,r=0;r<i;r++)null!=t.Values[r]&&(1==t.Values[r].v2&&(l=Math.round(r*n+s))<c&&(h=l+a>c?c-l:a,l<mi.paddingLeft&&(h=a-(mi.paddingLeft-l),l=mi.paddingLeft),d.rect(l,e.HeightPx,h,-t.Values[r].v1*e.PxPointY)),e.Bars[t.Values[r].d]=t.Values[r].v1,o=r);for(d.fill(),d.fillStyle=e.Indicator.v2?"transparent":e.Indicator.color2||ci(e.Indicator.type).color2,d.beginPath(),r=0;r<i;r++)null!=t.Values[r]&&1!=t.Values[r].v2&&(l=Math.round(r*n+s))<c&&(h=l+a>c?c-l:a,l<mi.paddingLeft&&(h=a-(mi.paddingLeft-l),l=mi.paddingLeft),d.rect(l,e.HeightPx,h,-t.Values[r].v1*e.PxPointY));d.fill(),null!=o&&(e.Bars[0]=t.Values[o].v1),G(d,e,t.Values,s,n),mi.set.nosticky||j(d,e.HeightPx,e.Bars[0]||"",e.PxPointY,e.Indicator.color)}function G(t,e,i,n,a){if(null!=i[0].vm){var s,o,r=n-1,l=i.length,h=e.V0;for("volume"==e.Indicator.type&&(h=e.HeightPx),t.strokeStyle=e.Indicator.mmColor,t.beginPath(),t.moveTo(n,h-Math.round(i[0].vm*e.PxPointY)),o=1;o<l;o++)null!=i[o]&&(s=Math.round(o*a+n))-r>=2&&(t.lineTo(s,h-Math.round(i[o].vm*e.PxPointY)),r=s);t.stroke()}}function F(t,e){var i,n,a,s,o,r,l,h,c,d,u,p=e.ctx;if(W(e),null!=t){t.Values=$(t.Values);var f=t.High,m=t.Low,g=t.Values.length;if(e.PxPointY=e.HeightPx/(f-m),i=bi[0].PxPointX,n=mi.paddingLeft+mi.padBarCandle,Y(p,e.HeightPx,n,f,e.PxPointY),o=n-1,e.V0=Math.round(e.PxPointY*f),e.Bars={},"roc"==e.Indicator.type||"rsi"==e.Indicator.type){switch(p.beginPath(),p.strokeStyle="#99ccff",e.Indicator.type){case"roc":l=100;break;case"rsi":l=50}p.moveTo(mi.paddingLeft,e.V0-Math.round(l*e.PxPointY)+.5),p.lineTo(mi.widthGraph-mi.paddingRight,e.V0-Math.round(l*e.PxPointY)+.5),p.stroke()}for("wto"==e.Indicator.type&&(p.beginPath(),p.strokeStyle="rgba(255,0,0,0.7)",p.moveTo(mi.paddingLeft,e.V0-Math.round(53*e.PxPointY)+.5),p.lineTo(mi.widthGraph-mi.paddingRight,e.V0-Math.round(53*e.PxPointY)+.5),p.stroke(),p.beginPath(),p.strokeStyle="rgba(0,128,0,0.7)",p.moveTo(mi.paddingLeft,e.V0-Math.round(-53*e.PxPointY)+.5),p.lineTo(mi.widthGraph-mi.paddingRight,e.V0-Math.round(-53*e.PxPointY)+.5),p.stroke()),p.strokeStyle=e.Indicator.v1?"transparent":e.Indicator.color,p.beginPath(),h=0,p.moveTo(n,e.V0-Math.round(t.Values[0].v1*e.PxPointY)),a=1;a<g;a++)null!=t.Values[a]&&null!=t.Values[a].v1&&((s=Math.round(a*i+n))-o>=2&&(p.lineTo(s,e.V0-Math.round(t.Values[a].v1*e.PxPointY)),o=s),e.Bars[t.Values[a].d]="aroon"==e.Indicator.type?"Up: "+t.Values[a].v1.toFixed(2)+" Down: "+t.Values[a].v2.toFixed(2):t.Values[a].v1.toFixed(2),r=a);if(null!=r&&(e.Bars[0]=t.Values[r].v1.toFixed(2)),p.save(),ei(p,e.Indicator,1),ii(p,1,e.Indicator),p.stroke(),p.restore(),null!=t.Values[0].v2){for(o=n-1,p.strokeStyle=e.Indicator.v2?"transparent":e.Indicator.color2,p.beginPath(),p.moveTo(n,e.V0-Math.round(t.Values[0].v2*e.PxPointY)),a=1;a<g;a++)null!=t.Values[a]&&((s=Math.round(a*i+n))-o>=2&&(p.lineTo(s,e.V0-Math.round(t.Values[a].v2*e.PxPointY)),o=s),h=t.Values[a].v2);p.save(),ei(p,e.Indicator,2),ii(p,2,e.Indicator),p.stroke(),p.restore()}if("dmi"==e.Indicator.type){for(p.strokeStyle=e.Indicator.v3?"transparent":e.Indicator.color3,p.beginPath(),p.moveTo(n,e.V0-Math.round(t.Values[0].v3*e.PxPointY)),a=0;a<g;a++)null!=t.Values[a]&&(s=Math.round(a*i+n),p.lineTo(s,e.V0-Math.round(t.Values[a].v3*e.PxPointY)));for(p.save(),ei(p,e.Indicator,3),ii(p,3,e.Indicator),p.stroke(),p.restore(),e.Bars={},a=0;a<g;a++)null!=t.Values[a]&&(e.Bars[t.Values[a].d]="DI+ : "+t.Values[a].v1.toFixed(2)+" DI- : "+t.Values[a].v2.toFixed(2)+" ADX : "+t.Values[a].v3.toFixed(2),r=a);null!=r&&(e.Bars[0]=t.Values[r].v1.toFixed(2))}if("macd"==e.Indicator.type||"macdzl"==e.Indicator.type||"wto"==e.Indicator.type){for(o=n-1,p.beginPath(),p.moveTo(n,e.V0),c=e.Indicator.v3?"transparent":null!=e.Indicator.color3?e.Indicator.color3:c=hexToRgb(rgb2hex(e.Indicator.color2),.5),p.strokeStyle=c,e.Bars={},a=0;a<g;a++)null!=t.Values[a]&&((s=Math.round(a*i+n))-o>=2&&(p.lineTo(s,e.V0-Math.round((t.Values[a].v1-t.Values[a].v2)*e.PxPointY)),o=s),r=a,e.Bars[t.Values[a].d]=(t.Values[a].v1-t.Values[a].v2).toFixed(2));null!=r&&(e.Bars[0]=t.Values[r].v1.toFixed(2)),p.stroke(),p.lineTo(s,e.V0),p.lineTo(n,e.V0),p.fillStyle=c,p.fill()}G(p,e,t.Values,n,i),null!=ci(e.Indicator.type).sb&&(d=null!=e.Indicator.sh?e.Indicator.sh:ci(e.Indicator.type).sh,u=null!=e.Indicator.sb?e.Indicator.sb:ci(e.Indicator.type).sb,9999!=e.Indicator.sh&&(p.beginPath(),3==e.Indicator.shs&&(p.lineWidth=3),p.strokeStyle="rgba(255,0,0,0.5)",p.moveTo(mi.paddingLeft,Math.round(e.V0-d*e.PxPointY)+.5),p.lineTo(mi.widthGraph-mi.paddingRight,Math.round(e.V0-d*e.PxPointY)+.5),p.stroke(),(null==e.Indicator.shs||1==e.Indicator.shs)&&(p.fillStyle="rgba(255,0,0,0.15)",p.fillRect(mi.paddingLeft,1,mi.innerWidth,e.V0-Math.round(d*e.PxPointY)))),9999!=e.Indicator.sb&&(p.beginPath(),p.lineWidth=3==e.Indicator.sbs?3:1,p.strokeStyle="rgba(0,128,0,0.5)",p.moveTo(mi.paddingLeft,Math.round(e.V0-u*e.PxPointY)+.5),p.lineTo(mi.widthGraph-mi.paddingRight,Math.round(e.V0-u*e.PxPointY)+.5),p.stroke(),(null==e.Indicator.sbs||1==e.Indicator.sbs)&&(p.fillStyle="rgba(0,128,0,0.15)",p.fillRect(mi.paddingLeft,e.V0-Math.round(u*e.PxPointY),mi.innerWidth,e.V0-Math.round(u*e.PxPointY)))),p.lineWidth=1),mi.set.nosticky||(0!=h?(j(p,e.V0,h,e.PxPointY,e.Indicator.color2),j(p,e.V0,e.Bars[0]||"",e.PxPointY,e.Indicator.color)):j(p,e.V0,e.Bars[0]||"",e.PxPointY,e.Indicator.color))}}function W(t,e,i,n){var a,s,o,r,l,h=Math.round((mi.innerWidth-2*mi.padBarCandle)/80),c=wi.maxX-wi.minX,d=Math.round(c/h);if(d<=0&&(d=1),(s=t.ctx).beginPath(),s.save(),s.strokeStyle=mi.set.gridColor,s.font="11px Arial",!mi.set.gridLine&&s.setLineDash&&s.setLineDash([3]),e&&(Ti.ctxback.fillStyle=mi.set.txtColor),r=mi.heightGraph-6,n)for(a=d;a<c;a+=d)null!=i[a]&&(o=Math.round(i[a].cu-i[0].cu+mi.paddingLeft)+.5,mi.set.gridV&&(s.moveTo(o,0),s.lineTo(o,t.HeightPx)),l=i[a].d,mi.isIntraday?mi.histoLength>2?Ti.ctxback.fillText(formatMinutes(l),o-18,r):Ti.ctxback.fillText(formatMinutes(l,1),o-18,r):mi.histoLength>365?Ti.ctxback.fillText(daysToDate(l,4),o-18,r):Ti.ctxback.fillText(daysToDate(l,3),o-18,r));else for(a=d;a<c;a+=d)o=Math.round(a*bi[0].PxPointX+mi.paddingLeft+mi.padBarCandle)+.5,mi.set.gridV&&(s.moveTo(o,0),s.lineTo(o,t.HeightPx)),e&&(l=null==i[a]?ft(a+1-Ci[Ci.length-1].i):i[a].d,mi.isIntraday?mi.histoLength>2?Ti.ctxback.fillText(formatMinutes(l),o-18,r):Ti.ctxback.fillText(formatMinutes(l,1),o-18,r):mi.histoLength>365?Ti.ctxback.fillText(daysToDate(l,4),o-18,r):Ti.ctxback.fillText(daysToDate(l,3),o-18,r));s.stroke(),s.restore()}function Y(t,e,i,n,a,s,o){var r,l,h,c,d,u,p,f="";n>=1e5&&(n/=1e3,a*=1e3,f="K"),o&&(h=mi.logData),t.save(),t.beginPath(),!mi.set.gridLine&&t.setLineDash&&t.setLineDash([3]),t.strokeStyle=mi.set.gridColor,t.font="11px Arial",t.fillStyle=mi.set.txtColor,c=e/a,d=35,e<120&&(d=20);var m,g,v,b=Math.round(e/d),y=c/(b-1),x=Math.ceil(Math.log10(y)-1),w=Math.pow(10,x),T=Math.ceil(y/w)*w,C=Math.ceil((n-c)/T)*T;for(mi.mainChart.typedef.nolinearX||(v=fi.QuoteTab[wi.minX].c),u=mi.widthGraph-mi.paddingRight,p=i-mi.padBarCandle,r=0;r<=b&&(m=C+r*T,!((g=o?I(m,h):Math.round((n-m)*a))<=5));r++)mi.set.gridH&&(t.moveTo(p,g+.5),t.lineTo(u,g+.5)),l=s||"perf"==mi.mainChart.type?"perf"==mi.mainChart.type?formatDecimales(m,!0):formatDecimales(100*(m-v)/v,!0):formatDecimales(m)+f,mi.set.yaxis?t.fillText(l,2,g+2):t.fillText(l,u+5,g+2);t.stroke(),t.restore()}function j(t,e,i,n,a,s,o){var r,l,h,c,d;i=parseFloat(i),s?r=I(i,o):(r=Math.round(e-i*n))<e+7&&(r-=7),null==a&&(a="rgba(51, 102, 255, 1)"),t.fillStyle=rgb2hex(a),t.font="11px Arial",h=mi.widthGraph-mi.paddingRight,c=mi.paddingRight,mi.set.yaxis&&(h=-2,c=mi.paddingLeft-1),t.fillRect(h+2,r-7,c,15),t.fillStyle=z(a),s&&null!=mi.isCompare&&!mi.mainChart.typedef.nolinearX&&"perf"!=mi.mainChart.type?(l=fi.QuoteTab[wi.minX].c,i=100*(i-l)/l,t.fillText(i.toFixed(2),h+5,r+4)):(d="",i>=1e5&&(i=Math.round(i/1e3),d="K"),t.fillText(formatDecimales(i)+d,h+5,r+4))}function z(t){var e,i,n,a,s;return-1!=t.indexOf("#")?3==(e=t.substring(1)).length&&(e+=e):e=rgb2hex(t).substring(1),i=parseInt(e,16),n=i>>16&255,a=i>>8&255,s=i>>0&255,.2126*n+.7152*a+.0722*s>130?"#000":"#fff"}function X(){var t,e,n,a,s;for(Si.idempty(i("")),e=bi.length,yi={},t=0;t<e;t++)bi[t].Bars=0==t?[]:{},delete bi[t].canvas,delete bi[t].ctx;for($t(),wi.maxY=fi.High,wi.minY=fi.Low,Mt("rodgraph",n=Si.gi(i(""))),Ti.ctxback=Si.gi(i("rodgraph-")).getContext("2d"),At(),VGP.chartSimple||(Mt("topinfo",n),Mt("mainci",n)),a=yt(bi),bi=[],new Rt(0,1,mi.mainChart.type,"main",0).Create(n),s=a.length,t=0;t<s;t++)bi.push(a[t]);bi[0].DrawEncadre(),VGP.chartSimple||(Mt("overlay",n),Mt("trace",n),Si.qstxt(i("#eod_topinfo-")+" span",fi.Name)),St(),Q(!0),"season"!=mi.mainChart.type&&Zt()}function U(){for(var e,n,a,s,o,r,l,h,c,d,u=[],p=Ti.dataSeason.QuoteTab,f=p.length,m=0;m<f;m++)a=100*(p[m].c-p[m].o)/p[m].o,e=new Date(864e5*p[m].d),n=e.getMonth(),p[m].c>=p[m].o?null==u[n]?u[n]={h:1,b:0,ph:a,pb:0}:(u[n].h=u[n].h+1,u[n].ph=u[n].ph+a):null==u[n]?u[n]={h:0,b:1,ph:0,pb:a}:(u[n].b=u[n].b+1,u[n].pb=u[n].pb+a);s=u.length,r=(o=bi[0]).ctx,At(),o.DrawEncadre(),r.strokeStyle="#000";var g,v,b,y=mi.innerWidth/12,x=o.HeightPx,w=(x-65)/100,T=0;for(Si.qstxt(i("#eod_topinfo-")+" span",Ti.dataSeason.Name+" - "+lang.l_seasonleg),Si.qstxt(i("#eod_topinfo-")+" span",""),r.font="12px Arial",mi.widthGraph<520&&(r.font="11px Arial"),m=0;m<s;m++)0!=(g=100*u[m].h/(u[m].h+u[m].b))?(T=Math.round(g*w),r.fillStyle="#008000",r.beginPath(),r.rect(Math.round(m*y)+mi.paddingLeft,x,Math.round(y),-T),r.stroke(),r.fill(),b=g.toFixed(0)+" %",v=r.measureText(b).width,v=m*y+(y-v)/2+mi.paddingLeft,r.fillStyle="#fff",r.fillText(b,v,x-T/2)):T=0,0!=(g=100-g)&&(r.fillStyle="#fe0000",r.beginPath(),r.rect(Math.round(m*y)+mi.paddingLeft,x-T,Math.round(y),Math.round(-g*w)+.5),r.stroke(),r.fill(),b=g.toFixed(0)+" %",v=r.measureText(b).width,v=m*y+(y-v)/2+mi.paddingLeft,r.fillStyle="#fff",r.fillText(b,v,x-T-g*w/2));for(Ti.ctxback.save(),Ti.ctxback.font="12px Arial",Ti.ctxback.fillStyle=mi.set.txtColor,l=lang.l_months,h=r.measureText("-0.0%").width,m=0;m<s;m++)v=Ti.ctxback.measureText(l[m]).width,v=m*y+(y-v)/2+mi.paddingLeft,Ti.ctxback.fillText(l[m],v,mi.heightGraph-5),c=m*y+(y-h)/2+mi.paddingLeft,r.fillStyle="#008000",a=0!=u[m].h?(u[m].ph/u[m].h).toFixed(1)+"%":" - ",r.fillText(a,c+3,14),r.fillStyle="#fe0000",a=0!=u[m].b?(u[m].pb/u[m].b).toFixed(1)+"%":" - ",r.fillText(a,c,34),r.fillStyle=mi.set.txtColor,a=((u[m].pb+u[m].ph)/(u[m].b+u[m].h)).toFixed(1)+"%",r.fillText(a,c+3,54);r.beginPath(),r.strokeStyle="#bbb",r.moveTo(mi.paddingLeft+7,20.5),r.lineTo(mi.innerWidth,20.5),r.moveTo(mi.paddingLeft+7,40.5),r.lineTo(mi.innerWidth,40.5),r.stroke(),d=mi.widthGraph-mi.paddingRight+2,Ti.ctxback.fillText(lang.l_up,d,30),Ti.ctxback.fillText(lang.l_down,d,50),Ti.ctxback.fillText(lang.l_moy,d,70),Ti.ctxback.restore(),VGP.isPro&&vi.mousedown(function(){t(".eod_container").removeClass("eod_active"),vi.addClass("eod_active"),callUpdateInfosFull(mi.symbol)})}function q(){"function"==typeof stopTimers&&stopTimers(),$t(),null==Ti.dataSeason?t.ajax({type:VGP.callType,url:VGP.urlWS+"GetTicksEOD",data:JSON.stringify({symbol:mi.symbol,length:3650,period:30,guid:Si.gigt("guid")}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){if(null==t.d)return!1;Ti.dataSeason=t.d,null==fi&&(fi=t.d),U()}}):U()}function Q(t){var e,n,a,s,o,r,l,h,c,d,u,p,f,m,g,v,b,y,x,w,T,C,S,M,A,k=mi,D=k.mainChart.typedef.param1,P="",_=bi[0];switch(yi={},n="c",null!=k.mainChart.typedef.source&&(n=k.mainChart.typedef.source),k.mainChart.type){case"renko":if(null==D&&(D=+((fi.High-fi.Low)/20).toFixed(2)),P=D,!(e=pi(fi,D,n)))return;(e.QuoteTab.length>700||e.QuoteTab.length<5)&&(D=+((fi.High-fi.Low)/20).toFixed(2),e=pi(fi,D,n));break;case"line break":(D>5||D<1||null==D)&&(D=2),P=D,e=function(t,e,i){function n(t,i){var n;if(1==t)for(n=Math.min(u[i-1].l,u[i-2].l),n=u[i-e].l,c=1;c<e;c++)u[i-c].l<n&&(n=u[i-c].l);else for(n=u[i-e].h,c=1;c<e;c++)u[i-c].h>n&&(n=u[i-c].h);return n}var a,s,o,r,l,h,c,d={QuoteTab:t.QuoteTab},u=[],p=d.QuoteTab.length;if(e>5&&(e=5),e>p-5)return!1;for(o=gs(d.QuoteTab[0],i),r=gs(d.QuoteTab[0],i),a=1;a<e;a++)gs(d.QuoteTab[a],i)>r&&(r=gs(d.QuoteTab[a],i)),gs(d.QuoteTab[a],i)<o&&(o=gs(d.QuoteTab[a],i));for(gs(d.QuoteTab[e-1],i)>gs(d.QuoteTab[0],i)?(s=1,l=o):(s=0,l=r),a=0;a<e;a++)u.push({d:d.QuoteTab[a].d,l:o,h:r,s:s,c:d.QuoteTab[a].c});for(a=e;a<p;a++)if(h=u.length,0==s){if(l=n(0,h),gs(d.QuoteTab[a],i)>l){s=1,u.push({d:d.QuoteTab[a].d,l:u[h-1].h,h:gs(d.QuoteTab[a],i),s:1,c:d.QuoteTab[a].c});continue}if(d.QuoteTab[a].c<u[h-1].l){s=0,u.push({d:d.QuoteTab[a].d,l:gs(d.QuoteTab[a],i),h:u[h-1].l,s:0,c:d.QuoteTab[a].c});continue}}else{if(l=n(1,h),gs(d.QuoteTab[a],i)<l){s=0,u.push({d:d.QuoteTab[a].d,l:gs(d.QuoteTab[a],i),h:u[h-1].l,s:0,c:d.QuoteTab[a].c});continue}if(gs(d.QuoteTab[a],i)>u[h-1].h){s=1,u.push({d:d.QuoteTab[a].d,l:u[h-1].h,h:gs(d.QuoteTab[a],i),s:1,c:d.QuoteTab[a].c});continue}}return u.splice(0,e-1),1==u.length&&(u=[]),{Name:t.Name,High:t.High,Low:t.Low,QuoteTab:u}}(fi,D,n);break;case"kagi":null==D&&(D=+((fi.High-fi.Low)/30).toFixed(2)),e=function(t,e,i){var n,a,s,o,r,l,h,c,d,u,p={QuoteTab:t.QuoteTab},f=[],m=p.QuoteTab.length;if(m<5)return!1;for(gs(p.QuoteTab[1],i)>gs(p.QuoteTab[0],i)?(s=gs(p.QuoteTab[0],i),o=gs(p.QuoteTab[1],i),f.push({d:p.QuoteTab[0].d,l1:s,h1:o,c:p.QuoteTab[0].c,s:1}),a=1,r=!0,l=gs(p.QuoteTab[0],i)):(s=gs(p.QuoteTab[1],i),o=gs(p.QuoteTab[0],i),f.push({d:p.QuoteTab[0].d,l2:s,h2:o,c:p.QuoteTab[0].c,s:0}),a=0,r=!1,h=gs(p.QuoteTab[0],i)),n=2;n<m;n++)d=gs(p.QuoteTab[n],i),u=f.length-1,1==a&&r?((c=d-f[u].h1)>0&&(f[u].h1=d,o=d),c<0&&c<-e&&(h=o,f.push({d:p.QuoteTab[n].d,l1:Math.max(d,l),h1:o,c:d,s:0}),d<l&&(f[f.length-1].l2=d,f[f.length-1].h2=l,a=0),r=!1,s=d)):1!=a||r?0!=a||r?0==a&&r&&((c=d-f[u].h2)<-e&&(f.push({d:p.QuoteTab[n].d,l2:d,h2:o,c:d,s:0}),a=0,r=!1,s=d,h=o),c>0&&(f[u].h2=Math.min(d,h),d>h&&(f[u].l1=h,f[u].h1=d,a=1),o=d)):((c=d-f[u].l2)<0&&(f[u].l2=d,s=d),c>0&&c>e&&(l=s,f.push({d:p.QuoteTab[n].d,l2:s,h2:Math.min(d,h),c:d,s:1}),d>h&&(f[f.length-1].l1=h,f[f.length-1].h1=d,a=1),r=!0,o=d)):((c=d-f[u].l1)>e&&(f.push({d:p.QuoteTab[n].d,l1:s,h1:d,c:d,s:1}),a=1,r=!0,l=s,o=d),c<0&&(f[u].l1=Math.max(d,l),d<l&&(f[u].l2=d,f[u].h2=l,a=0),s=d));return{Name:t.Name,High:t.High,Low:t.Low,QuoteTab:f}}(fi,D,n),P=D;break;case"season":return q(),!1;case"equivolume":e=fi;break;case"point figure":null==D&&(D=((fi.High-fi.Low)/50).toFixed(2)),null==(a=k.mainChart.typedef.param2)&&(a=3),e=function(t,e,i,n){var a,s,o,r={QuoteTab:t.QuoteTab},l=[],h=r.QuoteTab.length;if(h<3||e<=0||i<=1)return!1;var c,d=gs(r.QuoteTab[0],n),u=!0,p=r.QuoteTab[0].d;for(a=1;a<h;a++){if((c=gs(r.QuoteTab[a],n)-d)>=e){u=!0;break}if(c<=-e){u=!1;break}}for(s=1,a=1;a<h;a++)o=(gs(r.QuoteTab[a],n)-d)/e,u?(o>=1&&(d+=Math.floor(o)*e,s+=Math.floor(o)),o<=-i&&(l.push({d:p,f:!0,n:s,c:d}),p=r.QuoteTab[a].d,d+=Math.ceil(o)*e,u=!1,s=Math.floor(Math.abs(o)))):o>=i?(l.push({d:p,f:!1,n:s,c:d-e}),p=r.QuoteTab[a].d,d+=Math.floor(o)*e,u=!0,s=Math.floor(Math.abs(o))):o<=-1&&(d+=Math.ceil(o)*e,s+=Math.floor(Math.abs(o)));return 1!=s&&l.push({d:p,f:u,n:s,c:d}),{Name:t.Name,High:t.High,Low:t.Low,QuoteTab:l}}(fi,D,a,n),P=D+", "+a}if(VGP.chartSimple||Si.idhtml(i("eod_mainchartinfos-"),'<div><span class="eod_param" title="'+k.mainChart.type+'"><span class="mci-p"></span> '+k.mainChart.type.toUpperCase()+" ("+P+")</span></div>"),null!=(s={Name:e.Name,High:e.High,Low:e.Low,QuoteTab:e.QuoteTab}).QuoteTab&&0!=s.QuoteTab.length){wi.maxNL=s.QuoteTab.length,(0==wi.maxX&&0==wi.minX||t)&&(wi.maxX=s.QuoteTab.length-1,wi.minX=0),s.QuoteTab=$(e.QuoteTab);var N,E=s.High,O=s.Low,I=s.QuoteTab.length;0==wi.maxY&&0==wi.minY?(wi.maxY=E,wi.minY=O):(E=wi.maxY,O=wi.minY),_.PxPointY=(_.HeightPx-57)/(E-O),_.V0=E+37/_.PxPointY;var L=_.V0,B=_.PxPointY,R=_.ctx;if(0==I)return!1;switch((o=Math.floor(k.innerWidth/I)-1)%2==0&&o++,k.padBarCandle=o,r=k.paddingLeft+k.padBarCandle,Y(R,_.HeightPx,r,L,B),c=(k.innerWidth-2*k.padBarCandle)/(I-1),_.PxPointX=c,"equivolume"==k.mainChart.type?(s=function(t,e){for(var i,n,a,s={QuoteTab:t.QuoteTab},o=[],r=s.QuoteTab.length,l=0,h=0,c=0;c<r;c++)null!=s.QuoteTab[c]&&(h+=s.QuoteTab[c].v);for(h+=1e3*h,c=0;c<r;c++)null!=(n=s.QuoteTab[c])&&(i=Math.round(1e3*n.v/h*e),a=n.c>=n.o,o.push({d:s.QuoteTab[c].d,l:n.l,h:n.h,s:a,w:i,c:s.QuoteTab[c].c,cu:l,o:n.o}),l+=i);return{Name:t.Name,High:t.High,Low:t.Low,QuoteTab:o}}(s,k.innerWidth-5),W(_,!0,s.QuoteTab,!0)):W(_,!0,s.QuoteTab),Ci=[],_.Bars[0]={},d={},R.save(),k.mainChart.type){case"equivolume":for(l=k.paddingLeft,N=0;N<I;N++)if(null!=(u=s.QuoteTab[N])){for(f=Math.round((L-u.l)*B),m=Math.round((L-u.h)*B),g=Math.round((L-u.c)*B),v=Math.round((L-u.o)*B),u.s?(R.fillStyle=hexToRgb(rgb2hex(k.mainChart.typedef.color),.4),R.strokeStyle=k.mainChart.typedef.color):(R.fillStyle=hexToRgb(rgb2hex(k.mainChart.typedef.color2),.4),R.strokeStyle=k.mainChart.typedef.color2),(k.mainChart.typedef.v1||!u.s)&&(k.mainChart.typedef.v2||u.s)||(R.beginPath(),R.rect(l+.5,m+.5,u.w,f-m),R.stroke(),R.fill()),R.fillStyle=u.s?hexToRgb(rgb2hex(k.mainChart.typedef.color),.8):hexToRgb(rgb2hex(k.mainChart.typedef.color2),.8),(k.mainChart.typedef.v1||!u.s)&&(k.mainChart.typedef.v2||u.s)||(R.beginPath(),R.rect(l+.5,Math.max(g,v),u.w,-Math.abs(g-v)),R.fill()),d[u.d]={c:u.c.toFixed(2),i:N},p=N,Ci[Math.floor(l+u.w/2)]={d:u.d,i:N},h=l;h<=l+u.w;h++)yi[h]=u.d;l+=u.w}u=s.QuoteTab[p],d[0]={c:u.c.toFixed(2),i:p,d:u.d};break;case"point figure":for(b=Math.floor(o/2),x=Math.round(c),w=D*B,N=0;N<I;N++)if(null!=(u=s.QuoteTab[N])){if(y=Math.round((L-u.c)*B),l=Math.round(N*c+r)-b,u.f){for(R.strokeStyle=k.mainChart.typedef.color,R.beginPath(),h=0;h<u.n;h++)y+=w,k.mainChart.typedef.v1||(R.moveTo(l,y),R.lineTo(l+x,y-w),R.moveTo(l+x,y),R.lineTo(l,y-w));R.stroke()}else for(R.strokeStyle=k.mainChart.typedef.color2,h=0;h<u.n;h++)y-=w,k.mainChart.typedef.v2||(R.save(),R.beginPath(),R.translate(l,y),R.scale(x/2,w/2),R.arc(1,1,1,0,2*Math.PI,!1),R.restore(),R.stroke());for(d[u.d]={c:u.c.toFixed(2),i:N},p=N,Ci[Math.floor(l+b)-k.paddingLeft]={d:u.d,i:N},h=0;h<=x;h++)yi[l+h]=u.d}null!=p&&(u=s.QuoteTab[p],d[0]={c:u.c.toFixed(2),i:p,d:u.d});break;case"renko":case"line break":if(R.strokeStyle=k.mainChart.typedef.color3,b=Math.floor(o/2),!k.mainChart.typedef.v1){for(R.beginPath(),R.fillStyle=k.mainChart.typedef.color,N=0;N<I;N++)if(null!=(u=s.QuoteTab[N]))for(l=Math.round(N*c+r)-b,1==u.s&&(f=Math.round((L-u.l)*B),m=Math.round((L-u.h)*B),R.rect(l+.5,m+.5,Math.round(c),f-m)),d[u.d]={c:u.c.toFixed(2),i:N},p=N,Ci[Math.floor(l+b)-k.paddingLeft]={d:u.d,i:N},h=-b;h<=b;h++)yi[l+h]=u.d;u=s.QuoteTab[p],d[0]={c:u.c.toFixed(2),i:p,d:u.d},k.mainChart.typedef.v3&&(R.strokeStyle=k.mainChart.typedef.color),R.stroke(),R.fill()}if(!k.mainChart.typedef.v2){for(R.beginPath(),R.fillStyle=k.mainChart.typedef.color2,N=0;N<I;N++)null!=(u=s.QuoteTab[N])&&(l=Math.round(N*c+r)-b,0==u.s&&(f=Math.round((L-u.l)*B),m=Math.round((L-u.h)*B),R.rect(l+.5,m+.5,Math.round(c),f-m)));k.mainChart.typedef.v3&&(R.strokeStyle=k.mainChart.typedef.color2),R.stroke(),R.fill()}break;case"kagi":for(R.lineWidth=3,N=0;N<I;N++)if(null!=(u=s.QuoteTab[N]))for(A=Math.round(N*c+r)-o+.5,l=Math.round((N+1)*c+r)-o+.5,T=Math.round((L-u.l1)*B)+.5,C=Math.round((L-u.h1)*B)+.5,S=Math.round((L-u.l2)*B)+.5,M=Math.round((L-u.h2)*B)+.5,null!=u.l1&&null!=u.l2&&(1==u.s?(k.mainChart.typedef.v2||(R.beginPath(),R.strokeStyle=k.mainChart.typedef.color2,R.moveTo(A,S),R.lineTo(l,S),R.lineTo(l,M-1),R.stroke()),k.mainChart.typedef.v1||(R.beginPath(),R.strokeStyle=k.mainChart.typedef.color,R.moveTo(l,T),R.lineTo(l,C-1.5),R.stroke())):(k.mainChart.typedef.v1||(R.beginPath(),R.strokeStyle=k.mainChart.typedef.color,R.moveTo(A,C),R.lineTo(l,C),R.lineTo(l,T+1),R.stroke()),k.mainChart.typedef.v2||(R.beginPath(),R.strokeStyle=k.mainChart.typedef.color2,R.moveTo(l,M),R.lineTo(l,S+1.5),R.stroke()))),null==u.l2&&(k.mainChart.typedef.v1||(R.beginPath(),R.strokeStyle=k.mainChart.typedef.color,1==u.s?(R.moveTo(A,T),R.lineTo(l,T),R.lineTo(l,C-1.5)):(R.moveTo(A,C),R.lineTo(l,C),R.lineTo(l,T+1.5)),R.stroke())),null==u.l1&&(k.mainChart.typedef.v2||(R.beginPath(),R.strokeStyle=k.mainChart.typedef.color2,1==u.s?(R.moveTo(A,S),R.lineTo(l,S),R.lineTo(l,M-1.5)):(R.moveTo(A,M),R.lineTo(l,M),R.lineTo(l,S+1.5)),R.stroke())),d[u.d]={c:u.c.toFixed(2),i:N},p=N,Ci[Math.floor(l-.5)-k.paddingLeft]={d:u.d,i:N},h=A-.5;h<=l-.5;h++)yi[h]=u.d;u=s.QuoteTab[p],d[0]={c:u.c.toFixed(2),i:p,d:u.d}}R.restore(),_.Bars[0]=d,0!=I&&null!=d[0]&&"point figure"!=k.mainChart.type&&(k.set.nohighlow||(j(R,L,s.High,B,"rgba(0, 128, 0, 1)",!0),j(R,L,s.Low,B,"rgba(192, 0, 0, 1)",!0)),k.set.nosticky||j(R,L,d[0].c,B,null,!0))}}function Z(t,e,n){var a,s,o,r,l,h,c,d,u,p,f,m,g,v,b,y,x,w,C,S,M,k,L,H,V,G,F,z,X,U,q,Q,Z,et;if(null!=t){a={Name:t.Name,High:t.High,Low:t.Low,QuoteTab:t.QuoteTab},s=mi,0==wi.maxX&&0==wi.minX&&(wi.maxX=a.QuoteTab.length-1,wi.minX=0),a.QuoteTab=$(t.QuoteTab);var it,nt=a.High,at=a.Low,st=a.QuoteTab.length,ot=bi[0];0==wi.maxY&&0==wi.minY?(wi.maxY=nt,wi.minY=at):(nt=wi.maxY,at=wi.minY),o=57,57==ot.HeightPx&&(o=56),ot.PxPointY=(ot.HeightPx-o)/(nt-at),ot.V0=nt+(o-20)/ot.PxPointY;var rt,lt=ot.V0,ht=ot.PxPointY,ct=ot.ctx;if(-1!=["bar","candle","barcolor","hollow","heikin ashi"].indexOf(s.mainChart.type)?((rt=Math.floor(s.innerWidth/st)-3)%2==0&&rt++,rt>19?rt=19:rt<3&&(rt=3),s.padBarCandle=2+rt):s.padBarCandle=0,r=s.paddingLeft+s.padBarCandle,"perf"==s.mainChart.type&&(a=RODTA.computePERFORMANCE(a),at=a.Low<0?1.05*a.Low:.95*a.Low,nt=a.High>0?1.05*a.High:.95*a.High,ht=(ot.HeightPx-o)/(nt-at),ot.PxPointY=ht,lt=nt+(o-20)/ot.PxPointY,ot.V0=lt),"heikin ashi"==s.mainChart.type&&!(a=function(t){var e,i,n={QuoteTab:t.QuoteTab},a=[],s=n.QuoteTab.length;if(s<2)return!1;var o=n.QuoteTab[0].o,r=n.QuoteTab[0].h,l=n.QuoteTab[0].l,h=n.QuoteTab[0].c;for(a[0]={d:n.QuoteTab[0].d,o:o,h:r,l:l,c:h,v:n.QuoteTab[0].v},e=1;e<s;e++)null!=(i=n.QuoteTab[e])&&(h=(i.o+i.h+i.l+i.c)/4,o=(a[e-1].o+a[e-1].c)/2,r=Math.max(i.h,h,o),l=Math.min(i.l,o,h),a[e]={d:n.QuoteTab[e].d,o:+o.toFixed(3),h:+r.toFixed(3),l:+l.toFixed(3),c:+h.toFixed(3),v:n.QuoteTab[e].v});return{Name:t.Name,High:t.High,Low:t.Low,QuoteTab:a}}(a)))return yi={},st=[],void(ot.Bars[0]={});switch(l=null,s.set.semilog&&"perf"!=s.mainChart.type&&!s.isCompare&&(l=function(t,e){var i=(t-e)/100;(e-=i)<=0&&(e=.98*(e+i));var n=Math.log10(e)/Math.log10(10),a=Math.log10(t+4*i)/Math.log10(10);return{floor:n,ceil:a,range:a-n}}(nt,at)),mi.logData=l,null!=s.isCompare?Y(ct,ot.HeightPx,r,lt,ht,!0):s.set.semilog&&"perf"!=s.mainChart.type?Y(ct,ot.HeightPx,r,lt,ht,!1,!0):Y(ct,ot.HeightPx,r,lt,ht),p=1==st?s.innerWidth-2*s.padBarCandle:(s.innerWidth-2*s.padBarCandle)/(st-1),ot.PxPointX=p,e?W(ot):W(ot,!0,a.QuoteTab),yi={},Ci=[],ot.Bars[0]={},f={},s.mainChart.type){case"perf":for(ct.save(),ct.beginPath(),c=(lt-a.QuoteTab[0].c)*ht,ct.moveTo(r,c),it=0;it<st;it++)if(null!=(m=a.QuoteTab[it])){if(h=Math.round(it*p+r),Ci[h-s.paddingLeft]={d:m.d,i:it},ct.lineTo(h+.5,Math.round((lt-m.c)*ht)+.5),p<2)yi[h]=m.d;else for(d=-1;d<=1;d++)yi[h+d]=m.d;f[m.d]={c:m.c.toFixed(2),i:it},C=it}m=a.QuoteTab[C],f[0]={c:m.c.toFixed(2),i:C,d:m.d},s.mainChart.typedef.v1||(ct.strokeStyle=s.mainChart.typedef.color,ii(ct,1,s.mainChart.typedef),ei(ct,s.mainChart.typedef,1),ct.stroke()),s.mainChart.typedef.v2||(ct.lineTo(h,lt*ht),ct.lineTo(r,lt*ht),(x=ct.createLinearGradient(0,0,0,ot.HeightPx)).addColorStop(0,hexToRgb(rgb2hex(s.mainChart.typedef.color2),.7)),x.addColorStop(1,hexToRgb(rgb2hex(s.mainChart.typedef.color2),.1)),ct.fillStyle=x,ct.fill()),ct.restore();break;case"line":case"line2":for(ct.save(),ct.beginPath(),S=null!=s.mainChart.typedef.source?s.mainChart.typedef.source:"c",c=I(gs(a.QuoteTab[0],S),l),ct.moveTo(r,c),(M=[]).push({x:r,y:c}),it=0;it<st;it++)if(null!=(m=a.QuoteTab[it])){if(h=Math.round(it*p+r),Ci[h-s.paddingLeft]={d:m.d,i:it},c=I(gs(m,S),l)+.5,ct.lineTo(h+.5,c),M.push({x:h+.5,y:c}),p<2)yi[h]=m.d;else for(d=-1;d<=1;d++)yi[h+d]=m.d;C=it,f[m.d]={o:m.o,h:m.h,l:m.l,c:m.c,i:it}}if(m=a.QuoteTab[C],f[0]={o:m.o,h:m.h,l:m.l,c:m.c,i:C,d:m.d},"line"==s.mainChart.type&&(s.mainChart.typedef.v2||(ct.strokeStyle="transparent",ct.lineTo(h,ot.HeightPx),ct.lineTo(r,ot.HeightPx),ct.lineTo(r,lt),ct.stroke(),0!=lt-nt&&((x=ct.createLinearGradient(0,I(a.High,l),0,ot.HeightPx)).addColorStop(0,s.mainChart.typedef.color2),null!=s.mainChart.typedef.color3?x.addColorStop(1,s.mainChart.typedef.color3):x.addColorStop(1,hexToRgb(rgb2hex(s.mainChart.typedef.color2),.1)),ct.fillStyle=x,ct.fill()))),!s.mainChart.typedef.v1){if(ct.beginPath(),(k=M.length)>0)for(ct.moveTo(M[0].x,M[0].y),d=1;d<k;d++)ct.lineTo(M[d].x,M[d].y);ei(ct,s.mainChart.typedef,1),ii(ct,1,s.mainChart.typedef),ct.strokeStyle=s.mainChart.typedef.color,ct.stroke()}ct.restore();break;case"bar":case"barcolor":ct.save();var dt=.5,ut=0,pt=Math.floor(rt/2),ft=pt+1;for(p>5&&(ct.lineWidth=2,dt=0,ut=1,pt+=1),ct.strokeStyle=s.mainChart.typedef.v1?"transparent":s.mainChart.typedef.color,ct.beginPath(),it=0;it<st;it++)if(null!=(m=a.QuoteTab[it])){for(h=Math.round(it*p+r),m.c>=m.o&&(b=I(m.o,l)+dt,y=I(m.c,l)+dt,g=I(m.l,l),v=I(m.h,l),Ci[h-s.paddingLeft]={d:m.d,i:it},ct.moveTo(h+dt,g+ut),ct.lineTo(h+dt,v-ut),ct.moveTo(h,b),ct.lineTo(h-pt,b),ct.moveTo(h,y),ct.lineTo(h+ft,y)),u=-rt;u<=rt;u++)yi[h+u]=m.d;C=it,f[m.d]={o:m.o,h:m.h,l:m.l,c:m.c,i:it}}for(m=a.QuoteTab[C],f[0]={o:m.o,h:m.h,l:m.l,c:m.c,i:C,d:m.d},ct.stroke(),"barcolor"==s.mainChart.type&&(ct.strokeStyle=s.mainChart.typedef.v2?"transparent":s.mainChart.typedef.color2),ct.beginPath(),it=0;it<st;it++)null!=(m=a.QuoteTab[it])&&m.c<m.o&&(b=I(m.o,l)+dt,y=I(m.c,l)+dt,h=Math.round(it*p+r),g=I(m.l,l),v=I(m.h,l),Ci[h-s.paddingLeft]={d:m.d,i:it},ct.moveTo(h+dt,g+ut),ct.lineTo(h+dt,v-ut),ct.moveTo(h,b),ct.lineTo(h-pt,b),ct.moveTo(h,y),ct.lineTo(h+ft,y));ct.stroke(),ct.restore();break;case"heikin ashi":case"candle":for(p>5&&p<7&&(rt=5),ct.strokeStyle=s.mainChart.typedef.color3,ct.beginPath(),ct.fillStyle=s.mainChart.typedef.color,w=Math.floor(rt/2),it=0;it<st;it++)if(null!=(m=a.QuoteTab[it])){for(h=Math.round(it*p+r)-w,m.c>=m.o&&K(ct,rt,m,h,w,it,l),u=0;u<=rt;u++)yi[h+u]=m.d;C=it,f[m.d]={o:m.o,h:m.h,l:m.l,c:m.c,i:it}}for(m=a.QuoteTab[C],f[0]={o:m.o,h:m.h,l:m.l,c:m.c,i:C,d:m.d},s.mainChart.typedef.v1||(ct.stroke(),ct.fill()),ct.beginPath(),ct.fillStyle=s.mainChart.typedef.color2,it=0;it<st;it++)null!=(m=a.QuoteTab[it])&&m.c<m.o&&(h=Math.round(it*p+r)-w,K(ct,rt,m,h,w,it,l));s.mainChart.typedef.v2||(ct.stroke(),ct.fill());break;case"hollow":for(p>5&&p<7&&(rt=5),ct.strokeStyle=s.mainChart.typedef.color,ct.beginPath(),w=Math.floor(rt/2),it=1;it<st;it++)if(null!=(m=a.QuoteTab[it])){for(h=Math.round(it*p+r)-w,m.c>=m.o&&m.c>=a.QuoteTab[it-1].c&&K(ct,rt,m,h,w,it,l),u=0;u<=rt;u++)yi[h+u]=m.d;C=it,f[m.d]={o:m.o,h:m.h,l:m.l,c:m.c,i:it}}for(null!=C&&(m=a.QuoteTab[C],f[0]={o:m.o,h:m.h,l:m.l,c:m.c,i:C,d:m.d}),s.mainChart.typedef.v1||ct.stroke(),ct.strokeStyle=s.mainChart.typedef.color2,ct.beginPath(),it=1;it<st;it++)null!=(m=a.QuoteTab[it])&&(h=Math.round(it*p+r)-w,m.c>=m.o&&m.c<a.QuoteTab[it-1].c&&K(ct,rt,m,h,w,it,l));for(s.mainChart.typedef.v2||ct.stroke(),ct.strokeStyle=s.mainChart.typedef.color3,ct.fillStyle=s.mainChart.typedef.color,ct.beginPath(),it=1;it<st;it++)null!=(m=a.QuoteTab[it])&&(h=Math.round(it*p+r)-w,m.c<=m.o&&m.c>=a.QuoteTab[it-1].c&&K(ct,rt,m,h,w,it,l));for(s.mainChart.typedef.v1||(ct.stroke(),ct.fill()),ct.fillStyle=s.mainChart.typedef.color2,ct.beginPath(),it=1;it<st;it++)null!=(m=a.QuoteTab[it])&&(h=Math.round(it*p+r)-w,m.c<=m.o&&m.c<a.QuoteTab[it-1].c&&K(ct,rt,m,h,w,it,l));s.mainChart.typedef.v2||(ct.stroke(),ct.fill())}if(ot.Bars[0]=f,1!=mi.histoLength||s.set.noVeilleIntra||(ct.save(),L=I(t.qv.c,l),ct.strokeStyle=s.set.veilleColor||"#fe0000",ct.lineWidth=s.set.veilleWidth||1,1==ct.lineWidth&&(L+=.5),ct.setLineDash&&ct.setLineDash([5,4]),ct.beginPath(),ct.moveTo(s.paddingLeft,L),ct.lineTo(s.widthGraph-s.paddingRight,L),ct.stroke(),ct.restore()),0!=st&&null!=f[0]&&(s.set.nohighlow||(j(ct,lt,a.High,ht,"rgba(0, 128, 0, 1)",!0,l),j(ct,lt,a.Low,ht,"rgba(192, 0, 0, 1)",!0,l)),s.set.nosticky||j(ct,lt,f[0].c,ht,null,!0,l)),e||n||VGP.chartSimple||(H="","perf"!=s.mainChart.type&&(H=tt(s.isIntraday),H=H>=0?'<span class="quote_upb"> '+H.toFixed(2)+"%</span>":'<span class="quote_downb"> '+H.toFixed(2)+"%</span>"),V="",VGP.noCommand||(V='<span class="mci-p"></span>'),G='<div><span class="eod_param" title="'+s.mainChart.type+'">'+V+lang.l_cours+'</span><span id="coursval-'+Ti.callID+'">',G=s.widthGraph>480?G+'<span class="eod_s20"></span><b>O</b>: '+t.QuoteTab[t.QuoteTab.length-1].o+'<span class="eod_s20"></span><b>H</b>: '+t.QuoteTab[t.QuoteTab.length-1].h+'<span class="eod_s20"></span><b>'+lang.l_b+"</b>: "+t.QuoteTab[t.QuoteTab.length-1].l+'<span class="eod_s20"></span><b>C</b>: '+t.QuoteTab[t.QuoteTab.length-1].c+H+"</span></div>":G+t.QuoteTab[t.QuoteTab.length-1].c+H+"</span></div>",Si.idhtml(i("eod_mainchartinfos-"),G)),"perf"!=s.mainChart.type){for(F=s.mainChart.indicators.length,it=0;it<F;it++)switch((z=s.mainChart.indicators[it]).type){case"compare":P(z,r,e,it,n);break;case"sar":E(z,r,e,it,n,l);break;case"phpb":N(z,r,e,it,n,l);break;case"ichimoku":D(z,r,e,it,n,l);break;case"evt":case"actu":s.isIntraday||(0==Ti.fiEvt.length&&"no"!=Ti.fiEvt?T(r,it,z.type):O(r,e,it,n,z.type));break;case"pivots":A(z,0,e,it,n,l);break;case"supertrend":_(z,r,e,it,n,l);break;default:B(z,r,e,it,n,l)}if(""!=s.searchConfig){switch(q=a.QuoteTab,s.searchConfig){case"gaps":X="G",U=RODTA.computeGAP(q);break;case"dojis":X="D",U=RODTA.computeDOJI(q,mi.chartPeriod);break;case"keyr":X="K",U=RODTA.computeKEYR(q);break;case"englob":X="E",U=RODTA.computeEnglobante(q);break;case"marteau":X=lang.l_m,U=RODTA.computeMarteau(q);break;case"pendu":X=lang.l_p,U=RODTA.computePendu(q);break;case"pinces":X=lang.l_p,U=RODTA.computePinces(q);break;case"marubozu":X=lang.l_m,U=RODTA.computeMarubozu(q);break;case"soldiers":X=lang.l_s,U=RODTA.computeSoldiers(q);break;case"harami":X="H",U=RODTA.computeHarami(q)}for(Q=U.Values.length,it=0;it<Q;it++)0!=U.Values[it].v1?(ct.beginPath(),ct.arc(Math.round(U.Values[it].i*p+r),I(U.Values[it].v1,l)+20,8,0,2*Math.PI),ct.fillStyle="#008000",ct.fill()):0!=U.Values[it].v2&&(ct.beginPath(),ct.arc(Math.round(U.Values[it].i*p+r),I(U.Values[it].v2,l)-20,8,0,2*Math.PI),ct.fillStyle="#ff0000",ct.fill());for(ct.fillStyle="#fff",it=0;it<Q;it++)0!=U.Values[it].v1?ct.fillText(X,Math.round(U.Values[it].i*p+r)-4,I(U.Values[it].v1,l)+23):0!=U.Values[it].v2&&ct.fillText(X,Math.round(U.Values[it].i*p+r)-4,I(U.Values[it].v2,l)-17)}}VGP.isPro&&mi.widthGraph<450||VGP.chartSimple||e||(Z=document.querySelectorAll(i("#eod_topinfo-")+" span")).length>1&&("perf"==s.mainChart.type?Z[1].innerHTML=lang.l_varperiod+" : "+R(a.QuoteTab,1).c.toFixed(2)+"%":(et=100*(R(a.QuoteTab,1).c-a.QuoteTab[0].c)/a.QuoteTab[0].c,Z[1].innerHTML=lang.l_varperiod+" : "+(et>0?"+":"")+et.toFixed(2)+"%")),s.histoLength>1&&s.histoLength<20&&J(ct),mt()}}function K(t,e,i,n,a,s,o){var r,l=I(i.l,o),h=I(i.h,o),c=I(i.o,o),d=I(i.c,o);t.rect(n+.5,d+.5,e-1,c-d),r=n+.5+a,mi.mainChart.typedef.v3||(t.moveTo(r,h),t.lineTo(r,d),t.moveTo(r,c),t.lineTo(r,l)),Ci[Math.floor(r)-mi.paddingLeft]={d:i.d,i:s}}function J(t){for(var e,i,n,a,s=fi.QuoteTab.length,o=[],r=1;r<s;r++)fi.QuoteTab[r].d-fi.QuoteTab[r-1].d>480&&o.push(fi.QuoteTab[r].d);if((e=o.length)<1)return!1;for(t.save(),t.beginPath(),t.strokeStyle="#6d6fff",ii(t,2),i=mi.paddingLeft+mi.padBarCandle,r=0;r<e;r++)null!=bi[0].Bars[0][o[r]]&&(n=bi[0].Bars[0][o[r]].i,a=Math.round(n*bi[0].PxPointX+i)+.5,t.moveTo(a,0),t.lineTo(a,bi[0].HeightPx));t.stroke(),t.restore()}function tt(t){if(t)return null!=fi.qv?100*(R(fi.QuoteTab,1).c-fi.qv.c)/fi.qv.c:0;var e=R(fi.QuoteTab,2).c;return 100*(R(fi.QuoteTab,1).c-e)/e}function et(t,e,i,n,a){t.RealX0=e,t.RealY0=i,t.RealX1=n,t.RealY1=a}function it(t,e){var i;if((i=mi.set.semilog&&null!=mi.logData?I(e.y0,mi.logData):Math.round((bi[0].V0-e.y0)*bi[0].PxPointY))<0||i>bi[0].HeightPx)return!1;Be(t,{my:i},e.style,e.width,e.color,!1),et(e,0,i,mi.innerWidth,i)}function nt(t,e,i){var n=new ut(e.x0,e.y0,i);Le(t,n,e.style,e.width,e.color,!1),et(e,n.mx,0,n.mx,n.my)}function at(t,e,i){var n=new ut(e.x0,e.y0,i);if(n.my<0||n.my>bi[0].HeightPx)return!1;switch(n.mx<0&&(n.mx=0),e.type){case"arrup":case"arrdw":case"arrrt":case"arrlt":Me(t,n,e.color,e.type,e.color2,e.width);break;case"sm1":case"sm2":Se(t,n,e.color,e.type,e.width)}et(e,n.mx,n.my,n.mx,n.my)}function st(t,e,i){var n=new ut(e.x0,e.y0,i);if(n.my<0||n.my>bi[0].HeightPx)return!1;n.mx<0&&(n.mx=0),Ie(t,n,e.style,e.width,e.color),et(e,n.mx,n.my,mi.innerWidth,n.my)}function ot(t,e,i,n){var a=new ut(e.x0,e.y0,i),s=new ut(e.x1,e.y1,i),o=a.my,r=s.my,l=a.mx,h=s.mx;if(e.x0<i&&(l=0),e.x1>n&&(h=mi.innerWidth),e.x0>n&&(l=mi.innerWidth),e.x1<i&&(h=0),et(e,l,o,h,r),0==l&&0==h)return!1;"rf"==e.type&&We(t,e.color,e.color2,l,h,r,o,e.width),("r"==e.type||"m"==e.type)&&Fe(t,e.color,e.color2,l,h,r,o,e.type,{db:e.x0,de:e.x1,s:e.h},e.width)}function rt(t,e,i){var n,a=new ut(e.x0,e.y0,i),s=unescape(e.h);if(t.save(),t.fillStyle=e.color,t.font=e.style+"px Arial",n=t.measureText(s).width,a.mx+n<0)return et(e,0,0,0,0),t.restore(),!1;t.fillText(s,a.mx,a.my+4),t.restore(),et(e,a.mx,a.my,a.mx+n,a.my)}function lt(t,e,i){var n,a=new ut(e.x0,e.y0,i),s=new ut(e.x1,e.y1,i);switch(e.type){case"ff":De(t,e.color,e.style,e.width,a,s);break;case"ga":Pe(t,e.color,e.style,e.width,a,s);break;case"gg":_e(t,e.color,e.style,e.width,a,s);break;case"cf":Te(t,e.color,e.style,e.width,a,s);break;case"af":Ee(t,e.color,e.style,e.width,a,s);break;case"an":s.mx=Ne(t,e.color,e.style,e.width,a,s,e.h);break;case"c":Oe(t,e.color,e.style,e.width,a,s,e.color2);break;default:n=e.h,"p"==e.type&&(n=Math.round(e.h*bi[0].PxPointY)),$e(t,e.type,e.color,e.style,e.width,n,a,s,e.color2)}et(e,a.mx,a.my,s.mx,s.my)}function ht(t,e,i){for(var n=[],a=0;a<e.h.length;a++)n.push(new ut(e.h[a].x,e.h[a].y,i));Ae(t,n,e.color,e.width),e.h=n}function ct(t,e,i){var n=new ut(e.x0,e.y0,i),a=new ut(e.x1,e.y1,i),s=new ut(e.h.C.x,e.h.C.y,i);ke(t,n,a,s,e.color,e.color2,e.width),et(e,n.mx,n.my,a.mx,a.my),e.h.C=s}function dt(t,e,i){var n=new ut(e.x0,e.y0,i),a=new ut(e.x1,e.y1,i),s=new ut(e.h.B.x,e.h.B.y,i),o=new ut(e.h.C.x,e.h.C.y,i);Ce(t,n,s,o,e.color,e.color2,e.width),et(e,n.mx,n.my,a.mx,a.my),e.h.B=s,e.h.C=o}function ut(t,e,i){var n,a,s,o,r,l;if(this.x=t,this.y=e,this.my=mi.set.semilog&&null!=mi.logData&&0!=e?I(e,mi.logData):Math.round((bi[0].V0-e)*bi[0].PxPointY),null!=bi[0].Bars[0][t])this.mx=Math.round(bi[0].Bars[0][t].i*bi[0].PxPointX+mi.padBarCandle);else if(a=bi[0].Bars[0][0].d,t>=i){if(t>a)s=bi[0].Bars[0][0].i,o=pt(t-a),this.mx=Math.round((s+o)*bi[0].PxPointX+mi.padBarCandle);else for(n=t-5;n<=a;n++)if(null!=bi[0].Bars[0][n]){this.mx=Math.round(bi[0].Bars[0][n].i*bi[0].PxPointX+mi.padBarCandle);break}}else fi.Xperiod<0?Math.floor((i-t+515)/1e4)>=1?(l=Math.floor((i-t+515)/1e4),r=(t-i+9485*l)/-fi.Xperiod):r=(t-i)*-fi.Xperiod:r=pt(t-i),this.mx=Math.round(r*bi[0].PxPointX+mi.padBarCandle)}function pt(t){if(fi.Xperiod<0)t*=-1/fi.Xperiod;else switch(fi.Xperiod){case 7:t/=7;break;case 30:t/=30;break;default:t=5*t/7}return t<1&&t>0?t=1:t>-1&&t<0&&(t=-1),t}function ft(t){null==t&&(t=wi.maxX-(fi.QuoteTab.length-1));var e;if(fi.Xperiod<0)e=-fi.Xperiod;else switch(fi.Xperiod){case 7:e=7;break;case 30:e=30;break;default:e=1.4}return Math.round(e*t)+fi.QuoteTab[fi.QuoteTab.length-1].d}function mt(){var t,e,n=Ti.dataBacktest.trades;if(0==xi.length&&null==n||VGP.chartSimple||(t=Si.gi(i("trace-")),(e=t.getContext("2d")).clearRect(0,0,t.width,t.height),"perf"==mi.mainChart.type))return!1;for(var s=fi.QuoteTab[wi.minX].d,o=wi.maxX>fi.QuoteTab.length-1?ft():fi.QuoteTab[wi.maxX].d,r=xi.length,l=0;l<r;l++)if(null!=xi[l])switch(xi[l].type){case"fa":xi[l].x0<o&&dt(e,xi[l],s);break;case"t":xi[l].x0<o&&ct(e,xi[l],s);break;case"ewi":case"ewc":ht(e,xi[l],s);break;case"gg":case"ga":case"ff":xi[l].x0<o&&lt(e,xi[l],s);break;case"arrup":case"arrdw":case"arrlt":case"arrrt":case"sm1":case"sm2":at(e,xi[l],s);break;case"af":case"cf":case"an":case"c":case"ef":lt(e,xi[l],s);break;case"sr":xi[l].x0<o&&st(e,xi[l],s);break;case"a":xi[l].x0<o&&rt(e,xi[l],s);break;case"v":xi[l].x0<o&&nt(e,xi[l],s);break;case"rf":case"r":case"m":(xi[l].x1>s||xi[l].x0>s)&&(xi[l].x1<o||xi[l].x0<o)&&ot(e,xi[l],s,o);break;case"h":it(e,xi[l]);break;default:xi[l].x1<=s&&xi[l].x0<=s||xi[l].x0>o?(xi[l].RealX0=0,xi[l].RealX1=0):lt(e,xi[l],s)}null!=n&&a(n)}function gt(t,e,i,n,a){var s,o,r,l=document.createElement("div");for(l.setAttribute("class","infoindic"),l.style.left=i+"px",l.style.top=n+"px",null!=a&&(l.style.width=a+"px"),l.id="infoindic-"+t,r=["closelayericon","paramlayericon","indicname","indicval","eodupdown"],VGP.chartSimple&&(r=["indicname"]),s=0;s<r.length;s++)(o=document.createElement("span")).setAttribute("class",r[s]),"indicname"==r[s]&&(o.textContent=e),l.appendChild(o);return l}function vt(t){var e,n,a,s,o,r=Si.gi(i("")),l=new Rt(0,t[0].Height,mi.mainChart.type,i("main-"),0);for(l.Create(r),l.DrawEncadre(),e=t.length,n=1;n<e;n++)(a=new Rt(t[n].Y,t[n].Height,t[n].Indicator,i("indic-")+n,mi.marginInter*n)).Create(r),a.DrawEncadre(),o=Math.round(t[n].Y*mi.usableHeight)+mi.paddingTop+mi.marginInter*n+5,s=gt(Ti.callID+n,t[n].Indicator.type,mi.paddingLeft+5,o,mi.innerWidth-7),r.appendChild(s),e>2&&(n==e-1?_t(n,!0):_t(n,!1))}function bt(){var t,e,n,a,s,o,r,l,h,c;for(e=[0,.25,.2,.1666,.15,.13,.12][mi.indicators.length],t=a=[1,.75,.6,.5002,.4,.35,.28][mi.indicators.length],s=new Rt(0,a,mi.mainChart.type,i("main-"),0),o=Si.gi(i("")),s.Create(o),s.DrawEncadre(),r=mi.indicators.length,n=0;n<r;n++)(l=new Rt(t,e,mi.indicators[n],i("indic-")+(n+1),mi.marginInter*(n+1))).Create(o),l.DrawEncadre(),h=Math.round(t*mi.usableHeight)+mi.paddingTop+mi.marginInter*(n+1)+5,c=gt(Ti.callID+(n+1),mi.indicators[n].type,mi.paddingLeft+5,h,mi.innerWidth-7),o.appendChild(c),t+=e,r>1&&(n==r-1?_t(n+1,!0):_t(n+1,!1))}function yt(t){try{return JSON.parse(JSON.stringify(t))}catch(t){}}function xt(e){if(VGP.isPro&&1!=e)return extCloseToolsWindows(),!1;Yt(),r(),0!=t(".linemodif").length&&(document.removeEventListener("keydown",ie,!1),document.removeEventListener("keydown",ee,!1),t(".linemodif").attr("cid")==Ti.callID&&(t(".linemodif").remove(),t(".colorPicker-palette").remove(),t(i("#")).off(),t(i("#trace-")).off(),t(".resizehandler").remove(),t(document).off("keyup","#annotationTxt"),Zt(),mi.isIntraday||!Ti.flagSave||VGP.noAutoSaveTrace||wt())),Ti.flagSave=!1}function wt(e){if(!f())return!1;var i=localStorage.getItem(mi.symbol);return"[]"==i||null==i?(h(),delete VGP.drawings[mi.symbol],!1):e?i:void t.ajax({type:"POST",url:VGP.urlWS+"TraceSaveSymbol",data:JSON.stringify({userid:VGP.userID,symbol:mi.symbol,content:i}),contentType:"application/json; charset=utf-8",dataType:"json"})}function Tt(i,n){var a,s,o,r={widthGraph:vi.width(),heightGraph:vi.height(),paddingTop:17,paddingLeft:10,paddingBottom:20,paddingRight:45,histoLength:365,chartPeriod:0,symbol:e.symbol,padBarCandle:0,searchConfig:"",isIntraday:!1,mainChart:{type:"line",typedef:null,indicators:[]},indicators:[],set:{bkcolor:"#fff",txtColor:"#606060",gridV:!0,gridH:!0,gridLine:!0,gridColor:"#e0e0e0",indicValues:!0,isEncadre:!0,yaxis:!1,nosticky:!1,reticColor:"#114257",semilog:!1,cadreColor:"#e0e0e0",traceColor:null,noVeilleIntra:!1},cursor:"r"};for(a=ci((mi=t.extend(!0,r,i)).mainChart.type),t.extend(!0,a,mi.mainChart.typedef),mi.mainChart.typedef=a,o=mi.mainChart.indicators.length,s=0;s<o;s++)a=ci(mi.mainChart.indicators[s].type),t.extend(!0,a,mi.mainChart.indicators[s]),mi.mainChart.indicators[s]=a;mi.set.yaxis&&(mi.paddingRight=10,mi.paddingLeft=45),mi.widthGraph=vi.width(),mi.heightGraph=vi.height(),mi.innerWidth=mi.widthGraph-mi.paddingRight-mi.paddingLeft,mi.marginInter=3,mi.usableHeight=mi.heightGraph-mi.paddingTop-mi.paddingBottom-mi.indicators.length*mi.marginInter,Ct(n)}function Ct(t){var e,n=Si.gi(i(""));Mt("rodgraph",n),e=Si.gi(i("rodgraph-")),Ti.ctxback=e.getContext("2d"),At(),null!=t?vt(t):bt(),VGP.chartSimple||(Mt("topinfo",n),Mt("overlay",n),Mt("trace",n),Mt("mainci",n),null!=fi&&Si.qstxt(i("#eod_topinfo-")+" span",fi.Name))}function St(){var t,e=mi.histoLength;switch(e<=20?e=e+" JOUR"+(1!=e?"S":""):e<365?(e=Math.round(e/30),e+=" MOIS"):(e=Math.round(e/365),e=e+" AN"+(1!=e?"S":"")),t=mi.chartPeriod){case 0:t="JOUR";break;case 7:t="HEBDO";break;case 30:t="MENSUEL";break;default:t=t>=-60?Math.abs(t)+" MINUTE"+(-1!=t?"S":""):Math.round(t/-60)+" HEURES"}Si.qstxt(i("#eod_topinfo-")+" span:last-child",e+" - "+t)}function Mt(t,e){var i,n,a,s;switch(t){case"topinfo":(i=document.createElement("div")).id="eod_topinfo-"+Ti.callID,i.setAttribute("class","eod_topinfo"),i.style.left=mi.paddingLeft+2+"px",i.style.width=mi.innerWidth+"px",i.style.color=mi.set.txtColor,n=document.createElement("span"),i.appendChild(n),a=document.createElement("span"),i.appendChild(a),(s=document.createElement("span")).setAttribute("class","fr"),i.appendChild(s),e.appendChild(i);break;case"overlay":(i=document.createElement("canvas")).id="overlay-"+Ti.callID,i.setAttribute("height",mi.heightGraph),i.setAttribute("width",mi.widthGraph),e.appendChild(i);break;case"trace":(i=document.createElement("canvas")).id="trace-"+Ti.callID,i.style.left=mi.paddingLeft+"px",i.style.top=mi.paddingTop+"px",i.setAttribute("height",bi[0].HeightPx),i.setAttribute("width",mi.innerWidth),i.setAttribute("tabindex","0"),e.appendChild(i);break;case"mainci":(i=document.createElement("div")).id="eod_mainchartinfos-"+Ti.callID,i.setAttribute("class","eod_mainchartinfos"),i.style.left=mi.paddingLeft+2+"px",i.style.top=mi.paddingTop+4+"px",i.style.color=mi.set.txtColor,e.appendChild(i);break;case"rodgraph":e.innerHTML='<canvas id="rodgraph-'+Ti.callID+'" style="background-color:'+mi.set.bkcolor+'" width="'+mi.widthGraph+'" height="'+mi.heightGraph+'" ></canvas>'}}function At(){Ti.ctxback.clearRect(0,0,mi.widthGraph,mi.heightGraph),Ti.ctxback.font="11px Arial"}function kt(t,e){At();var i,n=bi.length;if(mi.mainChart.typedef.nolinearX)return bi[0].DrawEncadre(),Q(e),!1;for(i=0;i<n;i++)bi[i].DrawEncadre();for(Z(fi,!1,t),i=1;i<n;i++)Ot(bi[i])}function Dt(t,e){if(0==t)return At(),bi[0].DrawEncadre(),mi.mainChart.typedef.nolinearX?Q(e):Z(fi),!1;bi[t-1].DrawEncadre(),bi[t].DrawEncadre(),t-1==0&&Z(fi,!0),Ot(bi[t-1]),Ot(bi[t])}function Pt(){var t,e,n,a,s,o=mi.heightGraph-mi.paddingBottom-mi.paddingTop,r=bi.length;for(r>1&&(o-=mi.marginInter*(bi.length-1)),mi.usableHeight=o,e=[0,.25,.2,.1666,.15,.13,.12][r-1],t=a=[1,.75,.6,.5002,.4,.35,.28][r-1],bi[0].Resize(0,a,0),n=1;n<r;n++)s=Math.round(t*mi.usableHeight)+mi.paddingTop+mi.marginInter*n+5,bi[n].Resize(t,e,n*mi.marginInter),Si.idcss(i("infoindic-")+n,"top",s+"px"),t+=e,r>2&&(n==r-1?_t(n,!0):_t(n,!1));Si.gi(i("trace-")).height=bi[0].HeightPx}function _t(t,e){var n;n=e?'<span class="eodmoveup"/></span>':t>1?'<span class="eodmoveup" /></span><span class="eodmovedown" /></span>':'<span class="eodmovedown" /></span>',Si.qshtml(i("#infoindic-")+t+" .eodupdown",n)}function Nt(e){var n,a,s,o=bi.length,r=new Rt(0,0,e,i("indic-")+o),l=Si.gi(i(""));r.Create(l),t(i("#indic-")+o).insertBefore(i("#overlay-")),n=gt(Ti.callID+o,e.type,mi.paddingLeft+5,bi[o].RealY+5),o>1&&null!=(a=n.querySelector(".eodupdown"))&&((s=document.createElement("span")).setAttribute("class","eodmoveup"),a.appendChild(s)),l.appendChild(n),Pt(),kt()}function Et(e){var n,a,s,o;for(t(i("#indic-")+e).remove(),t(i("#infoindic-")+e).remove(),(n=[])[0]=bi[0],a=1,o=bi.length,s=1;s<o;s++)s!=e&&(n[a]=bi[s],Si.gi(i("indic-")+s).setAttribute("id",i("indic-")+a),Si.gi(i("infoindic-")+s).setAttribute("id",i("infoindic-")+a),t(i("#infoindic-")+a).find(".eodupdown").empty(),a++);bi=n,Pt(),kt()}function Ot(t){var e,i,n=t.Indicator,a=fi.QuoteTab,s=null!=n.source?n.source:"c";switch(n.type){case"equity":e=Ti.dataBacktest.trades,i=Ti.dataBacktest.params,0!=e.length&&null!=i&&H(RODBT.BTcomputeEquity(a,e,i.initialAsset),t,"curve",i.initialAsset);break;case"volume":V(RODTA.computeVolume(a,n.mm),t);break;case"accDist":H(RODTA.computeAccDist(a,n.mm),t,"curve",0);break;case"obv":H(RODTA.computeOBV(a,n.mm),t,"curve",0);break;case"bollb":F(RODTA.computeBollingerB(a,n.param1,2,n.mm,s),t);break;case"bollw":F(RODTA.computeBollingerBandwith(a,n.param1,n.param2,n.mm,s),t);break;case"perfi":H(RODTA.computePERFORMANCE(fi,!0,n.mm),t,"curve",0);break;case"rsi":F(RODTA.computeRSI(a,n.param1,n.mm,s),t);break;case"cmo":F(RODTA.computeCMO(a,n.param1,n.mm),t);break;case"ultimate":F(RODTA.computeUltimateOsc(a,n.param1,n.param2,n.param3,n.mm),t);break;case"atr":F(RODTA.computeATR(a,n.param1,"ema",n.mm),t);break;case"cci":F(RODTA.computeCCI(a,n.param1,n.mm),t);break;case"eom":H(RODTA.computeEaseOfMovement(a,n.param1,n.mm),t,"curve",0);break;case"cmf":H(RODTA.computeCMF(a,n.param1,n.mm),t,"curve",0);break;case"dpo":H(RODTA.computeDPO(a,n.param1,n.mm),t,"curve",0);break;case"mom":H(RODTA.computeMomentum(a,n.param1,n.mm,s),t,"curve",0);break;case"asi":H(RODTA.computeASI(a,n.mm),t,"curve",0);break;case"coppock":H(RODTA.computeCoppock(a,n.param1,n.param2,n.param3,n.mm,s),t,"curve",0);break;case"nvi":F(RODTA.computeNVIPVI(a,n.mm,s,"nvi"),t);break;case"pvi":F(RODTA.computeNVIPVI(a,n.mm,s,"pvi"),t);break;case"macd":F(RODTA.computeMACD(a,n.param1,n.param2,n.param3,"macd",s),t);break;case"macdzl":F(RODTA.computeMACDZL(a,n.param1,n.param2,n.param3),t);break;case"wto":F(RODTA.computeWaveTrendOsc(a,n.param1,n.param2),t);break;case"dmi":F(RODTA.computeDMI(a,n.param1,"dmi"),t);break;case"aroon":F(RODTA.ComputeAroon(a,n.param1),t);break;case"adx":F(RODTA.computeDMI(a,n.param1,"adx"),t);break;case"vortex":F(RODTA.computeVortex(a,n.param1),t);break;case"macdh":H(RODTA.computeMACD(a,n.param1,n.param2,n.param3,"macdh",s),t,"bar");break;case"awesome":H(RODTA.computeAwesomeIndicator(a,n.param1,n.param2),t,"awesome");break;case"bop":H(RODTA.computeBOP(a),t,"bop");break;case"qstick":H(RODTA.computeQStick(a,n.param1),t,"bar");break;case"roc":F(RODTA.computeROC(a,n.param1,n.mm,s,!0),t);break;case"std":F(RODTA.computeSTD(a,n.param1,n.mm,s),t);break;case"sto":F(RODTA.computeSTOCH(a,n.param1,n.param2,n.param3),t);break;case"sto rsi":F(RODTA.computeStochRSI(a,n.param1,n.param2,n.param3,n.param4,s),t);break;case"smi":F(RODTA.computeSMI(a,n.param1,n.param2,n.param3,n.param4),t);break;case"tsi":F(RODTA.computeTSI(a,n.param1,n.param2,n.param3),t);break;case"kvo":F(RODTA.computeKVO(a),t);break;case"kst":F(RODTA.computeKST(a,n.param1,n.param2,n.param3,n.param4,s),t);break;case"trix":F(RODTA.computeTRIX(a,n.param1,n.mm,s),t);break;case"mass index":F(RODTA.computeMassIndex(a,n.param1,n.mm),t);break;case"vroc":F(RODTA.computeVROC(a,n.param1,n.mm),t);break;case"ac will":H(RODTA.computeWILAC(a,n.mm),t,"curve",0);break;case"will r":F(RODTA.computeWILR(a,n.param1,n.mm),t);break;case"mfi":F(RODTA.computeMFI(a,n.param1,n.mm),t);break;case"linearo":H(RODTA.computeLinearCurve(a,n.param1,2,n.mm,s),t,"curve",0);break;case"moonphase":H(RODTA.computeMoonPhase(a),t,"curve",0,mi.isIntraday);break;case"elderbull":H(RODTA.computeElderRay(a,n.param1,"bull",n.mm),t,"bar");break;case"elderbear":H(RODTA.computeElderRay(a,n.param1,"bear",n.mm),t,"bar");break;case"forceindex":H(RODTA.computeForceIndex(a,n.param1,s),t,"curve",0)}}function It(t){yi={},bi=[],$t(),t||"function"==typeof stopTimers&&stopTimers()}function Lt(t,e){if(t>mi.widthGraph-mi.paddingRight||t<mi.paddingLeft)return null;for(var i=bi.length,n=0;n<i;n++)if(e>=bi[n].RealY&&e<=bi[n].RealY+bi[n].HeightPx)return n;return null}function Bt(t,e,i,n,a,s,o,r,l,h,c,d){this.x0=t,this.y0=e,this.x1=i,this.y1=n,this.color=a,this.type=h,this.width=null!=r?r:1,this.style=null!=l?l:1,null!=c&&(this.h=c),null!=d&&(this.color2=d),mi.set.semilog&&null!=mi.logData&&0!=e&&2e4!=n?(this.RealY0=I(e,mi.logData),this.RealY1=I(n,mi.logData)):(this.RealY0=Math.round((bi[0].V0-e)*bi[0].PxPointY),this.RealY1=Math.round((bi[0].V0-n)*bi[0].PxPointY)),0==t&&0==i?(this.RealX0=0,this.RealX1=mi.widthGraph-mi.paddingRight):0==i?(this.RealX1=mi.widthGraph-mi.paddingRight,this.RealX0=s):(this.RealX0=s,this.RealX1=o)}function Rt(t,e,i,n,a){this.Y=t,this.RealY=Math.round(t*mi.usableHeight)+mi.paddingTop+a,this.Height=e,this.HeightPx=Math.round(e*mi.usableHeight),this.PxPointY=0,this.PxPointX=0,this.V0=0,this.id=n,this.Indicator=i,this.Bars=[]}function $t(){var e=Si.gi(i(""));null!=e&&(e.removeEventListener("mousewheel",zt,!1),e.removeEventListener("DOMMouseScroll",zt,!1),e.removeEventListener("mouseleave",Xt,!1),e.removeEventListener("touchmove",Ut,!1),e.removeEventListener("mousemove",Ut,!1),e.removeEventListener("mouseup",Qt,!1),e.removeEventListener("mousedown",qt,!1),e.removeEventListener("touchstart",qt,!1),e.addEventListener("touchend",Qt,!1)),vi.off(),t(i("#trace-")).off()}function Ht(e){t("#param1Automatic").on("change",function(){t(this).prop("checked")&&(mi.mainChart.typedef["param"+e]=null,kt(!1,!0),t("#mperiod"+e).val(""))})}function Vt(e,n,a){var s,o,r,l,h,c,d,u,p,f,m,g,v;if(0!=t(".params_zone").length)return!1;if($t(),s='<div class="uParams" id="uParams-'+Ti.callID+'" style="height:100%"><div style="top:'+mi.paddingTop+"px;left:"+mi.paddingLeft+'px" class="params_zone"><div class="params_zone_in clearfix"><img class="closeparams" /></div><div class="params_content"></div></div></div>',t(s).appendTo(i("#")),null!=a&&(n=bi[a].Indicator.type),o=ci(n),null!=a?bi[a].Indicator=t.extend(o,bi[a].Indicator):null!=e?mi.mainChart.indicators[e]=t.extend(o,mi.mainChart.indicators[e]):mi.mainChart.typedef=t.extend(o,mi.mainChart.typedef),null!=o.params.p)for(l=o.params.p.length,r=0;r<l;r++){if(h=10,null==(h=null!=a?bi[a].Indicator["param"+(r+1)]:null!=e?mi.mainChart.indicators[e]["param"+(r+1)]:mi.mainChart.typedef["param"+(r+1)])&&(h=""),s='<div class="clearfix pad5"><div class="eod_pname">'+o.params.p[r]+'</div><input value="'+h+'" class="eod_inp" onkeypress="return isNumberLetterKey(event)" id="mperiod'+(r+1)+'" type="text" /><div class="eod_slider">',"renko"!=n&&"line break"!=n&&"kagi"!=n&&"point figure"!=n){var b=2,y=100,x=1;switch(n){case"zig zag":b=.1,y=20,x=.1;break;case"sar":b=.02,y=.06,x=.01;break;case"evmm":r+1==2&&(b=.1,y=15,x=.1);break;case"boll":r+1==2&&(b=.1,y=10,x=.1);break;case"lineard":r+1==2&&(b=.1,y=10,x=.1)}t(s=s+(c='<input type="range" id="slider'+(r+1)+'" min="'+b+'" max="'+y+'" step="'+x+'" value="'+h+'">')+"</div></div>").appendTo(".params_content"),Wt(r+1,e,a)}else"point figure"==n&&1==r?(s+="</div></div>",t(s).appendTo(".params_content")):(c='<input id="param1Automatic" type="checkbox"><span>'+lang.l_automatic+"</span>",s=s+c+"</div></div>",t(s).appendTo(".params_content"),""==h&&t("#param1Automatic").prop("checked",!0),Ht(r+1));!function(e,i,n,a){t(".params_zone #mperiod"+e).keyup(function(){var s=t(this).val().trim().replace(",",".");if(s=parseFloat(s),isNaN(s)||0==s)return!1;switch(e){case 1:"sar"!=n&&"zig zag"!=n&&"renko"!=n&&"kagi"!=n&&"point figure"!=n&&(s=parseInt(s));break;case 2:"boll"!=n&&"evmm"!=n&&"lineard"!=n&&(s=parseInt(s));break;default:s=parseInt(s)}Ft(a,"param"+e,s,i),null==a?Dt(0,!0):Dt(a)})}(r+1,e,n,a)}if(null!=o.params.c){for(d=o.params.c.length,r=0;r<d;r++){if(u="",null!=o.params.w){switch(o.params.w[r]){case"sw":u='<div id="w'+(r+1)+'" class="widthSelect w1"></div><div id="s'+(r+1)+'" class="styleSelect s2"></div>';break;case"s":u='<div id="s'+(r+1)+'" class="styleSelect s2">';break;case"w":u='<div id="w'+(r+1)+'" class="widthSelect w1">';break;case"o":u='<div id="o'+(r+1)+'" class="opSelect">'}u+="</div>"}p="",f=!1,null!=a?bi[a].Indicator["v"+(r+1)]&&(f=!0):null!=e?mi.mainChart.indicators[e]["v"+(r+1)]&&(f=!0):mi.mainChart.typedef["v"+(r+1)]&&(f=!0),f||(p='checked="true"'),s='<div class="clearfix pad5"><input class="eod_cbv" id="v'+(r+1)+'" type="checkbox" '+p+' /><div class="eod_cname">'+o.params.c[r]+'</div><input id="color'+(r+1)+'" type="text" />'+u+"</div>",t(s).appendTo(".params_content"),t("#color"+(r+1)).colorPicker({showHexField:!1}),g=r+1==1?"color":"color"+(r+1),m=rgb2hex(null!=a?bi[a].Indicator[g]:null!=e?mi.mainChart.indicators[e][g]:mi.mainChart.typedef[g]),t("#color"+(r+1)).val(m).change(),function(e,i,n,a){t(".params_zone").find("#color"+e).change(function(){var s=ci(n),o=t("#color"+e).val(),r=1==e?"color":"color"+e,l=GetOpacity(s[r]);null==l&&(l=1),o=hexToRgb(o,l),Ft(a,r,o,i),Dt(null==a?0:a)})}(r+1,e,o.type,a)}!function(e,i,n){t(".opSelect").on(Ti.clickHandler,function(i){var a;if(i.preventDefault(),0!=t(".opContent").length)return t(".opContent").remove(),!1;t(".widthSelect, .styleSelect").find("ul").remove();var s=t(this).attr("id"),o=parseInt(s.slice(-1));t('<div class="opContent"><input type="range" id="sliderO" min="0" max="100" step="1"></div>').appendTo(t(this)),a=1==o?"color":"color"+o,t("#sliderO").rangeslider({polyfill:!1,onSlide:function(t,i){i/=100;var s;s=null!=n?bi[n].Indicator[a]:null!=e?mi.mainChart.indicators[e][a]:mi.mainChart.typedef[a],Ft(n,a,hexToRgb(rgb2hex(s),i),e),Dt(null==n?0:n)}})}),t(".widthSelect").on(Ti.clickHandler,function(i){if(i.preventDefault(),0!=t(this).find("ul").length)return t(this).find("ul").remove(),!1;var a=t(this).attr("id");t(".widthSelect, .styleSelect").find("ul").remove(),t(this).append(Gt("w")),t(".widthSelect").find("li").on(Ti.clickHandler,function(i){i.preventDefault();var s=parseInt(t(this).attr("class").slice(-1));return Ft(n,a,s,e),t(".widthSelect").find("ul").remove(),Dt(null==n?0:n),!1})}),t(".styleSelect").on(Ti.clickHandler,function(i){if(i.preventDefault(),0!=t(this).find("ul").length)t(this).find("ul").remove();else{var a=t(this).attr("id");t(".widthSelect, .styleSelect").find("ul").remove(),t(this).append(Gt("s")),t(".styleSelect").find("li").on(Ti.clickHandler,function(i){i.preventDefault();var s=parseInt(t(this).attr("class").slice(-1));return Ft(n,a,s,e),Dt(null==n?0:n),t(".styleSelect").find("ul").remove(),!1})}}),t(".eod_cbv").on("change",function(){var i=t(this),a=i.attr("id"),s=i.prop("checked");null==n?(null==e?s?delete mi.mainChart.typedef[a]:mi.mainChart.typedef[a]=!0:s?delete mi.mainChart.indicators[e][a]:mi.mainChart.indicators[e][a]=!0,Dt(0)):(s?delete bi[n].Indicator[a]:bi[n].Indicator[a]=!0,Dt(n))})}(e,0,a)}null!=a&&(t("#cbSeuilH").prop("checked",!0),t("#cbSeuilB").prop("checked",!0),null!=ci(bi[a].Indicator.type).sb&&(v='<option value="1">'+lang.l_zone+'</option><option value="2">'+lang.l_traitfi+'</option><option value="3">'+lang.l_traitep+"</option>",s='<div class="clearfix pad5"><input id="cbSeuilH" checked="checked" type="checkbox" /><div class="eod_cname">'+lang.l_upperb+'</div><input id="valSeuilH" type="text" onkeypress="return isNumberLetterKey(event)" /><select id="stylSeuilH">'+v+'</select></div><div class="clearfix pad5"><input id="cbSeuilB" checked="checked" type="checkbox" /><div class="eod_cname">'+lang.l_lowerb+'</div><input id="valSeuilB" type="text" onkeypress="return isNumberLetterKey(event)" /><select id="stylSeuilB">'+v+"</select></div>",t(s).appendTo(".params_content"),null==bi[a].Indicator.sh?t("#valSeuilH").val(ci(bi[a].Indicator.type).sh):9999==bi[a].Indicator.sh?(t("#cbSeuilH").prop("checked",!1),t("#valSeuilH").prop("disabled",!0),t("#stylSeuilH").prop("disabled",!0)):(t("#valSeuilH").val(bi[a].Indicator.sh),null!=bi[a].Indicator.shs&&t("#stylSeuilH").val(bi[a].Indicator.shs)),null==bi[a].Indicator.sb?t("#valSeuilB").val(ci(bi[a].Indicator.type).sb):9999==bi[a].Indicator.sb?(t("#cbSeuilB").prop("checked",!1),t("#valSeuilB").prop("disabled",!0),t("#stylSeuilB").prop("disabled",!0)):(t("#valSeuilB").val(bi[a].Indicator.sb),null!=bi[a].Indicator.sbs&&t("#stylSeuilB").val(bi[a].Indicator.sbs)),t("#cbSeuilH").change(function(){if(t(this).prop("checked")){var e=ci(bi[a].Indicator.type).sh;9999==e&&(e=90),bi[a].Indicator.sh=e,t("#valSeuilH").prop("disabled",!1).val(e),t("#stylSeuilH").prop("disabled",!1)}else bi[a].Indicator.sh=9999,t("#valSeuilH").prop("disabled",!0),t("#stylSeuilH").prop("disabled",!0);Dt(a)}),t("#cbSeuilB").change(function(){if(t(this).prop("checked")){var e=ci(bi[a].Indicator.type).sb;9999==e&&(e=10),bi[a].Indicator.sb=e,t("#valSeuilB").prop("disabled",!1).val(e),t("#stylSeuilB").prop("disabled",!1)}else bi[a].Indicator.sb=9999,t("#valSeuilB").prop("disabled",!0),t("#stylSeuilB").prop("disabled",!0);Dt(a)}),t("#valSeuilH").keyup(function(){bi[a].Indicator.sh=parseInt(t(this).val().replace(",",".")),Dt(a)}),t("#valSeuilB").keyup(function(){bi[a].Indicator.sb=parseInt(t(this).val().replace(",",".")),Dt(a)}),t("#stylSeuilH").change(function(){bi[a].Indicator.shs=t(this).val(),Dt(a)}),t("#stylSeuilB").change(function(){bi[a].Indicator.sbs=t(this).val(),Dt(a)})),["macd","macdzl","wto","dmi","adx","macdh","sto","aroon","qstick","moonphase","awesome","vortex","kst","kvo","bop","tsi","smi","sto rsi","equity","forceindex"].indexOf(bi[a].Indicator.type)<0&&(s='<div class="clearfix pad5"><input id="cbMM" type="checkbox" /><div class="eod_cname">'+lang.l_moymob+'</div><input id="colorMM" type="text" name="colorMM" value="#fe0000" /><input id="valMM" value="5" type="text" onkeypress="return isIntNumberKey(event)" /></div>',t(s).appendTo(".params_content"),t("#colorMM").colorPicker({showHexField:!1}),null!=bi[a].Indicator.mm?(t("#cbMM").prop("checked",!0),t("#valMM").val(bi[a].Indicator.mm),t("#colorMM").val(bi[a].Indicator.mmColor).change()):t("#cbMM").prop("checked",!1),t("#cbMM").change(function(){if(t(this).prop("checked")){t("#valMM").prop("disabled",!1);var e=parseInt(t("#valMM").val());if(isNaN(e))return;bi[a].Indicator.mm=e,bi[a].Indicator.mmColor=t("#colorMM").val()}else delete bi[a].Indicator.mm,delete bi[a].Indicator.mmColor,t("#valMM").prop("disabled",!0);Dt(a)}),t("#valMM").keyup(function(){var e=parseInt(t(this).val());isNaN(e)||(bi[a].Indicator.mm=e,Dt(a))}),t("#colorMM").change(function(){bi[a].Indicator.mmColor=t(this).val(),Dt(a)}))),["line","line2","renko","kagi","line break","mm","mme","mmp","mmh","double EMA","triple EMA","trix","bollw","bollb","boll","lineard","linearc","linearo","roc","kst","coppock","zig zag","mmt","evmm","rsi","mom","pvi","nvi","macd","macdh","std","sto rsi","point figure"].indexOf(o.type)>=0&&(s=lang.l_datasource,t(s).appendTo(".params_content"),null!=o.source&&t("#datasource option[value='"+o.source+"']").attr("selected","selected"),t("#datasource").on("change",function(){Ft(a,"source",t(this).val(),e),Dt(null==a?0:a)})),(null!=a||null!=e)&&(s='<div class="mtb10"><span class="lnkmsg suppressMainIndic">'+lang.l_suppindic+"</span></div>",t(s).appendTo(".params_content")),t(".params_zone").show(),function(e,n){t(".closeparams").on(Ti.clickHandler,function(t){t.preventDefault(),t.stopPropagation(),Yt()}),t(i("#uParams-")).on(Ti.clickHandler,function(e){if(e.target.classList.contains("colorPicker-picker"))return e.preventDefault(),e.stopPropagation(),!1;0===t(".params_zone").has(e.target).length&&Yt()}),t(".suppressMainIndic").on(Ti.clickHandler,function(t){t.preventDefault(),null==n?("compare"==mi.mainChart.indicators[e].type&&(mi.isCompare=null,Ti.datas2=null),("evt"==mi.mainChart.indicators[e].type||"actu"==mi.mainChart.indicators[e].type)&&(Ti.fiEvt=[]),mi.mainChart.indicators.splice(e,1),bi[0].Bars.splice(parseInt(e)+1,1),Dt(0)):Et(n),Yt()})}(e,a)}function Gt(t){for(var e="<ul>",i=1;i<5;i++)e=e+'<li class="'+t+i+'"></li>';return e+"</ul>"}function Ft(t,e,i,n){null==t?null==n?mi.mainChart.typedef[e]=i:mi.mainChart.indicators[n][e]=i:bi[t].Indicator[e]=i}function Wt(e,i,n){var a=Si.gi("mperiod"+e);t("#slider"+e).rangeslider({polyfill:!1,onSlide:function(t,s){if(a.value.replace(",",".")==s)return!1;Math.round(s)-s!=0&&(s=s.toFixed(2)),a.value=s,Ft(n,"param"+e,+s,i),null==n?Dt(0,!0):Dt(n)}})}function Yt(){0!=t(i("#uParams-")).length&&(t(i("#uParams-")).off().remove(),t(".colorPicker-palette").remove(),t(".colorPicker-picker").remove(),Zt())}function jt(t,e){var i,n,a,s,o=parseInt(e.parentNode.parentNode.id.slice(-1)),r=bi[o];for("up"==t?(i=bi[o-1].Y,bi[o]=bi[o-1],bi[o-1]=r,bi[o-1].Y=i,bi[o].Y=i+bi[o-1].Height):(i=bi[o].Y,bi[o]=bi[o+1],bi[o+1]=r,bi[o].Y=i,bi[o+1].Y=i+bi[o].Height),a=bi.length,n=0;n<a;n++)bi[n].Bars=0==n?[]:{},delete bi[n].canvas,delete bi[n].ctx;s=yt(bi),It(!0),Ct(s),kt(),Zt()}function zt(t){(t.wheelDelta||-t.detail)>0?v(1):b(1),t.preventDefault()}function Xt(){var t,e,n,a,s,o=Si.gi(i("overlay-"));if(o.getContext("2d").clearRect(0,0,o.width,o.height),!mi.mainChart.typedef.nolinearX&&(t=0,"perf"!=mi.mainChart.type&&(t=tt(mi.isIntraday),t='<span class="'+(t>=0?"quote_upb":"quote_downb")+'"> '+t.toFixed(2)+"%</span>"),null!=(e=bi[0].Bars[0][0])&&("perf"!=mi.mainChart.type?mi.widthGraph>480?Si.idhtml(i("coursval-"),'<span class="eod_s20"></span><b>O</b>: '+e.o+'<span class="eod_s20"></span><b>H</b>: '+e.h+'<span class="eod_s20"></span><b>'+lang.l_b+"</b>: "+e.l+'<span class="eod_s20"></span><b>C</b>: '+e.c+t):Si.idhtml(i("coursval-"),e.c+t):Si.idhtml(i("coursval-"),e.c+"%")),mi.set.indicValues&&"perf"!=mi.mainChart.type))for(a=mi.mainChart.indicators.length,n=0;n<a;n++)"evt"!=(s=mi.mainChart.indicators[n].type)&&"actu"!=s&&"lineard"!=s&&"pivots"!=s&&"gmma"!=s&&Si.idhtml(i("val-")+n,bi[0].Bars[n+1][0]||"")}function Ut(e){var n,a,s,o,r,l,h,c,d,u,p,f,m,g,v,b,y,x,T,C;e.preventDefault();var S,M=w(Si.gi(i("rodgraph-"))),A=gi(e),k=parseInt(A.x-M.left),D=parseInt(A.y-M.top);if(Ti.moveLayer)return null!=Ti.activeLayer&&(hi(D,Ti.activeLayer),!1);if(0!=Ti.moveZoomX&&0!=Ti.moveZoomY)return Kt(k,D),!1;if(n=Lt(k,D),"perf"!=mi.mainChart.type&&!mi.mainChart.typedef.nolinearX&&(Ti.lineNumber=li(k,D,n),0!=(a=Ti.fiEvt.length)&&!mi.isIntraday))if(D>bi[0].HeightPx+mi.paddingTop-25&&0==n){for(S=0;S<a;S++)if(null!=Ti.fiEvt[S].px){if(Ti.fiEvt[S].px>k-9&&Ti.fiEvt[S].px<k+9){switch(0==(o=t(i("#eod_infofi-"))).length&&vi.append('<div id="eod_infofi-'+Ti.callID+'"></div>'),r="<b>",Ti.fiEvt[S].evt){case"R":r+=lang.l_resultat+Ti.fiEvt[S].s+"</b>",s="r";break;case"C":r+=lang.l_chifaff+Ti.fiEvt[S].s+"</b>",s="c";break;case"D":r+=lang.l_dividend+Ti.fiEvt[S].s+" €",s="d";break;case"S":r+=lang.l_split+Ti.fiEvt[S].s,s="s";break;case"A":r+='<a href="'+Ti.fiEvt[S].u+'" target="_blanck">'+Ti.fiEvt[S].s+"</a></b>",s="a"}o.attr("class","eod_infofi eod_col"+s),r+="</br>"+daysToDate(Ti.fiEvt[S].d,1),o.show().css({top:bi[0].HeightPx-mi.paddingTop-60+"px",left:Ti.fiEvt[S].px-76+"px"}).html(r);break}t(".eod_infofi").hide()}}else D<bi[0].HeightPx+mi.paddingTop-95&&0==n&&t(".eod_infofi").hide();if(null!=n){if(l=Si.gi(i("overlay-")),(h=l.getContext("2d")).clearRect(0,0,l.width,l.height),h.fillStyle=mi.set.reticColor,h.beginPath(),"r"==mi.cursor&&(h.moveTo(mi.paddingLeft,D+.5),h.lineTo(l.width-mi.paddingRight,D+.5),h.moveTo(k+.5,mi.paddingTop),h.lineTo(k+.5,l.height-mi.paddingBottom),h.stroke()),mi.set.yaxis?0==n?h.fillRect(0,D-14,mi.paddingLeft,28):h.fillRect(0,D-8,mi.paddingLeft,17):0==n?h.fillRect(mi.widthGraph-mi.paddingRight,D-14,mi.paddingRight,28):h.fillRect(mi.widthGraph-mi.paddingRight,D-8,mi.paddingRight,17),h.fillRect(k-34,l.height-20,68,20),h.fillRect(k-34,-2,68,19),null!=yi[k]){if(c=mi.isIntraday?formatMinutes(yi[k]):daysToDate(yi[k],1),Ti.lastdatehover=c,null!=(d=bi[0].Bars)[0][yi[k]]&&(u=d[0][yi[k]].i,p="",u>0&&"perf"!=mi.mainChart.type&&(f=fi.QuoteTab[u-1+wi.minX].c,p=100*(d[0][yi[k]].c-f)/f,p='<span class="'+(p>=0?"quote_upb":"quote_downb")+'"> '+p.toFixed(2)+"%</span>"),m=d[0][yi[k]],"perf"!=mi.mainChart.type?mi.widthGraph>480?Si.idhtml(i("coursval-"),'<span class="eod_s20"></span><b>O</b>: '+m.o+'<span class="eod_s20"></span><b>H</b>: '+m.h+'<span class="eod_s20"></span><b>'+lang.l_b+"</b>: "+m.l+'<span class="eod_s20"></span><b>C</b>: '+m.c+p):Si.idhtml(i("coursval-"),m.c+p):Si.idhtml(i("coursval-"),m.c+"%")),mi.set.indicValues){for(g=bi.length,S=1;S<g;S++)Si.qstxt(i("#infoindic-")+S+" .indicval",bi[S].Bars[yi[k]]||"");if("perf"!=mi.mainChart.type)for(g=mi.mainChart.indicators.length,S=0;S<g;S++)"evt"!=(v=mi.mainChart.indicators[S].type)&&"actu"!=v&&"lineard"!=v&&null!=d[S+1]&&Si.idhtml(i("val-")+S,d[S+1][yi[k]]||"")}}else k-mi.paddingLeft>Ci.length-1?(b=Math.round((k-mi.paddingLeft-(Ci.length-1))/bi[0].PxPointX),y=ft(b),c=mi.isIntraday?formatMinutes(y):daysToDate(y,1)):c=Ti.lastdatehover;h.fillStyle=z(mi.set.reticColor),x=Math.round(h.measureText(c).width),h.fillText(c,Math.round(k-x/2),l.height-6),h.fillText(c,Math.round(k-x/2),11),T=0,C=0,0==n?(T=mi.set.semilog&&null==mi.isCompare?L(D-mi.paddingTop,mi.logData):bi[0].V0-(D-mi.paddingTop)/bi[0].PxPointY,C=100*(T-fi.QuoteTab[fi.QuoteTab.length-1].c)/fi.QuoteTab[fi.QuoteTab.length-1].c,C=C>0?"+"+C.toFixed(1)+"%":C.toFixed(1)+"%",null!=mi.isCompare&&(T=100*(T-fi.QuoteTab[wi.minX].c)/fi.QuoteTab[wi.minX].c)):T=(bi[n].V0-D+bi[n].RealY)/bi[n].PxPointY,mi.set.yaxis?0==n?(h.fillText(formatDecimales(T),4,D-4),"perf"!=mi.mainChart.type&&h.fillText(C,2,D+10)):h.fillText(formatDecimales(T),4,D+3):0==n?(h.fillText(formatDecimales(T),l.width-37,D-4),"perf"!=mi.mainChart.type&&h.fillText(C,l.width-39,D+10)):h.fillText(formatDecimales(T),l.width-37,D+3)}Ti.activeLayer=function(t){for(var e=bi.length,i=1;i<e;i++)if(t>=bi[i].RealY-4&&t<=bi[i].RealY+1)return i;return null}(D),null!=Ti.activeLayer?(ve("n"),Ti.cursorState=!0):Ti.cursorState&&(Ti.cursorState=!1,ve())}function qt(e){var n,a,s,o,r,l,h=e.target.className;if("upC"==h||"dwC"==h)return!1;if(e.preventDefault(),n=Si.gi(i("overlay-")),n.getContext("2d").clearRect(0,0,n.width,n.height),!VGP.noCommand)switch(h){case"closelayericon":return e.stopPropagation(),a=e.target.parentNode.id.slice(-1),void Et(a);case"eodmoveup":return e.stopPropagation(),void jt("up",e.target);case"eodmovedown":return e.stopPropagation(),void jt("down",e.target);case"eod_param":case"mci-p":return Ti.flagSave=!0,xt(),s="mci-p"==h?e.target.parentNode.getAttribute("title").split("_"):e.target.getAttribute("title").split("_"),o=s.length>1?s[1]:null,void Vt(o,s[0],null);case"paramlayericon":return Ti.flagSave=!0,xt(),a=e.target.parentNode.id.slice(-1),void Vt(null,null,a)}if(VGP.isPro&&(t(".eod_container").removeClass("eod_active"),vi.addClass("eod_active"),callUpdateInfosFull(mi.symbol)),"touchstart"!=e.type)if(999!=Ti.lineNumber)te(Ti.lineNumber);else{if(Ti.cursorState)return Ti.moveLayer=!0,!1;ve("m"),r=gi(e),l=w(Si.gi(i("rodgraph-"))),Ti.moveZoomX=parseInt(r.x-l.left),Ti.moveZoomY=parseInt(r.y-l.top),Ti.initMaxY=wi.maxY,Ti.initMinY=wi.minY,Ti.initViewBegin=wi.minX,Ti.initViewEnd=wi.maxX}}function Qt(t){var e=t.target.className;if("upC"==e||"dwC"==e)return!1;if("touchend"==t.type&&!mi.mainChart.typedef.nolinearX){var n=t.touches[0]||t.changedTouches[0],a=w(Si.gi(i("rodgraph-"))),s=parseInt(n.pageX-a.left),o=parseInt(n.pageY-a.top);if(Ti.lineNumber=li(s,o,Lt(s,o)),999!=Ti.lineNumber)return void te(Ti.lineNumber)}Ti.moveLayer=!1,Ti.activeLayer=null,Ti.moveZoomX=0,Ti.moveZoomY=0,ve()}function Zt(){var e,n=Si.gi(i("overlay-")).getContext("2d");n.font="11px Arial",n.strokeStyle=mi.set.reticColor,n.lineWidth=1,n.setLineDash&&n.setLineDash([3]),Ti.lineNumber=999,Ti.cursorState=!1,e=Si.gi(i("")),VGP.noCommand&&t(".mci-p, .paramlayericon, .closelayericon, .eodmovedown, .eodmoveup").remove(),e.addEventListener("mousewheel",zt,!1),e.addEventListener("DOMMouseScroll",zt,!1),e.addEventListener("mouseleave",Xt,!1),e.addEventListener("touchmove",Ut,!1),e.addEventListener("mousemove",Ut,!1),e.addEventListener("mouseup",Qt,!1),e.addEventListener("touchend",Qt,!1),e.addEventListener("mousedown",qt,!1),e.addEventListener("touchstart",qt,!1)}function Kt(t,e){var i,n,a,s=Ti.initViewBegin,o=e-Ti.moveZoomY,r=o/bi[0].PxPointY;if(Math.abs(o)<7&&(r=0),0==(i=Math.round((t-Ti.moveZoomX)/bi[0].PxPointX))&&0==r||(n=!0,a=!0,("perf"==mi.mainChart.type||mi.set.semilog||e>bi[0].RealY+bi[0].HeightPx)&&(r=0),0==r&&(a=!1),wi.maxY=Ti.initMaxY+r,wi.minY=Ti.initMinY+r,s-wi.minX==i&&(n=!1),Ci.length<=200&&i<0&&(n=!1),s-i<0&&(n=!1),n&&(wi.minX=s-i,wi.maxX=Ti.initViewEnd-i),!n&&!a))return!1;kt(!0)}function Jt(t,e){return t>=0&&t<=mi.innerWidth&&e>=0&&e<bi[0].HeightPx+mi.paddingTop-7}function te(t){var e,i,n,a,s,o,r,l,h,c,d,u,p,f,m,g,v,b,y;xt(),ve();var x=xi[t],w='<div cid="'+Ti.callID+'" onmousedown=\'mydragg.startMoving(this,"trace-'+Ti.callID+"\",event);' onmouseup='mydragg.stopMoving(\"trace-"+Ti.callID+'");\' style="left:'+(mi.paddingLeft+4)+"px;top:"+(mi.paddingTop+4)+'px" class="linemodif" name="'+t+'"><div class="spg delLine" title="'+lang.l_supprimer+'"></div><input id="color1" type="text" name="color1" value="#000000" />';if(["t","rf","r","m","fa","ef","c","arrdw","arrup","arrrt","arrlt","p"].indexOf(x.type)>=0&&(e=null!=x.color2?x.color2:"#ffffff",w=w+'<span class="eod_sp10">&nbsp;</span><input id="color2" type="text" name="color2" value="'+e+'" />'),"a"!=x.type&&(w=w+'<div class="widthSelect w'+x.width+'"></div>',["rf","r","m","t","fa","arrup","arrdw","arrrt","arrlt","sm1","sm2","ewi","ewc"].indexOf(x.type)<0&&(w=w+'<div class="styleSelect s'+x.style+'"></div>')),"sr"==x.type&&(VGP.isSms&&(w=w+'<div class="spg eod_alert" title="'+lang.l_createalert+'"></div>'),w=w+'<input class="textSR" onkeypress="return isNumberKey(event)" id="srTxt" type="text" value="'+x.y0.toFixed(2)+'" /><input class="btnSR" id="srBtn" type="button" value="ok" />'),"a"==x.type&&(w=w+'<div class="fontSelect">'+x.style+'</div><input id="annotationTxt" type="text"/><input id="annotationBtn" class="btnSR" type="button" value="ok" />'),["fa","cf","mv","ewi","ewc"].indexOf(x.type)<0&&(w=w+'<div class="spg eod_copy" title="'+lang.l_dupliquer+'"></div>'),w+="</div>",vi.append(w),"fa"==x.type)return v=mi.paddingTop-9,b=mi.paddingLeft-9,i=x.RealX0+b,n=x.RealY0+v,a=x.h.B.mx+b,s=x.h.B.my+v,r=x.h.C.mx+b,o=x.h.C.my+v,Jt(i,n)&&vi.append('<div class="resizehandler handlerfa" pt="A" name="'+t+'" style="left:'+i+"px;top:"+n+'px"></div>'),Jt(a,s)&&vi.append('<div class="resizehandler handlerfa" pt="B" name="'+t+'" style="left:'+a+"px;top:"+s+'px"></div>'),Jt(r,o)&&vi.append('<div class="resizehandler handlerfa" pt="C" name="'+t+'" style="left:'+r+"px;top:"+o+'px"></div>'),se(),!1;if("ewi"==x.type||"ewc"==x.type){for(y=0;y<x.h.length;y++)i=x.h[y].mx+mi.paddingLeft-8,n=x.h[y].my+mi.paddingTop-8,Jt(i,n)&&vi.append('<div class="resizehandler handlerfa" pt="'+y+'" name="'+t+'" style="left:'+i+"px;top:"+n+'px"></div>');return se(),!1}return"t"==x.type?(v=mi.paddingTop-8,b=mi.paddingLeft-8,i=x.RealX0+b,n=x.RealY0+v,a=x.RealX1+b,s=x.RealY1+v,r=x.h.C.mx+b,o=x.h.C.my+v,Jt(i,n)&&vi.append('<div class="resizehandler handlerfa" pt="A" name="'+t+'" style="left:'+i+"px;top:"+n+'px"></div>'),Jt(a,s)&&vi.append('<div class="resizehandler handlerfa" pt="B" name="'+t+'" style="left:'+a+"px;top:"+s+'px"></div>'),Jt(r,o)&&vi.append('<div class="resizehandler handlerfa" pt="C" name="'+t+'" style="left:'+r+"px;top:"+o+'px"></div>'),se(),!1):("ef"==x.type&&vi.append('<div class="handlerFE resizehandler" name="'+t+'" style="left:'+(x.RealX1+x.h+mi.paddingLeft-6)+"px;top:"+(x.RealY1+mi.paddingTop-8)+'px"></div>'),"v"==x.type?(vi.append('<div class="handlerVert resizehandler" name="'+t+'" style="left:'+(x.RealX0+mi.paddingLeft-10)+"px;top:"+Math.round(bi[0].HeightPx/2)+'px"></div>'),se(),!1):"sr"==x.type?(vi.append('<div class="handlerSR resizehandler" name="'+t+'" style="left:'+(x.RealX0+mi.paddingLeft-15)+"px;top:"+(x.RealY0+mi.paddingTop-9)+'px"></div>'),se(),!1):"c"==x.type?(f=x.RealX0+mi.paddingLeft-6,m=x.RealY0+mi.paddingTop-10,g=x.RealX1+mi.paddingLeft-9,Jt(f,m)&&vi.append('<div id="handler2oblic" class="resizehandler" name="'+t+'" style="left:'+f+"px;top:"+m+'px"></div>'),Jt(g,m)&&vi.append('<div class="handlerEllipse resizehandler" name="'+t+'" style="left:'+g+"px;top:"+m+'px"></div>'),se(),!1):(0==x.x0&&0==x.x1?vi.append('<div class="handlerHoriz resizehandler" name="'+t+'" style="left:'+Math.round(mi.innerWidth/2)+"px;top:"+(x.RealY0+mi.paddingTop-9)+'px"></div>'):(v=mi.paddingTop-9,b=mi.paddingLeft-9,l=x.RealX0+b,d=x.RealY0+v,h=x.RealX1+b,u=x.RealY1+v,"a"!=x.type&&"arrup"!=x.type&&"arrdw"!=x.type&&"arrrt"!=x.type&&"arrlt"!=x.type&&"sm1"!=x.type&&"sm2"!=x.type&&("an"!=x.type&&Jt(l,d)&&vi.append('<div id="handler0oblic" class="resizehandler" name="'+t+'" style="left:'+l+"px;top:"+d+'px"></div>'),Jt(h,u)&&vi.append('<div id="handler1oblic" class="resizehandler" name="'+t+'" style="left:'+h+"px;top:"+u+'px"></div>')),"p"==x.type&&(c=Math.round(x.RealX0+(x.RealX1-x.RealX0)/2)+b,p=Math.round(x.RealY1+(x.RealY0-x.RealY1)/2)+v+Math.round(x.h*bi[0].PxPointY),Jt(c,p)&&vi.append('<div class="handlerPara resizehandler" name="'+t+'" style="left:'+c+"px;top:"+p+'px"></div>')),"p"!=x.type&&(c=Math.round(x.RealX0+(x.RealX1-x.RealX0)/2)+b,p=Math.round(x.RealY1+(x.RealY0-x.RealY1)/2)+v,Jt(c,p)&&vi.append('<div id="handler2oblic" class="resizehandler" name="'+t+'" style="left:'+c+"px;top:"+p+'px"></div>'))),void se()))}function ee(t){if("srTxt"==t.target.id||"annotationTxt"==t.target.id)return!1;(46==t.keyCode||8==t.keyCode)&&(t.preventDefault(),ne())}function ie(t){if("srTxt"==t.target.id||"annotationTxt"==t.target.id)return!1;switch(t.keyCode){case 38:t.preventDefault(),ae(0,-1);break;case 40:t.preventDefault(),ae(0,1);break;case 37:t.preventDefault();ae(-(Math.floor(bi[0].PxPointX)+1),0);break;case 39:t.preventDefault(),ae(1,0);break;case 46:case 8:t.preventDefault(),ne()}}function ne(){var e=t(".linemodif").attr("name");xi.splice(e,1),mt(),m(mi.symbol,xi),Ti.flagSave=!0,xt()}function ae(e,i){var n,a,s,o,r,l,h=t(".linemodif").attr("name"),c=yt(xi[h]);(0!=i||"h"!=c.type)&&(0!=e||"v"!=c.type)&&(n=ti(),0==e?(xi.splice(h,1),s=c.RealY0+i,o=c.RealY1+i,mt(),a=Xe(n.ctx,c,c.RealX0,s,c.RealX1,o)):(xi.splice(h,1),r=c.RealX0+e,l=c.RealX1+e,mt(),a=Xe(n.ctx,c,r,c.RealY0,l,c.RealY1)),Ke(c,a))}function se(){function e(){var e=t("#annotationTxt").val().trim();if(""==e)return!1;e=e.replace(/,/g,"."),xi[s].h=p(e),mt(),m(mi.symbol,xi),t(document).off("keyup","#annotationTxt"),t(document).off(Ti.clickHandler,"#annotationBtn"),xt()}var n,a,s=t(".linemodif").attr("name");t("#color1").colorPicker({showHexField:!1}).val(xi[s].color).change(),0!=(n=t("#color2")).length&&(null!=xi[s].color2?n.colorPicker({showHexField:!1}).val(xi[s].color2).change():n.colorPicker({showHexField:!1})),$t(),(a=Si.gi(i("overlay-"))).getContext("2d").clearRect(0,0,a.width,a.height),"sr"==xi[s].type&&vi.on(Ti.clickHandler,"#srBtn",function(e){var i,n;if(e.preventDefault(),0==(i=parseFloat(t("#srTxt").val().replace(",",".")))||isNaN(i))return!1;xi[s].y0=i,xi[s].y1=i,n=mi.set.semilog&&null!=mi.logData?I(i,mi.logData):bi[0].V0*bi[0].PxPointY-i*bi[0].PxPointY,xi[s].RealY0=n,xi[s].RealY1=n,Si.clcss("handlerSR","top",n+mi.paddingTop-6+"px"),mt(),m(mi.symbol,xi)}),vi.on(Ti.clickHandler,".eod_alert",function(t){t.preventDefault();var e=fi.Name+";"+mi.symbol+";"+xi[s].y0.toFixed(3);sessionStorage.setItem("vartemp",e),Ti.flagSave=!0,xt(),loadPopupHelp("graph_setalert4.aspx",700)}),vi.on(Ti.clickHandler,".eod_copy",function(t){var e,i;t.preventDefault(),e=yt(xi[s]),"v"==xi[s].type?(i=new oe(e.RealX0+20,0),e.x0=i.x,e.x1=i.x):(e.y0=e.y0+20/bi[0].PxPointY,e.y1=e.y1+20/bi[0].PxPointY),xi.push(e),xt(),mt(),m(mi.symbol,xi),te(xi.length-1)}),"a"==xi[s].type&&(t("#annotationTxt").val(unescape(xi[s].h)),vi.on(Ti.clickHandler,"#annotationBtn",function(t){return t.preventDefault(),e(),!1}),t(document).on("keyup","#annotationTxt",function(i){if(13==i.keyCode)return e(),!1;xi[s].h=p(t(this).val()),mt()})),t(".widthSelect").on(Ti.clickHandler,function(e){e.preventDefault(),0!=t(this).find("ul").length?t(this).find("ul").remove():(t(".styleSelect").find("ul").remove(),t(this).append(Gt("w")),t(".widthSelect").find("li").on(Ti.clickHandler,function(e){var i,n;return e.preventDefault(),i=parseInt(t(this).attr("class").slice(-1)),xi[s].width=i,mt(),m(mi.symbol,xi),(n=t(".widthSelect")).find("ul").remove(),n.attr("class","widthSelect w"+i),!1}))}),t(".styleSelect").on(Ti.clickHandler,function(e){e.preventDefault(),0!=t(this).find("ul").length?t(this).find("ul").remove():(t(".widthSelect").find("ul").remove(),t(this).append(Gt("s")),t(".styleSelect").find("li").on(Ti.clickHandler,function(e){var i,n;return e.preventDefault(),i=parseInt(t(this).attr("class").slice(-1)),xi[s].style=i,mt(),m(mi.symbol,xi),(n=t(".styleSelect")).find("ul").remove(),n.attr("class","styleSelect s"+i),!1}))}),t(".fontSelect").on(Ti.clickHandler,function(e){var i,n,a;if(e.preventDefault(),0!=t(this).find("ul").length)t(this).find("ul").remove();else{for(t(".styleSelect").find("ul").remove(),i=[0,12,16,20,24,28,32,48],n="<ul>",a=1;a<8;a++)n=n+'<li title="'+i[a]+'">'+i[a]+"</li>";n+="</ul>",t(this).append(n),t(".fontSelect").find("li").on(Ti.clickHandler,function(e){var i,n;return e.preventDefault(),i=parseInt(t(this).attr("title")),xi[s].style=i,mt(),m(mi.symbol,xi),(n=t(".fontSelect")).text(i),n.find("ul").remove(),!1})}}),t(".delLine").on(Ti.clickHandler,function(t){t.preventDefault(),ne()}),t("#color1, #color2").on("change",function(e){"color1"==e.target.id?xi[s].color=t(this).val():xi[s].color2=t(this).val(),mt(),m(mi.symbol,xi)}),t(".handlerfa").on("touchstart mousedown",function(){var e=t(this).attr("pt"),i=yt(xi[s]);switch(xi[s].type){case"fa":re(i,e);break;case"t":le(i,e);break;case"ewi":case"ewc":he(i,e)}t(".resizehandler").hide(),xi.splice(s,1)}),t(".handlerEllipse").on("touchstart mousedown",function(){we(yt(xi[s])),t(".resizehandler").hide(),xi.splice(s,1)}),t(".handlerFE").on("touchstart mousedown",function(){!function(t){var e=Math.max(t.RealX1,t.RealX0);ve("c");var i,n=ti(),a={mx:t.RealX0,my:t.RealY0,x:t.x0,y:t.y0},s={mx:t.RealX1,my:t.RealY1,x:t.x1,y:t.y1};vi.bind("touchmove mousemove",function(o){o.preventDefault();var r=gi(o),l=parseInt(r.x-n.offset.left);if((i=l-e)<100)return!1;mt(),$e(n.ctx,t.type,t.color,t.style,t.width,i,a,s,t.color2)}),vi.bind("touchend mouseup",function(e){e.preventDefault(),Ze(t.color,s,t.width,t.style,t.type,t.color2,i,a)})}(yt(xi[s])),t(".resizehandler").hide(),xi.splice(s,1)}),t("#handler0oblic, #handler1oblic").on("touchstart mousedown",function(e){var i,n=xi[s].RealX1,a=xi[s].RealY1,o=xi[s].x1;"handler1oblic"==e.target.id&&(n=xi[s].RealX0,a=xi[s].RealY0,o=xi[s].x0),i=yt(xi[s]),"p"==xi[s].type?xe(xi[s].color,n,a,o,xi[s].width,xi[s].style,xi[s].h,xi[s].color2):"rf"==xi[s].type||"r"==xi[s].type||"m"==xi[s].type?ge(xi[s],xi[s].type,e.target.id):be(i,n,a,o),t(".resizehandler").hide(),xi.splice(s,1)}),t("#handler2oblic").on("touchstart mousedown",function(){t(".resizehandler").hide();me(yt(xi[s])),xi.splice(s,1)}),0!=t("#handler2oblic").length||"sr"==xi[s].type||"v"==xi[s].type||"h"==xi[s].type?document.addEventListener("keydown",ie,!1):document.addEventListener("keydown",ee,!1),t(".handlerSR, .handlerHoriz, .handlerVert").on("touchstart mousedown",function(){t(".resizehandler").hide();!function(t){var e,i=ti();vi.bind("touchend mouseup",function(n){n.preventDefault(),null==e&&(e=ze(t.type,n,i.offset,i.ctx,t.color,t.style,t.width)),Qe(t.type,t.color,e,t.style,t.width)}),vi.bind("touchmove mousemove",function(n){n.preventDefault(),e=ze(t.type,n,i.offset,i.ctx,t.color,t.style,t.width)})}(yt(xi[s])),xi.splice(s,1)}),t(".handlerPara").on("touchstart mousedown",function(){t(".resizehandler").hide();ye(yt(xi[s])),xi.splice(s,1)}),t(i("#trace-")).on("touchend mousedown",function(t){Ti.flagSave=!0,t.preventDefault(),xt()})}function oe(t,e){var i,n;for(this.mx=t,this.my=e,this.y=mi.set.semilog&&null!=mi.logData?Math.round(1e4*L(e,mi.logData))/1e4:Math.round(1e4*(bi[0].V0*bi[0].PxPointY-e)/bi[0].PxPointY)/1e4,n=Ci.length,i=t;i<n;i++)if(t<=i&&null!=Ci[i]){this.x=Ci[i].d,this.mx=i;break}if(t>n-1){var a=n-1,s=t-a,o=Math.round(s/bi[0].PxPointX),r=Math.round(o*bi[0].PxPointX)+a;if(fi.Xperiod<0)o=-o*fi.Xperiod;else switch(fi.Xperiod){case 7:o*=7;break;case 30:o*=30;break;default:o*=1.4}this.mx=r,this.x=Ci[n-1].d+Math.round(o)}}function re(t,e){ve("c");var i,n=ti(),a={mx:t.RealX0,my:t.RealY0,x:t.x0,y:t.y0},s=t.h.B,o=t.h.C;vi.bind("touchmove mousemove",function(r){var l;r.preventDefault();var h=gi(r),c=parseInt(h.x-n.offset.left),d=parseInt(h.y-n.offset.top);if(d<0||d>bi[0].HeightPx)return!1;switch(l=new oe(c,d),mt(),e){case"A":i=Ce(n.ctx,l,s,o,t.color,t.color2,t.width),a=l;break;case"B":i=Ce(n.ctx,a,l,o,t.color,t.color2,t.width),s=l;break;case"C":i=Ce(n.ctx,a,s,l,t.color,t.color2,t.width),o=l}i=new oe(i.Dx,i.Dy)}),vi.bind("touchend mouseup",function(e){e.preventDefault(),xi.push(new Bt(a.x,a.y,i.x,i.y,t.color,a.mx,i.mx,t.width,null,"fa",{B:s,C:o},t.color2)),m(mi.symbol,xi),vi.off(),te(xi.length-1)})}function le(t,e){ve("c");var i=ti(),n={mx:t.RealX0,my:t.RealY0,x:t.x0,y:t.y0},a={mx:t.RealX1,my:t.RealY1,x:t.x1,y:t.y1},s=t.h.C;vi.bind("touchmove mousemove",function(o){var r;o.preventDefault();var l=gi(o),h=parseInt(l.x-i.offset.left),c=parseInt(l.y-i.offset.top);if(c<0||c>bi[0].HeightPx)return!1;switch(r=new oe(h,c),mt(),e){case"A":n=r;break;case"B":a=r;break;case"C":s=r}ke(i.ctx,n,a,s,t.color,t.color2,t.width)}),vi.bind("touchend mouseup",function(e){e.preventDefault(),xi.push(new Bt(n.x,n.y,a.x,a.y,t.color,n.mx,a.mx,t.width,null,"t",{C:s},t.color2)),m(mi.symbol,xi),vi.off(),te(xi.length-1)})}function he(t,e){ve("c");var i=ti();vi.bind("touchmove mousemove",function(n){var a;n.preventDefault();var s=gi(n),o=parseInt(s.x-i.offset.left),r=parseInt(s.y-i.offset.top);if(r<0||r>bi[0].HeightPx)return!1;a=new oe(o,r),mt(),e=parseInt(e),t.h[e]=a,Ae(i.ctx,t.h,t.color,t.width)}),vi.bind("touchend mouseup",function(e){e.preventDefault(),xi.push(new Bt(null,null,null,null,t.color,null,null,t.width,null,t.type,t.h)),m(mi.symbol,xi),vi.off(),te(xi.length-1)})}function ce(t,e){ve("c");var i,n,a=ti(),s=[],o=fe();vi.bind("touchstart click",function(r){r.preventDefault();var l=gi(r);if(i=parseInt(l.x-a.offset.left),(n=parseInt(l.y-a.offset.top))<0||n>bi[0].HeightPx)return!1;if(s.length<e-1)return s.push(new oe(i,n)),!1;switch(s.push(new oe(i,n)),mt(),t){case"t":ke(a.ctx,s[0],s[1],s[2],o),xi.push(new Bt(s[0].x,s[0].y,s[1].x,s[1].y,o,s[0].mx,s[1].mx,null,null,t,{C:s[2]}));break;case"ewi":case"ewc":Ae(a.ctx,s,o),xi.push(new Bt(null,null,null,null,o,null,null,null,null,t,s))}m(mi.symbol,xi),vi.off(),te(xi.length-1)}),vi.bind("touchmove mousemove",function(e){var r,l,h,c;if(e.preventDefault(),0==s.length||(r=gi(e),i=parseInt(r.x-a.offset.left),(n=parseInt(r.y-a.offset.top))<0||n>bi[0].HeightPx))return!1;for(mt(),"t"!=t&&(a.ctx.fillStyle=o,a.ctx.font="14px Arial"),l=[],"ewi"==t&&(l=["1","2","3","4","5"]),"ewc"==t&&(l=["a","b","c"]),a.ctx.lineWidth=1,a.ctx.strokeStyle=o,a.ctx.beginPath(),a.ctx.moveTo(s[0].mx,s[0].my),c=1;c<s.length;c++)a.ctx.lineTo(s[c].mx,s[c].my),"t"!=t&&(h=s[c].my<s[c-1].my?-7:16,a.ctx.fillText(l[c-1],s[c].mx-4,s[c].my+h));return a.ctx.lineTo(i,n),a.ctx.stroke(),!1})}function de(){vi.off(),vi.removeClass("eod_cg"),Zt()}function ue(e){var i,n,a=ti();ve("c"),vi.bind("touchstart mousedown",function(s){var o,r,l;if(s.preventDefault(),0!=t(".linemodif").length||(o=gi(s),i=parseInt(o.x-a.offset.left),(n=parseInt(o.y-a.offset.top))<0||n>bi[0].HeightPx))return!1;switch(r=new oe(i,n),e){case"arrup":l="#008000",Me(a.ctx,r,l,e,l,1);break;case"arrdw":l="#c00000",Me(a.ctx,r,l,e,l,1);break;case"arrrt":case"arrlt":l="#3366ff",Me(a.ctx,r,l,e,l,1);break;case"sm1":l="#008000",Se(a.ctx,r,l,e,1);break;case"sm2":l="#c00000",Se(a.ctx,r,l,e,1)}xi.push(new Bt(r.x,r.y,r.x,r.y,l,r.mx,r.mx,1,null,e,null,l)),m(mi.symbol,xi),vi.off(),te(xi.length-1)})}function pe(){function e(){var e,o,r;return(null!=i||null!=n)&&(e=t("#annotationTxt").val().trim(),""==(e=e.replace(/,/g,"."))?(t(".linemodif").remove(),t(document).off(Ti.clickHandler,"#annotationBtn"),Zt(),!1):(o=new oe(i,n),r=Re(a.ctx,o,"12",s,e),xi.push(new Bt(o.x,o.y,o.x,o.y,s,o.mx,r,null,"12","a",p(e))),m(mi.symbol,xi),t(document).off(Ti.clickHandler,"#annotationBtn"),t(document).off("keyup","#annotationTxt"),t(".linemodif").remove(),void te(xi.length-1)))}var i,n,a=ti(),s=fe();ve("c"),vi.bind("touchstart mousedown",function(e){var s,o,r;if(e.preventDefault(),0!=t(".linemodif").length||(s=gi(e),i=parseInt(s.x-a.offset.left),(n=parseInt(s.y-a.offset.top))<0||n>bi[0].HeightPx))return!1;o=xi.length,r='<div cid="'+Ti.callID+'" onmousedown=\'mydragg.startMoving(this,"trace-'+Ti.callID+"\",event);' onmouseup='mydragg.stopMoving(\"trace-"+Ti.callID+'");\' style="left:'+(mi.paddingLeft+4)+"px;top:"+(mi.paddingTop+4)+'px" class="linemodif" name="'+o+'">',r+='<input id="annotationTxt" type="text"/><input id="annotationBtn" class="btnSR" type="button" value="ok" /></div>',vi.append(r),setTimeout(function(){t("#annotationTxt").focus()},200),$t()}),t(document).on("keyup","#annotationTxt",function(o){o.preventDefault();13==(o.which?o.which:o.keyCode)?(mt(),e()):(mt(),Re(a.ctx,new oe(i,n),"12",s,t(this).val()))}),t(document).on(Ti.clickHandler,"#annotationBtn",function(t){t.preventDefault(),e()})}function fe(){return null==mi.set.traceColor?z(mi.set.bkcolor):mi.set.traceColor}function me(t){var e,i=ti(),n=Math.round((t.RealX1-t.RealX0)/2),a=Math.round((t.RealY0-t.RealY1)/2);vi.bind("touchend mouseup",function(i){i.preventDefault(),null!=e&&Ke(t,e)}),vi.bind("touchmove mousemove",function(s){s.preventDefault(),mt();var o=gi(s),r=parseInt(o.y-i.offset.top),l=parseInt(o.x-i.offset.left);l+n>mi.widthGraph-mi.paddingRight&&(l=mi.widthGraph-mi.paddingRight-n),l-n<5&&(l=n+5),r<5&&(r=5),r>bi[0].HeightPx-5&&(r=bi[0].HeightPx-5);var h=l-n,c=l+n,d=r+a,u=r-a;e=Xe(i.ctx,t,h,d,c,u)})}function ge(t,e,i){var n,a=ti(),s="handler0oblic"==i?{x:t.x1,y:t.y1,mx:t.RealX1,my:t.RealY1}:{x:t.x0,y:t.y0,mx:t.RealX0,my:t.RealY0};vi.bind("touchmove mousemove",function(o){o.preventDefault(),n=qe(o,a.offset,a.ctx,t.color,t.color2,e,i,s,t.width)}),vi.bind("touchend mouseup",function(a){if(a.preventDefault(),null==n)return!1;Je(t.color,t.color2,e,n,i,s,t.width)})}function ve(e){var i="default";switch(e){case"c":i="crosshair";break;case"p":i="pointer";break;case"m":i="move";break;case"n":i="ns-resize"}t("html,body").css("cursor",i)}function be(t,e,i,n){var a,s,o,r=ti();a=mi.set.semilog&&null!=mi.logData?L(i,mi.logData):(bi[0].V0*bi[0].PxPointY-i)/bi[0].PxPointY,s={x:n,mx:e,my:i,y:a},vi.bind("touchmove mousemove",function(e){e.preventDefault(),o=Ue(e,r.offset,r.ctx,t.color,t.width,t.style,t.h,t.type,t.color2,s)}),vi.bind("touchend mouseup",function(e){e.preventDefault(),null!=o&&Ze(t.color,o,t.width,t.style,t.type,t.color2,t.h,s)})}function ye(t){var e,i,n,a=ti();vi.off(),vi.bind("touchmove mousemove",function(i){i.preventDefault();var n=gi(i),s=parseInt(n.y-a.offset.top+(t.RealY1-t.RealY0)/2);e=t.RealY1-s,mt(),$e(a.ctx,"p",t.color,t.style,t.width,-e,{mx:t.RealX0,my:t.RealY0},{mx:t.RealX1,my:t.RealY1},t.color2)}),vi.bind("touchend mouseup",function(a){a.preventDefault();var s=e/bi[0].PxPointY;i=t.y0,n=t.y1,s>0&&(i+=s,n+=s),xi.push(new Bt(t.x0,i,t.x1,n,t.color,t.RealX0,t.RealX1,t.width,t.style,"p",Math.abs(s),t.color2)),m(mi.symbol,xi),vi.off(),te(xi.length-1)})}function xe(t,e,i,n,a,s,o,r){var l,h=ti(),c={mx:e,my:i,x:n};o*=bi[0].PxPointY,vi.bind("touchmove mousemove",function(e){e.preventDefault(),l=Ue(e,h.offset,h.ctx,t,a,s,o,"p",r,c)}),vi.bind("touchend mouseup",function(e){var i,n;if(e.preventDefault(),null==l)return!1;i=mi.set.semilog&&null!=mi.logData?L(c.my,mi.logData):(bi[0].V0*bi[0].PxPointY-c.my)/bi[0].PxPointY,n=o/bi[0].PxPointY,l.mx<c.mx?xi.push(new Bt(l.x,l.y,c.x,i,t,l.mx,c.mx,a,s,"p",n,r)):xi.push(new Bt(c.x,i,l.x,l.y,t,c.mx,l.mx,a,s,"p",n,r)),m(mi.symbol,xi),vi.off(),te(xi.length-1)})}function we(t){var e,i=ti(),n={mx:t.RealX0,my:t.RealY0,x:t.x0,y:t.y0};vi.bind("touchend mouseup",function(i){if(i.preventDefault(),null==e)return!1;xi.push(new Bt(n.x,n.y,e.x,e.y,t.color,n.mx,e.mx,t.width,t.style,"c",null,t.color2)),m(mi.symbol,xi),vi.off(),te(xi.length-1)}),vi.bind("touchmove mousemove",function(a){a.preventDefault(),mt();var s=gi(a),o=parseInt(s.y-i.offset.top),r=parseInt(s.x-i.offset.left);o=Ye(o),e=new oe(r,o),Oe(i.ctx,t.color,t.style,t.width,n,e,t.color2)})}function Te(t,e,i,n,a,s){var o,r,l,h,c;for(t.save(),t.strokeStyle=e,t.lineWidth=2,t.beginPath(),t.moveTo(a.mx,a.my),t.lineTo(s.mx,s.my),t.stroke(),o=s.mx-a.mx,r=[0,1,2,3,5,8,13,21,34,55],null!=i&&null!=n?(t.lineWidth=n,ii(t,i)):t.lineWidth=1,t.fillStyle=e,t.font="11px Arial",t.beginPath(),c=r.length,h=0;h<c;h++)l=a.mx+o*r[h]+.5,t.moveTo(l,0),t.lineTo(l,bi[0].HeightPx),t.fillText(r[h],l+2,bi[0].HeightPx-3);t.stroke(),t.restore()}function Ce(t,e,i,n,a,s,o){var r,l,h,c;t.save(),t.strokeStyle=a,t.beginPath();var d=i.mx+Math.round((n.mx-i.mx)/2),u=i.my+Math.round((n.my-i.my)/2),p=(e.my-u)/(d-e.mx),f=3e3;return d<e.mx&&(f=-f),r=e.mx+f,l=e.my-f*p,t.lineWidth=null!=o?o:1,t.moveTo(i.mx+f,i.my-f*p),t.lineTo(i.mx,i.my),t.lineTo(n.mx,n.my),t.lineTo(n.mx+f,n.my-f*p),t.fillStyle=hexToRgb(s,.15),t.fill(),t.moveTo(e.mx,e.my),t.lineTo(r,l),t.stroke(),t.setLineDash&&t.setLineDash([2]),t.beginPath(),h=i.mx+Math.round((d-i.mx)/2),c=i.my+Math.round((u-i.my)/2),t.moveTo(h,c),t.lineTo(h+f,c-f*p),h=d+Math.round((n.mx-d)/2),c=u+Math.round((n.my-u)/2),t.moveTo(h,c),t.lineTo(h+f,c-f*p),t.stroke(),t.restore(),{Dx:r,Dy:l}}function Se(t,e,i,n,a){var s,o,r=10+2*a,l=4+a;t.save(),t.strokeStyle=i,t.beginPath(),t.arc(e.mx,e.my,r,0,2*Math.PI,!1),t.lineWidth=2,t.stroke(),t.beginPath(),s=e.mx-l,o=e.my-l,t.arc(s,o,2,0,2*Math.PI,!1),s=e.mx+l,t.arc(s,o,2,0,2*Math.PI,!1),t.fillStyle=i,t.fill(),t.beginPath(),"sm1"==n?t.arc(e.mx,e.my,r-7,0,Math.PI,!1):t.arc(e.mx,e.my+r/2,r-7,Math.PI,2*Math.PI,!1),t.stroke(),t.restore()}function Me(t,e,i,n,a,s){var o,r;switch(n){case"arrup":case"arrlt":o=8.5+s,r=15.5+2*s;break;case"arrdw":case"arrrt":o=-8.5-s,r=-15.5-2*s}t.save(),t.strokeStyle=i,t.beginPath(),t.moveTo(e.mx,e.my),"arrlt"==n||"arrrt"==n?(t.lineTo(e.mx+o,e.my-6.5-s),t.lineTo(e.mx+o,e.my-1.5-s),t.lineTo(e.mx+r,e.my-1.5-s),t.lineTo(e.mx+r,e.my+1.5+s),t.lineTo(e.mx+o,e.my+1.5+s),t.lineTo(e.mx+o,e.my+6.5+s),t.lineTo(e.mx,e.my)):(t.lineTo(e.mx-6.5-s,e.my+o),t.lineTo(e.mx-1.5-s,e.my+o),t.lineTo(e.mx-1.5-s,e.my+r),t.lineTo(e.mx+1.5+s,e.my+r),t.lineTo(e.mx+1.5+s,e.my+o),t.lineTo(e.mx+6.5+s,e.my+o),t.lineTo(e.mx,e.my)),t.fillStyle=a,t.fill(),t.stroke(),t.restore()}function Ae(t,e,i,n){t.strokeStyle=i,t.fillStyle=i,t.font="14px Arial",t.lineWidth=null!=n?n:1,t.beginPath(),t.moveTo(e[0].mx,e[0].my);for(var a,s=e.length,o=[],o=6==e.length?["1","2","3","4","5"]:["a","b","c"],r=1;r<s;r++)t.lineTo(e[r].mx,e[r].my),a=e[r].my<e[r-1].my?-7:16,t.fillText(o[r-1],e[r].mx-4,e[r].my+a);t.stroke()}function ke(t,e,i,n,a,s,o){t.strokeStyle=a,t.lineWidth=null!=o?o:1,t.beginPath(),t.moveTo(e.mx,e.my),t.lineTo(i.mx,i.my),t.lineTo(n.mx,n.my),t.lineTo(e.mx,e.my),t.stroke(),null!=s&&(t.fillStyle=hexToRgb(s,.15),t.fill())}function De(t,e,i,n,a,s){var o;t.save(),t.strokeStyle=e,t.lineWidth=2,t.beginPath(),t.moveTo(a.mx,a.my),t.lineTo(s.mx,s.my),t.stroke(),null!=i&&null!=n?(t.lineWidth=n,ii(t,i)):t.lineWidth=1;var r,l,h,c,d=a.my-s.my,u=1500,p=200,f=[.25,.382,.5,.618,.75],m=["0.25","0.382","0.5","0.618","0.75"];for(t.fillStyle=e,t.font="12px Arial",t.beginPath(),o=f.length,h=0;h<o;h++)c=Math.atan(d/f[h]/Math.abs(a.mx-s.mx)),r=a.my-u*Math.sin(c),l=a.mx+u*Math.cos(c),t.moveTo(a.mx,a.my),t.lineTo(l,r),r=a.my-p*Math.sin(c),l=a.mx+p*Math.cos(c),t.fillText(m[h],l,r),c=Math.atan(d*f[h]/Math.abs(a.mx-s.mx)),r=a.my-u*Math.sin(c),l=a.mx+u*Math.cos(c),t.moveTo(a.mx,a.my),t.lineTo(l,r),r=a.my-p*Math.sin(c),l=a.mx+p*Math.cos(c),t.fillText(m[h],l,r);t.stroke(),t.restore()}function Pe(t,e,i,n,a,s){var o;t.save(),t.strokeStyle=e,t.lineWidth=2,t.beginPath(),t.moveTo(a.mx,a.my),t.lineTo(s.mx,s.my),t.stroke(),null!=i&&null!=n?(t.lineWidth=n,ii(t,i)):t.lineWidth=1;var r,l,h,c,d=a.my-s.my,u=[8,4,3,2,1,.5,.333,.25,.125],p=["8x1","4x1","3x1","2x1","1x1","1x2","1x3","1x4","1x8"];for(t.fillStyle=e,t.font="12px Arial",t.beginPath(),o=u.length,h=0;h<o;h++)c=Math.atan(d/u[h]/Math.abs(a.mx-s.mx)),r=a.my-1500*Math.sin(c),l=a.mx+1500*Math.cos(c),t.moveTo(a.mx,a.my),t.lineTo(l,r),r=a.my-180*Math.sin(c),l=a.mx+180*Math.cos(c),t.fillText(p[h],l,r);t.stroke(),t.restore()}function _e(t,e,i,n,a,s){t.save(),t.strokeStyle=e,t.lineWidth=2,t.beginPath(),t.moveTo(a.mx,a.my),t.lineTo(s.mx,s.my),t.stroke(),null!=i&&null!=n?(t.lineWidth=n,ii(t,i)):t.lineWidth=1;var o,r=(a.my-s.my)/Math.abs(a.mx-s.mx),l=a.mx-s.mx>0?-1:1,h=a.my-1500*r,c=a.mx+1500*l,d=2*(a.my-s.my),u=a.my+1500*r;for(t.beginPath(),o=-20;o<20;o++)t.moveTo(a.mx,a.my+d*o),t.lineTo(c,h+d*o),t.moveTo(a.mx,a.my+d*o),t.lineTo(c,u+d*o);t.stroke(),t.restore()}function Ne(t,e,i,n,a,s,o){var r,l;return t.save(),t.strokeStyle=e,t.beginPath(),t.moveTo(a.mx+50,a.my+.5),t.lineTo(a.mx,a.my+.5),t.stroke(),r=!(o>=0),t.beginPath(),t.arc(a.mx,a.my,30,-o,0,r),t.stroke(),l=(a.my-s.my)/Math.tan(o),null!=i&&null!=n?(t.lineWidth=n,ii(t,i)):t.lineWidth=1,t.beginPath(),t.moveTo(a.mx,a.my),t.lineTo(a.mx+l,s.my),t.stroke(),t.fillStyle=e,t.font="12px Arial",t.fillText((180*o/Math.PI).toFixed(0)+"°",a.mx+55,a.my),t.restore(),a.mx+l}function Ee(t,e,i,n,a,s){var o,r,l,h,c;t.save();var d=Math.abs(a.mx-s.mx),u=Math.abs(a.my-s.my),p=Math.sqrt(d*d+u*u);for(t.strokeStyle=e,t.beginPath(),t.moveTo(a.mx,a.my),t.lineTo(s.mx,s.my),t.stroke(),null!=i&&null!=n?(t.lineWidth=n,ii(t,i)):t.lineWidth=1,t.strokeStyle=hexToRgb(e,.7),t.fillStyle=e,o=!0,a.y>s.y&&(o=!1),c=(l=[.236,.5,.786,1,1.618,2.618]).length,h=0;h<c;h++)t.beginPath(),t.arc(a.mx,a.my,p*l[h],0,Math.PI,o),t.stroke(),r=o?a.my-p*l[h]-2:a.my+p*l[h]+10,t.fillText(l[h].toFixed(3),a.mx-15,r);t.restore()}function Oe(t,e,i,n,a,s,o){t.save(),t.beginPath();var r=Math.abs(a.mx-s.mx),l=Math.abs(a.my-s.my);t.translate(a.mx-r,a.my-l),t.scale(r,l),t.arc(1,1,1,0,2*Math.PI,!1),t.restore(),t.save(),t.strokeStyle=e,null!=i&&null!=n?(t.lineWidth=n,ii(t,i)):t.lineWidth=1,t.stroke(),null!=o&&(t.fillStyle=hexToRgb(o,.15),t.fill()),t.restore()}function Ie(t,e,i,n,a){var s=.5;t.strokeStyle=a,t.save(),null!=i&&null!=n?(t.lineWidth=n,n%2==0&&(s=0),ii(t,i)):t.lineWidth=1,t.beginPath(),t.moveTo(e.mx,e.my+s),t.lineTo(mi.innerWidth,e.my+s),t.stroke(),t.fillStyle=a,t.font="11px Arial",t.fillText(e.y.toFixed(2),e.mx+5,e.my-2),t.restore()}function Le(t,e,i,n,a,s){var o,r=.5;t.strokeStyle=a,t.save(),null!=i&&null!=n?(t.lineWidth=n,n%2==0&&(r=0),ii(t,i)):t.lineWidth=1,t.beginPath(),t.moveTo(e.mx+r,0),t.lineTo(e.mx+r,bi[0].HeightPx),t.stroke(),t.fillStyle=a,t.font="11px Arial",o=e.mx+3,mi.innerWidth-e.mx<60&&(o=e.mx-60),s&&(mi.isIntraday?t.fillText(formatMinutes(e.x),o,bi[0].HeightPx-2):t.fillText(daysToDate(e.x,2),o,bi[0].HeightPx-2)),t.restore()}function Be(t,e,i,n,a,s){var o,r=.5;t.strokeStyle=a,t.save(),null!=i&&null!=n?(t.lineWidth=n,n%2==0&&(r=0),ii(t,i)):t.lineWidth=1,t.beginPath(),t.moveTo(0,e.my+r),t.lineTo(mi.innerWidth,e.my+r),t.stroke(),s&&(t.fillStyle=a,t.font="11px Arial",o=e.y,t.fillText(o.toFixed(2),5,e.my-2)),t.restore()}function Re(t,e,i,n,a){t.save(),t.font=i+"px Arial",t.fillStyle=n;var s=e.mx+t.measureText(a).width;return t.fillText(a,e.mx,e.my+4),t.restore(),Math.round(s)}function $e(t,e,i,n,a,s,o,r,l){var h,c,d,u;return t.save(),ii(t,n),t.strokeStyle=i,h=.5,null!=a?(t.lineWidth=a,a%2==0&&(h=0)):t.lineWidth=1,t.beginPath(),"mv"==e?(t.moveTo(r.mx-10,r.my+.5),t.lineTo(r.mx+10,r.my+.5),t.moveTo(r.mx-10,o.my+.5),t.lineTo(r.mx+10,o.my+.5),r.y<o.y?(t.moveTo(r.mx-8,r.my-8),t.lineTo(r.mx,r.my),t.lineTo(r.mx+8,r.my-8)):(t.moveTo(r.mx-8,r.my+8),t.lineTo(r.mx,r.my+1),t.lineTo(r.mx+8,r.my+8)),t.moveTo(o.mx+.5,o.my),t.lineTo(r.mx+.5,r.my),t.stroke(),c=100*(r.y-o.y)/o.y,d=(r.y-o.y).toFixed(2),t.fillStyle=i,t.font="11px Arial",u=Math.min(r.my,o.my)+Math.abs((r.my-o.my)/2),t.fillText(d,r.mx+5,u),t.fillText(c.toFixed(2)+"%",r.mx+5,u+14),t.restore(),!1):"mh"==e?(t.moveTo(r.mx+.5,o.my-10),t.lineTo(r.mx+.5,o.my+10),t.moveTo(o.mx+.5,o.my-10),t.lineTo(o.mx+.5,o.my+10),t.moveTo(Math.max(r.mx,o.mx)-8,r.my-8),t.lineTo(Math.max(r.mx,o.mx),r.my),t.lineTo(Math.max(r.mx,o.mx)-8,r.my+8),t.moveTo(o.mx,o.my+.5),t.lineTo(r.mx,r.my+.5),t.stroke(),t.fillStyle=i,t.font="11px Arial",t.fillText(He(o.x,r.x),Math.min(r.mx,o.mx)+5,o.my+11),t.restore(),!1):(t.moveTo(o.mx,o.my+h),t.lineTo(r.mx,r.my+h),"p"==e&&(t.moveTo(o.mx,o.my+s+h),t.lineTo(r.mx,r.my+s+h)),t.stroke(),"p"==e&&null!=l&&(t.moveTo(o.mx,o.my+h),t.lineTo(r.mx,r.my+h),t.lineTo(r.mx,r.my+s+h),t.lineTo(o.mx,o.my+s+h),t.fillStyle=hexToRgb(l,.15),t.fill()),"ef"==e&&Ve(t,o.mx,r.mx,o.my,r.my,i,l,s),"f"==e&&(1==s||null==s?Ge(t,o.mx,r.mx+1,o.my,r.my,i):Ge(t,r.mx,o.mx-1,r.my,o.my,i)),void t.restore())}function He(t,e){var i="";return null!=bi[0].Bars[0][t]&&null!=bi[0].Bars[0][e]&&(i=" - "+Math.abs(bi[0].Bars[0][e].i-bi[0].Bars[0][t].i)+lang.l_barres),mi.chartPeriod>=0?Math.abs(t-e)+lang.l_jours+i:""!=i?formatMinHour(Math.abs((bi[0].Bars[0][e].i-bi[0].Bars[0][t].i)*parseInt(mi.chartPeriod)))+i:formatMinHour(Math.abs(e-t))}function Ve(t,e,i,n,a,s,o,r){var l,h,c,d,u,p,f,m,g=Math.max(e,i);for(null==r&&(r=250),l=a,h=n,e>i&&(l=n,h=a),t.beginPath(),c=h-l,(1==t.lineWidth||3==t.lineWidth)&&(l+=.5),p=(d=[0,.236,.382,.5,.618,1,1.618,2.618]).length,u=0;u<p;u++)t.moveTo(g,l-Math.round(c*d[u])),t.lineTo(g+r,l-Math.round(c*d[u]));for(t.stroke(),null!=o&&(t.fillStyle=hexToRgb(o,.15),t.fillRect(g,l,r,-Math.round(2.618*c))),l-=3,t.font="11px Arial",t.fillStyle=s,u=0;u<p;u++)m=l-Math.round(c*d[u]),f=L(m,mi.logData),t.fillText(f.toFixed(2)+"  ("+(100*d[u]).toFixed(1)+"%)",g,m)}function Ge(t,e,i,n,a,s){var o=i-e,r=a-n,l=Math.sqrt(o*o+r*r),h=o/l,c=r/l,d=Math.round(i-8*h-8*c),u=Math.round(a-8*c+8*h),p=Math.round(i-8*h+8*c),f=Math.round(a-8*c-8*h);t.fillStyle=s,t.lineWidth=1,t.beginPath(),t.moveTo(i,a),t.lineTo(d,u),t.lineTo(p,f),t.lineTo(i,a),t.fill(),t.stroke()}function Fe(t,e,i,n,a,s,o,r,l,h){var c,d,u,p,f,m,g,v,b=.5;null!=h?(t.lineWidth=h,h%2==0&&(b=0)):t.lineWidth=1,t.strokeStyle=e,t.beginPath(),t.rect(n+b,o+b,a-n,s-o),t.stroke(),"m"==r&&(t.save(),t.setLineDash&&t.setLineDash([1,1]),c=Math.round((a+n)/2),t.moveTo(c+.5,o),t.lineTo(c+.5,s),d=Math.min(o,s),u=Math.max(o,s),0==l.s?(t.moveTo(c-5,u-5),t.lineTo(c,u),t.lineTo(c+5,u-5)):(t.moveTo(c-5,d+5),t.lineTo(c,d),t.lineTo(c+5,d+5)),p=Math.round((s+o)/2),t.moveTo(n,p+.5),t.lineTo(a,p+.5),t.lineTo(a-5,p-5),t.moveTo(a,p),t.lineTo(a-5,p+5),t.moveTo(n+5,p+5),t.lineTo(n,p),t.lineTo(n+5,p-5),t.stroke(),t.restore(),f=(bi[0].V0*bi[0].PxPointY-u)/bi[0].PxPointY,m=(bi[0].V0*bi[0].PxPointY-d)/bi[0].PxPointY,1==l.s?(g=100*(m-f)/f,v=(m-f).toFixed(2)+"€ ("+g.toFixed(2)+"%)"):(g=100*(f-m)/m,v=(f-m).toFixed(2)+"€ ("+g.toFixed(2)+"%)"),t.fillStyle=e,t.font="11px Arial",t.fillText(v,n+5,Math.max(o,s)-6),t.fillText(He(l.db,l.de),n+5,Math.max(o,s)+11)),null!=i&&(t.fillStyle=hexToRgb(i,.15),t.fill())}function We(t,e,i,n,a,s,o,r){var l,h,c,d,u,p,f,m=.5;for(null!=r?(t.lineWidth=r,r%2==0&&(m=0)):t.lineWidth=1,t.strokeStyle=e,t.beginPath(),l=o-s,s+=m,d=(h=[0,.236,.382,.5,.618,.786,1]).length,c=0;c<d;c++)t.moveTo(n,s+Math.round(l*h[c])),t.lineTo(a,s+Math.round(l*h[c]));for(t.stroke(),u=Math.min(n,a),null!=i&&(t.fillStyle=hexToRgb(i,.15),t.fillRect(u,s,Math.abs(a-n),Math.round(l))),s-=1.5,t.font="11px Arial",t.fillStyle=e,c=0;c<d;c++)p=s+Math.round(l*h[c]),f=L(p,mi.logData),t.fillText(f.toFixed(2)+"  ("+(100*h[c]).toFixed(1)+"%)",u,p)}function Ye(t){return t<0&&(t=0),t>bi[0].HeightPx&&(t=bi[0].HeightPx),t}function je(t,e){var i=gi(t);return new oe(parseInt(i.x-e.left),parseInt(i.y-e.top))}function ze(t,e,i,n,a,s,o){var r;mt();var l=gi(e),h=parseInt(l.y-i.top),c=parseInt(l.x-i.left);switch(h<0&&(h=1),h>bi[0].HeightPx&&(h=bi[0].HeightPx-1),r=new oe(c,h),t){case"sr":Ie(n,r,s,o,a);break;case"v":Le(n,r,s,o,a,!0);break;default:Be(n,r,s,o,a,!0)}return r}function Xe(t,e,i,n,a,s){var o=new oe(a,s),r=new oe(i,n);switch(e.type){case"a":a=Re(t,r,e.style,e.color,unescape(e.h));break;case"r":Fe(t,e.color,e.color2,r.mx,o.mx,r.my,o.my,e.type,null,e.width);break;case"m":Fe(t,e.color,e.color2,r.mx,o.mx,r.my,o.my,e.type,e.h,e.width);break;case"rf":We(t,e.color,e.color2,r.mx,o.mx,o.my,r.my,e.width);break;case"c":Oe(t,e.color,e.style,e.width,r,o,e.color2);break;case"an":Ne(t,e.color,e.style,e.width,r,o,e.h);break;case"af":Ee(t,e.color,e.style,e.width,r,o);break;case"cf":Te(t,e.color,e.style,e.width,r,o);break;case"gg":_e(t,e.color,e.style,e.width,r,o);break;case"ga":Pe(t,e.color,e.style,e.width,r,o);break;case"ff":De(t,e.color,e.style,e.width,r,o);break;case"sr":Ie(t,r,e.style,e.width,e.color);break;case"v":Le(t,r,e.style,e.width,e.color,!0);break;case"h":Be(t,r,e.style,e.width,e.color,!0);break;case"arrup":case"arrdw":case"arrrt":case"arrlt":Me(t,r,e.color,e.type,e.color2,e.width);break;case"sm1":case"sm2":Se(t,r,e.color,e.type,e.width);break;default:$e(t,e.type,e.color,e.style,e.width,e.h,r,o,e.color2)}return{ptb:r,pte:o}}function Ue(t,e,i,n,a,s,o,r,l,h){var c,d;mt();var u=gi(t),p=parseInt(u.x-e.left),f=parseInt(u.y-e.top);switch(f=Ye(f),c=new oe(p,f),"mv"==r&&(c.mx=h.mx,c.x=h.x),"mh"==r&&(c.my=h.my,c.y=h.y),r){case"an":d=Math.atan2(h.my-c.my,c.mx-h.mx),c.mx=Ne(i,n,s,a,h,c,d);break;case"af":Ee(i,n,s,a,h,c);break;case"gg":_e(i,n,s,a,h,c);break;case"ga":Pe(i,n,s,a,h,c);break;case"ff":De(i,n,s,a,h,c);break;case"cf":Te(i,n,s,a,h,c);break;default:$e(i,r,n,s,a,o,h,c,l)}return c}function qe(t,e,i,n,a,s,o,r,l){var h,c;mt();var d=gi(t),u=parseInt(d.x-e.left),p=parseInt(d.y-e.top);return p=Ye(p),h=new oe(u,p),"rf"==s&&("handler0oblic"==o?We(i,n,a,r.mx,h.mx,r.my,h.my,l):We(i,n,a,r.mx,h.mx,h.my,r.my,l)),("r"==s||"m"==s)&&(c={db:r.x,de:h.x,s:0},r.my>h.my&&(c.s=1),Fe(i,n,a,Math.min(r.mx,h.mx),Math.max(r.mx,h.mx),Math.min(r.my,h.my),Math.max(r.my,h.my),s,c,l)),h}function Qe(t,e,i,n,a){switch(t){case"sr":xi.push(new Bt(i.x,i.y,0,i.y,e,i.mx,null,a,n,t));break;case"v":xi.push(new Bt(i.x,0,i.x,2e4,e,i.mx,i.mx,a,n,t));break;default:xi.push(new Bt(0,i.y,0,i.y,e,null,null,a,n,"h"))}m(mi.symbol,xi),vi.off(),te(xi.length-1)}function Ze(t,e,i,n,a,s,o,r){switch(null==t&&(t=fe()),"ef"==a&&null==o&&(o=250),a){case"an":o=Math.atan2(r.my-e.my,e.mx-r.mx),xi.push(new Bt(r.x,r.y,e.x,e.y,t,r.mx,e.mx,i,n,a,o));break;case"af":case"cf":xi.push(new Bt(r.x,r.y,e.x,e.y,t,r.mx,e.mx,i,n,a));break;default:e.mx<r.mx?("f"==a&&(o=-1),xi.push(new Bt(e.x,e.y,r.x,r.y,t,e.mx,r.mx,i,n,a,o,s))):("f"==a&&(o=1),xi.push(new Bt(r.x,r.y,e.x,e.y,t,r.mx,e.mx,i,n,a,o,s)))}m(mi.symbol,xi),vi.off(),te(xi.length-1)}function Ke(t,e){null==t.color&&(t.color=fe());var i=e.ptb,n=e.pte,a=i.y,s=n.y;switch(t.type){case"a":xi.push(new Bt(i.x,a,i.x,a,t.color,i.mx,n.mx,t.width,t.style,t.type,t.h));break;case"f":xi.push(new Bt(i.x,a,n.x,s,t.color,i.mx,n.mx,t.width,t.style,t.type,t.h));break;case"r":case"rf":xi.push(new Bt(i.x,a,n.x,s,t.color,i.mx,n.mx,t.width,null,t.type,null,t.color2));break;case"ef":case"m":xi.push(new Bt(i.x,a,n.x,s,t.color,i.mx,n.mx,t.width,t.style,t.type,t.h,t.color2));break;case"c":xi.push(new Bt(i.x,a,n.x,s,t.color,i.mx,n.mx,t.width,t.style,t.type,null,t.color2));break;case"an":xi.push(new Bt(i.x,a,n.x,s,t.color,i.mx,n.mx,t.width,t.style,t.type,t.h));break;case"mv":case"mh":case"af":case"gg":case"ga":case"ff":case"cf":xi.push(new Bt(i.x,a,n.x,s,t.color,i.mx,n.mx,t.width,t.style,t.type));break;case"sr":xi.push(new Bt(i.x,i.y,0,i.y,t.color,i.mx,null,t.width,t.style,t.type));break;case"v":xi.push(new Bt(i.x,0,e.x,2e4,t.color,i.mx,i.mx,t.width,t.style,t.type));break;case"h":xi.push(new Bt(0,i.y,0,i.y,t.color,null,null,t.width,t.style,"h"));break;case"arrup":case"arrdw":case"arrrt":case"arrlt":xi.push(new Bt(i.x,i.y,i.x,i.y,t.color,i.mx,i.mx,t.width,null,t.type,null,t.color2));break;case"sm1":case"sm2":xi.push(new Bt(i.x,i.y,i.x,i.y,t.color,i.mx,i.mx,t.width,null,t.type,null,null));break;default:xi.push(new Bt(i.x,a,n.x,s,t.color,i.mx,n.mx,t.width,t.style))}m(mi.symbol,xi),vi.off(),te(xi.length-1)}function Je(t,e,i,n,a,s,o){var r=s.y,l=n.y,h=Math.min(s.x,n.x),c=Math.max(s.x,n.x),d=Math.min(s.mx,n.mx),u=Math.max(s.mx,n.mx),p=0;switch(s.my>n.my&&(p=1),i){case"r":xi.push(new Bt(h,Math.max(r,l),c,Math.min(r,l),t,d,u,o,null,i,null,e));break;case"m":xi.push(new Bt(h,Math.max(r,l),c,Math.min(r,l),t,d,u,o,null,i,p,e));break;case"rf":"handler0oblic"==a?xi.push(new Bt(h,l,c,r,t,d,u,o,null,i,null,e)):xi.push(new Bt(h,r,c,l,t,d,u,o,null,i,null,e))}m(mi.symbol,xi),vi.off(),te(xi.length-1)}function ti(){var t=Si.gi(i("trace-"));return{offset:w(t),ctx:t.getContext("2d")}}function ei(t,e,i){var n="w"+i;null!=e[n]&&(t.lineWidth=e[n])}function ii(t,e,i){var n,a;if(!t.setLineDash)return!1;switch(null!=i?(a="s"+e,null!=i[a]?n=i[a]:null!=i.style&&(n=i.style)):n=e,n){case 2:t.setLineDash([2,2]);break;case 3:t.setLineDash([4]);break;case 4:t.setLineDash([7,2,2,2])}}function ni(t,e,i){var n=function(t,e,i){return t+i*(e-t)},a=t.RealX1-t.RealX0,s=t.RealY1-t.RealY0,o=((e-t.RealX0)*a+(i-t.RealY0)*s)/(a*a+s*s);return{x:n(t.RealX0,t.RealX1,o),y:n(t.RealY0,t.RealY1,o)}}function ai(t,e,i){if(("arrrt"==i.type||"arrlt"==i.type)&&e>=i.RealY0-5&&e<=i.RealY0+5)switch(i.type){case"arrrt":if(t>=i.RealX0-16&&t<=i.RealX0)return!0;break;case"arrlt":if(t<=i.RealX0+16&&t>=i.RealX0)return!0}if(t>=i.RealX0-5&&t<=i.RealX0+5)switch(i.type){case"arrup":if(e>=i.RealY0&&e<=i.RealY0+16)return!0;break;case"arrdw":if(e<=i.RealY0&&e>=i.RealY0-16)return!0;break;case"sm1":case"sm2":if(e>=i.RealY0-10&&e<=i.RealY0+10)return!0}return!1}function si(t,e,i){var n,a,s=Math.abs(i.RealX1-i.RealX0),o=Math.abs(i.RealY0-i.RealY1),r=!1;return Math.pow(t-i.RealX0,2)/Math.pow(s+5,2)+Math.pow(e-i.RealY0,2)/Math.pow(o+5,2)<=1&&(r=!0),n=Math.pow(t-i.RealX0,2)/Math.pow(s-5,2),a=Math.pow(e-i.RealY0,2)/Math.pow(o-5,2),n+a<=1&&(r=!1),r}function oi(t,e,i){for(var n,a,s,o,r,l=i.h.length,h=1;h<l;h++)if(o=i.h[h-1],r=i.h[h],n=ni({RealX0:o.mx,RealY0:o.my,RealX1:r.mx,RealY1:r.my},t,e),a=t-n.x,s=e-n.y,Math.abs(Math.sqrt(a*a+s*s))<4)return!0;return!1}function ri(t,e,i){for(var n,a,s,o=[{RealX0:i.RealX0,RealY0:i.RealY0,RealX1:i.RealX1,RealY1:i.RealY1},{RealX0:i.RealX1,RealY0:i.RealY1,RealX1:i.h.C.mx,RealY1:i.h.C.my},{RealX0:i.RealX0,RealY0:i.RealY0,RealX1:i.h.C.mx,RealY1:i.h.C.my}],r=o.length,l=0;l<r;l++)if(n=ni(o[l],t,e),a=t-n.x,s=e-n.y,Math.abs(Math.sqrt(a*a+s*s))<5)return!0;return!1}function li(t,e,i){if(0!=i)return ve(),999;for(var n=e-mi.paddingTop,a=t-mi.paddingLeft,s=xi.length,o=0;o<s;o++)switch(xi[o].type){case"c":if(si(a,n,xi[o]))return ve("p"),o;break;case"t":if(ri(a,n,xi[o]))return ve("p"),o;break;case"ewi":case"ewc":if(oi(a,n,xi[o]))return ve("p"),o;break;case"arrup":case"arrdw":case"arrrt":case"arrlt":case"sm1":case"sm2":if(ai(a,n,xi[o]))return ve("p"),o;break;default:if(a>=xi[o].RealX0-2&&a<=xi[o].RealX1+2||a>=xi[o].RealX1-2&&a<=xi[o].RealX0+2)if("r"==xi[o].type||"rf"==xi[o].type||"m"==xi[o].type){if(n<xi[o].RealY0+4&&n>xi[o].RealY0-4||n<xi[o].RealY1+4&&n>xi[o].RealY1-4||a>=xi[o].RealX0-2&&a<=xi[o].RealX0+2||a>=xi[o].RealX1-2&&a<=xi[o].RealX1+2)return ve("p"),o}else{var r=ni(xi[o],a,n),l=a-r.x,h=n-r.y;if(Math.abs(Math.sqrt(l*l+h*h))<5)return ve("p"),o}}return ve(),999}function hi(t,e){var n,a=bi[e].RealY-t;return!(bi[e].HeightPx+a<30)&&(!(bi[e-1].HeightPx-a<30)&&(bi[e].Move(t,a,e),bi[e].DrawEncadre(),Si.idcss(i("infoindic-")+e,"top",t+5+"px"),bi[e-1].Move(bi[e-1].RealY,-a,e-1),bi[e-1].DrawEncadre(),1==Ti.activeLayer&&(n=Si.gi(i("trace-")),n.height=n.height-a),Dt(e),!1))}function ci(t){for(var e="rgba(255,0,0,1)",i="rgba(0,0,192,1)",n="rgba(0,0,255,1)",a="rgba(61,68,241,0.9)",s="rgba(61,68,241,0.5)",o="rgba(192,0,0,1)",r="rgba(192,0,0,0.9)",l="rgba(192,0,0,0.5)",h="rgba(192,0,0,0.8)",c="rgba(0,0,0,1)",d="rgba(0,140,0,1)",u="rgba(0,128,0,0.5)",p="rgba(0,128,0,0.8)",f="rgba(51,153,102,1)",m="rgba(96,96,96,1)",g=[{type:"line",color:"rgba(17,66,87,0.9)",color2:"rgba(24, 106, 142,0.8)",params:{c:[lang.l_trace,lang.l_remplis],w:["sw"]}},{type:"line2",color:"rgba(17,66,87,1)",params:{c:[lang.l_trace],w:["sw"]}},{type:"candle",color:"rgba(0,255,0,1)",color2:e,color3:m,params:{c:[lang.l_hausses,lang.l_baisses,lang.l_ombres]}},{type:"mm",color:e,param1:20,params:{p:[lang.l_prd],c:[lang.l_moymobile],w:["sw"]}},{type:"barcolor",color:n,color2:e,params:{c:[lang.l_hausses,lang.l_baisses]}},{type:"bar",color:"rgba(17,66,87,1)",params:{c:["Bar Chart"]}},{type:"perf",color:"rgba(17,66,87,0.9)",color2:"rgba(24, 106, 142,0.8)",params:{c:[lang.l_trace,lang.l_remplis],w:["sw"]}},{type:"volume",color:"rgba(3,170,2,0.75)",color2:"rgba(255,0,0,0.75)",params:{c:[lang.l_hausses,lang.l_baisses],w:["o","o"]}},{type:"boll",color:"rgba(244,143,0,0.7)",color2:"rgba(244,143,0,0.15)",param1:20,param2:2,params:{p:[lang.l_prd,lang.l_ec],c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"rsi",color:i,param1:14,sh:70,sb:30,params:{c:["RSI"],p:[lang.l_prd],w:["sw"]}},{type:"cmo",color:i,param1:10,sh:50,sb:-50,params:{c:["CMO"],p:[lang.l_prd],w:["sw"]}},{type:"cci",color:i,param1:20,sh:100,sb:-100,params:{c:["CCI"],p:[lang.l_prd],w:["sw"]}},{type:"mom",color:r,color2:l,param1:12,params:{c:[lang.l_trace,lang.l_remplis],p:[lang.l_prd],w:["sw","o"]}},{type:"macd",color:i,color2:o,color3:u,param1:12,param2:26,param3:9,params:{p:[lang.l_prd+" 1",lang.l_prd+" 2","Signal"],c:["MACD","Signal",lang.l_histogram],w:["sw","sw"]}},{type:"sto",color:n,color2:e,param1:14,param2:3,param3:3,sh:9999,sb:9999,params:{p:[lang.l_prd,lang.l_stok,lang.l_stod],c:["%K","%D"],w:["sw","sw"]}},{type:"ichimoku",color:n,color2:"rgba(210,0,0,1)",color3:d,color4:"rgba(64,64,255,1)",color5:"rgba(64,64,255,1)",color6:"rgba(64,64,255,0.3)",param1:26,param2:9,params:{c:["Kijun-Sen","Tenkan-Sen","Chikou-Span","Senkou A","Senkou B","Kumo"],p:["Kijun-Sen","Tenkan-Sen"],w:["sw","sw","sw","sw","sw","o"]}},{type:"equity",color:"rgba(51,102,255,1)",color2:"rgba(51,102,255,0.5)",params:{c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"phpb",color:d,color2:"rgba(210,0,0,1)",param1:20,params:{c:[lang.l_hausses,lang.l_baisses],p:[lang.l_prd]}},{type:"evt",params:{}},{type:"actu",params:{}},{type:"lineard",param1:30,param2:1,color:c,color2:"rgba(0,128,128,1)",color3:o,params:{p:[lang.l_prd,lang.l_ec],c:[lang.l_droitereg,"Resistance","Support"],w:["w","w","w"]}},{type:"supres",param1:5,color:u,color2:"rgba(255,0,0,0.4)",params:{p:[lang.l_barrep],c:[lang.l_hausses,lang.l_baisses],w:["o","o"]}},{type:"coppock",param1:11,param2:14,param3:10,color:"rgba(0,0,128,0.8)",color2:"rgba(0,0,128,0.3)",params:{p:["ROC 1","ROC2",lang.l_moyenne],c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"compare",color:e,params:{c:["Style"],w:["sw"]}},{type:"pivots",color:"rgba(0,0,0,0.7)",color2:"rgba(255,0,0,0.7)",color3:"rgba(0,128,0,0.7)",params:{c:["Pivot","Supports","Resistances"]}},{type:"zig zag",color:e,param1:3,params:{p:[lang.l_variation],c:["Zig Zag"],w:["sw"]}},{type:"mmp",color:"rgba(180,0,0,1)",param1:15,params:{p:[lang.l_prd],c:[lang.l_moymobp],w:["sw"]}},{type:"mmh",color:"rgba(180,0,0,1)",param1:9,params:{p:[lang.l_prd],c:[lang.l_mmh2],w:["sw"]}},{type:"double EMA",color:e,param1:20,params:{p:[lang.l_prd],c:["Double EMA"],w:["sw"]}},{type:"triple EMA",color:n,param1:20,params:{p:[lang.l_prd],c:["Triple EMA"],w:["sw"]}},{type:"alligator",color:n,color2:e,color3:d,param1:13,param2:8,param3:5,params:{p:["Jaw","Teeth","Lips"],c:["Jaw","Teeth","Lips"],w:["sw","sw","sw"]}},{type:"mme",color:n,param1:30,params:{p:[lang.l_prd],c:[lang.l_moymobe],w:["sw"]}},{type:"mmt",color:n,param1:20,params:{p:[lang.l_prd],c:[lang.l_moymobt],w:["sw"]}},{type:"evmm",color:"rgba(192,0,0,0.7)",color2:"rgba(192,0,0,0.15)",param1:20,param2:2,params:{p:[lang.l_prd,lang.l_ecart],c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"donchian",color:"rgba(0,128,0,0.7)",color2:"rgba(0,128,0,0.15)",param1:20,params:{p:[lang.l_prd],c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"gmma",color:d,color2:o,params:{c:["Fast","Slow"],w:["sw","sw"]}},{type:"supertrend",color:o,color2:d,param1:10,param2:3,params:{p:[lang.l_prd,lang.l_coeff],c:["Resistance","Support"],w:["w","w"]}},{type:"keltner",color:"rgba(0,128,0,0.7)",color2:"rgba(0,128,0,0.20)",param1:20,param2:2,param3:10,params:{p:[lang.l_prd,lang.l_ecart2,lang.l_atrperiod],c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"heikin ashi",color:f,color2:"rgba(255,64,64,1)",color3:m,params:{c:[lang.l_hausses,lang.l_baisses,lang.l_ombres]}},{type:"renko",color:f,color2:e,color3:m,params:{p:[lang.l_tboite],c:[lang.l_hausses,lang.l_baisses,lang.l_border]},nolinearX:!0},{type:"point figure",color:f,color2:e,param2:3,params:{p:["Box","Reverse"],c:[lang.l_hausses,lang.l_baisses]},nolinearX:!0},{type:"season",nolinearX:!0},{type:"kagi",color:"rgba(51,102,255,1)",color2:"rgba(255,64,64,1)",params:{p:[lang.l_tboite],c:["Yang","Yin"]},nolinearX:!0},{type:"equivolume",color:"rgba(51,102,255,1)",color2:"rgba(255,64,64,1)",params:{c:[lang.l_hausses,lang.l_baisses]},nolinearX:!0},{type:"line break",color:f,color2:e,color3:m,params:{p:[lang.l_lines],c:[lang.l_hausses,lang.l_baisses,lang.l_border]},nolinearX:!0},{type:"hollow",color:"rgba(7,103,69,1)",color2:e,color3:m,params:{c:[lang.l_hausses,lang.l_baisses,lang.l_ombres]}},{type:"accDist",color:r,color2:l,params:{c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"obv",color:a,color2:s,params:{c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"forceindex",color:a,color2:s,param1:13,params:{c:[lang.l_trace,lang.l_remplis],p:[lang.l_prd],w:["sw","o"]}},{type:"perfi",color:a,color2:s,params:{c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"kvo",color:"rgba(0,0,128,1)",color2:d,params:{c:["KVO","Signal"],w:["sw","sw"]}},{type:"ultimate",color:i,param1:7,param2:14,param3:28,sh:70,sb:30,params:{c:["Ultimate Osc."],p:[lang.l_mm2+" 1",lang.l_mm2+" 2",lang.l_mm2+" 3"],w:["sw"]}},{type:"bollb",color:i,param1:20,sh:100,sb:0,params:{c:["Bollinger %B"],p:[lang.l_prd],w:["sw"]}},{type:"bollw",color:"rgba(255,102,0,1)",param1:20,param2:2,params:{c:[lang.l_trace],p:[lang.l_prd,lang.l_ec],w:["sw"]}},{type:"atr",color:i,param1:14,params:{c:["ATR"],p:[lang.l_prd],w:["sw"]}},{type:"eom",color:r,color2:l,param1:14,params:{c:[lang.l_trace,lang.l_remplis],p:[lang.l_prd],w:["sw","o"]}},{type:"cmf",color:r,color2:l,param1:21,params:{c:[lang.l_trace,lang.l_remplis],p:[lang.l_prd],w:["sw","o"]}},{type:"dpo",color:r,color2:l,param1:20,params:{c:[lang.l_trace,lang.l_remplis],p:[lang.l_prd],w:["sw","o"]}},{type:"asi",color:r,color2:"rgba(192,0,0,0.4)",params:{c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"nvi",color:o,params:{c:["NVI"],w:["sw"]}},{type:"pvi",color:i,params:{c:["PVI"],w:["sw"]}},{type:"macdzl",color:i,color2:o,color3:u,param1:12,param2:26,param3:9,params:{p:[lang.l_prd+" 1",lang.l_prd+" 2","Signal"],c:["MACD Zéro Lag","Signal",lang.l_histogram],w:["sw","sw"]}},{type:"wto",color:i,color2:o,color3:u,param1:10,param2:21,sh:60,sb:-60,params:{p:[lang.l_prd+" 1",lang.l_prd+" 2"],c:["Wave Trend Osc","Signal",lang.l_histogram],w:["sw","sw"]}},{type:"macdh",color:"rgba(0,0,192,0.8)",color2:h,param1:12,param2:26,param3:9,params:{p:[lang.l_prd+" 1",lang.l_prd+" 2","Signal"],c:["MACD > Signal","MACD < Signal"]}},{type:"awesome",color:p,color2:h,param1:5,param2:34,params:{p:[lang.l_prd+" 1",lang.l_prd+" 2"],c:[lang.l_ascend,lang.l_descend]}},{type:"bop",color:p,color2:h,color3:"rgba(128,128,128,0.8)",params:{c:[lang.l_acheteur,lang.l_vendeur,lang.l_neutre]}},{type:"qstick",color:p,color2:h,param1:5,params:{p:[lang.l_prd],c:[lang.l_hausses,lang.l_baisses]}},{type:"elderbear",color:o,color2:o,param1:13,params:{p:[lang.l_prd],c:[lang.l_hausses,lang.l_baisses]}},{type:"elderbull",color:d,color2:d,param1:13,params:{p:[lang.l_prd],c:[lang.l_hausses,lang.l_baisses]}},{type:"dmi",color:d,color2:o,color3:c,param1:14,params:{p:[lang.l_prd],c:["DI+","DI-","ADX"],w:["sw","sw","sw"]}},{type:"aroon",color:d,color2:o,param1:14,params:{p:[lang.l_prd],c:["Aroon up","Aroon down"],w:["sw","sw"]}},{type:"adx",color:c,color2:o,param1:14,sh:9999,sb:9999,params:{p:[lang.l_prd],c:["ADX","ADXR"],w:["sw","sw"]}},{type:"vortex",color:d,color2:o,param1:14,params:{p:[lang.l_prd],c:["+VI","-VI"],w:["sw","sw"]}},{type:"roc",color:i,param1:10,sh:9999,sb:9999,params:{c:["Rate of change"],p:[lang.l_prd],w:["sw"]}},{type:"std",color:i,param1:10,params:{c:["Std Deviation"],p:[lang.l_prd],w:["sw"]}},{type:"sto rsi",color:n,color2:e,param1:14,param2:3,param3:3,param4:14,sh:80,sb:20,params:{p:[lang.l_prd+" Sto.",lang.l_stok,lang.l_stod,lang.l_prd+" RSI"],c:["%K","%D"],w:["sw","sw"]}},{type:"smi",color:"rgba(128,128,128,1)",color2:e,param1:14,param2:3,param3:5,param4:3,sh:9999,sb:9999,params:{p:[lang.l_prd,lang.l_lissage+" 1",lang.l_lissage+" 2","Signal"],c:[lang.l_stochastic,"Signal"],w:["sw","sw"]}},{type:"tsi",color:c,color2:e,param1:25,param2:13,param3:13,sh:9999,sb:9999,params:{p:[lang.l_prd+" 1",lang.l_prd+" 2","Signal"],c:["True Strength","Signal"],w:["sw","sw"]}},{type:"kst",color:n,color2:e,param1:10,param2:15,param3:20,param4:30,params:{p:["ROC 1","ROC 2","ROC 3","ROC 4"],c:["KST","Signal"],w:["sw","sw"]}},{type:"trix",color:i,param1:12,params:{c:["TRIX"],p:[lang.l_prd],w:["sw"]}},{type:"mass index",color:i,param1:25,params:{c:["Mass Index"],p:[lang.l_prd],w:["sw"]}},{type:"vroc",color:i,param1:10,params:{c:["Volume ROC"],p:[lang.l_prd],w:["sw"]}},{type:"moonphase",color:"rgba(255,153,0,0.9)",color2:"rgba(255,204,0,0.5)",params:{c:[lang.l_trace,lang.l_remplis],w:["sw"]}},{type:"ac will",color:"rgba(61,68,241,0.9)",color2:"rgba(61,68,241,0.5)",params:{c:[lang.l_trace,lang.l_remplis],w:["sw","o"]}},{type:"will r",color:o,param1:14,sh:-20,sb:-80,params:{c:["Williams %R"],p:[lang.l_prd],w:["sw"]}},{type:"mfi",color:o,param1:14,sh:80,sb:20,params:{c:["Money flow idx"],p:[lang.l_prd],w:["sw"]}},{type:"sar",color:"rgba(210,0,0,1)",color2:d,param1:.02,param2:.2,params:{c:[lang.l_baisses,lang.l_hausses],p:[lang.l_accel]}},{type:"linearc",color:"rgba(255,0,255,1)",param1:10,params:{c:[lang.l_lineareg],p:[lang.l_prd],w:["sw"]}},{type:"linearo",color:r,color2:l,param1:10,params:{c:[lang.l_trace,lang.l_remplis],p:[lang.l_prd],w:["sw","o"]}}],v=g.length,b=0;b<v;b++)if(g[b].type==t)return g[b]}function di(t,e,i){for(var n,a,s,o,r,l,h,c,d,u=yt(t.QuoteTab),p=(u=$(u)).length,f=0,m=999999,g=0;g<p;g++)null!=u[g]&&(u[g].h>f&&(f=u[g].h),u[g].l<m&&(m=u[g].l));for(n=(f-m)*e/100,(s=[])[0]={h:u[0].v,b:0},g=1;g<p;g++)null!=u[g]&&(a=Math.floor((u[g].c-m)/n),o=u[g].c>=u[g-1].c,null!=s[a]?o?s[a].h=s[a].h+u[g].v:s[a].b=s[a].b+u[g].v:s[a]=o?{h:u[g].v,b:0}:{h:0,b:u[g].v});for(r=0,l=s.length,g=0;g<l;g++)null!=s[g]&&s[g].h+s[g].b>r&&(r=s[g].h+s[g].b);(c=(h=bi[0]).ctx).strokeStyle=mi.set.gridColor,c.save();var v=mi.paddingLeft,b=r/(mi.innerWidth/2),y=Math.floor((f-m)*h.PxPointY/l);for(y=y<2?2:y-2,d=0,g=0;g<l;g++)null!=s[g]&&(i.v1||(c.fillStyle=i.color,d=s[g].h/b,c.fillRect(v,Math.round((h.V0-(m+g*n))*h.PxPointY),d,-y)),i.v2||(c.fillStyle=i.color2,c.fillRect(d+v,Math.round((h.V0-(m+g*n))*h.PxPointY),s[g].b/b,-y)));c.restore()}function ui(t,e,i,n){var a,s=t.length;if(s<=e)return null;var o,r=0,l=0,h=0,c=0,d=0;for(a=1;a<=e;a++)o=gs(t[s-a],n),r+=a*o,l+=a,h+=o,c+=a*a,d+=o*o;var u=(r*e-l*h)/(e*c-l*l),p=(h-u*l)/e,f=p+u*e,m=p+u,g=Math.pow((e*d-h*h)/(e*(e-1)),.5);return{p0:new ut(t[s-e].d,f,fi.QuoteTab[wi.minX].d),p1:new ut(t[s-1].d,m,fi.QuoteTab[wi.minX].d),et:g,id:i}}function pi(t,e,i){var n,a,s,o,r,l={QuoteTab:t.QuoteTab},h=[],c=l.QuoteTab.length,d=gs(l.QuoteTab[0],i),u=gs(l.QuoteTab[0],i);if(c<3)return!1;for(gs(l.QuoteTab[1],i)>=gs(l.QuoteTab[0],i)?u+=e:d-=e,n=2;n<c;n++){if(o=gs(l.QuoteTab[n],i)-u-e,r=gs(l.QuoteTab[n],i)-d+e,o>0){for(s=(o+e)/e>>0,a=0;a<s;a++)h.push({d:l.QuoteTab[n].d,l:d+e*(a+1),h:u+e*(a+1),s:1,c:l.QuoteTab[n].c});u+=e*s,d+=e*s}if(r<0){for(s=Math.abs((r-e)/e>>0),a=0;a<s;a++)h.push({d:l.QuoteTab[n].d,l:d-e*(a+1),h:u-e*(a+1),s:0,c:l.QuoteTab[n].c});u-=e*s,d-=e*s}}return 1==h.length&&(h=[]),{Name:t.Name,High:t.High,Low:t.Low,QuoteTab:h}}var fi,mi,gi,vi=this,bi=[],yi={},xi=[],wi={maxY:0,minY:0,maxX:null,minX:0},Ti={clickHandler:"click",ctxback:null,dataSeason:null,fiEvt:[],dataBacktest:{params:null,trades:[]},moveLayer:!1,lastdatehover:null,datas2:null,activeLayer:null,callID:vi.attr("id"),moveZoomX:0,moveZoomY:0,flagSave:!1,cursorState:!1,lineNumber:999,initViewBegin:0,initViewEnd:0,initMaxY:0,initMinY:0},Ci=[],Si=new function(){this.gi=function(t){return document.getElementById(t)},this.idempty=function(t){var e=this.gi(t);if(null!=e)for(;e.firstChild;)e.removeChild(e.firstChild)},this.clcss=function(t,e,i){for(var n=document.getElementsByClassName(t),a=0;a<n.length;a++)n[a].style[e]=i},this.idst=function(t,e){var i=this.gi(t);null!=i&&(i.textContent=e)},this.idhtml=function(t,e){var i=this.gi(t);null!=i&&(i.innerHTML=e)},this.idcss=function(t,e,i){var n=this.gi(t);null!=n&&(n.style[e]=i)},this.gigt=function(t){var e=this.gi(t);return null!=e?e.textContent:""},this.qstxt=function(t,e){var i=document.querySelector(t);null!=i&&(i.textContent=e)},this.qshtml=function(t,e){var i=document.querySelector(t);null!=i&&(i.innerHTML=e)}};return("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)&&(Ti.clickHandler="touchend click"),null==VGP.callType&&(VGP.callType="POST"),null==e.symbol&&(e.symbol="PX1p"),Math.log10=Math.log10||function(t){return Math.log(t)/Math.LN10},vi.stopGomme=function(){de()},vi.zoom=function(t){Ti.flagSave=!0,xt(),t?v(3):b(3)},vi.closeToolsParams=function(){Ti.flagSave=!0,xt()},vi.daysToDate=function(t,e){return mi.histoLength<20?formatMinutes(t):daysToDate(t,e)},vi.BTdelete=function(){n()},vi.BTgetTrades=function(){return Ti.dataBacktest.trades},vi.BTgetParams=function(){return Ti.dataBacktest.params},vi.BTlaunch=function(t,e){var i,s,o,r,l;if(["season","line break","kagi","renko","equivolume","point figure"].indexOf(bi[0].Indicator)>=0)return!1;if(i=RODBT.BTlaunched(t,e,mi.chartPeriod,fi),"syntaxerror"==(s=i.t))return Si.idst("bterror","Erreur de syntaxe sur le code"),!1;if(Ti.dataBacktest.params=i.s,null==s||0==s.length)n(),kt();else{for(Ti.dataBacktest.trades=s,a(s),r=0,l=bi.length,o=1;o<l;o++)"equity"==bi[o].Indicator.type&&(r=o);0==r?(5!=l||VGP.isPro?7==l&&VGP.isPro&&Et(bi.length-1):Et(l-1),Nt(ci("equity"))):kt()}},vi.set_screenSize=function(){var t,e,i;if(Ti.flagSave=!0,xt(),mi.widthGraph=vi.width(),mi.heightGraph=vi.height(),mi.innerWidth=mi.widthGraph-mi.paddingLeft-mi.paddingRight,mi.usableHeight=mi.heightGraph-mi.paddingTop-mi.paddingBottom-mi.indicators.length*mi.marginInter,t=bi.length,mi.mainChart.typedef.nolinearX)return t>1&&bi.splice(0,1),X(),!1;for(e=0;e<t;e++)bi[e].Bars=0==e?[]:{},delete bi[e].canvas,delete bi[e].ctx;i=yt(bi),It(!0),Ct(i),null!=fi&&(kt(),VGP.chartSimple||(Zt(),St()))},vi.duree_menu=function(t,e){if(""==t||(t=parseInt(t),e=null!=e?parseInt(e):mi.chartPeriod,t==mi.histoLength)||t==mi.histoLength&&e==mi.chartPeriod)return!1;Ti.flagSave=!0,xt(),e<0&&t>20&&(e=0),e>=0&&t<=20&&(e=-1),mi.chartPeriod=e,mi.histoLength=t,C(t,!0,e)},vi.period_menu=function(t,e){if(t=parseInt(t),(e=null!=e?parseInt(e):mi.histoLength)==mi.histoLength&&t==mi.chartPeriod)return!1;Ti.flagSave=!0,xt(),t<0&&e>20&&(e=1),t>=0&&e<=20&&(e=365),mi.chartPeriod=t,mi.histoLength=e,C(e,!0,t)},vi.style_menu_template=function(t){null!=fi&&s(t,!0)},vi.style_menu=function(t){null!=fi&&t!=mi.mainChart.type&&s(t)},vi.order_level=function(t,e){if("perf"==mi.mainChart.type)return DisplayAlert("Le passage d'ordre n'est pas disponible en mode 'performance'"),!1;xt(),o(t)},vi.trace_menu=function(t){if(null!=fi&&!mi.mainChart.typedef.nolinearX)switch($t(),t){case"ewi":ce(t,6);break;case"ewc":ce(t,4);break;case"t":ce(t,3);break;case"a":pe();break;case"fa":!function(){ve("c");var t,e,i,n,a,s,o=ti(),r=fe(),l="#4040ff";vi.bind("touchstart click",function(h){h.preventDefault();var c=gi(h);return t=parseInt(c.x-o.offset.left),!((e=parseInt(c.y-o.offset.top))<0||e>bi[0].HeightPx)&&(null==i?(i=new oe(t,e),!1):null==n?(n=new oe(t,e),!1):void(null==a&&(a=new oe(t,e),s=new oe(s.Dx,s.Dy),xi.push(new Bt(i.x,i.y,s.x,s.y,r,i.mx,s.mx,null,null,"fa",{B:n,C:a},l)),m(mi.symbol,xi),vi.off(),te(xi.length-1))))}),vi.bind("touchmove mousemove",function(h){if(h.preventDefault(),null==i)return!1;var c=gi(h);return t=parseInt(c.x-o.offset.left),!((e=parseInt(c.y-o.offset.top))<0||e>bi[0].HeightPx)&&(null==n?(mt(),o.ctx.lineWidth=1,o.ctx.strokeStyle=fe(),o.ctx.beginPath(),o.ctx.moveTo(i.mx,i.my),o.ctx.lineTo(t,e),o.ctx.stroke(),!1):void(null==a&&(mt(),s=Ce(o.ctx,i,n,{mx:t,my:e},r,l))))})}();break;case"arrup":case"arrdw":case"arrrt":case"arrlt":case"sm1":case"sm2":ue(t);break;case"h":case"v":case"sr":!function(t){var e,i=ti(),n=fe();vi.bind("touchend mousedown",function(i){i.preventDefault(),Qe(t,n,e)}),vi.bind("touchstart touchmove mousemove",function(a){a.preventDefault(),e=ze(t,a,i.offset,i.ctx,n)})}(t);break;case"p":!function(){ve("c");var t,e,i,n=ti(),a=!1,s=fe();vi.bind("touchstart touchend mousedown",function(o){if(o.preventDefault(),null==e)return e=je(o,n.offset),!1;if(null!=t&&null==i)return a=!0,!1;var r=e.y,l=i/bi[0].PxPointY;l>0&&(r+=l,t.y=t.y+l),l=Math.abs(l),t.mx<e.mx?xi.push(new Bt(t.x,t.y,e.x,r,s,t.mx,e.mx,1,null,"p",l)):xi.push(new Bt(e.x,r,t.x,t.y,s,e.mx,t.mx,1,null,"p",l)),m(mi.symbol,xi),vi.off(),te(xi.length-1)}),vi.bind("touchmove mousemove",function(o){if(o.preventDefault(),null==e)return!1;if(null!=e&&!a)return t=Ue(o,n.offset,n.ctx,null,null,null,null,"p",null,e),!1;var r=gi(o),l=parseInt(r.y-n.offset.top);i=t.my-l,mt(),n.ctx.strokeStyle=s,n.ctx.lineWidth=1,n.ctx.beginPath(),n.ctx.moveTo(e.mx,e.my),n.ctx.lineTo(t.mx,t.my),n.ctx.moveTo(e.mx,e.my-i),n.ctx.lineTo(t.mx,t.my-i),n.ctx.stroke()})}();break;case"rf":case"r":case"m":!function(t){ve("c");var e,i,n=ti(),a=fe();vi.bind("touchstart mousedown",function(s){s.preventDefault(),null==e&&(e=je(s,n.offset)),null!=i&&Je(a,null,t,i,null,e)}),vi.bind("touchmove mousemove",function(s){s.preventDefault(),null!=e&&(i=qe(s,n.offset,n.ctx,a,null,t,null,e))})}(t);break;case"e":xi=[],f()&&(mi.isIntraday?sessionStorage.removeItem(mi.symbol):(localStorage.removeItem(mi.symbol),(VGP.isPro||!VGP.noAutoSaveTrace)&&(h(),delete VGP.drawings[mi.symbol]))),mt(),Zt(),VGP.isPro&&SynchronizeDrawings(Ti.callID,mi.symbol);break;default:!function(t){ve("c");var e,i,n=ti(),a=fe();vi.bind("touchstart touchend mousedown",function(s){if(null==e)return e=je(s,n.offset),!1;if(null==i)return vi.off(),Zt(),!1;var o=null;switch("ef"==t&&(o=250),"an"==t&&(o=Math.atan2(e.my-i.my,i.mx-e.mx)),t){case"o":case"f":case"ef":i.mx<e.mx?("f"==t&&(o=-1),xi.push(new Bt(i.x,i.y,e.x,e.y,a,i.mx,e.mx,null,null,t,o))):("f"==t&&(o=1),xi.push(new Bt(e.x,e.y,i.x,i.y,a,e.mx,i.mx,null,null,t,o)));break;default:xi.push(new Bt(e.x,e.y,i.x,i.y,a,e.mx,i.mx,null,null,t,o))}m(mi.symbol,xi),vi.off(),te(xi.length-1)}),vi.bind("touchmove mousemove",function(s){var o;if(s.preventDefault(),null==e)return!1;mt();var r=gi(s),l=parseInt(r.y-n.offset.top),h=parseInt(r.x-n.offset.left);switch(l=Ye(l),i=new oe(h,l),"mv"==t&&(i.mx=e.mx,i.x=e.x),"mh"==t&&(i.my=e.my,i.y=e.y),t){case"an":o=Math.atan2(e.my-i.my,i.mx-e.mx),Ne(n.ctx,a,null,null,e,i,o);break;case"af":Ee(n.ctx,a,null,null,e,i);break;case"c":Oe(n.ctx,a,null,null,e,i);break;case"gg":_e(n.ctx,a,null,null,e,i);break;case"ga":Pe(n.ctx,a,null,null,e,i);break;case"cf":Te(n.ctx,a,null,null,e,i);break;case"ff":De(n.ctx,a,null,null,e,i);break;case"o":case"f":case"ef":case"mv":case"mh":$e(n.ctx,t,a,null,null,null,e,i)}})}(t)}},vi.tools_menu=function(t){if(null!=fi)switch(t){case"g":if(0==xi.length)return!1;$t(),function(){var t=999,e=ti();vi.bind("touchstart mousedown",function(e){e.preventDefault(),999!=t?(xi.splice(t,1),mt(),m(mi.symbol,xi),0==xi.length&&de()):de()}),vi.mousemove(function(i){var n=gi(i),a=parseInt(n.x-e.offset.left+mi.paddingLeft),s=parseInt(n.y-e.offset.top+mi.paddingTop);999!=(t=li(a,s,Lt(a,s)))?vi.addClass("eod_cg"):vi.removeClass("eod_cg")})}();break;case"r":vi.off(),Zt(),mi.cursor="r";break;case"m":vi.off(),Zt(),mi.cursor="m"}},vi.addSearch=function(t){null==fi||mi.mainChart.typedef.nolinearX||(mi.searchConfig=t,Ti.flagSave=!0,xt(),kt())},vi.removeSearch=function(){null!=fi&&(mi.searchConfig="",kt())},vi.indic1_menu=function(t){if(null!=fi&&"perf"!=mi.mainChart.type&&!mi.mainChart.typedef.nolinearX){var e,i=mi.mainChart.indicators.length;if("sar"==t||"ichimoku"==t||"pivots"==t)for(e=0;e<i;e++)if(mi.mainChart.indicators[e].type==t)return;if("evt"==t||"actu"==t)for(e=0;e<i;e++)if("evt"==mi.mainChart.indicators[e].type||"actu"==mi.mainChart.indicators[e].type)return;if("pivots"==t&&!mi.isIntraday)return void DisplayAlert("Les points pivots ne sont disponibles qu'en intraday");("evt"==t||"actu"==t)&&mi.isIntraday||(mi.mainChart.indicators.push(ci(t)),Dt(0))}},vi.compare=function(e){null==fi||mi.mainChart.typedef.nolinearX||"perf"==mi.mainChart.type||mi.isIntraday||(Ti.datas2=null,c(),t.ajax({type:VGP.callType,url:VGP.urlWS+"GetTicksEOD",data:JSON.stringify({symbol:e,length:mi.histoLength,period:mi.chartPeriod,guid:Si.gigt("guid")}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){if(null==t.d)return!1;Ti.datas2=S(t.d),mi.mainChart.indicators.push(ci("compare")),mi.isCompare=e,x(fi.High,fi.Low,Ti.datas2.High,Ti.datas2.Low,fi.QuoteTab[0].c,Ti.datas2.QuoteTab[0].c),Dt(0)}}))},vi.indics_menu=function(t){if(null!=fi&&!mi.mainChart.typedef.nolinearX){if(5==bi.length&&!VGP.isPro&&"function"==typeof DisplayAlert)return DisplayAlert(lang.l_msg1,1),!1;if(7==bi.length&&VGP.isPro&&"function"==typeof DisplayAlert)return DisplayAlert(lang.l_msg2,2),!1;Nt(ci(t))}},vi.CloseTools=function(t){t||(Ti.flagSave=!0),xt(!0)},vi.SynchronizeLines=function(){xi=g(mi.symbol),mt()},vi.get_symbol=function(){return mi.symbol},vi.delete_chart=function(){Si.idempty(i("")),It()},vi.get_name=function(){return null==fi?"":fi.Name},vi.get_chartType=function(){return mi.mainChart.type},vi.get_parametres=function(){return mi},vi.settings_setdefaut=function(){null!=fi&&(mi.set={bkcolor:"#fff",txtColor:"#606060",gridV:!0,gridH:!0,gridLine:!0,gridColor:"#e0e0e0",indicValues:!0,isEncadre:!0,yaxis:!1,nosticky:!1,reticColor:"#114257",semilog:!1,cadreColor:"#e0e0e0",traceColor:null,noVeilleIntra:!1},Si.idcss(i("rodgraph-"),"background-color",mi.set.bkcolor),Si.clcss("indicname","color",mi.set.txtColor),Si.clcss("indicval","color",mi.set.txtColor),Si.idcss(i("eod_mainchartinfos-"),"color",mi.set.txtColor),Si.idcss(i("eod_topinfo-"),"color",mi.set.txtColor),mi.paddingLeft=10,mi.paddingRight=45,Si.idcss(i("eod_mainchartinfos-"),"left",mi.paddingLeft+2+"px"),Si.clcss("infoindic","left",mi.paddingLeft+5),Si.idcss(i("trace-"),"left",mi.paddingLeft+"px"),kt())},vi.settings_setAxis=function(t){"left"==t?(mi.set.yaxis=!0,mi.paddingLeft=45,mi.paddingRight=10):(mi.set.yaxis=!1,mi.paddingLeft=10,mi.paddingRight=45),Si.idcss(i("eod_mainchartinfos-"),"left",mi.paddingLeft+2+"px"),Si.clcss("infoindic","left",mi.paddingLeft+5),Si.idcss(i("trace-"),"left",mi.paddingLeft+"px"),kt()},vi.settings_setAxisLog=function(t){t?mi.set.semilog=!0:(mi.set.semilog=!1,delete mi.logData),kt()},vi.settings_setSticky=function(t){mi.set.nosticky=t,kt()},vi.settings_setHLSticky=function(t){mi.set.nohighlow=t,kt()},vi.settings_setNoVeilleIntra=function(t){if(mi.set.noVeilleIntra=t,1==mi.histoLength){if(wi.minX=0,wi.maxX=fi.QuoteTab.length-1,wi.maxY=fi.High,wi.minY=fi.Low,!mi.set.noVeilleIntra){var e=fi.qv.c;e>wi.maxY&&(wi.maxY=e),e<wi.minY&&(wi.minY=e)}kt()}},vi.settings_setTraceColor=function(t){null!=fi&&(mi.set.traceColor=t)},vi.settings_getTraceColor=function(){return fe()},vi.settings_setGridlineShow=function(t){mi.set.gridLine=t,kt()},vi.settings_setGridlineH=function(t){mi.set.gridH=t,kt()},vi.settings_setGridlineV=function(t){mi.set.gridV=t,kt()},vi.settings_setGridColor=function(t){null!=fi&&(mi.set.gridColor=t,kt())},vi.settings_setCadreColor=function(t){null!=fi&&(mi.set.cadreColor=t,kt())},vi.settings_setReticuleColor=function(t){if(null!=fi){mi.set.reticColor=t;Si.gi(i("overlay-")).getContext("2d").strokeStyle=mi.set.reticColor}},vi.settings_setIndicValues=function(t){mi.set.indicValues=t,t||vi.find(".indicval").empty()},vi.settings_setEncadreShow=function(t){mi.set.isEncadre=t,kt()},vi.settings_setBackColor=function(t){null!=fi&&(mi.set.bkcolor=t,Si.idcss(i("rodgraph-"),"background-color",t))},vi.settings_setTextColor=function(t){null!=fi&&(Si.clcss("indicname","color",t),Si.clcss("indicval","color",t),Si.idcss(i("eod_mainchartinfos-"),"color",t),Si.idcss(i("eod_topinfo-"),"color",t),mi.set.txtColor=t,kt())},vi.change_symbol=function(t){n(),Ti.fiEvt=[],Ti.dataSeason=null,mi.symbol=t,u(!0)},vi.loadDefautChart=function(e){Si.idempty(i("")),It();for(var n=e.indicators.length,a=[],s=0;s<n;s++)"object"==typeof e.indicators[s]?a.push(t.extend(!0,ci(e.indicators[s].type),e.indicators[s])):a.push(ci(e.indicators[s]));e.indicators=a,Tt(e),u(!1)},vi.loadTemplateJSON=function(t,e){Si.idempty(i("")),It(),Ti.fiEvt=[];var n,a=JSON.parse(t),s=[],o=JSON.parse(e),r=o.length;if(r>1){for(n=1;n<r;n++)s.push(o[n].Indicator);a.indicators=s}else a.indicators=[];null!=mi&&null!=mi.symbol&&(a.symbol=mi.symbol),mi=null,Tt(a,o),vi.find(".indicname").removeAttr("style"),vi.find(".indicval").removeAttr("style"),u(!1)},vi.loadTemplate=function(t){Ti.flagSave=!0,xt(),Si.idempty(i("")),It(),Ti.fiEvt=[];var e,n,a=JSON.parse(t.Parametres),s=[],o=JSON.parse(t.Layers),r=o.length;if(r>1){for(n=1;n<r;n++)s.push(o[n].Indicator);a.indicators=s}else a.indicators=[];switch(null!=mi&&null!=mi.symbol&&(a.symbol=mi.symbol),mi=null,Tt(a,o),mi.mainChart.type){case"heikin ashi":e="heikin";break;case"line break":e="linebreak";break;case"point figure":e="pnf";break;default:e=mi.mainChart.type}return vi.find(".indicname").removeAttr("style"),vi.find(".indicval").removeAttr("style"),u(!1),e},vi.saveTraceFull=function(){var t=wt(!0),e=this.saveTemplate();return{Traces:t,Parametres:e.p,Layers:e.l,Symbol:mi.symbol}},vi.readTraceFull=function(t){if(null!=t){if(null!=t.Symbol&&mi.symbol,null!=t.Traces){var e=t.Traces;m(mi.symbol,JSON.parse(e)),VGP.drawings[mi.symbol]=1,xi=JSON.parse(e)}this.loadTemplate(t)}},vi.saveTrace=function(){wt()},vi.readTrace=function(){d(!1,!0,!1)},vi.saveTemplate=function(e){var i,n,a,s,o;if(null!=fi){for(delete(n=yt(mi)).widthGraph,delete n.heightGraph,delete n.paddingTop,delete n.paddingLeft,delete n.paddingBottom,delete n.paddingRight,delete n.indicators,delete n.usableHeight,delete n.marginInter,delete n.innerWidth,delete n.symbol,delete n.padBarCandle,delete n.mainChart.typedef.params,delete n.cursor,n.set.noVeilleIntra||delete n.set.noVeilleIntra,n.set.gridH&&delete n.set.gridH,n.set.gridV&&delete n.set.gridV,n.set.gridLine&&delete n.set.gridLine,n.set.indicValues&&delete n.set.indicValues,n.set.isEncadre&&delete n.set.isEncadre,n.set.yaxis||delete n.set.yaxis,n.set.nosticky||delete n.set.nosticky,n.set.semilog||delete n.set.semilog,n.set.traceColor||delete n.set.traceColor,n.set.traceColor||delete n.set.traceColor,i=0;i<n.mainChart.indicators.length;i++)delete n.mainChart.indicators[i].params;for(a=bi.length,i=0;i<a;i++)bi[i].Bars=0==i?[]:{},"equity"==bi[i].Indicator.type&&Et(i);for(i=0;i<a;i++)delete bi[i].canvas,delete bi[i].ctx;for(s=yt(bi),i=0;i<s.length;i++)delete s[i].Bars,delete s[i].RealY,delete s[i].PxPointX,delete s[i].PxPointY,delete s[i].V0,delete s[i].id,delete s[i].HeightPx,delete s[i].Indicator.params;if(o=yt(bi),mi.mainChart.typedef.nolinearX&&(s.splice(1),n.mainChart.indicators=[],o.splice(1)),It(!0),Ct(o),kt(),St(),Zt(),null==e)return{l:JSON.stringify(s),p:JSON.stringify(n)};t.ajax({type:"POST",url:VGP.urlWS+"UpdateConfigEOD",data:JSON.stringify({configname:escape(e),parametres:JSON.stringify(n),layers:JSON.stringify(s)}),contentType:"application/json; charset=utf-8",dataType:"json"})}},vi.screenCapture=function(e){var n,a,s,o,r,l,h,c,d,u,p,f,m;if(null!=fi){if(Ti.flagSave=!0,xt(),vi.after('<canvas id="canvasflatten"></canvas>'),n=Si.gi("canvasflatten"),n.width=mi.widthGraph,n.height=mi.heightGraph,a=n.getContext("2d"),a.fillStyle=mi.set.bkcolor,a.fillRect(0,0,n.width,n.height),a.font="11px Arial",s=Si.gi(i("rodgraph-")),a.drawImage(s,0,0),a.drawImage(bi[0].canvas,0,mi.paddingTop),null==xi.length||"perf"==mi.mainChart.type||mi.mainChart.typedef.nolinearX||(o=Si.gi(i("trace-")),a.drawImage(o,mi.paddingLeft,mi.paddingTop)),!mi.mainChart.typedef.nolinearX)for(r=1;r<bi.length;r++)a.drawImage(bi[r].canvas,0,bi[r].RealY),a.fillStyle=bi[r].Indicator.color,l=bi[r].Indicator.type.toUpperCase(),null!=bi[r].Indicator.param1&&(l+=" ("+bi[r].Indicator.param1,null!=bi[r].Indicator.param2&&(l+=", "+bi[r].Indicator.param2,null!=bi[r].Indicator.param3&&(l+=", "+bi[r].Indicator.param3)),l+=")"),a.fillText(l,mi.paddingLeft+5,bi[r].RealY+13);if(a.fillStyle="#808080",e=null!=e?" - "+e:"",a.fillText(fi.Name.toUpperCase()+e,mi.paddingLeft,13),null!=(c=document.querySelector(".eod_topinfo span:last-child"))&&(h=c.textContent),d=a.measureText(h).width,a.fillText(h,mi.widthGraph-mi.paddingRight-d,13),!mi.mainChart.typedef.nolinearX)for(u=mi.paddingLeft+5,r=0;r<mi.mainChart.indicators.length;r++)("evt"!=(p=mi.mainChart.indicators[r]).type||"actu"!=p.type)&&(a.fillStyle=p.color,f="",null!=p.param1&&(f+=" ("+p.param1,null!=p.param2&&(f+=", "+p.param2),f+=")"),f="compare"==p.type?Ti.datas2.Name:p.type.toUpperCase()+f,a.fillText(f,u,mi.paddingTop+12),u+=a.measureText(f).width+15);return m=n.toDataURL("image/png"),m=m.replace("data:image/png;base64,",""),t("#canvasflatten").remove(),m}},vi.updateQuoteEODrefresh=function(t){var e=fi.QuoteTab[fi.QuoteTab.length-1],i=e.d;0==mi.chartPeriod?(e=t,e.d=i,fi.QuoteTab[fi.QuoteTab.length-1]=e):(t.h>e.h&&(e.h=t.h),t.l<e.l&&(e.l=t.l),e.c=t.c,e.v=t.v),kt()},vi.updateQuoteIntraRefresh=function(t){var e=fi.QuoteTab.length-1,i=fi.QuoteTab[e].d,n=0,a=t.qt;if(null==a)return!1;for(var s=wi.maxY,o=wi.minY,r=a.length-1;r>=0;r--)a[r].d>=i&&(a[r].d==i?fi.QuoteTab[e]=a[r]:(fi.QuoteTab.push(a[r]),n++),a[r].h>s&&(s=a[r].h),a[r].l<o&&(o=a[r].l),a[r].h>fi.High&&(fi.High=a[r].h),a[r].l<fi.Low&&(fi.Low=a[r].l));wi.maxY=s,wi.minY=o,wi.maxX=wi.maxX+n,kt()},Rt.prototype.Create=function(t){this.canvas=document.createElement("canvas"),this.canvas.width=mi.widthGraph,this.canvas.height=this.HeightPx,this.canvas.style.top=this.RealY+"px",this.canvas.id=this.id,t.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),bi.push(this)},Rt.prototype.Resize=function(t,e,i){this.Y=t,this.RealY=Math.round(t*mi.usableHeight)+mi.paddingTop+i,this.Height=e,this.HeightPx=Math.round(e*mi.usableHeight),this.canvas.style.top=this.RealY+"px",this.canvas.height=this.HeightPx},Rt.prototype.Move=function(t,e,i){this.RealY=t,this.HeightPx=this.HeightPx+e,this.Y=(this.RealY-mi.paddingTop-mi.marginInter*i)/mi.usableHeight,this.Height=this.HeightPx/mi.usableHeight,this.canvas.style.top=this.RealY+"px",this.canvas.height=this.HeightPx},Rt.prototype.DrawEncadre=function(){this.ctx.clearRect(0,0,mi.widthGraph,this.HeightPx),mi.set.isEncadre&&(this.ctx.strokeStyle=mi.set.cadreColor,this.ctx.strokeRect(mi.paddingLeft+.5,.5,mi.innerWidth,this.HeightPx-1))},gi=function(t){var e,i={x:0,y:0};return"touchstart"==t.type||"touchmove"==t.type||"touchend"==t.type?(e=t.touches[0]||t.changedTouches[0],i.x=e.pageX,i.y=e.pageY):(i.x=t.pageX,i.y=t.pageY),i},vi}}(jQuery),mydragg={move:function(t,e,i){t.style.left=e+"px",t.style.top=i+"px"},startMoving:function(t,e,i){var n,a;if("linemodif"!=i.target.className)return!1;var s=(i=i||window.event).clientX,o=i.clientY,r=t.style.top,l=t.style.left,h=t.clientWidth,c=t.clientHeight,d=document.getElementById(e).clientWidth,u=document.getElementById(e).clientHeight;r=r.replace("px",""),l=l.replace("px",""),n=s-l,a=o-r,document.onmousemove=function(e){var i=(e=e||window.event).clientX,s=e.clientY,o=i-n,r=s-a;o<10&&(o=10),r<18&&(r=18),o+h>d-6&&(o=d-h-6),r+c>u+12&&(r=u-c+12),mydragg.move(t,o,r)}},stopMoving:function(){document.onmousemove=function(){}}},RODTA=new function(){function t(t,e){for(var i=t.length,n=0,a=0;a<i;a++)a<e?(n+=t[a].v1,t[a].vm=n/(a+1)):(n=n+t[a].v1-t[a-e].v1,t[a].vm=n/e);return t}function e(t){var e,i,n,a,s,o,r,l,h,c,d,u,p=function(t){return t-Math.floor(t)},f=t.getJulian(),m=t.getFullYear(),g=3.14159265/180;for(s=2415020+29*(e=Math.floor(12.3685*(m-1900))),o=1178e-7*(n=(i=(m-1899.5)/100)*i)-1.55e-7*(a=i*i*i)+(.75933+.53058868*e)-(837e-6*i+335e-6*n),r=360*p(.08084821133*e)+359.2242-333e-7*n-347e-8*a,l=360*p(.07171366128*e)+306.0253+.0107306*n+1236e-8*a,h=360*p(.08519585128*e)+21.2964-.0016528*n-239e-8*a,d=0,u=0;u<f;){var v=o+1.530588*d,b=(r+29.10535608*d)*g,y=(l+385.81691806*d)*g,x=(h+390.67050646*d)*g;v-=.4068*Math.sin(y)+(.1734-393e-6*i)*Math.sin(b),v+=.0161*Math.sin(2*y)+.0104*Math.sin(2*x),v-=.0074*Math.sin(b-y)-.0051*Math.sin(b+y),v+=.0021*Math.sin(2*b)+.001*Math.sin(2*x-y),v+=.5/1440,c=u,u=s+28*d+Math.floor(v),d++}return(f-c)/29.53059}this.computeMovingAverage=function(t,e,i){for(var n=[],a=t.length,s=0,o=0;o<a;o++)o<e?(s+=gs(t[o],i),n[o]={d:t[o].d,v1:s/(o+1)}):(s=s+gs(t[o],i)-gs(t[o-e],i),n[o]={d:t[o].d,v1:s/e});return{Values:n}},this.computeCMO=function(e,i,n){var a,s=[],o=e.length,r=0,l=0,h=[];for(h[0]=0,a=1;a<o;a++)h[a]=100*(e[a].c-e[a-1].c)/e[a-1].c;for(s[0]={d:e[0].d,v1:0},a=1;a<o;a++)a<i?(h[a]>=0?r+=h[a]:l-=h[a],s[a]={d:e[a].d,v1:100*(r-l)/(r+l)}):(h[a]>=0?(r+=h[a],h[a-i]>=0?r-=h[a-i]:l+=h[a-i]):(l-=h[a],h[a-i]>=0?r-=h[a-i]:l+=h[a-i]),s[a]={d:e[a].d,v1:100*(r-l)/(r+l)});return null!=n&&0!=n&&(s=t(s,n)),{High:100,Low:-100,Values:s}},this.computeHighLow=function(t,e){var i,n,a,s,o,r=t.length;if(r<e)return null;for(o=[],i=0;i<e;i++)o[i]={d:t[i].d,v1:0,v2:0};for(i=e;i<r;i++){for(a=0,s=9999999,n=1;n<e&&!(i-n<0);n++)t[i-n].h>a&&(a=t[i-n].h),t[i-n].l<s&&(s=t[i-n].l);o[i]=a<t[i].h?{d:t[i].d,v1:t[i].h,v2:0}:s>t[i].l?{d:t[i].d,v1:0,v2:t[i].l}:{d:t[i].d,v1:0,v2:0}}return{Values:o}},this.computeSupertrend=function(t,e,i){var n,a,s,o,r,l,h=[],c=t.length,d=this.computeATR(t,e,"ema");if(null==d)return!1;for(n=(s=(t[0].h+t[0].l)/2)+i*d.Values[0].v1,a=s-i*d.Values[0].v1,h[0]={d:t[0].d,v1:n,v2:a},(l=[])[0]={u:n,d:a},r=1;r<c;r++)s=(t[r].h+t[r].l)/2,n=s+i*d.Values[r].v1,a=s-i*d.Values[r].v1,l[r]={u:n,d:a};for(r=1;r<c;r++)t[r].c>l[r-1].u?o=1:t[r].c<l[r-1].d&&(o=-1),-1==o?(l[r].u>l[r-1].u&&(l[r].u=l[r-1].u),h[r]={d:t[r].d,v1:l[r].u,v2:0}):(l[r].d<l[r-1].d&&(l[r].d=l[r-1].d),h[r]={d:t[r].d,v1:0,v2:l[r].d});return{Values:h}},this.computeVolume=function(e,i){var n,a=[],s=0,o=9999999999,r=e.length;for(a[0]={d:e[0].d,v1:e[0].v,v2:1},n=1;n<r;n++)a[n]=e[n].c-e[n-1].c>=0?{d:e[n].d,v1:e[n].v,v2:1}:{d:e[n].d,v1:e[n].v,v2:-1},e[n].v>s&&(s=e[n].v),e[n].v<o&&(o=e[n].v);return null!=i&&0!=i&&(a=t(a,i)),{High:s,Low:o,Values:a}},this.computeBollingerBandwith=function(e,i,n,a,s){for(var o=e.length,r=0,l=999999,h=[],c=this.computeBollinger(e,i,n,s),d=this.computeMovingAverage(e,i,s),u=0,p=0;p<o;p++)u=100*(c.Values[p].v1-c.Values[p].v2)/d.Values[p].v1,h[p]={d:e[p].d,v1:u},u>r&&(r=u),u<l&&(l=u);return null!=a&&0!=a&&(h=t(h,a)),{High:1.1*r,Low:.9*l,Values:h}},this.computeVortex=function(t,e){var i,n=t.length;if(n<e+2)return null;var a=[],s=[],o=0,r=999999,l=[];for(a[0]={p:Math.abs(t[0].h-t[0].l),m:Math.abs(t[0].l-t[0].h)},s[0]=t[0].h-t[0].l,i=1;i<n;i++)a[i]={p:Math.abs(t[i].h-t[i-1].l),m:Math.abs(t[i].l-t[i-1].h)},s[i]=Math.max(t[i].h-t[i].l,Math.abs(t[i].h-t[i-1].c),Math.abs(t[i].l-t[i-1].c));var h,c,d=0,u=0,p=0;for(i=0;i<n;i++)i<e?(u+=a[i].p,d+=a[i].m,p+=s[i],h=d/(i+1)/p,c=u/(i+1)/p):(u=u+a[i].p-a[i-e].p,d=d+a[i].m-a[i-e].m,p=p+s[i]-s[i-e],h=d/e/p,(c=u/e/p)>o&&(o=c),c<r&&(r=c),h>o&&(o=h),h<r&&(r=h)),l[i]={d:t[i].d,v1:c,v2:h};for(i=0;i<e;i++)l[i]={d:t[i].d,v1:l[e].v1,v2:l[e].v2};return{High:1.1*o,Low:.9*r,Values:l}},this.computeMFI=function(e,i,n){var a,s=e.length,o=[],r=[],l=[];for(l[0]={p:0,n:0},r[0]=(e[0].h+e[0].l+e[0].c)/3,a=1;a<s;a++)r[a]=(e[a].h+e[a].l+e[a].c)/3,l[a]=r[a]>=r[a-1]?{p:r[a]*e[0].v,n:0}:{p:0,n:r[a]*e[0].v};var h=0,c=0,d=[];for(a=0;a<s;a++)a<i?(h+=l[a].p,c+=l[a].n,d[a]={p:h/(a+1),n:c/(a+1)}):(h=h+l[a].p-l[a-i].p,c=c+l[a].n-l[a-i].n,d[a]={p:h/i,n:c/i}),o[a]=0==d[a].n?{d:e[a].d,v1:0}:{d:e[a].d,v1:100-100/(1+d[a].p/d[a].n)};return null!=n&&0!=n&&(o=t(o,n)),{High:100,Low:0,Values:o}},this.computeOBV=function(e,i){var n,a,s,o=-1e5,r=9999999999,l=e.length,h=[];for(h[0]={d:e[0].d,v1:0},n=0,a=1;a<l;a++)e[a].c>e[a-1].c&&(n+=e[a].v),e[a].c<e[a-1].c&&(n-=e[a].v),h[a]={d:e[a].d,v1:n/1e3},n/1e3>o&&(o=n/1e3),n/1e3<r&&(r=n/1e3);return null!=i&&0!=i&&(h=t(h,i)),s=(o-r)/10,{High:o+s,Low:r-s,Values:h}},this.computeAccDist=function(e,i){var n,a,s,o=[],r=-1e6,l=9999999999,h=e.length,c=0;for(o[0]={d:e[0].d,v1:0},n=1;n<h;n++)0!=(a=e[n].h-e[n].l)&&(c+=(e[n].c-e[n].l-(e[n].h-e[n].c))*(e[n].v/1e3)/a),o[n]={d:e[n].d,v1:c},c>r&&(r=c),c<l&&(l=c);return null!=i&&0!=i&&(o=t(o,i)),s=(r-l)/10,{High:r+s,Low:l-s,Values:o}},this.computeBollinger=function(t,e,i,n){for(var a,s,o,r,l,h,c,d,u=[],p=t.length,f=this.computeMovingAverage(t,e,n),m=[],g=0,v=0;v<p;v++)a=gs(t[v],n),v<e?(g+=a*a,m[v]=g*e/(v+1)):(s=gs(t[v-e],n),g=g+a*a-s*s,m[v]=g);for(o=[],r=0,v=0;v<p;v++)a=gs(t[v],n),v<e?(r+=a,l=r*e/(v+1),o[v]=l*l):(s=gs(t[v-e],n),r=r+a-s,o[v]=r*r);for(c=e*(e-1),v=0;v<p;v++)d=e*m[v]-o[v],h=d<0?0:Math.pow(d/c,.5)*i,u[v]={d:t[v].d,v1:f.Values[v].v1+h,v2:f.Values[v].v1-h};return{Values:u}},this.computeBollingerB=function(e,i,n,a,s){for(var o,r,l,h=this.computeBollinger(e,i,n,s),c=[],d=h.Values.length,u=0,p=100,f=0;f<d;f++)r=h.Values[f].v1-h.Values[f].v2,o=0!=r?100*(gs(e[f],s)-h.Values[f].v2)/r:100*(gs(e[f],s)-h.Values[f].v2),c[f]={d:e[f].d,v1:o},o>u&&(u=o),o<p&&(p=o);return null!=a&&0!=a&&(c=t(c,a)),l=(u-p)/10,{High:u+l,Low:p-l,Values:c}},this.computeDMI=function(t,e,i){var n,a,s,o,r=[],l=t.length,h=0;if(l<2*e)return null;var c=[],d=[],u=[],p=[],f=0,m=0,g=0,v=[],b=[],y=[];for(c[0]={p:0,m:0},d[0]=1,n=1;n<l;n++)a=t[n].h-t[n-1].h,s=t[n-1].l-t[n].l,d[n]=Math.max(Math.abs(t[n].h-t[n].l),Math.abs(t[n].h-t[n-1].c),Math.abs(t[n].l-t[n-1].c)),c[n]=a>s?{p:Math.max(0,a),m:0}:{p:0,m:0},s>a&&(c[n].m=Math.max(0,s));for(n=1;n<=e;n++)g+=d[n],f+=c[n].p,m+=c[n].m;for(u[e]=g,p[e]={p:f,m:m},v[e]={p:100*p[e].p/u[e],m:100*p[e].m/u[e]},b[e]=Math.abs(p[e].p-p[e].m)/(p[e].p+p[e].m)*100,y[e]=b[e],r[e]="dmi"==i?{d:t[e].d,v1:v[e].p,v2:v[e].m,v3:y[e]}:{d:t[e].d,v1:y[e],v2:y[e]},n=e+1;n<l;n++)u[n]=u[n-1]-u[n-1]/e+d[n],f=p[n-1].p-p[n-1].p/e+c[n].p,m=p[n-1].m-p[n-1].m/e+c[n].m,p[n]={p:f,m:m},v[n]={p:100*p[n].p/u[n],m:100*p[n].m/u[n]},b[n]=Math.abs(p[n].p-p[n].m)/(p[n].p+p[n].m)*100,y[n]=(y[n-1]*(e-1)+b[n])/e,"dmi"==i&&(v[n].p>h&&(h=v[n].p),v[n].m>h&&(h=v[n].m),r[n]={d:t[n].d,v1:v[n].p,v2:v[n].m,v3:y[n]}),y[n]>h&&(h=y[n]);if(h>100&&(h=90),"dmi"==i)for(o=(r[e+1].v1+r[e+1].v2+r[e+1].v3)/3,n=0;n<=e;n++)r[n]={d:t[n].d,v1:o,v2:o,v3:o};if("adx"==i&&l>2*e){for(n=e+1;n<2*e;n++)r[n]={d:t[n].d,v1:y[n],v2:(y[e]+y[n])/2};for(n=2*e;n<l;n++)r[n]={d:t[n].d,v1:y[n],v2:(y[n-e]+y[n])/2};for(n=0;n<=e;n++)r[n]={d:t[n].d,v1:r[e].v1,v2:r[e].v2}}return{High:1.1*h,Low:0,Values:r}},this.computeLinearCurve=function(e,i,n,a,s){var o,r,l,h,c,d,u,p,f,m=[],g=e.length;if(g<=i)return null;if(1==n)for(o=0;o<=i;o++)m[o]={d:e[o].d,v1:gs(e[o],s)};else for(o=0;o<=i;o++)m[o]={d:e[o].d,v1:0};for(l=-100,h=100,o=g-1;o>i;o--){var v=0,b=0,y=0,x=0;for(r=i;r>=1;r--)d=gs(e[o-(i-r)],s),v+=r*d,b+=r,y+=d,x+=r*r;u=(y-(p=(v*i-b*y)/(i*x-b*b))*b)/i,1==n?m[o]={d:e[o].d,v1:u+p*i}:((c=gs(e[o],s)-(u+p*i))>l&&(l=c),c<h&&(h=c),m[o]={d:e[o].d,v1:c})}return 1==n?{Values:m}:(null!=a&&0!=a&&(m=t(m,a)),f=(l-h)/10,{High:l+f,Low:h-f,Values:m})},this.computeCCI=function(e,i,n){var a,s,o,r,l,h,c,d,u,p,f,m,g=[],v=e.length,b=0,y=0;if(v<=i)return null;for(a=[],s=0,o=0;o<v;o++)a[o]=(e[o].h+e[o].l+e[o].c)/3;for(r=[],o=0;o<v;o++)o<i?(s+=a[o],r[o]=s/(o+1)):(s=s+a[o]-a[o-i],r[o]=s/i);for(l=[],h=0,o=0;o<v;o++)c=a[o],o<i?(h+=c*c,l[o]=h*i/(o+1)):(d=a[o-i],h=h+c*c-d*d,l[o]=h);for(u=[],p=0,o=0;o<v;o++)c=a[o],o<i?(p+=c,f=p*i/(o+1),u[o]=f*f):(d=a[o-i],p=p+c-d,u[o]=p*p);for(o=0;o<i-1;o++)g[o]={d:e[o].d,v1:0};var x=[],w=0,T=i*(i-1);for(o=i-1;o<v;o++)c=i*l[o]-u[o],x[o]=c<0?0:Math.pow(c/T,.5),w=(a[o]-r[o])/(.015*x[o]),g[o]={d:e[o].d,v1:w},w>b&&(b=w),w<y&&(y=w);return null!=n&&0!=n&&(g=t(g,n)),m=(b-y)/10,{High:b+m,Low:y-m,Values:g}},this.computeUltimateOsc=function(e,i,n,a,s){var o,r,l,h=[],c=e.length,d=[],u=[];for(d[0]=e[0].c-e[0].l,u[0]=e[0].h-e[0].l,o=1;o<c;o++)l=Math.min(e[o].l,e[o-1].c),d[o]=e[o].c-l,u[o]=Math.max(e[o].h,e[o-1].c)-l;var p,f,m=[],g=[],v=[];for(o=0;o<c;o++){for(p=0,f=0,r=0;r<7&&!(o-r<0);r++)p+=d[o-r],f+=u[o-r];m[o]=p/f}for(o=0;o<c;o++){for(p=0,f=0,r=0;r<14&&!(o-r<0);r++)p+=d[o-r],f+=u[o-r];g[o]=p/f}for(o=0;o<c;o++){for(p=0,f=0,r=0;r<28&&!(o-r<0);r++)p+=d[o-r],f+=u[o-r];v[o]=p/f}for(o=0;o<c;o++)h[o]={d:e[o].d,v1:100*(4*m[o]+2*g[o]+v[o])/7};return null!=s&&0!=s&&(h=t(h,s)),{High:100,Low:0,Values:h}},this.computeKST=function(e,i,n,a,s,o){for(var r,l=[],h=e.length,c=0,d=999999,u=this.computeROC(e,i,null,o),p=this.computeROC(e,n,null,o),f=this.computeROC(e,a,null,o),m=this.computeROC(e,s,null,o),g=t(u.Values,10),v=t(p.Values,10),b=t(f.Values,10),y=t(m.Values,15),x=[],w=0;w<h;w++)x[w]={v1:g[w].vm+2*v[w].vm+3*b[w].vm+4*y[w].vm},x[w].v1>c&&(c=x[w].v1),x[w].v1<d&&(d=x[w].v1);for(r=t(x,9),w=0;w<h;w++)l[w]={d:e[w].d,v1:x[w].v1,v2:r[w].vm};return{High:1.1*c,Low:1.1*d,Values:l}},this.computeZigZag=function(t,e,i){var n,a,s,o,r=[],l=t.length,h=0,c=gs(t[0],i),d=t[0].d;for(r[0]={d:t[0].d,v1:c},s="h",n=0;n<l;n++)o=gs(t[n],i),a=(o-c)/c,"h"==s?a>0?(c=o,d=t[n].d,h=n):Math.abs(a)>=e&&(r[h]={d:d,v1:c},c=o,d=t[n].d,s="b",h=n):a<0?(c=o,d=t[n].d,h=n):Math.abs(a)>=e&&(r[h]={d:d,v1:c},c=o,d=t[n].d,s="h",h=n);return r[l-1]={d:t[l-1].d,v1:t[l-1].c},{Values:r}},this.computeMovingAverageT=function(t,e,i){e=Math.round((e+1)/2);for(var n=this.computeMovingAverage(t,e,i),a=[],s=n.Values.length,o=0,r=0;r<s;r++)r<e?(o+=n.Values[r].v1,a[r]={d:n.Values[r].d,v1:o/(r+1)}):(o=o+n.Values[r].v1-n.Values[r-e].v1,a[r]={d:n.Values[r].d,v1:o/e});return{Values:a}},this.computeEVMM=function(t,e,i,n){var a,s=[],o=t.length,r=0;for(i/=100,a=0;a<o;a++)a<e?(r+=gs(t[a],n),s[a]={d:t[a].d,v1:r/(a+1)*(1+i),v2:r/(a+1)*(1-i)}):(r=r+gs(t[a],n)-gs(t[a-e],n),s[a]={d:t[a].d,v1:r/e*(1+i),v2:r/e*(1-i)});return{Values:s}},this.computeDPO=function(e,i,n){var a,s,o,r,l=[],h=0,c=9999,d=e.length;if(i+1>d)return null;for(s=this.computeMovingAverage(e,i),(r=Math.round(i/2-1))<1&&(r=1),a=0;a<r;a++)l[a]={d:e[a].d,v1:0};for(a=r;a<d;a++)(o=e[a].c-s.Values[a-r].v1)>h&&(h=o),o<c&&(c=o),l[a]={d:e[a].d,v1:o};return null!=n&&0!=n&&(l=t(l,n)),{High:1.2*h,Low:1.1*c,Values:l}},this.computeCMF=function(e,i,n){var a,s,o,r,l,h=[],c=e.length,d=0,u=0,p=9999;for(h[0]={d:e[0].d,v1:0},a=1;a<c;a++){for(d=0,o=0,s=0;s<i&&!(a-s<0);s++)0!=(l=e[a-s].h-e[a-s].l)&&(o+=e[a-s].v*(e[a-s].c-e[a-s].l-(e[a-s].h-e[a-s].c))/l),d+=e[a-s].v;(r=o/d)>u&&(u=r),r<p&&(p=r),h[a]={d:e[a].d,v1:r}}return null!=n&&0!=n&&(h=t(h,n)),{High:1.2*u,Low:1.1*p,Values:h}},this.computeBOP=function(t){var e,i,n,a,s=[],o=t.length;for(a=0!=(n=t[0].h-t[0].l)?(t[0].c-t[0].o)/n:0,s[0]=a<0?{d:t[0].d,v2:a}:{d:t[0].d,v1:a},e=1;e<o;e++)n=t[e].h-t[e].l,i=0!=n?(t[e].c-t[e].o)/n:0,s[e]=i>=0&&a>=0?i>=a?{d:t[e].d,v1:i}:{d:t[e].d,v3:i}:i<0&&a<0?i<=a?{d:t[e].d,v2:i}:{d:t[e].d,v3:i}:i<0?{d:t[e].d,v2:i}:{d:t[e].d,v1:i},a=i;return{High:1.25,Low:-1.1,Values:s}},this.computeAwesomeIndicator=function(t,e,i){for(var n,a,s=[],o=t.length,r=[],l=0;l<o;l++)n=(t[l].h+t[l].l)/2,r[l]={d:t[l].d,c:n};var h,c=this.computeMovingAverage(r,e,"c"),d=this.computeMovingAverage(r,i,"c"),u=0,p=99999;for(h=c.Values[0].v1-d.Values[0].v1,s[0]={d:t[0].d,v1:h},a=h,l=1;l<o;l++)(h=c.Values[l].v1-d.Values[l].v1)>u&&(u=h),h<p&&(p=h),s[l]=h>=a?{d:t[l].d,v1:h}:{d:t[l].d,v2:h},a=h;return{High:1.3*u,Low:1.1*p,Values:s}},this.computeGMMA=function(t){for(var e,i=[],n=[],a=t.length,s=[3,5,8,10,12,15,30,35,40,45,50,60],o=s.length,r=0;r<o;r++)n[r]=this.computeMovingAverageE(t,s[r]);for(r=0;r<a;r++)for(i[r]={d:t[r].d},e=0;e<12;e++)i[r]["v"+(e+1)]=n[e].Values[r].v1;return{Values:i}},this.computeAlligator=function(t,e,i,n){var a,s=[],o=t.length,r=0,l=[],h=[],c=[],d=0,u=Math.max(e,i,n);if(o<u+1||u<13)return null;for(a=0;a<e;a++)r+=gs(t[a],"m"),l[a]=r/(a+1);for(d=r,a=e;a<o;a++)d=d+gs(t[a],"m")-l[a-1],l[a]=d/e;for(r=0,a=0;a<i;a++)r+=gs(t[a],"m"),h[a]=r/(a+1);for(d=r,a=i;a<o;a++)d=d+gs(t[a],"m")-h[a-1],h[a]=d/i;for(r=0,a=0;a<n;a++)r+=gs(t[a],"m"),c[a]=r/(a+1);for(d=r,a=n;a<o;a++)d=d+gs(t[a],"m")-c[a-1],c[a]=d/n;for(a=u;a<o;a++)s[a]={d:t[a].d,v1:l[a-8],v2:h[a-5],v3:c[a-3]};return{Values:s}},this.computeMovingAverageHull=function(t,e,i){var n,a,s,o=[],r=t.length,l=Math.floor(e/2);l<1&&(l=1),(a=Math.floor(Math.sqrt(e)))<1&&(a=1);var h=this.computeMovingAverageP(t,l,i),c=this.computeMovingAverageP(t,e,i),d=[];for(n=0;n<r;n++)d[n]={d:h.Values[n].d,c:2*h.Values[n].v1-c.Values[n].v1};return s=this.computeMovingAverageP(d,a),o=s.Values,{Values:o}},this.computeMovingAverageP=function(t,e,i){var n,a,s,o,r,l=[],h=t.length;for(l[0]={d:t[0].d,v1:gs(t[0],i)},n=1;n<h;n++){for(s=0,a=0;a<e&&!(n-a<0);a++)r=gs(t[n-a],i),s=n<e?s+(n-a+1)*r:s+(e-a)*r;o=(a+1)*a*.5,l[n]={d:t[n].d,v1:s/o}}return{Values:l}},this.computeMovingAverageE=function(t,e,i){var n,a=[],s=t.length;a[0]={d:t[0].d,v1:gs(t[0],i)};var o=gs(t[0],i),r=2/(e+1),l=1-r;for(n=1;n<s;n++)o=gs(t[n],i)*r+o*l,a[n]={d:t[n].d,v1:o};return{Values:a}},this.computeDoubleEMA=function(t,e,i){var n,a,s,o=this.computeMovingAverageE(t,e,i),r=[],l=o.Values.length;for(r[0]={d:o.Values[0].d,v1:o.Values[0].v1},a=o.Values[0].v1,s=2/(e+1),n=1;n<l;n++)a=o.Values[n].v1*s+a*(1-s),r[n]={d:o.Values[n].d,v1:2*o.Values[n].v1-a};return{Values:r}},this.computeTripleEMA=function(t,e,i){var n,a=this.computeMovingAverageE(t,e,i),s=[],o=a.Values.length;s[0]={d:a.Values[0].d,v1:a.Values[0].v1};var r=a.Values[0].v1,l=a.Values[0].v1,h=2/(e+1);for(n=1;n<o;n++)r=a.Values[n].v1*h+r*(1-h),l=r*h+l*(1-h),s[n]={d:a.Values[n].d,v1:3*a.Values[n].v1-3*r+l};return{Values:s}},this.computeTSI=function(t,e,i,n){var a,s,o,r,l,h,c,d,u,p,f,m,g=[],v=t.length,b=-100,y=100;if(v<i)return null;for((s=[])[0]=0,a=1;a<v;a++)s[a]=t[a].c-t[a-1].c;for(o=s[0],(r=[])[0]=o,l=2/(i+1),a=1;a<v;a++)o=s[a]*l+o*(1-l),r[a]=o;for(o=r[0],(h=[])[0]=o,c=2/(e+1),a=1;a<v;a++)o=r[a]*c+o*(1-c),h[a]=o;for(o=Math.abs(s[0]),(d=[])[0]=o,a=1;a<v;a++)o=Math.abs(s[a])*l+o*(1-l),d[a]=o;for(o=d[0],u=[],d[0]=o,a=1;a<v;a++)o=d[a]*c+o*(1-c),u[a]=o;for((p=[])[0]=0,a=1;a<v;a++)p[a]=100*h[a]/u[a];for(a=15;a<v;a++)p[a]>b&&(b=p[a]),p[a]<y&&(y=p[a]);for(f=[],o=p[0],f[0]=o,m=2/(n+1),a=1;a<v;a++)o=p[a]*m+o*(1-m),f[a]=o;for(a=0;a<15;a++)g[a]={d:t[a].d,v1:0,v2:0};for(a=15;a<v;a++)g[a]={d:t[a].d,v1:p[a],v2:f[a]};return{High:1.1*b,Low:1.1*y,Values:g}},this.computeMassIndex=function(e,i,n){var a,s,o,r,l,h,c,d=[],u=e.length,p=[],f=0,m=9999;if(u<9||u<i)return null;for(a=0;a<u;a++)p[a]=e[a].h-e[a].l;for(o=p[0],(r=[])[0]=o,a=1;a<u;a++)o=.2*p[a]+.8*o,r[a]=o;for(o=r[0],(l=[])[0]=o,a=1;a<u;a++)o=.2*r[a]+.8*o,l[a]=o;for(h=[],a=0;a<u;a++)h[a]=r[a]/l[a];for(c=0,a=0;a<u;a++){for(c=0,s=0;s<i;s++){if(a-s<0){c=c*i/s;break}c+=h[a-s]}c>f&&(f=c),c<m&&(m=c),d[a]={d:e[a].d,v1:c}}return null!=n&&0!=n&&(d=t(d,n)),{High:1.03*f,Low:.99*m,Values:d}},this.computeRSI=function(e,i,n,a){var s;if(i<2)return null;var o,r,l,h,c=[],d=e.length,u=[],p=[];for(u[0]={h:0,b:0},p[0]={mmh:0,mmb:0},c[0]={d:e[0].d,v1:50},s=i-1,r=1;r<d;r++)o=gs(e[r],a)-gs(e[r-1],a),u[r]=0==o?{h:0,b:0}:o>0?{h:o,b:0}:{h:0,b:-1*o},l=(p[r-1].mmh*s+u[r].h)/i,h=(p[r-1].mmb*s+u[r].b)/i,p[r]={mmh:l,mmb:h},c[r]=0==h?{d:e[r].d,v1:100}:{d:e[r].d,v1:100-100/(1+l/h)};return null!=n&&0!=n&&(c=t(c,n)),{High:100,Low:0,Values:c}},this.computeForceIndex=function(t,e,i){var n,a,s,o=t.length,r=[],l=-9999,h=9999;for(r[0]={d:t[0].d,c:0},n=1;n<o;n++)r[n]={d:t[n].d,c:t[n].v*(gs(t[n],i)-gs(t[n-1],i))};for(s=(a=this.computeMovingAverageE(r,e,"c")).Values.length,n=0;n<s;n++)a.Values[n].v1>l&&(l=a.Values[n].v1),a.Values[n].v1<h&&(h=a.Values[n].v1);return{High:1.2*l,Low:1.1*h,Values:a.Values}},this.computeElderRay=function(e,i,n,a){var s,o,r=this.computeMovingAverageE(e,i,"c"),l=[],h=r.Values.length,c=-1e3,d=1e3;if("bear"==n)for(s=0;s<h;s++)(o=e[s].l-r.Values[s].v1)>c&&(c=o),o<d&&(d=o),l[s]={d:e[s].d,v1:o};else for(s=0;s<h;s++)(o=e[s].h-r.Values[s].v1)>c&&(c=o),o<d&&(d=o),l[s]={d:e[s].d,v1:o};return null!=a&&0!=a&&(l=t(l,a)),{High:1.2*c,Low:1.1*d,Values:l}},this.computeQStick=function(t,e){for(var i,n,a=[],s=-1e3,o=1e3,r=t.length,l=[],h=0;h<r;h++)l[h]=t[h].c-t[h].o;for(h=0;h<r;h++){for(i=0,n=0;n<e&&!(h-n<0);n++)i+=l[h-n];(i/=n)>s&&(s=i),i<o&&(o=i),a[h]={d:t[h].d,v1:i}}return{High:1.1*s,Low:1.1*o,Values:a}},this.computeATR=function(e,i,n,a){var s,o,r,l,h=[],c=0,d=9999,u=e.length,p=0,f=0,m=0,g=[];if(u<i+1)return null;for(g[0]=e[0].h-e[0].l,h[0]={d:e[0].d,v1:g[0]},s=1;s<u;s++)p=e[s].h-e[s].l,f=Math.abs(e[s-1].c-e[s].h),m=Math.abs(e[s-1].c-e[s].l),g[s]=Math.max(p,f,m);if(r=g[0],l=2/(i+1),"ema"==n)for(s=1;s<u;s++)(r=g[s]*l+r*(1-l))>c&&(c=r),r<d&&(d=r),h[s]={d:e[s].d,v1:r};if("sma"==n){for(s=1;s<i;s++){for(o=0;o<=s;o++)r+=g[o];(r/=o)>c&&(c=r),r<d&&(d=r),h[s]={d:e[s].d,v1:r},r=0}for(s=i;s<u;s++){for(o=0;o<i;o++)r+=g[s-o];r/=i,h[s]={d:e[s].d,v1:r},r>c&&(c=r),r<d&&(d=r),r=0}}return null!=a&&0!=a&&(h=t(h,a)),{High:1.1*c,Low:.9*d,Values:h}},this.computeEaseOfMovement=function(e,i,n){var a,s,o,r,l=[],h=0,c=999999,d=e.length,u=0,p=[];for(p[0]=0,a=1;a<d;a++)u=0!=e[a].v?((e[a].h+e[a].l)/2-(e[a-1].h+e[a-1].l)/2)/(e[a].v/(e[a].h-e[a].l)):0,p[a]=1e4*u,u=0;for(l[0]={d:e[0].d,v1:0},s=0,o=2/(i+1),a=1;a<d;a++)s=p[a]*o+s*(1-o),l[a]={d:e[a].d,v1:s},s>h&&(h=s),s<c&&(c=s);return null!=n&&0!=n&&(l=t(l,n)),r=(h-c)/10,{High:h+r,Low:c-r,Values:l}},this.computeIchimoku=function(t,e,i,n){var a,s,o,r=[],l=t.length,h=0,c=999999;if(l<2*e+1)return null;for(a=0;a<e;a++){for(s=a;s>=0;s--)t[s].h>h&&(h=t[s].h),t[s].l<c&&(c=t[s].l);r[a]={d:t[a].d,v1:(h+c)/2},h=0,c=999999}for(a=e;a<l;a++){for(s=0;s<e;s++)t[a-s].h>h&&(h=t[a-s].h),t[a-s].l<c&&(c=t[a-s].l);r[a]={d:t[a].d,v1:(h+c)/2},h=0,c=999999}for(h=0,c=999999,a=0;a<i;a++){for(s=a;s>=0;s--)t[s].h>h&&(h=t[s].h),t[s].l<c&&(c=t[s].l);r[a].v2=(h+c)/2,h=0,c=999999}for(a=i;a<l;a++){for(s=0;s<i;s++)t[a-s].h>h&&(h=t[a-s].h),t[a-s].l<c&&(c=t[a-s].l);r[a].v2=(h+c)/2,h=0,c=999999}for(a=0;a<l-e;a++)r[a].v3=t[a+e].c;for(a=e;a<l;a++)r[a].v4=(r[a-e].v1+r[a-e].v2)/2;for(o=t[l-1].d,a=0;a<e;a++)r[l+a]={d:o+(a+1)*n,v4:(r[l+a-e].v1+r[l+a-e].v2)/2};for(h=0,c=999999,a=0;a<2*e;a++){for(s=a;s>=0;s--)t[s].h>h&&(h=t[s].h),t[s].l<c&&(c=t[s].l);r[a+e].v5=(h+c)/2,h=0,c=999999}for(a=2*e;a<l;a++){for(s=0;s<2*e;s++)t[a-s].h>h&&(h=t[a-s].h),t[a-s].l<c&&(c=t[a-s].l);r[a+e].v5=(h+c)/2,h=0,c=999999}for(a=e;a<l+e;a++)r[a].v4>r[a].v5?(r[a].v6=r[a].v4,r[a].v7=r[a].v5):(r[a].v6=r[a].v5,r[a].v7=r[a].v4);return{Values:r}},this.computeKVO=function(t){var e,i,n=[],a=0,s=999999,o=t.length,r=[],l=[];for(l[0]={d:t[0].d,c:t[0].v},r[0]=(t[0].c+t[0].l+t[0].h)/3,e=1;e<o;e++)r[e]=(t[e].c+t[e].l+t[e].h)/3,l[e]=r[e]>=r[e-1]?{d:t[e].d,c:t[e].v}:{d:t[e].d,c:-1*t[e].v};var h=this.computeMovingAverageE(l,34,"c"),c=this.computeMovingAverageE(l,55,"c"),d=[];for(e=0;e<o;e++)d[e]={d:t[e].d,c:h.Values[e].v1-c.Values[e].v1},d[e].c>a&&(a=d[e].c),d[e].c<s&&(s=d[e].c);for(i=this.computeMovingAverageE(d,13,"c"),e=0;e<o;e++)n[e]={d:t[e].d,v1:d[e].c,v2:i.Values[e].v1};return{High:1.1*a,Low:1.1*s,Values:n}},this.computeMomentum=function(e,i,n,a){var s,o,r,l,h=[],c=0,d=999999,u=e.length;if(u<i+1)return null;for(r=gs(e[0],a),s=0;s<i;s++)o=gs(e[s],a)-r,h[s]={d:e[s].d,v1:o},o>c&&(c=o),o<d&&(d=o);for(s=i;s<u;s++)o=gs(e[s],a)-gs(e[s-i],a),h[s]={d:e[s].d,v1:o},o>c&&(c=o),o<d&&(d=o);return null!=n&&0!=n&&(h=t(h,n)),l=(c-d)/10,{High:c+l,Low:d-l,Values:h}},this.computeNVIPVI=function(e,i,n,a){var s,o,r,l,h=[],c=0,d=999999,u=e.length,p=1,f=0;for(h[0]={d:e[0].d,v1:p},s=1;s<u;s++)0==e[s].v?h[s]={d:e[s].d,v1:p}:(r=gs(e[s-1],n),o=gs(e[s],n),"nvi"==a?e[s].v<e[s-1].v?(f=(o-r)*p/r,p+=f,h[s]={d:e[s].d,v1:p}):h[s]={d:e[s].d,v1:p}:e[s].v>e[s-1].v?(f=(o-r)*p/r,p+=f,h[s]={d:e[s].d,v1:p}):h[s]={d:e[s].d,v1:p}),p>c&&(c=p),p<d&&(d=p);return null!=i&&0!=i&&(h=t(h,i)),l=(c-d)/10,{High:c+l,Low:d-l,Values:h}},this.computeWaveTrendOsc=function(e,i,n){var a,s,o,r,l,h,c,d=[],u=e.length;if(i>=u||n>u)return null;for(s=this.computeMovingAverageE(e,i,"m2"),o=[],a=0;a<u;a++)o[a]={d:e[a].d,c:Math.abs(gs(e[a],"m2")-s.Values[a].v1)};for(r=this.computeMovingAverageE(o,i),l=[],a=0;a<u;a++)l[a]=0!=r.Values[a].v1?{d:e[a].d,c:(gs(e[a],"m2")-s.Values[a].v1)/(.015*r.Values[a].v1)}:{d:e[a].d,c:0};for(c=t((h=this.computeMovingAverageE(l,n)).Values,4),a=0;a<u;a++)d[a]={d:e[a].d,v1:h.Values[a].v1,v2:c[a].vm};return{High:90,Low:-90,Values:d}},this.computeMACDZL=function(t,e,i,n){var a,s,o,r=[],l=0,h=999999,c=t.length;if(e>=c||i>c||n>c)return null;var d,u=this.computeDoubleEMA(t,e),p=this.computeDoubleEMA(t,i),f=[];for(a=0;a<c;a++)d=u.Values[a].v1-p.Values[a].v1,f[a]={c:d,d:u.Values[a].d},d>l&&(l=d),d<h&&(h=d);for(s=this.computeDoubleEMA(f,n),a=0;a<c;a++)r[a]={d:t[a].d,v1:f[a].c,v2:s.Values[a].v1};return o=(l-h)/8,{High:l+o,Low:h-o,Values:r}},this.computeMACD=function(t,e,i,n,a,s){var o,r,l,h,c=[],d=0,u=999999,p=t.length,f=[],m=[];if(e>=p||i>p||n>p)return null;f[0]=gs(t[0],s),m[0]=gs(t[0],s),l=[],(r=[])[0]=0,l[0]=0;var g,v,b=2/(e+1),y=2/(i+1),x=2/(n+1);for(o=1;o<p;o++)g=gs(t[o],s),f[o]=g*b+f[o-1]*(1-b),m[o]=g*y+m[o-1]*(1-y),r[o]=f[o]-m[o],l[o]=r[o]*x+l[o-1]*(1-x);if("macd"==a)for(o=0;o<p;o++)c[o]={d:t[o].d,v1:r[o],v2:l[o]},r[o]>d&&(d=r[o]),r[o]<u&&(u=r[o]);else for(o=0;o<p;o++)v=r[o]-l[o],c[o]={d:t[o].d,v1:v},v>d&&(d=v),v<u&&(u=v);return h=(d-u)/8,{High:d+h,Low:u-h,Values:c}},this.computeCoppock=function(e,i,n,a,s,o){var r,l=[],h=0,c=999999;if(e.length<a+5)return null;var d,u=this.computeROC(e,i,null,o),p=this.computeROC(e,n,null,o),f=u.Values.length,m=[];for(r=1;r<f;r++)(d=u.Values[r].v1+p.Values[r].v1)>h&&(h=d),d<c&&(c=d),m[r]={d:u.Values[r].d,c:d};return m[0]={d:u.Values[0].d,c:m[1].c},l=this.computeMovingAverageP(m,a,"c"),null!=s&&0!=s&&(l.Values=t(l.Values,s)),{High:1.2*h,Low:c,Values:l.Values}},this.computeROC=function(e,i,n,a,s){var o,r,l,h=[],c=0,d=999999,u=0,p=e.length,f=gs(e[0],a);if(s)for(h[0]={d:e[0].d,v1:100},o=1;o<p;o++)(u=o-i<0?100*gs(e[o],a)/f:100*gs(e[o],a)/gs(e[o-i],a))>c&&(c=u),u<d&&(d=u),h[o]={d:e[o].d,v1:u};else for(h[0]={d:e[0].d,v1:0},o=1;o<p;o++)o-i<0?u=100*(gs(e[o],a)-f)/f:(r=gs(e[o-i],a),u=100*(gs(e[o],a)-r)/r),u>c&&(c=u),u<d&&(d=u),h[o]={d:e[o].d,v1:u};return null!=n&&0!=n&&(h=t(h,n)),l=(c-d)/8,{High:c+l,Low:d-l,Values:h}},this.computeSTD=function(e,i,n,a){for(var s,o,r=[],l=0,h=e.length,c=0,d=this.computeMovingAverage(e,i,a),u=0;u<h;u++){for(s=0;s<i&&!(u-s<0);s++)c+=(o=gs(e[u-s],a)-d.Values[u].v1)*o;c=Math.sqrt(c/s),r[u]={d:e[u].d,v1:c},c>l&&(l=c),c=0}return null!=n&&0!=n&&(r=t(r,n)),{High:1.15*l,Low:0,Values:r}},this.computeSMI=function(t,e,i,n,a){var s,o=[],r=t.length;if(r<e+1)return null;for(var l,h=[],c=[],d=t[0].l,u=t[0].h,p=0;p<r;p++){for(l=0;l<e&&!(p-l<0);l++)t[p-l].h>u&&(u=t[p-l].h),t[p-l].l<d&&(d=t[p-l].l);c[p]={h:u,l:d},h[p]={d:t[p].d,c:t[p].c-(u+d)/2},u=0,d=999999}var f=this.computeMovingAverageE(h,i,"c"),m=this.computeMovingAverageE(f.Values,n,"v1"),g=[];for(p=0;p<r;p++)g[p]={d:t[p].d,c:c[p].h-c[p].l};var v=this.computeMovingAverageE(g,i,"c"),b=this.computeMovingAverageE(v.Values,n,"v1"),y=[];for(p=0;p<r;p++)y[p]=100*m.Values[p].v1/(b.Values[p].v1/2);for(s=0,p=0;p<r;p++){for(s=0,l=0;l<a&&!(p-l<0);l++)s+=y[p-l];o[p]={d:t[p].d,v1:y[p],v2:s/l}}return{High:125,Low:-100,Values:o}},this.computeASI=function(e,i){var n,a=[],s=e.length;if(s<3)return null;var o,r,l,h,c,d,u=0,p=0,f=999999;for(a[0]={d:e[0].d,v1:0},n=1;n<s;n++)l=Math.abs(e[n].h-e[n-1].c),h=Math.abs(e[n].l-e[n-1].c),c=e[n].h-e[n].l,d=Math.abs(e[n-1].c-e[n-1].o),l>h&&l>c&&(o=l-.5*h+.25*d),h>l&&h>c&&(o=h-.5*l+.25*d),c>l&&c>h&&(o=c+.25*d),r=Math.max(l,h),0!=o&&(u+=(e[n].c-e[n-1].c+.5*(e[n].c-e[n].o)+.25*(e[n-1].c-e[n-1].o))/o*50*(r/300)),u>p&&(p=u),u<f&&(f=u),a[n]={d:e[n].d,v1:u};return null!=i&&0!=i&&(a=t(a,i)),{High:1.2*p,Low:1.1*f,Values:a}},this.computeStochRSI=function(t,e,i,n,a,s){var o,r,l,h;if(t.length<a+1||null==(r=this.computeRSI(t,a,null,s)))return null;for(l=[],h=r.Values.length,o=0;o<h;o++)l[o]={d:r.Values[o].d,h:r.Values[o].v1,l:r.Values[o].v1,c:r.Values[o].v1};return this.computeSTOCH(l,e,i,n)},this.computeSTOCH=function(t,e,i,n){var a,s,o=[],r=t.length;if(r<e+1)return null;var l,h,c=[],d=t[0].l,u=t[0].h,p=u-d;for(c[0]=0!=p?100*(t[0].c-d)/p:0,l=1;l<e;l++){for(h=0;h<=l;h++)t[h].h>u&&(u=t[h].h),t[h].l<d&&(d=t[h].l);p=u-d,c[l]=0==p?0:100*(t[l].c-d)/p,u=0,d=999999}for(l=e;l<r;l++){for(h=0;h<e;h++)t[l-h].h>u&&(u=t[l-h].h),t[l-h].l<d&&(d=t[l-h].l);p=u-d,c[l]=0==p?0:100*(t[l].c-d)/p,u=0,d=999999}for(a=[],l=0;l<r;l++){for(s=0,h=0;h<i&&!(l-h<0);h++)s+=c[l-h];a[l]=s/h}for(null==n&&(n=3),l=0;l<r;l++){for(s=0,h=0;h<n&&!(l-h<0);h++)s+=a[l-h];o[l]={d:t[l].d,v1:a[l],v2:s/h}}return{High:125,Low:-10,Values:o}},this.computeTRIX=function(e,i,n,a){var s,o,r,l,h,c,d=this.computeMovingAverageE(e,i,a),u=[],p=d.Values.length,f=0,m=999999;for(u[0]={d:d.Values[0].d,v1:0},o=d.Values[0].v1,(r=[])[0]=d.Values[0].v1,l=0,h=2/(i+1),s=1;s<p;s++)o=d.Values[s].v1*h+o*(1-h),r[s]=o*h+r[s-1]*(1-h),l=100*(r[s]-r[s-1])/r[s-1],u[s]={d:d.Values[s].d,v1:l},l>f&&(f=l),l<m&&(m=l);return null!=n&&0!=n&&(u=t(u,n)),c=(f-m)/8,{High:f+c,Low:m-c,Values:u}},this.computeVROC=function(e,i,n){var a,s,o,r=[],l=0,h=999999,c=e.length;if(c<=i)return null;for(a=0;a<i;a++)r[a]={d:e[a].d,v1:0};for(s=0,a=i;a<c;a++)0!=e[a].v?((s=100*e[a].v/e[a-1].v)<100&&(s*=-1),r[a]={d:e[a].d,v1:s},s>l&&(l=s),s<h&&(h=s)):r[a]={d:e[a].d,v1:0},s=0;return null!=n&&0!=n&&(r=t(r,n)),o=(l-h)/10,{High:l+o,Low:h-o,Values:r}},this.computeWILAC=function(e,i){var n,a=[],s=0,o=999999,r=e.length;a[0]={d:e[0].d,v1:0};for(var l=0,h=99999,c=0,d=1;d<r;d++)l=Math.max(e[d-1].c,e[d].h),h=Math.min(e[d-1].c,e[d].l),e[d].c==e[d-1].c?a[d]={d:e[d].d,v1:c}:e[d].c>e[d-1].c?(c=c+e[d].c-h,a[d]={d:e[d].d,v1:c}):(c=c+e[d].c-l,a[d]={d:e[d].d,v1:c}),c>s&&(s=c),c<o&&(o=c),l=0,h=99999;return null!=i&&0!=i&&(a=t(a,i)),n=(s-o)/10,{High:s+n,Low:o-n,Values:a}},this.computeKeltner=function(t,e,i,n){var a,s,o=this.computeMovingAverageE(t,e,"c"),r=[],l=o.Values.length,h=this.computeATR(t,n,"sma");if(null==h)return null;for(a=0;a<l;a++)s=i*h.Values[a].v1,r[a]={d:o.Values[a].d,v1:o.Values[a].v1+s,v2:o.Values[a].v1-s};return{Values:r}},this.computeDonchian=function(t,e){var i,n,a,s,o,r=t.length;if(r<e)return null;for(o=[],i=0;i<r;i++){for(a=0,s=999999,n=0;n<e&&!(i-n<0);n++)t[i-n].h>a&&(a=t[i-n].h),t[i-n].l<s&&(s=t[i-n].l);o[i]={d:t[i].d,v1:a,v2:s}}return{Values:o}},this.ComputeAroon=function(t,e){var i,n,a=t.length;if(a<e)return null;var s=[],o=0,r=999999,l=0,h=0;for(i=0;i<e;i++){for(n=0;n<=i;n++)t[i-n].h>o&&(o=t[i-n].h,l=n),t[i-n].l<r&&(r=t[i-n].l,h=n);s[i]={d:t[i].d,v1:(e-l)/e*100,v2:(e-h)/e*100},o=0,r=999999}for(i=e;i<a;i++){for(n=0;n<=e;n++)t[i-n].h>o&&(o=t[i-n].h,l=n),t[i-n].l<r&&(r=t[i-n].l,h=n);s[i]={d:t[i].d,v1:(e-l)/e*100,v2:(e-h)/e*100},o=0,r=999999}return{High:120,Low:-5,Values:s}},this.computeWILR=function(e,i,n){var a=e.length;if(a<i)return null;for(var s,o=9999999,r=0,l=[],h=0;h<i+1;h++)l[h]={d:e[h].d,v1:0};for(h=i+1;h<a;h++){for(s=0;s<i;s++)e[h-s].h>r&&(r=e[h-s].h),e[h-s].l<o&&(o=e[h-s].l);l[h]=r-o==0?{d:e[h].d,v1:0}:{d:e[h].d,v1:-100*(r-e[h].c)/(r-o)},r=0,o=999999}return null!=n&&0!=n&&(l=t(l,n)),{High:10,Low:-110,Values:l}},this.computeMarteau=function(t){for(var e,i,n,a=[],s=t.length,o=2;o<s;o++)null!=t[o-2]&&null!=t[o-1]&&null!=t[o]&&t[o-2].l>t[o-1].l&&t[o-1].l>t[o].l&&(e=Math.min(t[o].o,t[o].c),i=Math.max(t[o].o,t[o].c),n=e-t[o].l,(t[o].h-i)/(t[o].h-t[o].l)<.04&&n>=i-e&&a.push({i:o,d:t[o].d,v1:t[o].l,v2:0}));return{Values:a}},this.computePinces=function(t){for(var e=[],i=t.length,n=3;n<i;n++)null!=t[n-3]&&null!=t[n-2]&&null!=t[n-1]&&null!=t[n]&&(t[n-3].h<t[n-2].h&&t[n-2].h<t[n-1].h&&100*Math.abs(1-t[n-1].h/t[n].h)<.05&&e.push({i:n,d:t[n-1].d,v1:0,v2:t[n].h}),t[n-3].l>t[n-2].l&&t[n-2].l>t[n-1].l&&100*Math.abs(1-t[n-1].l/t[n].l)<.05&&e.push({i:n,d:t[n-1].d,v1:t[n].l,v2:0}));return{Values:e}},this.computeMarubozu=function(t){for(var e,i,n=[],a=t.length,s=1;s<a;s++)null!=t[s]&&Math.abs(100*(t[s].c-t[s].o)/t[s].c)>1.2&&(e=Math.abs(100*(t[s].l-t[s].o)/t[s].c),i=Math.abs(100*(t[s].h-t[s].c)/t[s].c),e<.05&&i<.05&&n.push({i:s,d:t[s-1].d,v1:0,v2:t[s].h}),e=Math.abs(100*(t[s].l-t[s].c)/t[s].c),i=Math.abs(100*(t[s].h-t[s].o)/t[s].c),e<.05&&i<.05&&n.push({i:s,d:t[s-1].d,v1:t[s].l,v2:0}));return{Values:n}},this.computeSoldiers=function(t){for(var e=[],i=t.length,n=3;n<i;n++)if(null!=t[n-2]&&null!=t[n-1]&&null!=t[n])if(t[n-2].c<t[n-1].c&&t[n-1].c<t[n].c){if(t[n-2].o<t[n-1].o&&t[n-1].o<t[n].o&&t[n-2].h<t[n-1].h&&t[n-1].h<t[n].h){if(t[n-2].c-t[n-2].o<=0||t[n-1].c-t[n-1].o<=0||t[n].c-t[n].o<=0)continue;e.push({i:n,d:t[n-1].d,v1:0,v2:t[n].h})}}else if(t[n-2].c>t[n-1].c&&t[n-1].c>t[n].c&&t[n-2].o>t[n-1].o&&t[n-1].o>t[n].o&&t[n-2].l>t[n-1].l&&t[n-1].l>t[n].l){if(t[n-2].c-t[n-2].o>=0||t[n-1].c-t[n-1].o>=0||t[n].c-t[n].o>=0)continue;e.push({i:n,d:t[n-1].d,v1:t[n].l,v2:0})}return{Values:e}},this.computePendu=function(t){for(var e,i,n,a=[],s=t.length,o=2;o<s;o++)null!=t[o-2]&&null!=t[o-1]&&null!=t[o]&&t[o-2].h<t[o-1].h&&t[o-1].h<t[o].h&&(e=Math.min(t[o].o,t[o].c),i=Math.max(t[o].o,t[o].c),n=e-t[o].l,(t[o].h-i)/(t[o].h-t[o].l)<.04&&n>=i-e&&a.push({i:o,d:t[o-1].d,v1:0,v2:t[o].h}));return{Values:a}},this.computeHarami=function(t){for(var e=[],i=t.length,n=1;n<i;n++)null!=t[n-1]&&null!=t[n]&&(t[n].l>t[n-1].c&&t[n].h<t[n-1].o&&t[n-1].o>t[n-1].c?e.push({i:n,d:t[n-1].d,v1:t[n].l,v2:0}):t[n].l>t[n-1].o&&t[n].h<t[n-1].c&&t[n-1].o<t[n-1].c&&e.push({i:n,d:t[n-1].d,v1:0,v2:t[n].h}));return{Values:e}},this.computeEnglobante=function(t){for(var e=[],i=t.length,n=1;n<i;n++)null!=t[n-1]&&null!=t[n]&&(t[n].c>t[n-1].o&&t[n].o<t[n-1].c&&t[n-1].o>t[n-1].c?e.push({i:n,d:t[n].d,v1:t[n].l,v2:0}):t[n].c<t[n-1].o&&t[n].o>t[n-1].c&&t[n-1].o<t[n-1].c&&e.push({i:n,d:t[n].d,v1:0,v2:t[n].h}));return{Values:e}},this.computeGAP=function(t){for(var e=[],i=t.length,n=1;n<i;n++)null!=t[n-1]&&null!=t[n]&&(t[n-1].h<t[n].l?e.push({i:n,d:t[n].d,v1:t[n-1].l,v2:0}):t[n-1].l>t[n].h&&e.push({i:n,d:t[n].d,v1:0,v2:t[n-1].h}));return{Values:e}},this.computeDOJI=function(t,e){var i,n=[],a=t.length,s=.05;for(e<0&&(s=.002),i=0;i<a;i++)null!=t[i]&&Math.abs(100*(t[i].o-t[i].c)/t[i].o)<s&&t[i].h>t[i].c&&t[i].l<t[i].c&&n.push({i:i,d:t[i].d,v1:t[i].l,v2:0});return{Values:n}},this.computeKEYR=function(t){for(var e=[],i=t.length,n=2;n<i;n++)if(null!=t[n-2]&&null!=t[n-1]&&null!=t[n]){if(t[n-2].h<t[n-1].h&&t[n-1].h<t[n].h){t[n].o>t[n-1].c&&t[n].c<t[n-1].l&&e.push({i:n,d:t[n].d,v1:0,v2:t[n-1].h});continue}t[n-2].l>t[n-1].l&&t[n-1].l>t[n].l&&t[n].o<t[n-1].c&&t[n].c>t[n-1].h&&e.push({i:n,d:t[n].d,v1:t[n-1].l,v2:0})}return{Values:e}},this.computePERFORMANCE=function(e,i,n){var a={QuoteTab:e.QuoteTab},s=[],o=0,r=9999999;s[0]=i?{d:a.QuoteTab[0].d,v1:0}:{d:a.QuoteTab[0].d,c:0};for(var l=0,h=a.QuoteTab.length,c=a.QuoteTab[0].c,d=1;d<h;d++)null!=a.QuoteTab[d]&&(l=100*(a.QuoteTab[d].c-c)/c,s[d]=i?{d:a.QuoteTab[d].d,v1:l}:{d:a.QuoteTab[d].d,c:l},l>o&&(o=l),l<r&&(r=l));return i?(null!=n&&0!=n&&(s=t(s,n)),{High:o,Low:r,Values:s}):{Name:e.Name,High:o,Low:r,QuoteTab:s}},this.computeSAR=function(t,e,i){var n,a=[],s=[],o=[],r=[],l=[],h=t.length,c=0,d=0;for(o[0]=t[0].c>t[0].l,s[0]=t[0].c,r[0]=e,l[0]=t[0].c,l[1]=o[0]?t[1].l:t[0].h,r[1]=e,s[1]=r[1]*(l[1]-l[0])+l[0],o[1]=o[0]?s[1]>t[0].h:s[1]>t[0].c,n=2;n<h;n++)l[n]=o[n-1]==o[n-2]?o[n-1]?t[n].l<l[n-1]?t[n].l:l[n-1]:t[n].h>l[n-1]?t[n].h:l[n-1]:o[n-1]?t[n].l:t[n].h,r[n]=o[n-1]==o[n-2]?l[n-1]==l[n]?r[n-1]:r[n-1]<i?r[n-1]+e:i:e,s[n]=o[n-1]==o[n-2]?r[n]*(l[n]-s[n-1])+s[n-1]:r[n]*(l[n]-l[n-1])+l[n-1],o[n]=o[n-1]?s[n]>t[n].h:s[n]>t[n].l,o[n]?(c=0,d=o[n]==o[n-1]?s[n]:l[n]):(d=0,c=o[n]==o[n-1]?s[n]:l[n]),a[n]={d:t[n].d,v1:d,v2:c};return{Values:a}},this.computeMoonPhase=function(t,i){if(i)return null;for(var n,a,s,o=[],r=t.length,l=0;l<r;l++)n=new Date(864e5*t[l].d),s=new Date(n.getFullYear(),n.getMonth(),n.getDate()),(a=e(s))>.5&&(a=1-a),o[l]={d:t[l].d,v1:2*a};return n=new Date(864e5*t[r-1].d),s=new Date(n.getFullYear(),n.getMonth()+1,n.getDate()),{High:1.2,Low:0,Values:o}},Date.prototype.getJulian=function(){return this/864e5-this.getTimezoneOffset()/1440+2440587.5}},function(){var t;window.AmCharts?t=window.AmCharts:(t={},window.AmCharts=t,t.themes={},t.maps={},t.inheriting={},t.charts=[],t.onReadyArray=[],t.useUTC=!1,t.updateRate=60,t.uid=0,t.lang={},t.translations={},t.mapTranslations={},t.windows={},t.initHandlers=[],t.amString="am",t.pmString="pm"),t.Class=function(e){var i=function(){arguments[0]!==t.inheriting&&(this.events={},this.construct.apply(this,arguments))};e.inherits?(i.prototype=new e.inherits(t.inheriting),i.base=e.inherits.prototype,delete e.inherits):(i.prototype.createEvents=function(){for(var t=0;t<arguments.length;t++)this.events[arguments[t]]=[]},i.prototype.listenTo=function(t,e,i){this.removeListener(t,e,i),t.events[e].push({handler:i,scope:this})},i.prototype.addListener=function(t,e,i){this.removeListener(this,t,e),t&&this.events[t]&&this.events[t].push({handler:e,scope:i})},i.prototype.removeListener=function(t,e,i){if(t&&t.events&&(t=t.events[e]))for(e=t.length-1;0<=e;e--)t[e].handler===i&&t.splice(e,1)},i.prototype.fire=function(t){for(var e=this.events[t.type],i=0;i<e.length;i++){var n=e[i];n.handler.call(n.scope,t)}});for(var n in e)i.prototype[n]=e[n];return i},t.addChart=function(e){window.requestAnimationFrame?t.animationRequested||(t.animationRequested=!0,window.requestAnimationFrame(t.update)):t.updateInt||(t.updateInt=setInterval(function(){t.update()},Math.round(1e3/t.updateRate))),t.charts.push(e)},t.removeChart=function(e){for(var i=t.charts,n=i.length-1;0<=n;n--)i[n]==e&&i.splice(n,1);0===i.length&&(t.requestAnimation&&(window.cancelAnimationFrame(t.requestAnimation),t.animationRequested=!1),t.updateInt&&(clearInterval(t.updateInt),t.updateInt=NaN))},t.isModern=!0,t.getIEVersion=function(){var t,e=0;return"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,null!==/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(t)&&(e=parseFloat(RegExp.$1))),e},t.applyLang=function(e,i){var n=t.translations;i.dayNames=t.extend({},t.dayNames),i.shortDayNames=t.extend({},t.shortDayNames),i.monthNames=t.extend({},t.monthNames),i.shortMonthNames=t.extend({},t.shortMonthNames),i.amString="am",i.pmString="pm",n&&(n=n[e])&&(t.lang=n,i.langObj=n,n.monthNames&&(i.dayNames=t.extend({},n.dayNames),i.shortDayNames=t.extend({},n.shortDayNames),i.monthNames=t.extend({},n.monthNames),i.shortMonthNames=t.extend({},n.shortMonthNames)),n.am&&(i.amString=n.am),n.pm&&(i.pmString=n.pm)),t.amString=i.amString,t.pmString=i.pmString},t.IEversion=t.getIEVersion(),9>t.IEversion&&0<t.IEversion&&(t.isModern=!1,t.isIE=!0),t.dx=0,t.dy=0,(document.addEventListener||window.opera)&&(t.isNN=!0,t.isIE=!1,t.dx=.5,t.dy=.5),document.attachEvent&&(t.isNN=!1,t.isIE=!0,t.isModern||(t.dx=0,t.dy=0)),window.chrome&&(t.chrome=!0),t.handleMouseUp=function(e){for(var i=t.charts,n=0;n<i.length;n++){var a=i[n];a&&a.handleReleaseOutside&&a.handleReleaseOutside(e)}},t.handleMouseMove=function(e){for(var i=t.charts,n=0;n<i.length;n++){var a=i[n];a&&a.handleMouseMove&&a.handleMouseMove(e)}},t.handleWheel=function(e){for(var i=t.charts,n=0;n<i.length;n++){var a=i[n];if(a&&a.mouseIsOver){(a.mouseWheelScrollEnabled||a.mouseWheelZoomEnabled)&&a.handleWheel&&a.handleWheel(e);break}}},t.resetMouseOver=function(){for(var e=t.charts,i=0;i<e.length;i++){var n=e[i];n&&(n.mouseIsOver=!1)}},t.ready=function(e){t.onReadyArray.push(e)},t.handleLoad=function(){t.isReady=!0;for(var e=t.onReadyArray,i=0;i<e.length;i++){var n=e[i];isNaN(t.processDelay)?n():setTimeout(n,t.processDelay*i)}},t.addInitHandler=function(e,i){t.initHandlers.push({method:e,types:i})},t.callInitHandler=function(e){var i=t.initHandlers;if(t.initHandlers)for(var n=0;n<i.length;n++){var a=i[n];a.types?t.isInArray(a.types,e.type)&&a.method(e):a.method(e)}},t.getUniqueId=function(){return t.uid++,"AmChartsEl-"+t.uid},t.isNN&&(document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp,!0),window.addEventListener("load",t.handleLoad,!0),window.addEventListener("DOMMouseScroll",t.handleWheel,!0),document.addEventListener("mousewheel",t.handleWheel,!0)),t.isIE&&(document.attachEvent("onmousemove",t.handleMouseMove),document.attachEvent("onmouseup",t.handleMouseUp),window.attachEvent("onload",t.handleLoad),document.attachEvent("onmousewheel",t.handleWheel)),t.clear=function(){var e=t.charts;if(e)for(var i=e.length-1;0<=i;i--)e[i].clear();t.updateInt&&clearInterval(t.updateInt),t.requestAnimation&&window.cancelAnimationFrame(t.requestAnimation),t.charts=[],t.isNN&&(document.removeEventListener("mousemove",t.handleMouseMove,!0),document.removeEventListener("mouseup",t.handleMouseUp,!0),window.removeEventListener("load",t.handleLoad,!0),window.removeEventListener("DOMMouseScroll",t.handleWheel,!0),document.removeEventListener("mousewheel",t.handleWheel,!0)),t.isIE&&(document.detachEvent("onmousemove",t.handleMouseMove),document.detachEvent("onmouseup",t.handleMouseUp),window.detachEvent("onload",t.handleLoad))},t.makeChart=function(e,i,n){var a=i.type,s=i.theme;t.isString(s)&&(s=t.themes[s],i.theme=s);var o;switch(a){case"serial":o=new t.AmSerialChart(s);break;case"xy":o=new t.AmXYChart(s);break;case"pie":o=new t.AmPieChart(s);break;case"radar":o=new t.AmRadarChart(s);break;case"gauge":o=new t.AmAngularGauge(s);break;case"funnel":o=new t.AmFunnelChart(s);break;case"map":o=new t.AmMap(s);break;case"stock":o=new t.AmStockChart(s);break;case"gantt":o=new t.AmGanttChart(s)}return t.extend(o,i),t.isReady?isNaN(n)?o.write(e):setTimeout(function(){t.realWrite(o,e)},n):t.ready(function(){isNaN(n)?o.write(e):setTimeout(function(){t.realWrite(o,e)},n)}),o},t.realWrite=function(t,e){t.write(e)},t.updateCount=0,t.validateAt=Math.round(t.updateRate/10),t.update=function(){var e=t.charts;t.updateCount++;var i=!1;if(t.updateCount==t.validateAt&&(i=!0,t.updateCount=0),e)for(var n=e.length-1;0<=n;n--)e[n].update&&e[n].update(),i&&(e[n].autoResize?e[n].validateSize&&e[n].validateSize():e[n].premeasure&&e[n].premeasure());window.requestAnimationFrame&&(t.requestAnimation=window.requestAnimationFrame(t.update))},t.bezierX=3,t.bezierY=6,"complete"==document.readyState&&t.handleLoad()}(),function(){var t=window.AmCharts;t.toBoolean=function(t,e){if(void 0===t)return e;switch(String(t).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!t}},t.removeFromArray=function(t,e){var i;if(void 0!==e&&void 0!==t)for(i=t.length-1;0<=i;i--)t[i]==e&&t.splice(i,1)},t.getPath=function(){var t=document.getElementsByTagName("script");if(t)for(var e=0;e<t.length;e++){var i=t[e].src;if(-1!==i.search(/\/(amcharts|ammap)\.js/))return i.replace(/\/(amcharts|ammap)\.js.*/,"/")}},t.normalizeUrl=function(t){return""!==t&&-1===t.search(/\/$/)?t+"/":t},t.isAbsolute=function(t){return 0===t.search(/^http[s]?:|^\//)},t.isInArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},t.getDecimals=function(t){var e=0;return isNaN(t)||(-1!=(t=String(t)).indexOf("e-")?e=Number(t.split("-")[1]):-1!=t.indexOf(".")&&(e=t.split(".")[1].length)),e},t.wordwrap=function(e,i,n,a){var s,o,r,l;if(e+="",1>i)return e;for(s=-1,e=(l=e.split(/\r\n|\n|\r/)).length;++s<e;l[s]+=r){for(r=l[s],l[s]="";r.length>i;l[s]+=t.trim(r.slice(0,o))+((r=r.slice(o)).length?n:""))o=2==a||(o=r.slice(0,i+1).match(/\S*(\s)?$/))[1]?i:o.input.length-o[0].length||1==a&&i||o.input.length+(o=r.slice(i).match(/^\S*/))[0].length;r=t.trim(r)}return l.join(n)},t.trim=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.wrappedText=function(e,i,n,a,s,o,r,l){var h=t.text(e,i,n,a,s,o,r);if(h){var c=h.getBBox();if(c.width>l){var d="\n";t.isModern||(d="<br>"),2<(l=Math.floor(l/(c.width/i.length)))&&(l-=2),i=t.wordwrap(i,l,d,!0),h.remove(),h=t.text(e,i,n,a,s,o,r)}}return h},t.getStyle=function(t,e){var i="";if(document.defaultView&&document.defaultView.getComputedStyle)try{i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e)}catch(t){}else t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),i=t.currentStyle[e]);return i},t.removePx=function(t){if(void 0!==t)return Number(t.substring(0,t.length-2))},t.getURL=function(e,i){if(e)if("_self"!=i&&i)if("_top"==i&&window.top)window.top.location.href=e;else if("_parent"==i&&window.parent)window.parent.location.href=e;else if("_blank"==i)window.open(e);else{var n=document.getElementsByName(i)[0];n?n.src=e:(n=t.windows[i])&&n.opener&&!n.opener.closed?n.location.href=e:t.windows[i]=window.open(e)}else window.location.href=e},t.ifArray=function(t){return!!(t&&"object"==typeof t&&0<t.length)},t.callMethod=function(t,e){var i;for(i=0;i<e.length;i++){var n=e[i];if(n){n[t]&&n[t]();var a=n.length;if(0<a){var s;for(s=0;s<a;s++){var o=n[s];o&&o[t]&&o[t]()}}}}},t.toNumber=function(t){return"number"==typeof t?t:Number(String(t).replace(/[^0-9\-.]+/g,""))},t.toColor=function(t){if(""!==t&&void 0!==t)if(-1!=t.indexOf(",")){t=t.split(",");var e;for(e=0;e<t.length;e++){var i=t[e].substring(t[e].length-6,t[e].length);t[e]="#"+i}}else t=t.substring(t.length-6,t.length),t="#"+t;return t},t.toCoordinate=function(t,e,i){var n;return void 0!==t&&(t=String(t),i&&i<e&&(e=i),n=Number(t),-1!=t.indexOf("!")&&(n=e-Number(t.substr(1))),-1!=t.indexOf("%")&&(n=e*Number(t.substr(0,t.length-1))/100)),n},t.fitToBounds=function(t,e,i){return t<e&&(t=e),t>i&&(t=i),t},t.isDefined=function(t){return void 0!==t},t.stripNumbers=function(t){return t.replace(/[0-9]+/g,"")},t.roundTo=function(t,e){if(0>e)return t;var i=Math.pow(10,e);return Math.round(t*i)/i},t.toFixed=function(t,e){var i=String(Math.round(t*Math.pow(10,e)));if(0<e){var n=i.length;if(n<e){var a;for(a=0;a<e-n;a++)i="0"+i}return""===(n=i.substring(0,i.length-e))&&(n=0),n+"."+i.substring(i.length-e,i.length)}return String(i)},t.formatDuration=function(e,i,n,a,s,o){var r=t.intervals,l=o.decimalSeparator;if(e>=r[i].contains){var h=e-Math.floor(e/r[i].contains)*r[i].contains;return"ss"==i?1==(h=t.formatNumber(h,o)).split(l)[0].length&&(h="0"+h):h=t.roundTo(h,o.precision),("mm"==i||"hh"==i)&&10>h&&(h="0"+h),n=h+""+a[i]+n,e=Math.floor(e/r[i].contains),i=r[i].nextInterval,t.formatDuration(e,i,n,a,s,o)}if("ss"==i&&1==(e=t.formatNumber(e,o)).split(l)[0].length&&(e="0"+e),("mm"==i||"hh"==i)&&10>e&&(e="0"+e),n=e+""+a[i]+n,r[s].count>r[i].count)for(e=r[i].count;e<r[s].count;e++)"ss"==(i=r[i].nextInterval)||"mm"==i||"hh"==i?n="00"+a[i]+n:"DD"==i&&(n="0"+a[i]+n);return":"==n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),n},t.formatNumber=function(e,i,n,a,s){e=t.roundTo(e,i.precision),isNaN(n)&&(n=i.precision);var o=i.decimalSeparator;i=i.thousandsSeparator;var r;r=0>e?"-":"",e=Math.abs(e);h=!1;-1!=(d=String(e)).indexOf("e")&&(h=!0),0<=n&&!h&&(d=t.toFixed(e,n));var l="";if(h)l=d;else{var h,c,d=d.split(".");for(c=(h=String(d[0])).length;0<=c;c-=3)l=c!=h.length?0!==c?h.substring(c-3,c)+i+l:h.substring(c-3,c)+l:h.substring(c-3,c);void 0!==d[1]&&(l=l+o+d[1]),void 0!==n&&0<n&&"0"!=l&&(l=t.addZeroes(l,o,n))}return l=r+l,""===r&&!0===a&&0!==e&&(l="+"+l),!0===s&&(l+="%"),l},t.addZeroes=function(e,i,n){return void 0===(e=e.split(i))[1]&&0<n&&(e[1]="0"),e[1].length<n?(e[1]+="0",t.addZeroes(e[0]+i+e[1],i,n)):void 0!==e[1]?e[0]+i+e[1]:e[0]},t.scientificToNormal=function(t){var e,i;if("-"==(t=String(t).split("e"))[1].substr(0,1)){for(e="0.",i=0;i<Math.abs(Number(t[1]))-1;i++)e+="0";e+=t[0].split(".").join("")}else{var n=0;for((e=t[0].split("."))[1]&&(n=e[1].length),e=t[0].split(".").join(""),i=0;i<Math.abs(Number(t[1]))-n;i++)e+="0"}return e},t.toScientific=function(t,e){if(0===t)return"0";var i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n=String(n).split(".").join(e);return String(n)+"e"+i},t.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},t.hitTest=function(e,i,n){var a=!1,s=e.x,o=e.x+e.width,r=e.y,l=e.y+e.height,h=t.isInRectangle;return a||(a=h(s,r,i)),a||(a=h(s,l,i)),a||(a=h(o,r,i)),a||(a=h(o,l,i)),a||!0===n||(a=t.hitTest(i,e,!0)),a},t.isInRectangle=function(t,e,i){return t>=i.x-5&&t<=i.x+i.width+5&&e>=i.y-5&&e<=i.y+i.height+5},t.isPercents=function(t){if(-1!=String(t).indexOf("%"))return!0},t.formatValue=function(e,i,n,a,s,o,r,l){if(i){void 0===s&&(s="");var h;for(h=0;h<n.length;h++){var c=n[h],d=i[c];void 0!==d&&(d=o?t.addPrefix(d,l,r,a):t.formatNumber(d,a),e=e.replace(new RegExp("\\[\\["+s+c+"\\]\\]","g"),d))}}return e},t.formatDataContextValue=function(t,e){if(t){var i,n=t.match(/\[\[.*?\]\]/g);for(i=0;i<n.length;i++){var a=n[i];void 0!==e[a=a.substr(2,a.length-4)]&&(t=t.replace(new RegExp("\\[\\["+a+"\\]\\]","g"),e[a]))}}return t},t.massReplace=function(t,e){for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];void 0===n&&(n=""),t=t.replace(i,n)}return t},t.cleanFromEmpty=function(t){return t.replace(/\[\[[^\]]*\]\]/g,"")},t.addPrefix=function(e,i,n,a,s){var o,r,l,h=t.formatNumber(e,a),c="";if(0===e)return"0";if(0>e&&(c="-"),1<(e=Math.abs(e))){for(o=i.length-1;-1<o;o--)if(e>=i[o].number&&(r=e/i[o].number,1>(l=Number(a.precision))&&(l=1),n=t.roundTo(r,l),l=t.formatNumber(n,{precision:-1,decimalSeparator:a.decimalSeparator,thousandsSeparator:a.thousandsSeparator}),!s||r==n)){h=c+""+l+i[o].prefix;break}}else for(o=0;o<n.length;o++)if(e<=n[o].number){r=e/n[o].number,l=Math.abs(Math.floor(Math.log(r)*Math.LOG10E)),h=c+""+(r=t.roundTo(r,l))+n[o].prefix;break}return h},t.remove=function(t){t&&t.remove()},t.getEffect=function(t){return">"==t&&(t="easeOutSine"),"<"==t&&(t="easeInSine"),"elastic"==t&&(t="easeOutElastic"),t},t.getObjById=function(t,e){var i,n;for(n=0;n<t.length;n++){var a=t[n];if(a.id==e){i=a;break}}return i},t.applyTheme=function(e,i,n){i||(i=t.theme);try{i=JSON.parse(JSON.stringify(i))}catch(t){}i&&i[n]&&t.extend(e,i[n])},t.isString=function(t){return"string"==typeof t},t.extend=function(t,e,i){var n;t||(t={});for(n in e)i?t.hasOwnProperty(n)||(t[n]=e[n]):t[n]=e[n];return t},t.copyProperties=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"events"!=i&&void 0!==t[i]&&"function"!=typeof t[i]&&"cname"!=i&&(e[i]=t[i])},t.processObject=function(e,i,n,a){if(!1==e instanceof i&&(e=a?t.extend(new i(n),e):t.extend(e,new i(n),!0)).listeners)for(var s in e.listeners)i=e.listeners[s],e.addListener(i.event,i.method);return e},t.fixNewLines=function(t){var e=RegExp("\\n","g");return t&&(t=t.replace(e,"<br />")),t},t.fixBrakes=function(e){if(t.isModern){var i=RegExp("<br>","g");e&&(e=e.replace(i,"\n"))}else e=t.fixNewLines(e);return e},t.deleteObject=function(e,i){if(e&&(void 0!==i&&null!==i||(i=20),0!==i))if("[object Array]"===Object.prototype.toString.call(e))for(var n=0;n<e.length;n++)t.deleteObject(e[n],i-1),e[n]=null;else if(e&&!e.tagName)try{for(n in e.theme=null,e)e[n]&&("object"==typeof e[n]&&t.deleteObject(e[n],i-1),"function"!=typeof e[n]&&(e[n]=null))}catch(t){}},t.bounce=function(t,e,i,n,a){return(e/=a)<1/2.75?7.5625*n*e*e+i:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},t.easeInOutQuad=function(t,e,i,n,a){return 1>(e/=a/2)?n/2*e*e+i:(e--,-n/2*(e*(e-2)-1)+i)},t.easeInSine=function(t,e,i,n,a){return-n*Math.cos(e/a*(Math.PI/2))+n+i},t.easeOutSine=function(t,e,i,n,a){return n*Math.sin(e/a*(Math.PI/2))+i},t.easeOutElastic=function(t,e,i,n,a){t=1.70158;var s=0,o=n;return 0===e?i:1==(e/=a)?i+n:(s||(s=.3*a),o<Math.abs(n)?(o=n,t=s/4):t=s/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*e)*Math.sin(2*(e*a-t)*Math.PI/s)+n+i)},t.fixStepE=function(e){e=e.toExponential(0).split("e");var i=Number(e[1]);return 9==Number(e[0])&&i++,t.generateNumber(1,i)},t.generateNumber=function(t,e){var i,n="";i=0>e?Math.abs(e)-1:Math.abs(e);var a;for(a=0;a<i;a++)n+="0";return 0>e?Number("0."+n+String(t)):Number(String(t)+n)},t.setCN=function(t,e,i,n){if(t.addClassNames&&e&&(e=e.node)&&i){var a=e.getAttribute("class");t=t.classNamePrefix+"-",n&&(t=""),a?e.setAttribute("class",a+" "+t+i):e.setAttribute("class",t+i)}},t.removeCN=function(t,e,i){e&&(e=e.node)&&i&&(e=e.classList)&&e.remove(t.classNamePrefix+"-"+i)},t.parseDefs=function(e,i){for(var n in e){var a=typeof e[n];if(0<e[n].length&&"object"==a)for(var s=0;s<e[n].length;s++)a=document.createElementNS(t.SVG_NS,n),i.appendChild(a),t.parseDefs(e[n][s],a);else"object"==a?(a=document.createElementNS(t.SVG_NS,n),i.appendChild(a),t.parseDefs(e[n],a)):i.setAttribute(n,e[n])}}}(),function(){var t=window.AmCharts;t.AxisBase=t.Class({construct:function(e){this.createEvents("clickItem","rollOverItem","rollOutItem"),this.titleDY=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,this.bcn="axis-",this.centerLabels=!1,this.firstDayOfWeek=1,this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0,this.periods=[{period:"fff",count:1},{period:"fff",count:5},{period:"fff",count:10},{period:"fff",count:50},{period:"fff",count:100},{period:"fff",count:500},{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"NN:SS.QQQ"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"},t.applyTheme(this,e,"AxisBase")},zoom:function(t,e){this.start=t,this.end=e,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var t=this.position;"H"==this.orientation?("left"==t&&(t="bottom"),"right"==t&&(t="top")):("bottom"==t&&(t="left"),"top"==t&&(t="right")),this.position=t},init:function(){this.createBalloon()},draw:function(){var t=this.chart;this.prevBY=this.prevBX=NaN,this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.setBalloonBounds(),this.labels=[];var e=t.container,i=e.set();t.gridSet.push(i),this.set=i,e=e.set(),t.axesLabelsSet.push(e),this.labelsSet=e,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?3>(t=this.height/this.minVerticalGap)&&(t=3):t=this.width/this.minHorizontalGap,this.gridCountR=Math.max(t,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(t){this.orientation=t?"H":"V"},addTitle:function(){var e=this.title;if(this.titleLabel=null,e){var i=this.chart,n=this.titleColor;void 0===n&&(n=i.color);var a=this.titleFontSize;isNaN(a)&&(a=i.fontSize+1),e=t.text(i.container,e,n,i.fontFamily,a,this.titleAlign,this.titleBold),t.setCN(i,e,this.bcn+"title"),this.titleLabel=e}},positionTitle:function(){var e=this.titleLabel;if(e){var i,n,a={};0<(s=this.labelsSet).length()?a=s.getBBox():(a.x=0,a.y=0,a.width=this.width,a.height=this.height,t.VML&&(a.y+=this.y,a.x+=this.x)),s.push(e);var s=a.x,o=a.y;t.VML&&(o-=this.y,s-=this.x);var r=a.width,a=a.height,l=this.width,h=this.height,c=0,d=e.getBBox().height/2,u=this.inside,p=this.titleAlign;switch(this.position){case"top":i="left"==p?-1:"right"==p?l:l/2,n=o-10-d;break;case"bottom":i="left"==p?-1:"right"==p?l:l/2,n=o+a+10+d;break;case"left":i=s-10-d,u&&(i-=5),c=-90,n=("left"==p?h+1:"right"==p?-1:h/2)+this.titleDY;break;case"right":i=s+r+10+d,u&&(i+=7),n=("left"==p?h+2:"right"==p?-2:h/2)+this.titleDY,c=-90}this.marginsChanged?(e.translate(i,n),this.tx=i,this.ty=n):e.translate(this.tx,this.ty),this.marginsChanged=!1,isNaN(this.titleRotation)||(c=this.titleRotation),0!==c&&e.rotate(c)}},pushAxisItem:function(t,e){var i=this,n=t.graphics();0<n.length()&&(e?i.labelsSet.push(n):i.set.push(n)),(n=t.getLabel())&&(i.labelsSet.push(n),n.click(function(e){i.handleMouse(e,t,"clickItem")}).touchend(function(e){i.handleMouse(e,t,"clickItem")}).mouseover(function(e){i.handleMouse(e,t,"rollOverItem")}).mouseout(function(e){i.handleMouse(e,t,"rollOutItem")}))},handleMouse:function(t,e,i){this.fire({type:i,value:e.value,serialDataItem:e.serialDataItem,axis:this,target:e.label,chart:this.chart,event:t})},addGuide:function(e){for(var i=this.guides,n=!1,a=i.length,s=0;s<i.length;s++)i[s]==e&&(n=!0,a=s);(e=t.processObject(e,t.Guide,this.theme)).id||(e.id="guideAuto"+a+"_"+(new Date).getTime()),n||i.push(e)},removeGuide:function(t){var e,i=this.guides;for(e=0;e<i.length;e++)i[e]==t&&i.splice(e,1)},handleGuideOver:function(t){clearTimeout(this.chart.hoverInt);var e=t.graphics.getBBox(),i=this.x+e.x+e.width/2,e=this.y+e.y+e.height/2,n=t.fillColor;void 0===n&&(n=t.lineColor),this.chart.showBalloon(t.balloonText,n,!0,i,e)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(t,e){var i=this;t.mouseover(function(){i.handleGuideOver(e)}),t.touchstart(function(){i.handleGuideOver(e)}),t.mouseout(function(){i.handleGuideOut(e)})},getBBox:function(){var e;return this.labelsSet&&(e=this.labelsSet.getBBox()),e?t.VML||(e={x:e.x+this.x,y:e.y+this.y,width:e.width,height:e.height}):e={x:0,y:0,width:0,height:0},e},destroy:function(){t.remove(this.set),t.remove(this.labelsSet);var e=this.axisLine;e&&t.remove(e.axisSet),t.remove(this.grid0)},chooseMinorFrequency:function(t){for(var e=10;0<e;e--)if(t/e==Math.round(t/e))return t/e},parseDatesDraw:function(){var e,i,n,a,s,o,r,l=this.chart,h=this.showFirstLabel,c=this.showLastLabel,d="",u=t.extractPeriod(this.minPeriod),p=t.getPeriodDuration(u.period,u.count),f=this.firstDayOfWeek,m=this.boldPeriodBeginning;e=this.minorGridEnabled;var g,v,b=this.gridAlpha,y=(x=this.choosePeriod(0)).period,x=x.count,w=t.getPeriodDuration(y,x);w<p&&(y=u.period,x=u.count,w=p),"WW"==(u=y)&&(u="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var T=Math.ceil(this.timeDifference/w)+5,C=n=t.resetDateToMin(new Date(this.startTime-w),y,x,f).getTime();(u==y&&1==x&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)&&(s=w*this.stepWidth,this.autoWrap&&!this.centerLabels&&(s=-s)),this.cellWidth=p*this.stepWidth,p=-1,(o=Math.round(n/w))/2==Math.round(o/2)&&(p=-2,n-=w),o=this.firstTime;var S=0,M=0;if(e&&1<x&&(g=this.chooseMinorFrequency(x),v=t.getPeriodDuration(y,g),"DD"==y&&(v+=t.getPeriodDuration("hh")),"fff"==y&&(v=1)),0<this.gridCountR)for(T-5-p>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),e=p;e<=T;e++){if(r=o+w*(e+Math.floor((C-o)/w))-S,"DD"==y&&(r+=36e5),r=t.resetDateToMin(new Date(r),y,x,f).getTime(),"MM"==y&&(i=(r-n)/w,1.5<=(r-n)/w&&(r=r-(i-1)*w+t.getPeriodDuration("DD",3),r=t.resetDateToMin(new Date(r),y,1).getTime(),S+=w)),i=(r-this.startTime)*this.stepWidth,"radar"==l.type){if(0>(i=this.axisWidth-i)||i>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(M=-w*this.stepWidth/2):"date"==this.type&&(i=this.axisWidth-i);if(d=!1,this.nextPeriod[u]&&(d=this.checkPeriodChange(this.nextPeriod[u],1,r,n,u)),n=!1,d&&this.markPeriodChange?(d=this.dateFormatsObject[this.nextPeriod[u]],this.twoLineMode&&(d=this.dateFormatsObject[u]+"\n"+d,d=t.fixBrakes(d)),n=!0):d=this.dateFormatsObject[u],m||(n=!1),this.currentDateFormat=d,d=t.formatDate(new Date(r),d,l),(e==p&&!h||e==T&&!c)&&(d=" "),this.labelFunction&&(d=this.labelFunction(d,new Date(r),this,y,x,a).toString()),this.boldLabels&&(n=!0),a=new this.axisItemRenderer(this,i,d,!1,s,M,!1,n),this.pushAxisItem(a),a=n=r,!isNaN(g))for(i=1;i<x;i+=g)this.gridAlpha=this.minorGridAlpha,d=r+v*i,d=t.resetDateToMin(new Date(d),y,g,f).getTime(),d=new this.axisItemRenderer(this,(d-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(d);this.gridAlpha=b}},choosePeriod:function(e){var i=t.getPeriodDuration(this.periods[e].period,this.periods[e].count),n=this.periods;return this.timeDifference<i&&0<e?n[e-1]:Math.ceil(this.timeDifference/i)<=this.gridCountR?n[e]:e+1<n.length?this.choosePeriod(e+1):n[e]},getStepWidth:function(t){var e;return this.startOnAxis?(e=this.axisWidth/(t-1),1==t&&(e=this.axisWidth)):e=this.axisWidth/t,e},timeZoom:function(t,e){this.startTime=t,this.endTime=e},minDuration:function(){var e=t.extractPeriod(this.minPeriod);return t.getPeriodDuration(e.period,e.count)},checkPeriodChange:function(e,i,n,a,s){n=new Date(n);var o=new Date(a),r=this.firstDayOfWeek;return a=i,"DD"==e&&(i=1),n=t.resetDateToMin(n,e,i,r).getTime(),i=t.resetDateToMin(o,e,i,r).getTime(),!("DD"==e&&"hh"!=s&&n-i<t.getPeriodDuration(e,a)-t.getPeriodDuration("hh",1))&&n!=i},generateDFObject:function(){this.dateFormatsObject={};var t;for(t=0;t<this.dateFormats.length;t++){var e=this.dateFormats[t];this.dateFormatsObject[e.period]=e.format}},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide(),this.prevBY=this.prevBX=NaN},formatBalloonText:function(t){return t},showBalloon:function(t,e,i,n){var a=this.offset;switch(this.position){case"bottom":e=this.height+a;break;case"top":e=-a;break;case"left":t=-a;break;case"right":t=this.width+a}if(i||(i=this.currentDateFormat),"V"==this.orientation){if(0>e||e>this.height)return;if(isNaN(e))return void this.hideBalloon();e=this.adjustBalloonCoordinate(e,n),n=this.coordinateToValue(e)}else{if(0>t||t>this.width)return;if(isNaN(t))return void this.hideBalloon();t=this.adjustBalloonCoordinate(t,n),n=this.coordinateToValue(t)}var s;(a=this.chart.chartCursor)&&(s=a.index),this.balloon&&void 0!==n&&this.balloon.enabled&&(this.balloonTextFunction?("date"!=this.type&&!0!==this.parseDates||(n=new Date(n)),n=this.balloonTextFunction(n)):this.balloonText?n=this.formatBalloonText(this.balloonText,s,i):isNaN(n)||(n=this.formatValue(n,i)),t==this.prevBX&&e==this.prevBY||(this.balloon.setPosition(t,e),this.prevBX=t,this.prevBY=e,n&&this.balloon.showBalloon(n)))},adjustBalloonCoordinate:function(t){return t},createBalloon:function(){var e=this.chart,i=e.chartCursor;i&&("mouse"!=(i=i.cursorPosition)&&(this.stickBalloonToCategory=!0),"start"==i&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1)),this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),t.extend(this.balloon,e.balloon,!0))},setBalloonBounds:function(){var t=this.balloon;if(t){var e=this.chart;t.cornerRadius=0,t.shadowAlpha=0,t.borderThickness=1,t.borderAlpha=1,t.adjustBorderColor=!1,t.showBullet=!1,this.balloon=t,t.chart=e,t.mainSet=e.plotBalloonsSet,t.pointerWidth=this.tickLength,(this.parseDates||"date"==this.type)&&(t.pointerWidth=0),t.className=this.id,e="V","V"==this.orientation&&(e="H"),this.stickBalloonToCategory||(t.animationDuration=0);var i,n,a,s,o=this.inside,r=this.width,l=this.height;switch(this.position){case"bottom":i=0,n=r,o?(a=0,s=l):(a=l,s=l+1e3);break;case"top":i=0,n=r,o?(a=0,s=l):(a=-1e3,s=0);break;case"left":a=0,s=l,o?(i=0,n=r):(i=-1e3,n=0);break;case"right":a=0,s=l,o?(i=0,n=r):(i=r,n=r+1e3)}t.drop||(t.pointerOrientation=e),t.setBounds(i,a,n,s)}}})}(),function(){var t=window.AmCharts;t.ValueAxis=t.Class({inherits:t.AxisBase,construct:function(e){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed","axisIntZoomed"),t.ValueAxis.base.construct.call(this,e),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.axisFrequency=1,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.pointPosition="axis",this.minMaxMultiplier=1,this.logGridLimit=2,this.totalTextOffset=this.treatZeroAs=0,this.minPeriod="ss",this.relativeStart=0,this.relativeEnd=1,t.applyTheme(this,e,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var e=this.chart;"xy"!=e.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(t.isString(this.synchronizeWith)&&(this.synchronizeWith=e.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&this.strictMinMax&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR),this.strictMinMax&&(this.minimumDate&&(this.fullMin=this.minimumDate.getTime()),this.maximumDate&&(this.fullMax=this.maximumDate.getTime())))))},draw:function(){t.ValueAxis.base.draw.call(this);var e=this.chart,i=this.set;this.labelRotationR=this.labelRotation,t.setCN(e,this.set,"value-axis value-axis-"+this.id),t.setCN(e,this.labelsSet,"value-axis value-axis-"+this.id),t.setCN(e,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var n=this.type;if("duration"==n&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==n&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax()),this.logarithmic){var a=this.treatZeroAs,s=this.getExtremes(0,this.data.length-1).min;if(!isNaN(this.minimum)&&this.minimum<s&&(s=this.minimum),this.logMin=s,this.minReal<s&&(this.minReal=s),isNaN(this.minReal)&&(this.minReal=s),0<a&&0===s&&(this.minReal=s=a),0>=s||0>=this.minimum)return void this.fire({type:"logarithmicAxisFailed",chart:e})}this.grid0=null;var o,r,l=e.dx,h=e.dy,a=!1,s=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||1/0==this.min||-1/0==this.max)a=!0;else{"date"==this.type&&this.min==this.max&&(this.max+=this.minDuration(),this.min-=this.minDuration());var c=this.labelFrequency,d=this.showFirstLabel,u=this.showLastLabel,p=1,f=0;if(this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min==this.max))return;if(isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.logarithmic){r=Math.log(this.fullMax)*Math.LOG10E-Math.log(this.fullMin)*Math.LOG10E;g=Math.log(this.max)/Math.LN10-Math.log(this.fullMin)*Math.LOG10E;this.relativeStart=t.roundTo((Math.log(this.minReal)/Math.LN10-Math.log(this.fullMin)*Math.LOG10E)/r,5),this.relativeEnd=t.roundTo(g/r,5)}else this.relativeStart=t.roundTo(t.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),5),this.relativeEnd=t.roundTo(t.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1),5);var m,g=Math.round((this.maxCalc-this.minCalc)/this.step)+1;!0===s?(m=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/m,m>this.logGridLimit&&(g=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,f=Math.round(Math.log(this.minReal)*Math.LOG10E),g>this.gridCountR&&(p=Math.ceil(g/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);x=0;1>this.step&&-1<this.step&&(x=t.getDecimals(this.step)),this.integersOnly&&(x=0),x>this.maxDecCount&&(x=this.maxDecCount);var v=this.precision;isNaN(v)||(x=v),isNaN(this.maxZoom)&&(this.max=t.roundTo(this.max,this.maxDecCount),this.min=t.roundTo(this.min,this.maxDecCount)),(r={}).precision=x,r.decimalSeparator=e.nf.decimalSeparator,r.thousandsSeparator=e.nf.thousandsSeparator,this.numberFormatter=r;var b;for(this.exponential=!1,r=f;r<g;r+=p){w=t.roundTo(this.step*r+this.min,x);-1!=String(w).indexOf("e")&&(this.exponential=!0)}this.duration&&(this.maxInterval=t.getMaxInterval(this.max,this.duration));var y,x=this.step,w=this.minorGridAlpha;if(this.minorGridEnabled&&(y=this.getMinorGridStep(x,this.stepWidth*x)),this.autoGridCount||0!==this.gridCount)if("date"==n)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(g>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),n=this.minCalc,s&&(g++,n=this.maxCalc-g*x),this.gridCountReal=g,r=this.startCount=f;r<g;r+=p)if(f=x*r+n,f=t.roundTo(f,this.maxDecCount+1),(!this.integersOnly||Math.round(f)==f)&&(isNaN(v)||Number(t.toFixed(f,v))==f)){if(!0===s)if(m>this.logGridLimit)f=Math.pow(10,r);else if(0>=f&&0>=(f=n+x*r+x/2))continue;b=this.formatValue(f,!1,r),Math.round(r/c)!=r/c&&(b=void 0),(0===r&&!d||r==g-1&&!u)&&(b=" "),o=this.getCoordinate(f);var T;if(this.rotate&&this.autoWrap&&(T=this.stepWidth*x-10),b=new this.axisItemRenderer(this,o,b,void 0,T,void 0,void 0,this.boldLabels),this.pushAxisItem(b),f==this.baseValue&&"radar"!=e.type){var C,S,M=this.width,A=this.height;"H"==this.orientation?0<=o&&o<=M+1&&(C=[o,o,o+l],S=[A,0,h]):0<=o&&o<=A+1&&(C=[0,M,M+l],S=[o,o,o+h]),C&&(o=t.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(o=this.zeroGridAlpha),(o=t.line(e.container,C,S,this.gridColor,o,1,this.dashLength)).translate(this.x,this.y),this.grid0=o,e.axesSet.push(o),o.toBack(),t.setCN(e,o,this.bcn+"zero-grid-"+this.id),t.setCN(e,o,this.bcn+"zero-grid"))}if(!isNaN(y)&&0<w&&r<g-1){for(o=x/y,s&&(y=x*(r+p)+this.minCalc,y=t.roundTo(y,this.maxDecCount+1),m>this.logGridLimit&&(y=Math.pow(10,r+p)),o=9,y=(y-f)/o),M=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,A=1;A<o;A++){var k=this.getCoordinate(f+y*A),k=new this.axisItemRenderer(this,k,"",!1,0,0,!1,!1,0,!0);this.pushAxisItem(k)}this.gridAlpha=M}}if(m=this.guides,0<(T=m.length)){for(C=this.fillAlpha,r=this.fillAlpha=0;r<T;r++)S=m[r],l=NaN,y=S.above,isNaN(S.toValue)||(l=this.getCoordinate(S.toValue),b=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,S),this.pushAxisItem(b,y)),h=NaN,isNaN(S.value)||(h=this.getCoordinate(S.value),b=new this.axisItemRenderer(this,h,S.label,!0,NaN,(l-h)/2,S),this.pushAxisItem(b,y)),isNaN(l)&&(h-=3,l=h+3),S.balloonText&&b&&(c=b.label)&&this.addEventListeners(c,S),isNaN(l-h)||0>h&&0>l||(l=new this.guideFillRenderer(this,h,l,S),this.pushAxisItem(l,y),y=l.graphics(),S.graphics=y,S.balloonText&&this.addEventListeners(y,S));this.fillAlpha=C}b=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(b=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(b=this.max),s&&b<this.minReal&&(b=this.minReal),this.baseCoord=this.getCoordinate(b,!0),(b={type:"axisChanged",target:this,chart:e}).min=s?this.minReal:this.min,b.max=this.max,this.fire(b),this.axisCreated=!0}s=this.axisLine.set,b=this.labelsSet,i.translate(this.x,this.y),b.translate(this.x,this.y),this.positionTitle(),"radar"!=e.type&&s.toFront(),!this.visible||a?(i.hide(),s.hide(),b.hide()):(i.show(),s.show(),b.show()),this.axisY=this.y,this.axisX=this.x},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=t.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=t.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(e,i,n){var a=this.exponential,s=this.logarithmic,o=this.numberFormatter,r=this.chart;if(o)return!0===this.logarithmic&&(a=-1!=String(e).indexOf("e")),this.useScientificNotation&&(a=!0),this.usePrefixes&&(a=!1),a?(n=-1==String(e).indexOf("e")?e.toExponential(15):String(e),a=n.split("e"),n=Number(a[0]),a=Number(a[1]),n=t.roundTo(n,14),i||isNaN(this.precision)||(n=t.roundTo(n,this.precision)),10==n&&(n=1,a+=1),n=n+"e"+a,0===e&&(n="0"),1==e&&(n="1")):(s&&((a=String(e).split("."))[1]?(o.precision=a[1].length,0>n&&(o.precision=Math.abs(n)),i&&1<e&&(o.precision=0),i||isNaN(this.precision)||(o.precision=this.precision)):o.precision=-1),n=this.usePrefixes?t.addPrefix(e,r.prefixesOfBigNumbers,r.prefixesOfSmallNumbers,o,!i):t.formatNumber(e,o,o.precision)),this.duration&&(i&&(o.precision=0),n=t.formatDuration(e,this.duration,"",this.durationUnits,this.maxInterval,o)),"date"==this.type&&(n=t.formatDate(new Date(e),this.currentDateFormat,r)),this.recalculateToPercents?n+="%":(i=this.unit)&&(n="left"==this.unitPosition?i+n:n+i),this.labelFunction&&(n="date"==this.type?this.labelFunction(n,new Date(e),this).toString():this.labelFunction(e,n,this).toString()),n},getMinorGridStep:function(t,e){var i=[5,4,2];60>e&&i.shift();for(var n=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),a=0;a<i.length;a++){var s=t/i[a],o=Math.floor(Math.log(Math.abs(s))*Math.LOG10E);if(!(1<Math.abs(n-o)))if(1>t){if((o=Math.pow(10,-o)*s)==Math.round(o))return s}else if(s==Math.round(s))return s}},stackGraphs:function(e){var i=this.stackType;"stacked"==i&&(i="regular"),"line"==i&&(i="none"),"100% stacked"==i&&(i="100%"),this.stackType=i;var n,a,s,o,r,l,h=[],c=[],d=[],u=[],p=this.chart.graphs,f=this.baseValue,m=!1;if("line"!=e&&"step"!=e&&"smoothedLine"!=e||(m=!0),m&&("regular"==i||"100%"==i))for(r=0;r<p.length;r++)o=p[r],o.stackGraph=null,o.hidden||(s=o.type,o.chart==this.chart&&o.valueAxis==this&&e==s&&o.stackable&&(a&&(o.stackGraph=a),a=o));for(o=this.start-10,a=this.end+10,r=this.data.length-1,o=t.fitToBounds(o,0,r),a=t.fitToBounds(a,0,r),l=o;l<=a;l++){var g=0;for(r=0;r<p.length;r++)if((o=p[r]).hidden)o.newStack&&(d[l]=NaN,c[l]=NaN);else if(s=o.type,o.chart==this.chart&&o.valueAxis==this&&e==s&&o.stackable)if(s=this.data[l].axes[this.id].graphs[o.id],n=s.values.value,isNaN(n))o.newStack&&(d[l]=NaN,c[l]=NaN);else{var v=t.getDecimals(n);g<v&&(g=v),isNaN(u[l])?u[l]=Math.abs(n):u[l]+=Math.abs(n),u[l]=t.roundTo(u[l],g),v=o.fillToGraph,m&&v&&(v=this.data[l].axes[this.id].graphs[v.id])&&(s.values.open=v.values.value),"regular"==i&&(m&&(isNaN(h[l])?(h[l]=n,s.values.close=n,s.values.open=this.baseValue):(isNaN(n)?s.values.close=h[l]:s.values.close=n+h[l],s.values.open=h[l],h[l]=s.values.close)),"column"==e&&(o.newStack&&(d[l]=NaN,c[l]=NaN),s.values.close=n,0>n?(s.values.close=n,isNaN(c[l])?s.values.open=f:(s.values.close+=c[l],s.values.open=c[l]),c[l]=s.values.close):(s.values.close=n,isNaN(d[l])?s.values.open=f:(s.values.close+=d[l],s.values.open=d[l]),d[l]=s.values.close)))}}for(l=this.start;l<=this.end;l++)for(r=0;r<p.length;r++)(o=p[r]).hidden?o.newStack&&(d[l]=NaN,c[l]=NaN):(s=o.type,o.chart==this.chart&&o.valueAxis==this&&e==s&&o.stackable&&(s=this.data[l].axes[this.id].graphs[o.id],n=s.values.value,isNaN(n)||(h=n/u[l]*100,s.values.percents=h,s.values.total=u[l],o.newStack&&(d[l]=NaN,c[l]=NaN),"100%"==i&&(isNaN(c[l])&&(c[l]=0),isNaN(d[l])&&(d[l]=0),0>h?(s.values.close=t.fitToBounds(h+c[l],-100,100),s.values.open=c[l],c[l]=s.values.close):(s.values.close=t.fitToBounds(h+d[l],-100,100),s.values.open=d[l],d[l]=s.values.close)))))},recalculate:function(){var e,i=this.chart,n=i.graphs;for(e=0;e<n.length;e++){var a=n[e];if(a.valueAxis==this){var s="value";"candlestick"!=a.type&&"ohlc"!=a.type||(s="open");var o,r,l=this.end+2,l=t.fitToBounds(this.end+1,0,this.data.length-1);0<(p=this.start)&&p--;var h;if(r=this.start,a.compareFromStart&&(r=0),!isNaN(i.startTime)&&(h=i.categoryAxis)){var c=h.minDuration(),c=new Date(i.startTime+c/2),d=t.resetDateToMin(new Date(i.startTime),h.minPeriod).getTime();t.resetDateToMin(new Date(c),h.minPeriod).getTime()>d&&r++}for((h=i.recalculateFromDate)&&(h=t.getDate(h,i.dataDateFormat,"fff"),r=i.getClosestIndex(i.chartData,"time",h.getTime(),!0,0,i.chartData.length),l=i.chartData.length-1),h=r;h<=l&&(r=this.data[h].axes[this.id].graphs[a.id],o=r.values[s],a.recalculateValue&&(o=r.dataContext[a.valueField+a.recalculateValue]),isNaN(o));h++);for(this.recBaseValue=o,s=p;s<=l;s++){(r=this.data[s].axes[this.id].graphs[a.id]).percents={};var u,p=r.values;for(u in p)r.percents[u]="percents"!=u?p[u]/o*100-100:p[u]}}}},getMinMax:function(){var e,i=!1,n=this.chart,a=n.graphs;for(e=0;e<a.length;e++){var s=a[e].type;("line"==s||"step"==s||"smoothedLine"==s)&&this.expandMinMax&&(i=!0)}if(i&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==n.type&&(!0!==n.categoryAxis.parseDates||i||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),i=this.minMaxMultiplier,n=this.getExtremes(this.start,this.end),this.min=n.min,this.max=n.max,this.minRR=this.min,this.maxRR=this.max,i=(this.max-this.min)*(i-1),this.min-=i,this.max+=i,i=this.guides.length,this.includeGuidesInMinMax&&0<i)for(n=0;n<i;n++)(a=this.guides[n]).toValue<this.min&&(this.min=a.toValue),a.value<this.min&&(this.min=a.value),a.toValue>this.max&&(this.max=a.toValue),a.value>this.max&&(this.max=a.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),"date"==this.type&&this.getDateMinMax(),this.min>this.max&&(i=this.max,this.max=this.min,this.min=i),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.minCalc=this.min,this.maxCalc=this.max,this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),i=this.min,n=this.max,e=0===(a=this.max-this.min)?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(a))*Math.LOG10E))/10,isNaN(this.maximum)&&(this.max=Math.ceil(this.max/e)*e+e),isNaN(this.minimum)&&(this.min=Math.floor(this.min/e)*e-e),0>this.min&&0<=i&&(this.min=0),0<this.max&&0>=n&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),a=this.max-this.min,e=Math.pow(10,Math.floor(Math.log(Math.abs(a))*Math.LOG10E))/10,this.step=Math.ceil(a/this.gridCountR/e)*e,a=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),a=t.fixStepE(a),5<(e=Math.ceil(this.step/a))&&(e=10),5>=e&&2<e&&(e=5),this.step=Math.ceil(this.step/(a*e))*a*e,isNaN(this.setStep)||(this.step=this.setStep),1>a?(this.maxDecCount=Math.abs(Math.log(Math.abs(a))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=t.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&0<=i&&(this.min=0),0<this.max&&0>=n&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),a=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=a),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),this.logarithmic&&(2<Math.log(n)*Math.LOG10E-Math.log(i)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E)),this.maxReal=this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(n))*Math.LOG10E))):(i=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<i&&(this.minReal=this.min=10*i)))},getExtremes:function(t,e){var i,n,a;for(a=t;a<=e;a++){var s,o=this.data[a].axes[this.id].graphs;for(s in o)if(o.hasOwnProperty(s)){var r=this.chart.graphsById[s];if(r.includeInMinMax&&(!r.hidden||this.includeHidden)){isNaN(i)&&(i=1/0),isNaN(n)&&(n=-1/0),this.foundGraphs=!0,r=o[s].values,this.recalculateToPercents&&(r=o[s].percents);var l;if(this.minMaxField)(l=r[this.minMaxField])<i&&(i=l),l>n&&(n=l);else for(var h in r)r.hasOwnProperty(h)&&"percents"!=h&&"total"!=h&&"error"!=h&&((l=r[h])<i&&(i=l),l>n&&(n=l))}}}return{min:i,max:n}},zoomOut:function(t){this.maxZoom=this.minZoom=NaN,this.zoomToRelativeValues(0,1,t)},zoomToRelativeValues:function(t,e,i){if(this.reversed){n=t;t=1-e,e=1-n}var n,a=this.fullMax,s=(n=this.fullMin)+(a-n)*t,o=n+(a-n)*e;return 0<=this.minimum&&0>s&&(s=0),this.logarithmic&&(a=Math.log(a)*Math.LOG10E-Math.log(n)*Math.LOG10E,s=Math.pow(10,a*t+Math.log(n)*Math.LOG10E),o=Math.pow(10,a*e+Math.log(n)*Math.LOG10E)),this.zoomToValues(s,o,i)},zoomToValues:function(e,i,n){if(i<e){s=i;i=e,e=s}var a=this.fullMax,s=this.fullMin;if(this.relativeStart=(e-s)/(a-s),this.relativeEnd=(i-s)/(a-s),this.logarithmic){var a=Math.log(a)*Math.LOG10E-Math.log(s)*Math.LOG10E,o=Math.log(i)/Math.LN10-Math.log(s)*Math.LOG10E;this.relativeStart=(Math.log(e)/Math.LN10-Math.log(s)*Math.LOG10E)/a,this.relativeEnd=o/a}if(this.minZoom!=e||this.maxZoom!=i)return this.minZoom=e,this.maxZoom=i,s={type:"axisZoomed"},s.chart=this.chart,s.valueAxis=this,s.startValue=e,s.endValue=i,s.relativeStart=this.relativeStart,s.relativeEnd=this.relativeEnd,this.prevStartValue==e&&this.prevEndValue==i||this.fire(s),this.prevStartValue=e,this.prevEndValue=i,n||(e={},t.copyProperties(s,e),e.type="axisIntZoomed",this.fire(e)),0===this.relativeStart&&1==this.relativeEnd&&(this.maxZoom=this.minZoom=NaN),!0},coordinateToValue:function(t){if(isNaN(t))return NaN;var e=this.axisWidth,i=this.stepWidth,n=this.reversed,a=this.rotate,s=this.min,o=this.minReal;return!0===this.logarithmic?Math.pow(10,(a?!0===n?(e-t)/i:t/i:!0===n?t/i:(e-t)/i)+Math.log(o)*Math.LOG10E):!0===n?a?s-(t-e)/i:t/i+s:a?t/i+s:s-(t-e)/i},getCoordinate:function(t,e){if(isNaN(t))return NaN;var i=this.rotate,n=this.reversed,a=this.axisWidth,s=this.stepWidth,o=this.min,r=this.minReal;return!0===this.logarithmic?(0===t&&(t=this.treatZeroAs),o=Math.log(t)*Math.LOG10E-Math.log(r)*Math.LOG10E,i=i?!0===n?a-s*o:s*o:!0===n?s*o:a-s*o):i=!0===n?i?a-s*(t-o):s*(t-o):i?s*(t-o):a-s*(t-o),1e7<Math.abs(i)&&(i=i/Math.abs(i)*1e7),e||(i=Math.round(i)),i},synchronizeWithAxis:function(t){this.synchronizeWith=t,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){t.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var e=(n=this.synchronizeWith).min,i=n.max,n=n.step,a=this.synchronizationMultiplier;a&&(this.min=e*a,this.max=i*a,this.step=n*a,e=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=e=Math.round(e),this.draw())}}})}(),function(){var t=window.AmCharts;t.RecAxis=t.Class({construct:function(e){var i=e.chart,n=e.axisThickness,a=e.axisColor,s=e.axisAlpha,o=e.offset,r=e.dx,l=e.dy,h=e.x,c=e.y,d=e.height,u=e.width,p=i.container;"H"==e.orientation?(a=t.line(p,[0,u],[0,0],a,s,n),this.axisWidth=e.width,"bottom"==e.position?(l=n/2+o+d+c-1,n=h):(l=-n/2-o+c+l,n=r+h)):(this.axisWidth=e.height,"right"==e.position?(a=t.line(p,[0,0,-r],[0,d,d-l],a,s,n),l=c+l,n=n/2+o+r+u+h-1):(a=t.line(p,[0,0],[0,d],a,s,n),l=c,n=-n/2-o+h)),a.translate(n,l),(n=i.container.set()).push(a),i.axesSet.push(n),t.setCN(i,a,e.bcn+"line"),this.axisSet=n,this.set=a}})}(),function(){var t=window.AmCharts;t.RecItem=t.Class({construct:function(e,i,n,a,s,o,r,l,h,c,d,u){i=Math.round(i);var p=e.chart;this.value=n,void 0==n&&(n=""),h||(h=0),void 0==a&&(a=!0);var f=p.fontFamily,m=e.fontSize;void 0==m&&(m=p.fontSize);var g=e.color;void 0==g&&(g=p.color),void 0!==d&&(g=d);var v=e.chart.container,b=v.set();this.set=b;var y=e.axisThickness,x=e.axisColor,w=e.axisAlpha,T=e.tickLength,C=e.gridAlpha,S=e.gridThickness,M=e.gridColor,A=e.dashLength,k=e.fillColor,D=e.fillAlpha,P=e.labelsEnabled;d=e.labelRotationR;var _,N,E=e.counter,O=e.inside,I=e.labelOffset,L=e.dx,B=e.dy,R=e.orientation,$=e.position,H=e.previousCoord,V=e.height,G=e.width,F=e.offset;r?(void 0!==r.id&&(u=p.classNamePrefix+"-guide-"+r.id),P=!0,isNaN(r.tickLength)||(T=r.tickLength),void 0!=r.lineColor&&(M=r.lineColor),void 0!=r.color&&(g=r.color),isNaN(r.lineAlpha)||(C=r.lineAlpha),isNaN(r.dashLength)||(A=r.dashLength),isNaN(r.lineThickness)||(S=r.lineThickness),!0===r.inside&&(O=!0,0<F&&(F=0)),isNaN(r.labelRotation)||(d=r.labelRotation),isNaN(r.fontSize)||(m=r.fontSize),r.position&&($=r.position),void 0!==r.boldLabel&&(l=r.boldLabel),isNaN(r.labelOffset)||(I=r.labelOffset)):""===n&&(T=0),c&&!isNaN(e.minorTickLength)&&(T=e.minorTickLength);var W="start";0<s&&(W="middle"),e.centerLabels&&(W="middle");var Y,j,z=d*Math.PI/180,X=0,U=0,q=0,Q=Y=0,Z=0;"V"==R&&(d=0);var K;P&&""!==n&&(K=e.autoWrap&&0===d?t.wrappedText(v,n,g,f,m,W,l,Math.abs(s),0):t.text(v,n,g,f,m,W,l),W=K.getBBox(),Q=W.width,Z=W.height),"H"==R?(0<=i&&i<=G+1&&(0<T&&0<w&&i+h<=G+1&&(_=t.line(v,[i+h,i+h],[0,T],x,w,S),b.push(_)),0<C&&(N=t.line(v,[i,i+L,i+L],[V,V+B,B],M,C,S,A),b.push(N))),U=0,X=i,r&&90==d&&O&&(X-=m),!1===a?(W="start",U="bottom"==$?O?U+T:U-T:O?U-T:U+T,X+=3,0<s&&(X+=s/2-3,W="middle"),0<d&&(W="middle")):W="middle",1==E&&0<D&&!r&&!c&&H<G&&(a=t.fitToBounds(i,0,G),H=t.fitToBounds(H,0,G),0<(Y=a-H)&&((j=t.rect(v,Y,e.height,k,D)).translate(a-Y+L,B),b.push(j))),"bottom"==$?(U+=V+m/2+F,O?(0<d?(U=V-Q/2*Math.sin(z)-T-3,e.centerRotatedLabels||(X+=Q/2*Math.cos(z)-4+2)):0>d?(U=V+Q*Math.sin(z)-T-3+2,X+=-Q*Math.cos(z)-Z*Math.sin(z)-4):U-=T+m+3+3,U-=I):(0<d?(U=V+Q/2*Math.sin(z)+T+3,e.centerRotatedLabels||(X-=Q/2*Math.cos(z))):0>d?(U=V+T+3-Q/2*Math.sin(z)+2,X+=Q/2*Math.cos(z)):U+=T+y+3+3,U+=I)):(U+=B+m/2-F,X+=L,O?(0<d?(U=Q/2*Math.sin(z)+T+3,e.centerRotatedLabels||(X-=Q/2*Math.cos(z))):U+=T+3,U+=I):(0<d?(U=-Q/2*Math.sin(z)-T-6,e.centerRotatedLabels||(X+=Q/2*Math.cos(z))):U-=T+m+3+y+3,U-=I)),"bottom"==$?Y=(O?V-T-1:V+y-1)+F:(q=L,Y=(O?B:B-T-y+1)-F),o&&(X+=o),m=X,0<d&&(m+=Q/2*Math.cos(z)),K&&(o=0,O&&(o=Q/2*Math.cos(z)),m+o>G+2||0>m)&&(K.remove(),K=null)):(0<=i&&i<=V+1&&(0<T&&0<w&&i+h<=V+1&&(_=t.line(v,[0,T+1],[i+h,i+h],x,w,S),b.push(_)),0<C&&(N=t.line(v,[0,L,G+L],[i,i+B,i+B],M,C,S,A),b.push(N))),W="end",(!0===O&&"left"==$||!1===O&&"right"==$)&&(W="start"),U=i-Z/2+2,1==E&&0<D&&!r&&!c&&(a=t.fitToBounds(i,0,V),H=t.fitToBounds(H,0,V),z=a-H,(j=t.polygon(v,[0,e.width,e.width,0],[0,0,z,z],k,D)).translate(L,a-z+B),b.push(j)),U+=m/2,"right"==$?(X+=L+G+F,U+=B,O?(o||(U-=m/2+3),X=X-(T+4)-I):(X+=T+4+y,U-=2,X+=I)):O?(X+=T+4-F,o||(U-=m/2+3),r&&(X+=L,U+=B),X+=I):(X+=-T-y-4-2-F,U-=2,X-=I),_&&("right"==$?(q+=L+F+G-1,Y+=B,q=O?q-y:q+y):(q-=F,O||(q-=T+y))),o&&(U+=o),O=-3,"right"==$&&(O+=B),K&&(U>V+1||U<O-m/10)&&(K.remove(),K=null)),_&&(_.translate(q,Y),t.setCN(p,_,e.bcn+"tick"),t.setCN(p,_,u,!0),r&&t.setCN(p,_,"guide")),!1===e.visible&&(_&&_.remove(),K&&(K.remove(),K=null)),K&&(K.attr({"text-anchor":W}),K.translate(X,U,NaN,!0),0!==d&&K.rotate(-d,e.chart.backgroundColor),e.allLabels.push(K),this.label=K,t.setCN(p,K,e.bcn+"label"),t.setCN(p,K,u,!0),r&&t.setCN(p,K,"guide")),N&&(t.setCN(p,N,e.bcn+"grid"),t.setCN(p,N,u,!0),r&&t.setCN(p,N,"guide")),j&&(t.setCN(p,j,e.bcn+"fill"),t.setCN(p,j,u,!0)),c?N&&t.setCN(p,N,e.bcn+"grid-minor"):(e.counter=0===E?1:0,e.previousCoord=i),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var t=window.AmCharts;t.RecFill=t.Class({construct:function(e,i,n,a){var s=e.dx,o=e.dy,r=e.orientation,l=0;if(n<i){c=i;i=n,n=c}var h=a.fillAlpha;isNaN(h)&&(h=0);var c=e.chart.container,d=a.fillColor;"V"==r?(i=t.fitToBounds(i,0,e.height),n=t.fitToBounds(n,0,e.height)):(i=t.fitToBounds(i,0,e.width),n=t.fitToBounds(n,0,e.width)),n-=i,isNaN(n)&&(n=4,l=2,h=0),0>n&&"object"==typeof d&&(d=d.join(",").split(",").reverse()),"V"==r?(r=t.rect(c,e.width,n,d,h)).translate(s,i-l+o):(r=t.rect(c,n,e.height,d,h)).translate(i-l+s,o),t.setCN(e.chart,r,"guide-fill"),a.id&&t.setCN(e.chart,r,"guide-fill-"+a.id),this.set=c.set([r])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var t=window.AmCharts;t.AmChart=t.Class({construct:function(e){this.svgIcons=this.tapToActivate=!0,this.theme=e,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.20.20",t.addChart(this),this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.autoResize=!0,this.autoDisplay=!1,this.addCodeCredits=this.accessible=!0,this.touchStartTime=this.touchClickDuration=0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var i=document.createElement("div"),n=i.style;n.overflow="hidden",n.position="relative",n.textAlign="left",this.chartDiv=i,(n=(i=document.createElement("div")).style).overflow="hidden",n.position="relative",n.textAlign="left",this.legendDiv=i,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.cssScale=this.handDrawThickness=1,this.cssAngle=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"μ"},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new t.AmBalloon(this.theme),this.balloon.chart=this,this.processTimeout=0,this.processCount=1e3,this.animatable=[],this.langObj={},t.applyTheme(this,e,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(t,e,i){this.accessible&&t&&(i&&t.setAttr("role",i),t.setAttr("aria-label",e))},drawBackground:function(){t.remove(this.background);var e=this.container,i=this.backgroundColor,n=this.backgroundAlpha,a=this.set;t.isModern||0!==n||(n=.001);var s=this.updateWidth();this.realWidth=s;var o=this.updateHeight();this.realHeight=o,i=t.polygon(e,[0,s-1,s-1,0],[0,0,o-1,o-1],i,n,1,this.borderColor,this.borderAlpha),t.setCN(this,i,"bg"),this.background=i,a.push(i),(i=this.backgroundImage)&&(e=e.image(i,0,0,s,o),t.setCN(this,i,"bg-image"),this.bgImg=e,a.push(e))},drawTitles:function(e){var i=this.titles;if(this.titleHeight=0,t.ifArray(i)){var n,a=20;for(n=0;n<i.length;n++){var s=i[n];if(!1!==(s=t.processObject(s,t.Title,this.theme)).enabled){var o=s.color;void 0===o&&(o=this.color);var r=s.size;isNaN(r)&&(r=this.fontSize+2),isNaN(s.alpha);var l=this.marginLeft,h=!0;void 0!==s.bold&&(h=s.bold),(o=t.wrappedText(this.container,s.text,o,this.fontFamily,r,"middle",h,this.realWidth-35)).translate(l+(this.realWidth-this.marginRight-l)/2,a),o.node.style.pointerEvents="none",s.sprite=o,void 0!==s.tabIndex&&o.setAttr("tabindex",s.tabIndex),t.setCN(this,o,"title"),s.id&&t.setCN(this,o,"title-"+s.id),o.attr({opacity:s.alpha}),a+=o.getBBox().height+5,e?o.remove():this.freeLabelsSet.push(o)}}this.titleHeight=a-10}},write:function(t){var e=this;if(e.listeners)for(var i=0;i<e.listeners.length;i++){var n=e.listeners[i];e.addListener(n.event,n.method)}e.fire({type:"buildStarted",chart:e}),e.afterWriteTO&&clearTimeout(e.afterWriteTO),0<e.processTimeout?e.afterWriteTO=setTimeout(function(){e.afterWrite.call(e,t)},e.processTimeout):e.afterWrite(t)},afterWrite:function(e){var i;if(i="object"!=typeof e?document.getElementById(e):e){for(;i.firstChild;)i.removeChild(i.firstChild);this.div=i,i.style.overflow="hidden",i.style.textAlign="left",e=this.chartDiv;var n=this.legendDiv,a=this.legend,s=n.style,o=e.style;this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth;var r,l=document.createElement("div");if(r=l.style,r.position="relative",this.containerDiv=l,l.className=this.classNamePrefix+"-main-div",e.className=this.classNamePrefix+"-chart-div",i.appendChild(l),(i=this.exportConfig)&&t.AmExport&&!this.AmExport&&(this.AmExport=new t.AmExport(this,i)),this.amExport&&t.AmExport&&(this.AmExport=t.extend(this.amExport,new t.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),a){if((a=this.addLegend(a,a.divId)).enabled)switch(s.left=null,s.top=null,s.right=null,o.left=null,o.right=null,o.top=null,s.position="relative",o.position="relative",r.width="100%",r.height="100%",a.position){case"bottom":l.appendChild(e),l.appendChild(n);break;case"top":l.appendChild(n),l.appendChild(e);break;case"absolute":s.position="absolute",o.position="absolute",void 0!==a.left&&(s.left=a.left+"px"),void 0!==a.right&&(s.right=a.right+"px"),void 0!==a.top&&(s.top=a.top+"px"),void 0!==a.bottom&&(s.bottom=a.bottom+"px"),a.marginLeft=0,a.marginRight=0,l.appendChild(e),l.appendChild(n);break;case"right":s.position="relative",o.position="absolute",l.appendChild(e),l.appendChild(n);break;case"left":s.position="absolute",o.position="relative",l.appendChild(e),l.appendChild(n);break;case"outside":l.appendChild(e)}else l.appendChild(e);this.prevLegendPosition=a.position}else l.appendChild(e);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),this.initChart()}},createLabelsSet:function(){t.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=t.processObject(this.balloon,t.AmBalloon,this.theme),window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=t.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=t.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(t.callInitHandler(this),this.initHC=!0),t.applyLang(this.language,this);var e=this.numberFormatter;e&&(isNaN(e.precision)||(this.precision=e.precision),void 0!==e.thousandsSeparator&&(this.thousandsSeparator=e.thousandsSeparator),void 0!==e.decimalSeparator&&(this.decimalSeparator=e.decimalSeparator)),(e=this.percentFormatter)&&!isNaN(e.precision)&&(this.percentPrecision=e.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(e=this.container)?(e.container.innerHTML="",e.width=this.realWidth,e.height=this.realHeight,e.addDefs(this),this.chartDiv.appendChild(e.container)):e=new t.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=e,this.extension=".png",this.svgIcons&&t.SVG&&(this.extension=".svg"),this.checkDisplay(),this.checkTransform(this.div),e.chart=this,t.VML||t.SVG?(e.handDrawn=this.handDrawn,e.handDrawScatter=this.handDrawScatter,e.handDrawThickness=this.handDrawThickness,t.remove(this.set),this.set=e.set(),t.remove(this.gridSet),this.gridSet=e.set(),t.remove(this.cursorLineSet),this.cursorLineSet=e.set(),t.remove(this.graphsBehindSet),this.graphsBehindSet=e.set(),t.remove(this.bulletBehindSet),this.bulletBehindSet=e.set(),t.remove(this.columnSet),this.columnSet=e.set(),t.remove(this.graphsSet),this.graphsSet=e.set(),t.remove(this.trendLinesSet),this.trendLinesSet=e.set(),t.remove(this.axesSet),this.axesSet=e.set(),t.remove(this.cursorSet),this.cursorSet=e.set(),t.remove(this.scrollbarsSet),this.scrollbarsSet=e.set(),t.remove(this.bulletSet),this.bulletSet=e.set(),t.remove(this.freeLabelsSet),this.freeLabelsSet=e.set(),t.remove(this.axesLabelsSet),this.axesLabelsSet=e.set(),t.remove(this.balloonsSet),this.balloonsSet=e.set(),t.remove(this.plotBalloonsSet),this.plotBalloonsSet=e.set(),t.remove(this.zoomButtonSet),this.zoomButtonSet=e.set(),t.remove(this.zbSet),this.zbSet=null,t.remove(this.linkSet),this.linkSet=e.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var t=this.div;if(t){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch(t){}var e=t.offsetWidth,i=t.offsetHeight;t.clientHeight&&(e=t.clientWidth,i=t.clientHeight),e==this.mw&&i==this.mh||(this.mw=e,this.mh=i,this.measure())}},measure:function(){if(s=this.div){var e=this.chartDiv,i=s.offsetWidth,n=s.offsetHeight,a=this.container;s.clientHeight&&(i=s.clientWidth,n=s.clientHeight);var n=Math.round(n),i=Math.round(i),s=Math.round(t.toCoordinate(this.width,i)),o=Math.round(t.toCoordinate(this.height,n));(i!=this.previousWidth||n!=this.previousHeight)&&0<s&&0<o&&(e.style.width=s+"px",e.style.height=o+"px",e.style.padding=0,a&&a.setSize(s,o),this.balloon=t.processObject(this.balloon,t.AmBalloon,this.theme)),this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,s-2,o),this.updateWidth(),this.balloon.chart=this,this.realWidth=s,this.realHeight=o,this.divRealWidth=i,this.divRealHeight=n}},checkDisplay:function(){if(this.autoDisplay&&this.container){var e=t.rect(this.container,10,10),i=e.getBBox();0===i.width&&0===i.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),e.remove()}},checkTransform:function(t){if(this.autoTransform&&window.getComputedStyle&&t){if(t.style){if((e=window.getComputedStyle(t,null))&&(e=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform"))&&"none"!==e){var e=(i=e.split("(")[1].split(")")[0].split(","))[0],i=i[1],e=Math.sqrt(e*e+i*i);isNaN(e)||(this.cssScale*=e)}}t.parentNode&&this.checkTransform(t.parentNode)}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy()},clearTimeOuts:function(){var t=this.timeOuts;if(t){var e;for(e=0;e<t.length;e++)clearTimeout(t[e])}this.timeOuts=[]},clear:function(e){try{document.removeEventListener("touchstart",this.docfn1,!0),document.removeEventListener("touchend",this.docfn2,!0)}catch(t){}if(t.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),e||t.removeChart(this),e=this.div)for(;e.firstChild;)e.removeChild(e.firstChild);this.legend&&this.legend.destroy(),this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(e){"auto"==e&&t.isNN&&(e="default"),this.chartDiv.style.cursor=e,this.legendDiv.style.cursor=e},redrawLabels:function(){this.labels=[];var t=this.allLabels;this.createLabelsSet();var e;for(e=0;e<t.length;e++)this.drawLabel(t[e])},drawLabel:function(e){var i=this;if(i.container&&!1!==e.enabled){var n=(e=t.processObject(e,t.Label,i.theme)).y,a=e.text,s=e.align,o=e.size,r=e.color,l=e.rotation,h=e.alpha,c=e.bold,d=t.toCoordinate(e.x,i.realWidth),n=t.toCoordinate(n,i.realHeight);d||(d=0),n||(n=0),void 0===r&&(r=i.color),isNaN(o)&&(o=i.fontSize),s||(s="start"),"left"==s&&(s="start"),"right"==s&&(s="end"),"center"==s&&(s="middle",l?n=i.realHeight-n+n/2:d=i.realWidth/2-d),void 0===h&&(h=1),void 0===l&&(l=0),n+=o/2,(a=t.text(i.container,a,r,i.fontFamily,o,s,c,h)).translate(d,n),void 0!==e.tabIndex&&a.setAttr("tabindex",e.tabIndex),t.setCN(i,a,"label"),e.id&&t.setCN(i,a,"label-"+e.id),0!==l&&a.rotate(l),e.url?(a.setAttr("cursor","pointer"),a.click(function(){t.getURL(e.url,i.urlTarget)})):a.node.style.pointerEvents="none",i.labelsSet.push(a),i.labels.push(a)}},addLabel:function(t,e,i,n,a,s,o,r,l,h){t={x:t,y:e,text:i,align:n,size:a,color:s,alpha:r,rotation:o,bold:l,url:h,enabled:!0},this.container&&this.drawLabel(t),this.allLabels.push(t)},clearLabels:function(){var t,e=this.labels;for(t=e.length-1;0<=t;t--)e[t].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var t=this.divRealHeight,e=this.legend;if(e){var i=this.legendDiv.offsetHeight;"top"!=(e=e.position)&&"bottom"!=e||((0>(t-=i)||isNaN(t))&&(t=0),this.chartDiv.style.height=t+"px")}return t},updateWidth:function(){var t=this.divRealWidth,e=this.divRealHeight,i=this.legend;if(i){var n=(s=this.legendDiv).offsetWidth;isNaN(i.width)||(n=i.width),i.ieW&&(n=i.ieW);var a=s.offsetHeight,s=s.style,o=this.chartDiv.style,r=i.position;"right"!=r&&"left"!=r||void 0!==i.divId||((0>(t-=n)||isNaN(t))&&(t=0),o.width=t+"px",this.balloon.setBounds(2,2,t-2,this.realHeight),"left"==r?(o.left=n+"px",s.left="0px"):(o.left="0px",s.left=t+"px"),e>a&&(s.top=(e-a)/2+"px"))}return t},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(t,e,i,n,a){return isNaN(e)&&(e=this.fontSize+2),t={text:t,size:e,color:i,alpha:n,bold:a,enabled:!0},this.titles.push(t),t},handleWheel:function(t){var e=0;t||(t=window.event),t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e&&this.handleWheelReal(e,t.shiftKey),t.preventDefault&&t.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.handleMouseMove(),this.tmx=this.mouseX,this.tmy=this.mouseY,this.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(t){var e=this,i=(new Date).getTime();if(t)if(t.touches)e.isTouchEvent=!0;else if(!e.isTouchEvent)return!0;if(i-e.touchStartTime>e.touchClickDuration)return!0;setTimeout(function(){e.resetTouchDuration()},300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){if(4<Math.abs(this.mouseX-this.tmx)||4<Math.abs(this.mouseY-this.tmy))return!0},addListeners:function(){var t=this,e=t.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(e.addEventListener("touchstart",function(e){t.handleTouchStart.call(t,e)},!0),e.addEventListener("touchmove",function(e){t.handleMouseMove.call(t,e)},!0),e.addEventListener("touchend",function(e){t.handleTouchEnd.call(t,e)},!0),t.docfn1=function(e){t.handleDocTouchStart.call(t,e)},t.docfn2=function(e){t.handleDocTouchEnd.call(t,e)},document.addEventListener("touchstart",t.docfn1,!0),document.addEventListener("touchend",t.docfn2,!0)),e.addEventListener("mousedown",function(e){t.mouseIsOver=!0,t.handleMouseMove.call(t,e),t.handleMouseDown.call(t,e),t.handleDocTouchStart.call(t,e)},!0),e.addEventListener("mouseover",function(e){t.handleMouseOver.call(t,e)},!0),e.addEventListener("mouseout",function(e){t.handleMouseOut.call(t,e)},!0),e.addEventListener("mouseup",function(e){t.handleDocTouchEnd.call(t,e)},!0)):(e.attachEvent("onmousedown",function(e){t.handleMouseDown.call(t,e)}),e.attachEvent("onmouseover",function(e){t.handleMouseOver.call(t,e)}),e.attachEvent("onmouseout",function(e){t.handleMouseOut.call(t,e)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this})),this.skipEvents=!1},validateSize:function(){var t=this;if(t.premeasure(),t.checkDisplay(),t.cssScale=1,t.cssAngle=0,t.checkTransform(t.div),t.divRealWidth!=t.previousWidth||t.divRealHeight!=t.previousHeight){var e=t.legend;if(0<t.realWidth&&0<t.realHeight){if(t.sizeChanged=!0,e){t.legendInitTO&&clearTimeout(t.legendInitTO);var i=setTimeout(function(){e.invalidateSize()},10);t.timeOuts.push(i),t.legendInitTO=i}t.marginsUpdated=!1,clearTimeout(t.initTO),i=setTimeout(function(){t.initChart()},10),t.timeOuts.push(i),t.initTO=i}t.renderFix(),e&&e.renderFix&&e.renderFix(),clearTimeout(t.resizedTO),t.resizedTO=setTimeout(function(){t.fire({type:"resized",chart:t})},10),t.previousHeight=t.divRealHeight,t.previousWidth=t.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var t=this;t.marginsUpdated=!1,clearTimeout(t.validateTO);var e=setTimeout(function(){t.validateSize()},5);t.timeOuts.push(e),t.validateTO=e},validateData:function(t){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(t))},validateNow:function(t,e){this.initTO&&clearTimeout(this.initTO),t&&(this.dataChanged=!0,this.marginsUpdated=!1),this.skipEvents=e,this.chartRendered=!1;var i=this.legend;i&&i.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,i.invalidateSize&&(i.invalidateSize(),this.validateSize())),this.write(this.div)},showItem:function(t){t.hidden=!1,this.initChart()},hideItem:function(t){t.hidden=!0,this.initChart()},hideBalloon:function(){var t=this;clearTimeout(t.hoverInt),clearTimeout(t.balloonTO),t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},t.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var t=this.balloon;t&&t.hide&&t.hide()},showBalloon:function(t,e,i,n,a){var s=this;clearTimeout(s.balloonTO),clearTimeout(s.hoverInt),s.balloonTO=setTimeout(function(){s.showBalloonReal.call(s,t,e,i,n,a)},1)},showBalloonReal:function(t,e,i,n,a){this.handleMouseMove();var s=this.balloon;s.enabled&&(s.followCursor(!1),s.changeColor(e),!i||s.fixedPosition?(s.setPosition(n,a),isNaN(n)||isNaN(a)?s.followCursor(!0):s.followCursor(!1)):s.followCursor(!0),t&&s.showBalloon(t))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),t.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var e=this;t.resetMouseOver(),e.outTO&&clearTimeout(e.outTO),e.outTO=setTimeout(function(){e.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(t){t||(t=window.event),this.mouse2Y=this.mouse2X=NaN;var e,i,n,a;if(t){if(t.touches){var s=t.touches.item(1);if(s&&this.panEventsEnabled&&this.boundingRect&&(n=s.clientX-this.boundingRect.left,a=s.clientY-this.boundingRect.top),!(t=t.touches.item(0)))return}else this.wasTouched=!1;this.boundingRect&&t.clientX&&(e=t.clientX-this.boundingRect.left,i=t.clientY-this.boundingRect.top),isNaN(n)?this.mouseX=e:(this.mouseX=Math.min(e,n),this.mouse2X=Math.max(e,n)),isNaN(a)?this.mouseY=i:(this.mouseY=Math.min(i,a),this.mouse2Y=Math.max(i,a)),this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(t){this.hideBalloonReal(),t&&(t.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(t),this.handleMouseDown(t))},handleTouchEnd:function(e){this.wasTouched=!0,this.handleMouseMove(e),t.resetMouseOver(),this.handleReleaseOutside(e)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(e){t.resetMouseOver(),this.mouseIsOver=!0,e&&e.preventDefault&&(this.panEventsEnabled?e.preventDefault():e.touches||e.preventDefault())},addLegend:function(e,i){(e=t.processObject(e,t.AmLegend,this.theme)).divId=i,e.ieW=0;var n;return n="object"!=typeof i&&i?document.getElementById(i):i,this.legend=e,e.chart=this,n?(e.div=n,e.position="outside",e.autoMargins=!1):e.div=this.legendDiv,e},removeLegend:function(){this.legend=void 0,this.previousWidth=0,this.legendDiv.innerHTML=""},handleResize:function(){(t.isPercents(this.width)||t.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!t.VML){var e=this.container;e&&e.renderFix()}},getSVG:function(){if(t.hasSVG)return this.container},animate:function(e,i,n,a,s,o,r){return e["an_"+i]&&t.removeFromArray(this.animations,e["an_"+i]),n={obj:e,frame:0,attribute:i,from:n,to:a,time:s,effect:o,suffix:r},e["an_"+i]=n,this.animations.push(n),n},setLegendData:function(t){var e=this.legend;e&&e.setData(t)},stopAnim:function(e){t.removeFromArray(this.animations,e)},updateAnimations:function(){var e;if(this.container&&this.container.update(),this.animations)for(e=this.animations.length-1;0<=e;e--){var i=this.animations[e],n=t.updateRate*i.time,a=i.frame+1,s=i.obj,o=i.attribute;if(a<=n){i.frame++;var r=Number(i.from),l=Number(i.to)-r,n=t[i.effect](0,a,r,l,n);0===l?(this.animations.splice(e,1),s.node.style[o]=Number(i.to)+i.suffix):s.node.style[o]=n+i.suffix}else s.node.style[o]=Number(i.to)+i.suffix,s.animationFinished=!0,this.animations.splice(e,1)}},update:function(){this.updateAnimations();var t=this.animatable;if(0<t.length){for(var e=!0,i=t.length-1;0<=i;i--){var n=t[i];n&&(n.animationFinished?t.splice(i,1):e=!1)}e&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch(t){return!0}},brr:function(){}}),t.Slice=t.Class({construct:function(){}}),t.SerialDataItem=t.Class({construct:function(){}}),t.GraphDataItem=t.Class({construct:function(){}}),t.Guide=t.Class({construct:function(e){this.cname="Guide",t.applyTheme(this,e,this.cname)}}),t.Title=t.Class({construct:function(e){this.cname="Title",t.applyTheme(this,e,this.cname)}}),t.Label=t.Class({construct:function(e){this.cname="Label",t.applyTheme(this,e,this.cname)}})}(),function(){var t=window.AmCharts;t.AmGraph=t.Class({construct:function(e){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.accessibleLabel="[[title]] [[category]] [[value]]",this.accessibleSkipText="Press enter to skip [[title]]",this.y=this.x=0,this.switchable=!0,this.tcc=this.minDistance=1,this.labelRotation=0,this.labelAnchor="auto",this.labelOffset=3,this.bcn="graph-",this.dateFormat="MMM DD, YYYY",this.noRounding=!0,t.applyTheme(this,e,this.cname)},init:function(){this.createBalloon()},draw:function(){var e=this.chart;e.isRolledOverBullet=!1;var i=e.type;if(e.drawGraphs){isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:e.decimalSeparator,thousandsSeparator:e.thousandsSeparator});var n=e.container;this.container=n,this.destroy();var a=n.set();this.set=a,a.translate(this.x,this.y);var s=n.set();this.bulletSet=s,s.translate(this.x,this.y),this.behindColumns?(e.graphsBehindSet.push(a),e.bulletBehindSet.push(s)):(e.graphsSet.push(a),e.bulletSet.push(s));var o=this.bulletAxis;t.isString(o)&&(this.bulletAxis=e.getValueAxisById(o)),n=n.set(),t.remove(this.columnsSet),this.columnsSet=n,t.setCN(e,a,"graph-"+this.type),t.setCN(e,a,"graph-"+this.id),t.setCN(e,s,"graph-"+this.type),t.setCN(e,s,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],(s=this.labelPosition)||(o=this.valueAxis.stackType,s="top","column"==this.type&&(e.rotate&&(s="right"),"100%"==o||"regular"==o)&&(s="middle"),this.labelPosition=s),t.ifArray(this.data)&&(e=!1,"xy"==i?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(e=!0):this.valueAxis.axisCreated&&(e=!0),!this.hidden&&e&&this.createGraph()),a.push(n)}},createGraph:function(){var e=this,i=e.chart;e.startAlpha=i.startAlpha,e.seqAn=i.sequencedAnimation,e.baseCoord=e.valueAxis.baseCoord,void 0===e.fillAlphas&&(e.fillAlphas=0),e.bulletColorR=e.bulletColor,void 0===e.bulletColorR&&(e.bulletColorR=e.lineColorR,e.bulletColorNegative=e.negativeLineColor),void 0===e.bulletAlpha&&(e.bulletAlpha=e.lineAlpha),("step"==n||t.VML)&&(e.noRounding=!1);var n=i.type;if("gantt"==n&&(n="serial"),clearTimeout(e.playedTO),!isNaN(e.valueAxis.min)&&!isNaN(e.valueAxis.max)){switch(n){case"serial":e.categoryAxis&&(e.createSerialGraph(),"candlestick"==e.type&&1>e.valueAxis.minMaxMultiplier&&e.positiveClip(e.set));break;case"radar":e.createRadarGraph();break;case"xy":e.createXYGraph()}e.playedTO=setTimeout(function(){e.setAnimationPlayed.call(e)},500*e.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var t=[],e=[],i=this.xAxis,n=this.yAxis;this.pmh=n.height,this.pmw=i.width,this.pmy=this.pmx=0;var a;for(a=this.start;a<=this.end;a++){var s=this.data[a].axes[i.id].graphs[this.id],o=(l=s.values).x,r=l.y,l=i.getCoordinate(o,this.noRounding),h=n.getCoordinate(r,this.noRounding);if(!isNaN(o)&&!isNaN(r)&&(t.push(l),e.push(h),s.x=l,s.y=h,o=this.createBullet(s,l,h,a),r=this.labelText)){var r=this.createLabel(s,r),c=0;o&&(c=o.size),this.positionLabel(s,l,h,r,c)}}this.drawLineGraph(t,e),this.launchAnimation()},createRadarGraph:function(){var t,e,i,n,a,s=this.valueAxis.stackType,o=[],r=[],l=[],h=[];for(a=this.start;a<=this.end;a++){var c,d,u=this.data[a].axes[this.valueAxis.id].graphs[this.id];if("none"==s||"3d"==s?c=u.values.value:(c=u.values.close,d=u.values.open),isNaN(c))this.connect||(this.drawLineGraph(o,r,l,h),o=[],r=[],l=[],h=[]);else{var p=(p=this.valueAxis.getCoordinate(c,this.noRounding)-this.height)*this.valueAxis.rMultiplier,f=-360/(this.end-this.start+1)*a;if("middle"==this.valueAxis.pointPosition&&(f-=180/(this.end-this.start+1)),c=p*Math.sin(f/180*Math.PI),p*=Math.cos(f/180*Math.PI),o.push(c),r.push(p),!isNaN(d)){var m=this.valueAxis.getCoordinate(d,this.noRounding)-this.height,g=(m=m*this.valueAxis.rMultiplier)*Math.sin(f/180*Math.PI),f=m*Math.cos(f/180*Math.PI);l.push(g),h.push(f),isNaN(i)&&(i=g),isNaN(n)&&(n=f)}f=this.createBullet(u,c,p,a),u.x=c,u.y=p,(g=this.labelText)&&(g=this.createLabel(u,g),m=0,f&&(m=f.size),this.positionLabel(u,c,p,g,m)),isNaN(t)&&(t=c),isNaN(e)&&(e=p)}}o.push(t),r.push(e),isNaN(i)||(l.push(i),h.push(n)),this.drawLineGraph(o,r,l,h),this.launchAnimation()},positionLabel:function(t,e,i,n,a){if(n){var s=this.chart,o=this.valueAxis,r="middle",l=!1,h=this.labelPosition,c=n.getBBox(),d=this.chart.rotate,u=t.isNegative,p=this.fontSize;switch(void 0===p&&(p=this.chart.fontSize),i-=c.height/2-p/2-1,void 0!==t.labelIsNegative&&(u=t.labelIsNegative),h){case"right":h=d&&u?"left":"right";break;case"top":h=d?"top":u?"bottom":"top";break;case"bottom":h=d?"bottom":u?"top":"bottom";break;case"left":h=d&&u?"right":"left"}var f=0,m=0;(p=t.columnGraphics)&&(f=p.x,m=p.y);var g=this.labelOffset;switch(h){case"right":r="start",e+=a/2+g;break;case"top":i=o.reversed?i+(a/2+c.height/2+g):i-(a/2+c.height/2+g);break;case"bottom":i=o.reversed?i-(a/2+c.height/2+g):i+(a/2+c.height/2+g);break;case"left":r="end",e-=a/2+g;break;case"inside":"column"==this.type&&(l=!0,d?u?(r="end",e=f-3-g):(r="start",e=f+3+g):i=u?m+7+g:m-10-g);break;case"middle":"column"==this.type&&(l=!0,d?e-=(e-f)/2+g-3:i-=(i-m)/2+g-3)}return"auto"!=this.labelAnchor&&(r=this.labelAnchor),n.attr({"text-anchor":r}),this.labelRotation&&n.rotate(this.labelRotation),n.translate(e,i),!this.showAllValueLabels&&p&&l&&((c=n.getBBox()).height>t.columnHeight||c.width>t.columnWidth)&&(n.remove(),n=null),n&&"radar"!=s.type&&(d?((0>i||i>this.height)&&(n.remove(),n=null),!this.showAllValueLabels&&n&&(0>e||e>this.width)&&(n.remove(),n=null)):((0>e||e>this.width)&&(n.remove(),n=null),!this.showAllValueLabels&&n&&(0>i||i>this.height)&&(n.remove(),n=null))),n&&this.allBullets.push(n),n}},getGradRotation:function(){var t=270;return"horizontal"==this.gradientOrientation&&(t=0),this.gradientRotation=t},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var e=this.chart,i=this.id,n=this.index,a=this.data,s=this.chart.container,o=this.valueAxis,r=this.type,l=this.columnWidthReal,h=this.showBulletsAt;isNaN(this.columnWidth)||(l=this.columnWidth),isNaN(l)&&(l=.8);var c,d,u,p,f,m=this.useNegativeColorIfDown,g=this.width,v=this.height,b=this.y,y=this.rotate,x=this.columnCount,w=t.toCoordinate(this.cornerRadiusTop,l/2),T=this.connect,C=[],S=[],M=this.chart.graphs.length,A=this.dx/this.tcc,k=this.dy/this.tcc,D=o.stackType,P=this.start,_=this.end,N=this.scrollbar,E="graph-column-";N&&(E="scrollbar-graph-column-");var O,I=this.categoryAxis,L=this.baseCoord,B=this.negativeBase,R=this.columnIndex,$=this.lineThickness,H=this.lineAlpha,V=this.lineColorR,G=this.dashLength,F=this.set,W=this.getGradRotation(),Y=this.chart.columnSpacing,j=I.cellWidth,z=(j*l-x)/x;Y>z&&(Y=z);var X,U,q,Q,Z,K,J,tt=v,et=g,it=0,nt=0,at=this.fillColorsR,st=this.negativeFillColors,ot=this.negativeLineColor,rt=this.fillAlphas,lt=this.negativeFillAlphas;"object"==typeof rt&&(rt=rt[0]),"object"==typeof lt&&(lt=lt[0]);var ht=this.noRounding;"step"==r&&(ht=!1);var ct=o.getCoordinate(o.min);if(o.logarithmic&&(ct=o.getCoordinate(o.minReal)),this.minCoord=ct,this.resetBullet&&(this.bullet="none"),!(N||"line"!=r&&"smoothedLine"!=r&&"step"!=r||(1==a.length&&"step"!=r&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!st&&void 0==ot||m))){var dt=B;dt>o.max&&(dt=o.max),dt<o.min&&(dt=o.min),o.logarithmic&&(dt=o.minReal);var ut=o.getCoordinate(dt),pt=o.getCoordinate(o.max);y?(tt=v,et=Math.abs(pt-ut),Q=v,Z=Math.abs(ct-ut),J=nt=0,o.reversed?(it=0,K=ut):(it=ut,K=0)):(et=g,tt=Math.abs(pt-ut),Z=g,Q=Math.abs(ct-ut),K=it=0,o.reversed?(J=b,nt=ut):J=ut)}var ft=Math.round;this.pmx=ft(it),this.pmy=ft(nt),this.pmh=ft(tt),this.pmw=ft(et),this.nmx=ft(K),this.nmy=ft(J),this.nmh=ft(Q),this.nmw=ft(Z),t.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(x=1),1>(l="column"==r?(j*l-Y*(x-1))/x:j*l)&&(l=1);var mt=this.fixedColumnWidth;isNaN(mt)||(l=mt);var gt;if("line"==r||"step"==r||"smoothedLine"==r){if(0<P){for(gt=P-1;-1<gt;gt--)if(X=a[gt],U=X.axes[o.id].graphs[i],q=U.values.value,!isNaN(q)){P=gt;break}if(this.lineColorField)for(gt=P;-1<gt;gt--)if(X=a[gt],(U=X.axes[o.id].graphs[i]).lineColor){this.lineColorSwitched=U.lineColor,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched);break}if(this.fillColorsField)for(gt=P;-1<gt;gt--)if(X=a[gt],(U=X.axes[o.id].graphs[i]).fillColors){this.fillColorsSwitched=U.fillColors;break}if(this.dashLengthField)for(gt=P;-1<gt;gt--)if(X=a[gt],U=X.axes[o.id].graphs[i],!isNaN(U.dashLength)){this.dashLengthSwitched=U.dashLength;break}}if(_<a.length-1)for(gt=_+1;gt<a.length;gt++)if(X=a[gt],U=X.axes[o.id].graphs[i],q=U.values.value,!isNaN(q)){_=gt;break}}_<a.length-1&&_++;var vt=[],bt=[],yt=!1;"line"!=r&&"step"!=r&&"smoothedLine"!=r||(this.stackable&&"regular"==D||"100%"==D||this.fillToGraph)&&(yt=!0);var xt=this.noStepRisers,wt=-1e3,Tt=-1e3,Ct=this.minDistance,St=!0,Mt=!1;for(gt=P;gt<=_;gt++){(U=(X=a[gt]).axes[o.id].graphs[i]).index=gt;var At,kt=NaN;if(m&&void 0==this.openField)for(var Dt=gt+1;Dt<a.length&&(!a[Dt]||!(At=a[gt+1].axes[o.id].graphs[i])||!At.values||(kt=At.values.value,isNaN(kt)));Dt++);var Pt,_t,Nt,Et,Ot,It,Lt=NaN,Bt=NaN,Rt=NaN,$t=NaN,Ht=NaN,Vt=NaN,Gt=NaN,Ft=NaN,Wt=NaN,Yt=NaN,jt=NaN,zt=NaN,Xt=NaN,Ut=NaN,qt=NaN,Qt=NaN,Zt=NaN,Kt=void 0,Jt=at,te=rt,ee=V,ie=this.proCandlesticks,ne=this.topRadius,ae=v-1,se=g-1,oe=this.pattern;void 0!=U.pattern&&(oe=U.pattern),isNaN(U.alpha)||(te=U.alpha),isNaN(U.dashLength)||(G=U.dashLength);var re=U.values;if(o.recalculateToPercents&&(re=U.percents),"none"==D&&(R=isNaN(U.columnIndex)?this.columnIndex:U.columnIndex),re){if(Ut=this.stackable&&"none"!=D&&"3d"!=D?re.close:re.value,"candlestick"!=r&&"ohlc"!=r||(Ut=re.close,Qt=re.low,Gt=o.getCoordinate(Qt),qt=re.high,Wt=o.getCoordinate(qt)),Zt=re.open,Rt=o.getCoordinate(Ut,ht),isNaN(Zt)||(Ht=o.getCoordinate(Zt,ht),m&&"regular"!=D&&"100%"!=D&&(kt=Zt,Zt=Ht=NaN)),m&&(void 0==this.openField?At&&(At.isNegative=kt<Ut,isNaN(kt)&&(U.isNegative=!St)):U.isNegative=kt>Ut),!N)switch(this.showBalloonAt){case"close":U.y=Rt;break;case"open":U.y=Ht;break;case"high":U.y=Wt;break;case"low":U.y=Gt}var Lt=X.x[I.id],le=this.periodSpan-1;"step"!=r||isNaN(X.cellWidth)||(j=X.cellWidth);var he=Math.floor(j/2)+Math.floor(le*j/2),ce=he,de=0;if("left"==this.stepDirection&&(de=(2*j+le*j)/2,Lt-=de),"center"==this.stepDirection&&(de=j/2,Lt-=de),"start"==this.pointPosition&&(Lt-=j/2+Math.floor(le*j/2),he=0,ce=Math.floor(j)+Math.floor(le*j)),"end"==this.pointPosition&&(Lt+=j/2+Math.floor(le*j/2),he=Math.floor(j)+Math.floor(le*j),ce=0),xt){var ue=this.columnWidth;isNaN(ue)||(he*=ue,ce*=ue)}N||(U.x=Lt),-1e5>Lt&&(Lt=-1e5),Lt>g+1e5&&(Lt=g+1e5),y?(Bt=Rt,$t=Ht,Ht=Rt=Lt,isNaN(Zt)&&!this.fillToGraph&&($t=L),Vt=Gt,Ft=Wt):($t=Bt=Lt,isNaN(Zt)&&!this.fillToGraph&&(Ht=L)),(!ie&&Ut<Zt||ie&&Ut<O)&&(U.isNegative=!0,st&&(Jt=st),lt&&(te=lt),void 0!=ot&&(ee=ot)),Mt=!1,isNaN(Ut)||(m?Ut>kt?(St&&(Mt=!0),St=!1):(St||(Mt=!0),St=!0):U.isNegative=Ut<B,O=Ut);var pe=!1;switch(N&&e.chartScrollbar.ignoreCustomColors&&(pe=!0),pe||(void 0!=U.color&&(Jt=U.color),U.fillColors&&(Jt=U.fillColors)),Rt=t.fitToBounds(Rt,-3e4,3e4),r){case"line":isNaN(Ut)?T||(this.drawLineGraph(C,S,vt,bt),C=[],S=[],vt=[],bt=[]):((Math.abs(Bt-wt)>=Ct||Math.abs(Rt-Tt)>=Ct)&&(C.push(Bt),S.push(Rt),wt=Bt,Tt=Rt),Yt=Bt,jt=Rt,zt=Bt,Xt=Rt,!yt||isNaN(Ht)||isNaN($t)||(vt.push($t),bt.push(Ht)),(Mt||void 0!=U.lineColor&&U.lineColor!=this.lineColorSwitched||void 0!=U.fillColors&&U.fillColors!=this.fillColorsSwitched||!isNaN(U.dashLength))&&(this.drawLineGraph(C,S,vt,bt),C=[Bt],S=[Rt],vt=[],bt=[],!yt||isNaN(Ht)||isNaN($t)||(vt.push($t),bt.push(Ht)),m?(St?(this.lineColorSwitched=V,this.fillColorsSwitched=at):(this.lineColorSwitched=ot,this.fillColorsSwitched=st),void 0===this.bulletColor&&(this.bulletColorSwitched=V)):(this.lineColorSwitched=U.lineColor,this.fillColorsSwitched=U.fillColors,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched)),this.dashLengthSwitched=U.dashLength),U.gap&&(this.drawLineGraph(C,S,vt,bt),C=[],S=[],vt=[],bt=[]));break;case"smoothedLine":isNaN(Ut)?T||(this.drawSmoothedGraph(C,S,vt,bt),C=[],S=[],vt=[],bt=[]):((Math.abs(Bt-wt)>=Ct||Math.abs(Rt-Tt)>=Ct)&&(C.push(Bt),S.push(Rt),wt=Bt,Tt=Rt),Yt=Bt,jt=Rt,zt=Bt,Xt=Rt,!yt||isNaN(Ht)||isNaN($t)||(vt.push($t),bt.push(Ht)),void 0==U.lineColor&&void 0==U.fillColors&&isNaN(U.dashLength)||(this.drawSmoothedGraph(C,S,vt,bt),C=[Bt],S=[Rt],vt=[],bt=[],!yt||isNaN(Ht)||isNaN($t)||(vt.push($t),bt.push(Ht)),this.lineColorSwitched=U.lineColor,this.fillColorsSwitched=U.fillColors,this.dashLengthSwitched=U.dashLength),U.gap&&(this.drawSmoothedGraph(C,S,vt,bt),C=[],S=[],vt=[],bt=[]));break;case"step":if(isNaN(Ut))T||((1>=this.periodSpan||1<this.periodSpan&&Bt-c>he+ce)&&(c=d=NaN),this.drawLineGraph(C,S,vt,bt),C=[],S=[],vt=[],bt=[]);else{if(y?(isNaN(c)||(C.push(c),S.push(Rt-he)),S.push(Rt-he),C.push(Bt),S.push(Rt+ce),C.push(Bt),!yt||isNaN(Ht)||isNaN($t)||(isNaN(u)||(vt.push(u),bt.push(Ht-he)),vt.push($t),bt.push(Ht-he),vt.push($t),bt.push(Ht+ce))):(isNaN(d)||(S.push(d),C.push(Bt-he)),C.push(Bt-he),S.push(Rt),C.push(Bt+ce),S.push(Rt),!yt||isNaN(Ht)||isNaN($t)||(isNaN(p)||(vt.push($t-he),bt.push(p)),vt.push($t-he),bt.push(Ht),vt.push($t+ce),bt.push(Ht))),c=Bt,d=Rt,u=$t,p=Ht,Yt=Bt,jt=Rt,zt=Bt,Xt=Rt,Mt||void 0!=U.lineColor||void 0!=U.fillColors||!isNaN(U.dashLength)){var fe=C[C.length-2],me=S[S.length-2];C.pop(),S.pop(),vt.pop(),bt.pop(),this.drawLineGraph(C,S,vt,bt),C=[fe],S=[me],vt=[],bt=[],yt&&(vt=[fe,fe+he+ce],bt=[p,p]),y?(S.push(Rt+ce),C.push(Bt)):(C.push(Bt+ce),S.push(Rt)),this.lineColorSwitched=U.lineColor,this.fillColorsSwitched=U.fillColors,this.dashLengthSwitched=U.dashLength,m&&(St?(this.lineColorSwitched=V,this.fillColorsSwitched=at):(this.lineColorSwitched=ot,this.fillColorsSwitched=st))}(xt||U.gap)&&(c=d=NaN,this.drawLineGraph(C,S,vt,bt),C=[],S=[],vt=[],bt=[])}break;case"column":if(Ot=ee,void 0!=U.lineColor&&(Ot=U.lineColor),!isNaN(Ut)){m||(U.isNegative=Ut<B),U.isNegative&&(st&&(Jt=st),void 0!=ot&&(Ot=ot));var ge=o.min,ve=o.max,be=Zt;if(isNaN(be)&&(be=B),!(Ut<ge&&be<ge||Ut>ve&&be>ve)){var ye;if(y){"3d"==D?(_t=Rt-(x/2-this.depthCount+1)*(l+Y)+Y/2+k*R,Pt=$t+A*R,ye=R):(_t=Math.floor(Rt-(x/2-R)*(l+Y)+Y/2),Pt=$t,ye=0),Yt=Bt,jt=_t+l/2,zt=Bt,Xt=_t+l/2,_t+(Nt=l)>v+ye*k&&(Nt=v-_t+ye*k),_t<ye*k&&(Nt+=_t,_t=ye*k),Et=Bt-$t;Et+=Pt-(Pt=t.fitToBounds(Pt,0,g)),Et=t.fitToBounds(Et,-Pt,g-Pt+A*R),U.labelIsNegative=0>Et,0===Et&&1/Ut==-1/0&&(U.labelIsNegative=!0),isNaN(X.percentWidthValue)||(Nt=this.height*X.percentWidthValue/100,_t=Lt-Nt/2,jt=_t+Nt/2),Nt=t.roundTo(Nt,2),Et=t.roundTo(Et,2),_t<v&&0<Nt&&(Kt=new t.Cuboid(s,Et,Nt,A-e.d3x,k-e.d3y,Jt,te,$,Ot,H,W,w,y,G,oe,ne,E),U.columnWidth=Math.abs(Et),U.columnHeight=Math.abs(Nt))}else{"3d"==D?(Pt=Bt-(x/2-this.depthCount+1)*(l+Y)+Y/2+A*R,_t=Ht+k*R,ye=R):(Pt=Bt-(x/2-R)*(l+Y)+Y/2,_t=Ht,ye=0),Yt=Pt+l/2,jt=Rt,zt=Pt+l/2,Xt=Rt,Pt+(Nt=l)>g+ye*A&&(Nt=g-Pt+ye*A),Pt<ye*A&&(Nt+=Pt-ye*A,Pt=ye*A),Et=Rt-Ht,U.labelIsNegative=0<Et,0===Et&&1/Ut!=1/Math.abs(Ut)&&(U.labelIsNegative=!0);Et+=_t-(_t=t.fitToBounds(_t,this.dy,v)),Et=t.fitToBounds(Et,k*ye-_t,v-_t),isNaN(X.percentWidthValue)||(Nt=this.width*X.percentWidthValue/100,Pt=Lt-Nt/2,Yt=Pt+Nt/2),Nt=t.roundTo(Nt,2),Et=t.roundTo(Et,2),Pt<g+R*A&&0<Nt&&(this.showOnAxis&&(_t-=k/2),Kt=new t.Cuboid(s,Nt,Et,A-e.d3x,k-e.d3y,Jt,te,$,Ot,this.lineAlpha,W,w,y,G,oe,ne,E),U.columnHeight=Math.abs(Et),U.columnWidth=Math.abs(Nt))}}Kt&&(It=Kt.set,t.setCN(e,Kt.set,"graph-"+this.type),t.setCN(e,Kt.set,"graph-"+this.id),U.className&&t.setCN(e,Kt.set,U.className,!0),U.columnGraphics=It,Pt=t.roundTo(Pt,2),_t=t.roundTo(_t,2),It.translate(Pt,_t),(U.url||this.showHandOnHover)&&It.setAttr("cursor","pointer"),N||("none"==D&&(f=y?(this.end+1-gt)*M-n:M*gt+n),"3d"==D&&(y?(f=(this.end+1-gt)*M-n-1e3*this.depthCount,Yt+=A*R,zt+=A*R,U.y+=A*R):(f=(M-n)*(gt+1)+1e3*this.depthCount,jt+=k*R,Xt+=k*R,U.y+=k*R)),"regular"!=D&&"100%"!=D||(f=y?0<re.value?(this.end+1-gt)*M+n:(this.end+1-gt)*M-n:0<re.value?M*gt+n:M*gt-n),this.columnsArray.push({column:Kt,depth:f}),U.x=y?_t+Nt/2:Pt+Nt/2,this.ownColumns.push(Kt),this.animateColumns(Kt,gt,Bt,$t,Rt,Ht),this.addListeners(It,U),void 0!==this.tabIndex&&It.setAttr("tabindex",this.tabIndex)),this.columnsSet.push(It))}break;case"candlestick":if(!isNaN(Zt)&&!isNaN(Ut)){var xe,we;if(Ot=ee,void 0!=U.lineColor&&(Ot=U.lineColor),Yt=Bt,Xt=jt=Rt,zt=Bt,y){if("open"==h&&(zt=$t),"high"==h&&(zt=Ft),"low"==h&&(zt=Vt),Bt=t.fitToBounds(Bt,0,se),$t=t.fitToBounds($t,0,se),Vt=t.fitToBounds(Vt,0,se),Ft=t.fitToBounds(Ft,0,se),0===Bt&&0===$t&&0===Vt&&0===Ft)continue;if(Bt==se&&$t==se&&Vt==se&&Ft==se)continue;if(_t=Rt-l/2,Pt=$t,Nt=l,_t+Nt>v&&(Nt=v-_t),0>_t&&(Nt+=_t,_t=0),_t<v&&0<Nt){var Te,Ce;Ut>Zt?(Te=[Bt,Ft],Ce=[$t,Vt]):(Te=[$t,Ft],Ce=[Bt,Vt]),!isNaN(Ft)&&!isNaN(Vt)&&Rt<v&&0<Rt&&(xe=t.line(s,Te,[Rt,Rt],Ot,H,$),we=t.line(s,Ce,[Rt,Rt],Ot,H,$)),Et=Bt-$t,Kt=new t.Cuboid(s,Et,Nt,A,k,Jt,rt,$,Ot,H,W,w,y,G,oe,ne,E)}}else{if("open"==h&&(Xt=Ht),"high"==h&&(Xt=Wt),"low"==h&&(Xt=Gt),Rt=t.fitToBounds(Rt,0,ae),Ht=t.fitToBounds(Ht,0,ae),Gt=t.fitToBounds(Gt,0,ae),Wt=t.fitToBounds(Wt,0,ae),0===Rt&&0===Ht&&0===Gt&&0===Wt)continue;if(Rt==ae&&Ht==ae&&Gt==ae&&Wt==ae)continue;if(Pt=Bt-l/2,_t=Ht+$/2,Nt=l,Pt+Nt>g&&(Nt=g-Pt),0>Pt&&(Nt+=Pt,Pt=0),Et=Rt-Ht,Pt<g&&0<Nt){ie&&Ut>=Zt&&(te=0);var Se,Me,Kt=new t.Cuboid(s,Nt,Et,A,k,Jt,te,$,Ot,H,W,w,y,G,oe,ne,E);Ut>Zt?(Se=[Rt,Wt],Me=[Ht,Gt]):(Se=[Ht,Wt],Me=[Rt,Gt]),!isNaN(Wt)&&!isNaN(Gt)&&Bt<g&&0<Bt&&(xe=t.line(s,[Bt,Bt],Se,Ot,H,$),we=t.line(s,[Bt,Bt],Me,Ot,H,$),t.setCN(e,xe,this.bcn+"line-high"),U.className&&t.setCN(e,xe,U.className,!0),t.setCN(e,we,this.bcn+"line-low"),U.className&&t.setCN(e,we,U.className,!0))}}Kt&&(It=Kt.set,U.columnGraphics=It,F.push(It),It.translate(Pt,_t-$/2),(U.url||this.showHandOnHover)&&It.setAttr("cursor","pointer"),xe&&(F.push(xe),F.push(we)),N||(U.x=y?_t+Nt/2:Pt+Nt/2,this.animateColumns(Kt,gt,Bt,$t,Rt,Ht),this.addListeners(It,U),void 0!==this.tabIndex&&It.setAttr("tabindex",this.tabIndex)))}break;case"ohlc":if(!(isNaN(Zt)||isNaN(qt)||isNaN(Qt)||isNaN(Ut))){var Ae=s.set();F.push(Ae),Ut<Zt&&(U.isNegative=!0,void 0!=ot&&(ee=ot)),void 0!=U.lineColor&&(ee=U.lineColor);var ke,De,Pe;if(y){if(Xt=Rt,zt=Bt,"open"==h&&(zt=$t),"high"==h&&(zt=Ft),"low"==h&&(zt=Vt),Vt=t.fitToBounds(Vt,0,se),Ft=t.fitToBounds(Ft,0,se),0===Bt&&0===$t&&0===Vt&&0===Ft)continue;if(Bt==se&&$t==se&&Vt==se&&Ft==se)continue;var _e=Rt-l/2,_e=t.fitToBounds(_e,0,v),Ne=t.fitToBounds(Rt,0,v),Ee=Rt+l/2,Ee=t.fitToBounds(Ee,0,v);0<=$t&&$t<=se&&(De=t.line(s,[$t,$t],[_e,Ne],ee,H,$,G)),0<Rt&&Rt<v&&(ke=t.line(s,[Vt,Ft],[Rt,Rt],ee,H,$,G)),0<=Bt&&Bt<=se&&(Pe=t.line(s,[Bt,Bt],[Ne,Ee],ee,H,$,G))}else{Xt=Rt,"open"==h&&(Xt=Ht),"high"==h&&(Xt=Wt),"low"==h&&(Xt=Gt);var zt=Bt,Gt=t.fitToBounds(Gt,0,ae),Wt=t.fitToBounds(Wt,0,ae),Oe=Bt-l/2,Oe=t.fitToBounds(Oe,0,g),Ie=t.fitToBounds(Bt,0,g),Le=Bt+l/2,Le=t.fitToBounds(Le,0,g);0<=Ht&&Ht<=ae&&(De=t.line(s,[Oe,Ie],[Ht,Ht],ee,H,$,G)),0<Bt&&Bt<g&&(ke=t.line(s,[Bt,Bt],[Gt,Wt],ee,H,$,G)),0<=Rt&&Rt<=ae&&(Pe=t.line(s,[Ie,Le],[Rt,Rt],ee,H,$,G))}F.push(De),F.push(ke),F.push(Pe),t.setCN(e,De,this.bcn+"stroke-open"),t.setCN(e,Pe,this.bcn+"stroke-close"),t.setCN(e,ke,this.bcn+"stroke"),U.className&&t.setCN(e,Ae,U.className,!0),Yt=Bt,jt=Rt}}if(!N&&!isNaN(Ut)){var Be=this.hideBulletsCount;if(this.end-this.start<=Be||0===Be){var Re=this.createBullet(U,zt,Xt,gt),$e=this.labelText;if($e&&!isNaN(Yt)&&!isNaN(Yt)){var He=this.createLabel(U,$e),Ve=0;Re&&(Ve=Re.size),this.positionLabel(U,Yt,jt,He,Ve)}if("regular"==D||"100%"==D){var Ge=o.totalText;if(Ge){var Fe=this.createLabel(U,Ge,o.totalTextColor);if(t.setCN(e,Fe,this.bcn+"label-total"),this.allBullets.push(Fe),Fe){var We,Ye,je=Fe.getBBox(),ze=je.width,Xe=je.height,Ue=o.totalTextOffset,qe=o.totals[gt];qe&&qe.remove();var Qe=0;"column"!=r&&(Qe=this.bulletSize),y?(Ye=jt,We=0>Ut?Bt-ze/2-2-Qe-Ue:Bt+ze/2+3+Qe+Ue):(We=Yt,Ye=0>Ut?Rt+Xe/2+Qe+Ue:Rt-Xe/2-3-Qe-Ue),Fe.translate(We,Ye),o.totals[gt]=Fe,y?(0>Ye||Ye>v)&&Fe.remove():(0>We||We>g)&&Fe.remove()}}}}}}}this.lastDataItem=U,"line"!=r&&"step"!=r&&"smoothedLine"!=r||("smoothedLine"==r?this.drawSmoothedGraph(C,S,vt,bt):this.drawLineGraph(C,S,vt,bt),N||this.launchAnimation()),this.bulletsHidden&&this.hideBullets(),this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(t,e){var i=this,n=i.chart.startDuration;0<n&&!i.animationPlayed&&(i.seqAn?(t.set.hide(),i.animationArray.push(t),n=setTimeout(function(){i.animate.call(i)},n/(i.end-i.start+1)*(e-i.start)*1e3),i.timeOuts.push(n)):i.animate(t),i.chart.animatable.push(t))},createLabel:function(e,i,n){var a=this.chart,s=e.labelColor;s||(s=this.color),s||(s=a.color),n&&(s=n),void 0===(n=this.fontSize)&&(this.fontSize=n=a.fontSize);var o=this.labelFunction;if(i=a.formatString(i,e),i=t.cleanFromEmpty(i),o&&(i=o(e,i)),void 0!==i&&""!==i)return e=t.text(this.container,i,s,a.fontFamily,n),e.node.style.pointerEvents="none",t.setCN(a,e,this.bcn+"label"),this.bulletSet.push(e),e},positiveClip:function(t){t.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(t){t.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(e,i,n,a){var s=this;if(1<e.length){var o=s.noRounding,r=s.set,l=s.chart,h=s.container,c=h.set(),d=h.set();r.push(d),r.push(c);var u=s.lineAlpha,p=s.lineThickness,r=s.fillAlphas,f=s.lineColorR,m=s.negativeLineAlpha;isNaN(m)&&(m=u);(g=s.lineColorSwitched)&&(f=g);var g=s.fillColorsR;(b=s.fillColorsSwitched)&&(g=b);var v=s.dashLength;(b=s.dashLengthSwitched)&&(v=b);var b=s.negativeLineColor,y=s.negativeFillColors,x=s.negativeFillAlphas,w=s.baseCoord;0!==s.negativeBase&&((w=s.valueAxis.getCoordinate(s.negativeBase,o))>s.height&&(w=s.height),0>w&&(w=0)),(u=t.line(h,e,i,f,u,p,v,!1,!0,o)).node.setAttribute("stroke-linejoin","round"),t.setCN(l,u,s.bcn+"stroke"),c.push(u),c.click(function(t){s.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){s.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){s.handleGraphEvent(t,"rollOutGraph")}).touchmove(function(t){s.chart.handleMouseMove(t)}).touchend(function(t){s.chart.handleTouchEnd(t)}),void 0===b||s.useNegativeColorIfDown||((p=t.line(h,e,i,b,m,p,v,!1,!0,o)).node.setAttribute("stroke-linejoin","round"),t.setCN(l,p,s.bcn+"stroke"),t.setCN(l,p,s.bcn+"stroke-negative"),d.push(p)),(0<r||0<x)&&(p=e.join(";").split(";"),m=i.join(";").split(";"),"serial"==(u=l.type)||"radar"==u?0<n.length?(n.reverse(),a.reverse(),p=e.concat(n),m=i.concat(a)):"radar"==u?(m.push(0),p.push(0)):s.rotate?(m.push(m[m.length-1]),p.push(w),m.push(m[0]),p.push(w),m.push(m[0]),p.push(p[0])):(p.push(p[p.length-1]),m.push(w),p.push(p[0]),m.push(w),p.push(e[0]),m.push(m[0])):"xy"==u&&(i=s.fillToAxis)&&(t.isString(i)&&(i=l.getValueAxisById(i)),"H"==i.orientation?(w="top"==i.position?0:i.height,p.push(p[p.length-1]),m.push(w),p.push(p[0]),m.push(w),p.push(e[0]),m.push(m[0])):(w="left"==i.position?0:i.width,m.push(m[m.length-1]),p.push(w),m.push(m[0]),p.push(w),m.push(m[0]),p.push(p[0]))),e=s.gradientRotation,0<r&&((i=t.polygon(h,p,m,g,r,1,"#000",0,e,o)).pattern(s.pattern,NaN,l.path),t.setCN(l,i,s.bcn+"fill"),c.push(i)),(y||void 0!==b)&&(isNaN(x)&&(x=r),y||(y=b),o=t.polygon(h,p,m,y,x,1,"#000",0,e,o),t.setCN(l,o,s.bcn+"fill"),t.setCN(l,o,s.bcn+"fill-negative"),o.pattern(s.pattern,NaN,l.path),d.push(o),d.click(function(t){s.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){s.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){s.handleGraphEvent(t,"rollOutGraph")}).touchmove(function(t){s.chart.handleMouseMove(t)}).touchend(function(t){s.chart.handleTouchEnd(t)}))),s.applyMask(d,c)}},applyMask:function(t,e){var i=t.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(e),0<i&&this.negativeClip(t))},drawSmoothedGraph:function(e,i,n,a){if(1<e.length){var s=this.set,o=this.chart,r=this.container,l=r.set(),h=r.set();s.push(h),s.push(l);var c=this.lineAlpha,d=this.lineThickness,s=this.dashLength,u=this.fillAlphas,p=this.lineColorR,f=this.fillColorsR,m=this.negativeLineColor,g=this.negativeFillColors,v=this.negativeFillAlphas,b=this.baseCoord,y=this.lineColorSwitched;y&&(p=y),(y=this.fillColorsSwitched)&&(f=y);var x=this.negativeLineAlpha;isNaN(x)&&(x=c),y=this.getGradRotation(),c=new t.Bezier(r,e,i,p,c,d,f,0,s,void 0,y),t.setCN(o,c,this.bcn+"stroke"),l.push(c.path),void 0!==m&&(d=new t.Bezier(r,e,i,m,x,d,f,0,s,void 0,y),t.setCN(o,d,this.bcn+"stroke"),t.setCN(o,d,this.bcn+"stroke-negative"),h.push(d.path)),0<u&&(c=e.join(";").split(";"),p=i.join(";").split(";"),d="",0<n.length?(n.push("M"),a.push("M"),n.reverse(),a.reverse(),c=e.concat(n),p=i.concat(a)):(this.rotate?(d+=" L"+b+","+i[i.length-1],d+=" L"+b+","+i[0]):(d+=" L"+e[e.length-1]+","+b,d+=" L"+e[0]+","+b),d+=" L"+e[0]+","+i[0]),n=new t.Bezier(r,c,p,NaN,0,0,f,u,s,d,y),t.setCN(o,n,this.bcn+"fill"),n.path.pattern(this.pattern,NaN,o.path),l.push(n.path),g||void 0!==m)&&(v||(v=u),g||(g=m),(e=new t.Bezier(r,e,i,NaN,0,0,g,v,s,d,y)).path.pattern(this.pattern,NaN,o.path),t.setCN(o,e,this.bcn+"fill"),t.setCN(o,e,this.bcn+"fill-negative"),h.push(e.path)),this.applyMask(h,l)}},launchAnimation:function(){var e=this,i=e.chart.startDuration;if(0<i&&!e.animationPlayed){var n=e.set,a=e.bulletSet;t.VML||(n.attr({opacity:e.startAlpha}),a.attr({opacity:e.startAlpha})),n.hide(),a.hide(),e.seqAn?(i=setTimeout(function(){e.animateGraphs.call(e)},e.index*i*1e3),e.timeOuts.push(i)):e.animateGraphs()}},animateGraphs:function(){var t=this.chart,e=this.set,i=this.bulletSet,n=this.x,a=this.y;e.show(),i.show();var s=t.startDuration,o=t.startEffect;e&&(this.rotate?(e.translate(-1e3,a),i.translate(-1e3,a)):(e.translate(n,-1e3),i.translate(n,-1e3)),e.animate({opacity:1,translate:n+","+a},s,o),i.animate({opacity:1,translate:n+","+a},s,o),t.animatable.push(e))},animate:function(e){var i=this.chart,n=this.animationArray;!e&&0<n.length&&(e=n[0],n.shift()),n=t[t.getEffect(i.startEffect)],i=i.startDuration,e&&(this.rotate?e.animateWidth(i,n):e.animateHeight(i,n),e.set.show())},legendKeyColor:function(){var t=this.legendColor,e=this.lineAlpha;return void 0===t&&(t=this.lineColorR,0===e&&(e=this.fillColorsR)&&(t="object"==typeof e?e[0]:e)),t},legendKeyAlpha:function(){var t=this.legendAlpha;return void 0===t&&(t=this.lineAlpha,this.fillAlphas>t&&(t=this.fillAlphas),0===t&&(t=this.bulletAlpha),0===t&&(t=1)),t},createBullet:function(e,i,n){if(!isNaN(i)&&!isNaN(n)&&("none"!=this.bullet||this.customBullet||e.bullet||e.customBullet)){var a=this.chart,s=this.container,o=this.bulletOffset,r=this.bulletSize;isNaN(e.bulletSize)||(r=e.bulletSize);var l=e.values.value,h=this.maxValue,c=this.minValue,d=this.maxBulletSize,u=this.minBulletSize;isNaN(h)||(isNaN(l)||(r=(l-c)/(h-c)*(d-u)+u),c==h&&(r=d)),h=r,this.bulletAxis&&(r=e.values.error,isNaN(r)||(l=r),r=this.bulletAxis.stepWidth*l),r<this.minBulletSize&&(r=this.minBulletSize),this.rotate?i=e.isNegative?i-o:i+o:n=e.isNegative?n+o:n-o,u=this.bulletColorR,e.lineColor&&void 0===this.bulletColor&&(this.bulletColorSwitched=e.lineColor),this.bulletColorSwitched&&(u=this.bulletColorSwitched),e.isNegative&&void 0!==this.bulletColorNegative&&(u=this.bulletColorNegative),void 0!==e.color&&(u=e.color);var p;"xy"==a.type&&this.valueField&&(p=this.pattern,e.pattern&&(p=e.pattern)),o=this.bullet,e.bullet&&(o=e.bullet);var l=this.bulletBorderThickness,c=this.bulletBorderColorR,d=this.bulletBorderAlpha,f=this.bulletAlpha;c||(c=u),this.useLineColorForBulletBorder&&(c=this.lineColorR,e.isNegative&&this.negativeLineColor&&(c=this.negativeLineColor),this.lineColorSwitched&&(c=this.lineColorSwitched));var m=e.alpha;return isNaN(m)||(f=m),p=t.bullet(s,o,r,u,f,l,c,d,h,0,p,a.path),h=this.customBullet,e.customBullet&&(h=e.customBullet),h&&(p&&p.remove(),"function"==typeof h?(h=new h,h.chart=a,e.bulletConfig&&(h.availableSpace=n,h.graph=this,h.graphDataItem=e,h.bulletY=n,e.bulletConfig.minCoord=this.minCoord-n,h.bulletConfig=e.bulletConfig),h.write(s),p&&h.showBullet&&h.set.push(p),e.customBulletGraphics=h.cset,p=h.set):(p=s.set(),h=s.image(h,0,0,r,r),p.push(h),this.centerCustomBullets&&h.translate(-r/2,-r/2))),p&&((e.url||this.showHandOnHover)&&p.setAttr("cursor","pointer"),"serial"!=a.type&&"gantt"!=a.type||(-.5>i||i>this.width||n<-r/2||n>this.height)&&(p.remove(),p=null),p&&(this.bulletSet.push(p),p.translate(i,n),this.addListeners(p,e),this.allBullets.push(p)),e.bx=i,e.by=n,t.setCN(a,p,this.bcn+"bullet"),e.className&&t.setCN(a,p,e.className,!0)),p?(p.size=r||0,(a=this.bulletHitAreaSize)&&((s=t.circle(s,a,"#FFFFFF",.001,0)).translate(i,n),e.hitBullet=s,this.bulletSet.push(s),this.addListeners(s,e)),e.bulletGraphics=p,void 0!==this.tabIndex&&p.setAttr("tabindex",this.tabIndex)):p={size:0},p.graphDataItem=e,p}},showBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!1,t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!0,t=0;t<e.length;t++)e[t].hide()},showCustomBullets:function(){var t,e=this.allBullets;for(this.customBulletsHidden=!1,t=0;t<e.length;t++){var i=e[t].graphDataItem;i.customBulletGraphics&&i.customBulletGraphics.show()}},hideCustomBullets:function(){var t,e=this.allBullets;for(this.customBulletsHidden=!0,t=0;t<e.length;t++){var i=e[t].graphDataItem;i.customBulletGraphics&&i.customBulletGraphics.hide()}},addListeners:function(t,e){var i=this;t.mouseover(function(t){i.handleRollOver(e,t)}).mouseout(function(t){i.handleRollOut(e,t)}).touchend(function(t){i.handleRollOver(e,t),i.chart.panEventsEnabled&&i.handleClick(e,t)}).touchstart(function(t){i.handleRollOver(e,t)}).click(function(t){i.handleClick(e,t)}).dblclick(function(t){i.handleDoubleClick(e,t)}).contextmenu(function(t){i.handleRightClick(e,t)});var n=i.chart;if(n.accessible&&i.accessibleLabel){var a=n.formatString(i.accessibleLabel,e);n.makeAccessible(t,a)}},handleRollOver:function(t,e){if(this.handleGraphEvent(e,"rollOverGraph"),t){var i=this.chart;t.bulletConfig&&(i.isRolledOverBullet=!0);var n={type:"rollOverGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(n),i.fire(n),clearTimeout(i.hoverInt),(i=i.chartCursor)&&i.valueBalloonsEnabled||this.showGraphBalloon(t,"V",!0)}},handleRollOut:function(t,e){var i=this.chart;if(t){var n={type:"rollOutGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(n),i.fire(n),i.isRolledOverBullet=!1}this.handleGraphEvent(e,"rollOutGraph"),(i=i.chartCursor)&&i.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(e,i){if(!this.chart.checkTouchMoved()&&this.chart.checkTouchDuration(i)){if(e){var n={type:"clickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:i};this.fire(n),this.chart.fire(n),t.getURL(e.url,this.urlTarget)}this.handleGraphEvent(i,"clickGraph")}},handleGraphEvent:function(t,e){var i={type:e,graph:this,target:this,chart:this.chart,event:t};this.fire(i),this.chart.fire(i)},handleRightClick:function(t,e){if(t){var i={type:"rightClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(i),this.chart.fire(i)}},handleDoubleClick:function(t,e){if(t){var i={type:"doubleClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(i),this.chart.fire(i)}},zoom:function(t,e){this.start=t,this.end=e,this.draw()},changeOpacity:function(t){var e=this.set;if(e&&e.setAttr("opacity",t),e=this.ownColumns){var i;for(i=0;i<e.length;i++){var n=e[i].set;n&&n.setAttr("opacity",t)}}(e=this.bulletSet)&&e.setAttr("opacity",t)},destroy:function(){t.remove(this.set),t.remove(this.bulletSet);var e=this.timeOuts;if(e){var i;for(i=0;i<e.length;i++)clearTimeout(e[i])}this.timeOuts=[]},createBalloon:function(){var e=this.chart;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={};var i=this.balloon;t.extend(i,e.balloon,!0),i.chart=e,i.mainSet=e.plotBalloonsSet,i.className=this.id},hideBalloon:function(){var t=this,e=t.chart;e.chartCursor?e.chartCursor.valueBalloonsEnabled||e.hideBalloon():e.hideBalloon(),clearTimeout(t.hoverInt),t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},e.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide(),this.fixBulletSize()},fixBulletSize:function(){if(t.isModern){var e=this.resizedDItem;if(e){var i=e.bulletGraphics;if(i&&!i.doNotScale){i.translate(e.bx,e.by,1);var n=this.bulletAlpha;isNaN(e.alpha)||(n=e.alpha),i.setAttr("fill-opacity",n),i.setAttr("stroke-opacity",this.bulletBorderAlpha)}}this.resizedDItem=null}},showGraphBalloon:function(e,i,n,a,s){if(e){var o=this.chart,r=this.balloon,l=0,h=0,c=!0;if((d=o.chartCursor)?d.valueBalloonsEnabled||(r=o.balloon,l=this.x,h=this.y,c=!1):(r=o.balloon,l=this.x,h=this.y,c=!1),clearTimeout(this.hoverInt),o.chartCursor&&(this.currentDataItem=e,"serial"==o.type&&o.isRolledOverBullet&&o.chartCursor.valueBalloonsEnabled))return void this.hideBalloonReal();if(this.resizeBullet(e,a,s),r&&r.enabled&&this.showBalloon&&!this.hidden){var d=o.formatString(this.balloonText,e,!0),u=this.balloonFunction;u&&(d=u(e,e.graph)),d&&(d=t.cleanFromEmpty(d)),d&&""!==d?(a=o.getBalloonColor(this,e),r.drop||(r.pointerOrientation=i),i=e.x,s=e.y,o.rotate&&(i=e.y,s=e.x),i+=l,s+=h,isNaN(i)||isNaN(s)?this.hideBalloonReal():(e=this.width,u=this.height,c&&r.setBounds(l,h,e+l,u+h),r.changeColor(a),r.setPosition(i,s),r.fixPrevious(),r.fixedPosition&&(n=!1),!n&&"radar"!=o.type&&(i<l||i>e+l||s<h-.5||s>u+h)?(r.showBalloon(d),r.hide(0)):(r.followCursor(n),r.showBalloon(d)))):(this.hideBalloonReal(),r.hide(),this.resizeBullet(e,a,s))}else this.hideBalloonReal()}},resizeBullet:function(e,i,n){if(this.fixBulletSize(),e&&t.isModern&&(1!=i||!isNaN(n))){var a=e.bulletGraphics;a&&!a.doNotScale&&(a.translate(e.bx,e.by,i),isNaN(n)||(a.setAttr("fill-opacity",n),a.setAttr("stroke-opacity",n)),this.resizedDItem=e)}}})}(),function(){var t=window.AmCharts;t.ChartCursor=t.Class({construct:function(e){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonText="[[category]]",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,this.leaveCursor=!1,this.leaveAfterTouch=!0,this.valueZoomable=!1,this.balloonPointerOrientation="horizontal",this.hLineEnabled=this.vLineEnabled=!0,this.vZoomEnabled=this.hZoomEnabled=!1,t.applyTheme(this,e,this.cname)},draw:function(){this.destroy();var e=this.chart;e.panRequired=!0;var i=e.container;this.rotate=e.rotate,this.container=i,this.prevLineHeight=this.prevLineWidth=NaN,(i=i.set()).translate(this.x,this.y),this.set=i,e.cursorSet.push(i),this.createElements(),t.isString(this.limitToGraph)&&(this.limitToGraph=t.getObjById(e.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle"),this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase(),this.isHidden=!1,this.hideLines(),this.valueLineAxis||(this.valueLineAxis=e.valueAxes[0])},createElements:function(){var e,i,n=this,a=n.chart,s=a.dx,o=a.dy,r=n.width,l=n.height,h=n.cursorAlpha,c=n.valueLineAlpha;n.rotate?(e=c,i=h):(i=c,e=h),"xy"==a.type&&(i=h,void 0!==c&&(i=c),e=h),n.vvLine=t.line(n.container,[s,0,0],[o,0,l],n.cursorColor,e,1),t.setCN(a,n.vvLine,"cursor-line"),t.setCN(a,n.vvLine,"cursor-line-vertical"),n.hhLine=t.line(n.container,[0,r,r+s],[0,0,o],n.cursorColor,i,1),t.setCN(a,n.hhLine,"cursor-line"),t.setCN(a,n.hhLine,"cursor-line-horizontal"),n.vLine=n.rotate?n.vvLine:n.hhLine,n.set.push(n.vvLine),n.set.push(n.hhLine),n.set.node.style.pointerEvents="none",n.fullLines=n.container.set(),(a=a.cursorLineSet).push(n.fullLines),a.translate(n.x,n.y),a.clipRect(-1,-1,r+2,l+2),void 0!==n.tabIndex&&(a.setAttr("tabindex",n.tabIndex),a.keyup(function(t){n.handleKeys(t)}).focus(function(t){n.showCursor()}).blur(function(t){n.hideCursor()})),n.set.clipRect(0,0,r,l)},handleKeys:function(e){var i=this.prevIndex,n=this.chart;if(n){var a=n.chartData;a&&(isNaN(i)&&(i=a.length-1),37!=e.keyCode&&40!=e.keyCode||i--,39!=e.keyCode&&38!=e.keyCode||i++,i=t.fitToBounds(i,n.startIndex,n.endIndex),(e=this.chart.chartData[i])&&this.setPosition(e.x.categoryAxis),this.prevIndex=i)}},update:function(){var t=this.chart;if(t){var e=t.mouseX-this.x,i=t.mouseY-this.y;this.mouseX=e,this.mouseY=i,this.mouse2X=t.mouse2X-this.x,this.mouse2Y=t.mouse2Y-this.y;var n;if(t.chartData&&0<t.chartData.length){if(this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=n=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(t.rotate||!this.limitToGraph)&&this.vvLine.translate(e,0),!this.hhLine||!isNaN(this.fy)||t.rotate&&this.limitToGraph||this.hhLine.translate(0,i),isNaN(this.mouse2X)?this.dispatchMovedEvent(e,i):n=!1):this.forceShow||this.hideCursor(),this.zooming){if(!isNaN(this.mouse2X))return void(isNaN(this.mouse2X0)||this.dispatchPanEvent());if(this.pan)return void this.dispatchPanEvent();(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}n&&this.showCursor()}}},updateDrawing:function(){if(this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow&&(t.remove(this.drawingLine),1<Math.abs(this.drawStartX-this.mouseX)||1<Math.abs(this.drawStartY-this.mouseY))){var e=(i=this.chart).marginTop,i=i.marginLeft;this.drawingLine=t.line(this.container,[this.drawStartX+i,this.mouseX+i],[this.drawStartY+e,this.mouseY+e],this.cursorColor,1,1)}},fixWidth:function(e){if(this.fullWidth&&this.prevLineWidth!=e){var i=this.vvLine,n=0;i&&(i.remove(),n=i.x),(i=this.container.set()).translate(n,0),n=t.rect(this.container,e,this.height,this.cursorColor,this.cursorAlpha,this.cursorAlpha,this.cursorColor),t.setCN(this.chart,n,"cursor-fill"),n.translate(-e/2-1,0),i.push(n),this.vvLine=i,this.fullLines.push(i),this.prevLineWidth=e}},fixHeight:function(e){if(this.fullWidth&&this.prevLineHeight!=e){var i=this.hhLine,n=0;i&&(i.remove(),n=i.y),(i=this.container.set()).translate(0,n),(n=t.rect(this.container,this.width,e,this.cursorColor,this.cursorAlpha)).translate(0,-e/2),i.push(n),this.fullLines.push(i),this.hhLine=i,this.prevLineHeight=e}},fixVLine:function(t,e){if(!isNaN(t)){if(isNaN(this.prevLineX)){var i=0,n=this.mouseX;if(this.limitToGraph){var a=this.chart.categoryAxis;a&&(this.chart.rotate||(i="bottom"==a.position?this.height:-this.height),n=t)}this.vvLine.translate(n,i)}else this.prevLineX!=t&&this.vvLine.translate(this.prevLineX,this.prevLineY);this.fx=t,this.prevLineX!=t&&(i=this.animationDuration,this.zooming&&(i=0),this.vvLine.stop(),this.vvLine.animate({translate:t+","+e},i,"easeOutSine"),this.prevLineX=t,this.prevLineY=e)}},fixHLine:function(t,e){if(!isNaN(t)){if(isNaN(this.prevLineY)){var i=0,n=this.mouseY;if(this.limitToGraph){var a=this.chart.categoryAxis;a&&(this.chart.rotate&&(i="right"==a.position?this.width:-this.width),n=t)}this.hhLine.translate(i,n)}else this.prevLineY!=t&&this.hhLine.translate(this.prevLineX,this.prevLineY);this.fy=t,this.prevLineY!=t&&(i=this.animationDuration,this.zooming&&(i=0),this.hhLine.stop(),this.hhLine.animate({translate:e+","+t},i,"easeOutSine"),this.prevLineY=t,this.prevLineX=e)}},hideCursor:function(t){this.forceShow=!1,this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideCursorReal(),t?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideCursorReal:function(){this.hideLines(),this.isHidden=!0,this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN},hideLines:function(){this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.hide(),this.fullLines&&this.fullLines.hide(),this.isHidden=!0,this.chart.handleCursorHide()},showCursor:function(t){!this.drawing&&this.enabled&&(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),t||this.fire({target:this,chart:this.chart,type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?0<this.selection.height&&this.hhLine.hide():0<this.selection.width&&this.vvLine.hide())},updateSelection:function(){if(!this.pan&&this.enabled){var e=this.mouseX,i=this.mouseY;isNaN(this.fx)||(e=this.fx),isNaN(this.fy)||(i=this.fy),this.clearSelection();var n,a=this.mouseX0,s=this.mouseY0,o=this.width,r=this.height,e=t.fitToBounds(e,0,o),i=t.fitToBounds(i,0,r);e<a&&(n=e,e=a,a=n),i<s&&(n=i,i=s,s=n),this.hZoomEnabled?o=e-a:a=0,this.vZoomEnabled?r=i-s:s=0,isNaN(this.mouse2X)&&0<Math.abs(o)&&0<Math.abs(r)&&(e=this.chart,i=t.rect(this.container,o,r,this.cursorColor,this.selectionAlpha),t.setCN(e,i,"cursor-selection"),i.width=o,i.height=r,i.translate(a,s),this.set.push(i),this.selection=i),this.updateFullLine()}},mouseIsOver:function(){var t=this.mouseX,e=this.mouseY;return this.justReleased?(this.justReleased=!1,!0):!!this.mouseIsDown||(this.chart.mouseIsOver?0<t&&t<this.width&&0<e&&e<this.height||void this.handleMouseOut():(this.handleMouseOut(),!1))},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){if(this.update(),this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var t={chart:this.chart,target:this,type:"zoomStarted"};t.x=this.mouseX/this.width,t.y=this.mouseY/this.height,this.index0=t.index=this.index,this.timestamp0=this.timestamp,this.fire(t)}},registerInitialMouse:function(){},handleReleaseOutside:function(){if(this.mouseIsDown=!1,this.drawingNow){this.drawingNow=!1,t.remove(this.drawingLine);var e=this.drawStartX,i=this.drawStartY,n=this.mouseX,a=this.mouseY,s=this.chart;(2<Math.abs(e-n)||2<Math.abs(i-a))&&this.fire({type:"draw",target:this,chart:s,initialX:e,initialY:i,finalX:n,finalY:a})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY)),this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(t){if(!this.pan){if((h=this.selection)&&3<Math.abs(h.width)&&3<Math.abs(h.height)){var e=Math.min(this.index,this.index0),i=Math.max(this.index,this.index0),n=e,a=i,s=this.chart,o=s.chartData,r=s.categoryAxis;r&&r.parseDates&&!r.equalSpacing&&(n=o[e]?o[e].time:Math.min(this.timestamp0,this.timestamp),a=o[i]?s.getEndTime(o[i].time):Math.max(this.timestamp0,this.timestamp));var l,h={type:t,chart:this.chart,target:this,end:a,start:n,startIndex:e,endIndex:i,selectionHeight:h.height,selectionWidth:h.width,selectionY:h.y,selectionX:h.x};this.hZoomEnabled&&4<Math.abs(this.mouseX0-this.mouseX)&&(h.startX=this.mouseX0/this.width,h.endX=this.mouseX/this.width,l=!0),this.vZoomEnabled&&4<Math.abs(this.mouseY0-this.mouseY)&&(h.startY=1-this.mouseY0/this.height,h.endY=1-this.mouseY/this.height,l=!0),l&&(this.prevY=this.prevX=NaN,this.fire(h),"selected"!=t&&this.clearSelection()),this.hideCursor()}}},dispatchMovedEvent:function(t,e,i,n){if(t=Math.round(t),e=Math.round(e),!this.isHidden&&(t!=this.prevX||e!=this.prevY||"changed"==i)){i||(i="moved");var a=this.fx,s=this.fy;isNaN(a)&&(a=t),isNaN(s)&&(s=e);var o=!1;this.zooming&&this.pan&&(o=!0),o={hidden:this.isHidden,type:i,chart:this.chart,target:this,x:t,y:e,finalX:a,finalY:s,zooming:this.zooming,panning:o,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:n,hideBalloons:this.hideGraphBalloons},this.prevIndex=this.index,this.rotate?(o.position=e,o.finalPosition=s):(o.position=t,o.finalPosition=a),this.prevX=t,this.prevY=e,n?this.chart.handleCursorMove(o):(this.fire(o),"changed"==i&&this.chart.fire(o))}},dispatchPanEvent:function(){if(this.mouseIsDown){var e=t.roundTo((this.mouseX-this.mouseX0)/this.width,3),i=t.roundTo((this.mouseY-this.mouseY0)/this.height,3),n=t.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),a=t.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),s=!1;0!==Math.abs(e)&&0!==Math.abs(i)&&(s=!0),this.prevDeltaX!=e&&this.prevDeltaY!=i||(s=!1),isNaN(n)||isNaN(a)||(0!==Math.abs(n)&&0!==Math.abs(a)&&(s=!0),this.prevDelta2X!=n&&this.prevDelta2Y!=a)||(s=!1),s&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:e,deltaY:i,delta2X:n,delta2Y:a,index:this.index}),this.prevDeltaX=e,this.prevDeltaY=i,this.prevDelta2X=n,this.prevDelta2Y=a)}},clearSelection:function(){var t=this.selection;t&&(t.width=0,t.height=0,t.remove())},destroy:function(){this.clear(),t.remove(this.selection),this.selection=null,clearTimeout(this.syncTO),t.remove(this.set)},clear:function(){},setTimestamp:function(t){this.timestamp=t},setIndex:function(t,e){t!=this.index&&(this.index=t,e||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(t){var e=this.chart.categoryAxis;e&&this.setPosition(e.categoryToCoordinate(t),t)},setPosition:function(t,e){var i=this.chart,n=i.categoryAxis;if(n){var a,s;void 0===e&&(e=n.coordinateToValue(t)),n.showBalloonAt(e,t),this.forceShow=!0,n.stickBalloonToCategory?i.rotate?this.fixHLine(t,0):this.fixVLine(t,0):(this.showCursor(),i.rotate?this.hhLine.translate(0,t):this.vvLine.translate(t,0)),i.rotate?a=t:s=t,i.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(s,a,"moved",!0)}},enableDrawing:function(t){this.enabled=!t,this.hideCursor(),this.drawing=t},syncWithCursor:function(t,e){clearTimeout(this.syncTO),t&&(t.isHidden?this.hideCursor(!0):this.syncWithCursorReal(t,e))},isZooming:function(t){this.zooming=t},syncWithCursorReal:function(t,e){var i=t.vvLine,n=t.hhLine;this.index=t.index,this.forceShow=!0,this.zooming&&this.pan||this.showCursor(!0),this.hideGraphBalloons=e,this.justReleased=t.justReleased,this.zooming=t.zooming,this.index0=t.index0,this.mouseX0=t.mouseX0,this.mouseY0=t.mouseY0,this.mouse2X0=t.mouse2X0,this.mouse2Y0=t.mouse2Y0,this.timestamp0=t.timestamp0,this.prevDeltaX=t.prevDeltaX,this.prevDeltaY=t.prevDeltaY,this.prevDelta2X=t.prevDelta2X,this.prevDelta2Y=t.prevDelta2Y,this.fx=t.fx,this.fy=t.fy,t.zooming&&this.updateSelection();var a=t.mouseX,s=t.mouseY;this.rotate?(a=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&n&&(isNaN(t.fy)?this.hhLine.translate(0,t.mouseY):this.fixHLine(t.fy,0))):(s=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&i&&(isNaN(t.fx)?this.vvLine.translate(t.mouseX,0):this.fixVLine(t.fx,0))),this.dispatchMovedEvent(a,s,"moved",!0)}})}(),function(){var t=window.AmCharts;t.SimpleChartScrollbar=t.Class({construct:function(e){this.createEvents("zoomed","zoomStarted","zoomEnded"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconHeight=this.dragIconWidth=35,this.dragIcon="dragIconRoundBig",this.dragCursorHover="cursor: move; cursor: grab; cursor: -moz-grab; cursor: -webkit-grab;",this.dragCursorDown="cursor: move; cursor: grab; cursor: -moz-grabbing; cursor: -webkit-grabbing;",this.vResizeCursor="ns-resize",this.hResizeCursor="ew-resize",this.enabled=!0,this.percentStart=this.offset=0,this.percentEnd=1,t.applyTheme(this,e,"SimpleChartScrollbar")},getPercents:function(){var t=(n=this.getDBox()).x,e=n.y,i=n.width,n=n.height;this.rotate?(t=1-e/this.height,e=1-(e+n)/this.height):(e=t/this.width,t=(t+i)/this.width),this.percentStart=e,this.percentEnd=t},draw:function(){var e=this;if(e.destroy(),e.enabled){var i=e.chart.container,n=e.rotate,a=e.chart;a.panRequired=!0;var s=i.set();e.set=s,n?t.setCN(a,s,"scrollbar-vertical"):t.setCN(a,s,"scrollbar-horizontal"),a.scrollbarsSet.push(s);var o,r;if(n?(o=e.scrollbarHeight,r=a.plotAreaHeight):(r=e.scrollbarHeight,o=a.plotAreaWidth),e.width=o,(e.height=r)&&o){h=t.rect(i,o,r,e.backgroundColor,e.backgroundAlpha,1,e.backgroundColor,e.backgroundAlpha);t.setCN(a,h,"scrollbar-bg"),e.bg=h,s.push(h),h=t.rect(i,o,r,"#000",.005),s.push(h),e.invisibleBg=h,h.click(function(){e.handleBgClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}).touchend(function(){e.handleBgClick()}),h=t.rect(i,o,r,e.selectedBackgroundColor,e.selectedBackgroundAlpha),t.setCN(a,h,"scrollbar-bg-selected"),e.selectedBG=h,s.push(h),o=t.rect(i,o,r,"#000",.005),e.dragger=o,s.push(o),o.mousedown(function(t){e.handleDragStart(t)}).mouseup(function(){e.handleDragStop()}).mouseover(function(){e.handleDraggerOver()}).mouseout(function(){e.handleMouseOut()}).touchstart(function(t){e.handleDragStart(t)}).touchend(function(){e.handleDragStop()}),r=a.pathToImages;var l,h=e.dragIcon.replace(/\.[a-z]*$/i,"");t.isAbsolute(h)&&(r=""),n?(l=r+h+"H"+a.extension,r=e.dragIconWidth,n=e.dragIconHeight):(l=r+h+a.extension,n=e.dragIconWidth,r=e.dragIconHeight),h=i.image(l,0,0,n,r),t.setCN(a,h,"scrollbar-grip-left"),l=i.image(l,0,0,n,r),t.setCN(a,l,"scrollbar-grip-right");var c=10,d=20;a.panEventsEnabled&&(c=25,d=e.scrollbarHeight);var u=t.rect(i,c,d,"#000",.005),p=t.rect(i,c,d,"#000",.005);p.translate(-(c-n)/2,-(d-r)/2),u.translate(-(c-n)/2,-(d-r)/2),n=i.set([h,p]),i=i.set([l,u]),e.iconLeft=n,s.push(e.iconLeft),e.iconRight=i,s.push(i),e.updateGripCursor(!1),a.makeAccessible(n,e.accessibleLabel),a.makeAccessible(i,e.accessibleLabel),a.makeAccessible(o,e.accessibleLabel),n.setAttr("role","menuitem"),i.setAttr("role","menuitem"),o.setAttr("role","menuitem"),void 0!==e.tabIndex&&(n.setAttr("tabindex",e.tabIndex),n.keyup(function(t){e.handleKeys(t,1,0)})),void 0!==e.tabIndex&&(o.setAttr("tabindex",e.tabIndex),o.keyup(function(t){e.handleKeys(t,1,1)})),void 0!==e.tabIndex&&(i.setAttr("tabindex",e.tabIndex),i.keyup(function(t){e.handleKeys(t,0,1)})),n.mousedown(function(){e.leftDragStart()}).mouseup(function(){e.leftDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.leftDragStart()}).touchend(function(){e.leftDragStop()}),i.mousedown(function(){e.rightDragStart()}).mouseup(function(){e.rightDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.rightDragStart()}).touchend(function(){e.rightDragStop()}),t.ifArray(a.chartData)?s.show():s.hide(),e.hideDragIcons(),e.clipDragger(!1)}s.translate(e.x,e.y),s.node.style.msTouchAction="none",s.node.style.touchAction="none"}},handleKeys:function(t,e,i){this.getPercents();var n=this.percentStart,a=this.percentEnd;if(this.rotate)var s=a,a=n,n=s;37!=t.keyCode&&40!=t.keyCode||(n-=.02*e,a-=.02*i),39!=t.keyCode&&38!=t.keyCode||(n+=.02*e,a+=.02*i),this.rotate&&(t=a,a=n,n=t),isNaN(a)||isNaN(n)||this.percentZoom(n,a,!0)},updateScrollbarSize:function(t,e){if(!isNaN(t)&&!isNaN(e)){t=Math.round(t),e=Math.round(e);var i,n,a,s,o,r=this.dragger;this.rotate?(i=0,n=t,a=this.width+1,s=e-t,r.setAttr("height",e-t),r.setAttr("y",n)):(i=t,n=0,a=e-t,s=this.height+1,o=e-t,r.setAttr("x",i),r.setAttr("width",o)),this.clipAndUpdate(i,n,a,s)}},update:function(){var t,e,i,n=!1,a=this.x,s=this.y,o=this.dragger;if(l=this.getDBox()){e=l.x+a,i=l.y+s;var r=l.width,l=l.height,h=this.rotate,c=this.chart,d=this.width,u=this.height,p=c.mouseX,c=c.mouseY;if(t=this.initialMouse,this.forceClip&&this.clipDragger(!0),this.dragging){var f=this.initialCoord;h?(0>(t=f+(c-t))&&(t=0),f=u-l,t>f&&(t=f),o.setAttr("y",t)):(0>(t=f+(p-t))&&(t=0),f=d-r,t>f&&(t=f),o.setAttr("x",t)),this.clipDragger(!0)}this.resizingRight&&(h?(t=c-i,!isNaN(this.maxHeight)&&t>this.maxHeight&&(t=this.maxHeight),t+i>u+s&&(t=u-i+s),0>t?(this.resizingRight=!1,n=this.resizingLeft=!0):((0===t||isNaN(t))&&(t=.1),o.setAttr("height",t))):(t=p-e,!isNaN(this.maxWidth)&&t>this.maxWidth&&(t=this.maxWidth),t+e>d+a&&(t=d-e+a),0>t?(this.resizingRight=!1,n=this.resizingLeft=!0):((0===t||isNaN(t))&&(t=.1),o.setAttr("width",t))),this.clipDragger(!0)),this.resizingLeft&&(h?(e=i,(i=c)<s&&(i=s),isNaN(i)&&(i=s),i>u+s&&(i=u+s),t=!0===n?e-i:l+e-i,!isNaN(this.maxHeight)&&t>this.maxHeight&&(t=this.maxHeight,i=e),0>t?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("y",e+l-s)):((0===t||isNaN(t))&&(t=.1),o.setAttr("y",i-s),o.setAttr("height",t))):((i=p)<a&&(i=a),isNaN(i)&&(i=a),i>d+a&&(i=d+a),t=!0===n?e-i:r+e-i,!isNaN(this.maxWidth)&&t>this.maxWidth&&(t=this.maxWidth,i=e),0>t?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("x",e+r-a)):((0===t||isNaN(t))&&(t=.1),o.setAttr("x",i-a),o.setAttr("width",t))),this.clipDragger(!0))}},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(t){if(a=this.getDBox()){var e=a.x,i=a.y,n=a.width,a=a.height,s=!1;this.rotate?(e=0,n=this.width+1,(this.clipY!=i||this.clipH!=a)&&(s=!0)):(i=0,a=this.height+1,(this.clipX!=e||this.clipW!=n)&&(s=!0)),s&&(this.clipAndUpdate(e,i,n,a),t&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(t,e,i,n){this.clipX=t,this.clipY=e,this.clipW=i,this.clipH=n,this.selectedBG.setAttr("width",i),this.selectedBG.setAttr("height",n),this.selectedBG.translate(t,e),this.updateDragIconPositions(),this.maskGraphs(t,e,i,n)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t=this.chart;t.hideBalloon();var e=(a=this.getDBox()).x,i=a.y,n=a.width,a=a.height;this.getPercents(),this.rotate?(e=i,n=this.height/a):n=this.width/n,this.fire({type:"zoomed",position:e,chart:t,target:this,multiplier:n,relativeStart:this.percentStart,relativeEnd:this.percentEnd})}},updateDragIconPositions:function(){var t,e,i=this.getDBox(),n=i.x,a=i.y,s=this.iconLeft,o=this.iconRight,r=this.scrollbarHeight;this.rotate?(t=this.dragIconWidth,e=this.dragIconHeight,s.translate((r-e)/2,a-t/2),o.translate((r-e)/2,a+i.height-t/2)):(t=this.dragIconHeight,e=this.dragIconWidth,s.translate(n-e/2,(r-t)/2),o.translate(n-e/2+i.width,(r-t)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||(!this.hideResizeGrips&&this.resizeEnabled||(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(t){this.fire({type:t,chart:this.chart,target:this})},percentZoom:function(e,i,n){if(e=t.fitToBounds(e,0,i),i=t.fitToBounds(i,e,1),this.dragger&&this.enabled){this.dragger.stop(),isNaN(e)&&(e=0),isNaN(i)&&(i=1);var a,s;this.rotate?(a=this.height,i=a-a*i,s=a-a*e):(a=this.width,s=a*i,i=a*e),this.updateScrollbarSize(i,s),this.clipDragger(!1),this.getPercents(),n&&this.dispatchScrollbarEvent()}},destroy:function(){this.clear(),t.remove(this.set),t.remove(this.iconRight),t.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){this.fireZoomEvent("zoomStarted");var e=this.chart;this.dragger.stop(),this.removeCursors(),t.isModern&&this.dragger.node.setAttribute("style",this.dragCursorDown),this.dragging=!0;var i=this.getDBox();this.rotate?(this.initialCoord=i.y,this.initialMouse=e.mouseY):(this.initialCoord=i.x,this.initialMouse=e.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),t.isModern&&this.dragger.node.setAttribute("style",this.dragCursorHover),this.update(),this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver(),t.isModern&&this.dragger.node.setAttribute("style",this.dragCursorHover)},leftDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingLeft=!0,this.updateGripCursor(!0)},updateGripCursor:function(e){t.isModern&&(e=this.rotate?e?this.vResizeCursorDown:this.vResizeCursorHover:e?this.hResizeCursorDown:this.hResizeCursorHover)&&(this.iconRight&&this.iconRight.node.setAttribute("style",e),this.iconLeft&&this.iconLeft.node.setAttribute("style",e))},leftDragStop:function(){this.resizingLeft&&(this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},rightDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingRight=!0,this.updateGripCursor(!0)},rightDragStop:function(){this.resizingRight&&(this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.vResizeCursor&&this.chart.setMouseCursor(this.vResizeCursor):this.hResizeCursor&&this.chart.setMouseCursor(this.hResizeCursor),this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var e=this;if(!e.resizingRight&&!e.resizingLeft){e.zooming=!0;var i,n,a=e.scrollDuration,s=e.dragger,o=(i=e.getDBox()).height,r=i.width;n=e.chart;var l=e.y,h=e.x,c=e.rotate;c?(i="y",n=n.mouseY-o/2-l,n=t.fitToBounds(n,0,e.height-o)):(i="x",n=n.mouseX-r/2-h,n=t.fitToBounds(n,0,e.width-r)),e.updateOnReleaseOnly?(e.skipEvent=!1,s.setAttr(i,n),e.dispatchScrollbarEvent(),e.clipDragger()):(e.animating=!0,n=Math.round(n),c?s.animate({y:n},a,">"):s.animate({x:n},a,">"),e.forceClip=!0,clearTimeout(e.forceTO),e.forceTO=setTimeout(function(){e.stopForceClip.call(e)},5e3*a))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.dragging=this.resizingRight=this.resizingLeft=!1,this.updateOnRelease(),this.removeCursors()),this.animating=this.mouseIsOver=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons(),this.removeCursors()}})}(),function(){var t=window.AmCharts;t.ChartScrollbar=t.Class({inherits:t.SimpleChartScrollbar,construct:function(e){this.cname="ChartScrollbar",t.ChartScrollbar.base.construct.call(this,e),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.oppositeAxis=!0,this.accessibleLabel="Zoom chart using cursor arrows",t.applyTheme(this,e,this.cname)},init:function(){var e=this.categoryAxis,i=this.chart,n=this.gridAxis;e||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,e=new t.CategoryAxis,e.id="scrollbar"):(e=new t.ValueAxis,e.data=i.chartData,e.id=n.id,e.type=n.type,e.maximumDate=n.maximumDate,e.minimumDate=n.minimumDate,e.minPeriod=n.minPeriod,e.minMaxField=n.minMaxField),this.categoryAxis=e),e.chart=i;var a=i.categoryAxis;a&&(e.firstDayOfWeek=a.firstDayOfWeek),e.dateFormats=n.dateFormats,e.markPeriodChange=n.markPeriodChange,e.boldPeriodBeginning=n.boldPeriodBeginning,e.labelFunction=n.labelFunction,e.axisItemRenderer=t.RecItem,e.axisRenderer=t.RecAxis,e.guideFillRenderer=t.RecFill,e.inside=!0,e.fontSize=this.fontSize,e.tickLength=0,e.axisAlpha=0,t.isString(this.graph)&&(this.graph=t.getObjById(i.graphs,this.graph)),(e=this.graph)&&this.catScrollbar&&((n=this.valueAxis)||(this.valueAxis=n=new t.ValueAxis,n.visible=!1,n.scrollbar=!0,n.axisItemRenderer=t.RecItem,n.axisRenderer=t.RecAxis,n.guideFillRenderer=t.RecFill,n.labelsEnabled=!1,n.chart=i),(i=this.unselectedGraph)||(i=new t.AmGraph,i.scrollbar=!0,this.unselectedGraph=i,i.negativeBase=e.negativeBase,i.noStepRisers=e.noStepRisers),(i=this.selectedGraph)||(i=new t.AmGraph,i.scrollbar=!0,this.selectedGraph=i,i.negativeBase=e.negativeBase,i.noStepRisers=e.noStepRisers)),this.scrollbarCreated=!0},draw:function(){var e=this;if(t.ChartScrollbar.base.draw.call(e),e.enabled){e.scrollbarCreated||e.init();var i=e.chart,n=i.chartData,a=e.categoryAxis,s=e.rotate,o=e.x,r=e.y,l=e.width,h=e.height,c=e.gridAxis,d=e.set;if(a.setOrientation(!s),a.parseDates=c.parseDates,"ValueAxis"==e.categoryAxis.cname&&(a.rotate=!s),a.equalSpacing=c.equalSpacing,a.minPeriod=c.minPeriod,a.startOnAxis=c.startOnAxis,a.width=l-1,a.height=h,a.gridCount=e.gridCount,a.gridColor=e.gridColor,a.gridAlpha=e.gridAlpha,a.color=e.color,a.tickLength=0,a.axisAlpha=0,a.autoGridCount=e.autoGridCount,a.parseDates&&!a.equalSpacing&&a.timeZoom(i.firstTime,i.lastTime),a.minimum=e.gridAxis.fullMin,a.maximum=e.gridAxis.fullMax,a.strictMinMax=!0,a.zoom(0,n.length-1),(c=e.graph)&&e.catScrollbar){var u=e.valueAxis,p=c.valueAxis;u.id=p.id,u.rotate=s,u.setOrientation(s),u.width=l,u.height=h,u.dataProvider=n,u.reversed=p.reversed,u.logarithmic=p.logarithmic,u.gridAlpha=0,u.axisAlpha=0,d.push(u.set),s?(u.y=r,u.x=0):(u.x=o,u.y=0);var f,o=1/0,r=-1/0;for(f=0;f<n.length;f++){var m,g=n[f].axes[p.id].graphs[c.id].values;for(m in g)if(g.hasOwnProperty(m)&&"percents"!=m&&"total"!=m){var v=g[m];v<o&&(o=v),v>r&&(r=v)}}1/0!=o&&(u.minimum=o),-1/0!=r&&(u.maximum=r+.1*(r-o)),o==r&&(--u.minimum,u.maximum+=1),void 0!==e.minimum&&(u.minimum=e.minimum),void 0!==e.maximum&&(u.maximum=e.maximum),u.zoom(0,n.length-1),(m=e.unselectedGraph).id=c.id,m.bcn="scrollbar-graph-",m.rotate=s,m.chart=i,m.data=n,m.valueAxis=u,m.chart=c.chart,m.categoryAxis=e.categoryAxis,m.periodSpan=c.periodSpan,m.valueField=c.valueField,m.openField=c.openField,m.closeField=c.closeField,m.highField=c.highField,m.lowField=c.lowField,m.lineAlpha=e.graphLineAlpha,m.lineColorR=e.graphLineColor,m.fillAlphas=e.graphFillAlpha,m.fillColorsR=e.graphFillColor,m.connect=c.connect,m.hidden=c.hidden,m.width=l,m.height=h,m.pointPosition=c.pointPosition,m.stepDirection=c.stepDirection,m.periodSpan=c.periodSpan,(p=e.selectedGraph).id=c.id,p.bcn=m.bcn+"selected-",p.rotate=s,p.chart=i,p.data=n,p.valueAxis=u,p.chart=c.chart,p.categoryAxis=a,p.periodSpan=c.periodSpan,p.valueField=c.valueField,p.openField=c.openField,p.closeField=c.closeField,p.highField=c.highField,p.lowField=c.lowField,p.lineAlpha=e.selectedGraphLineAlpha,p.lineColorR=e.selectedGraphLineColor,p.fillAlphas=e.selectedGraphFillAlpha,p.fillColorsR=e.selectedGraphFillColor,p.connect=c.connect,p.hidden=c.hidden,p.width=l,p.height=h,p.pointPosition=c.pointPosition,p.stepDirection=c.stepDirection,p.periodSpan=c.periodSpan,(i=e.graphType)||(i=c.type),m.type=i,p.type=i,n=n.length-1,m.zoom(0,n),p.zoom(0,n),p.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}),m.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}),d.push(m.set),d.push(p.set)}d.push(a.set),d.push(a.labelsSet),e.bg.toBack(),e.invisibleBg.toFront(),e.dragger.toFront(),e.iconLeft.toFront(),e.iconRight.toFront()}},timeZoom:function(e,i,n){this.startTime=e,this.endTime=i,this.timeDifference=i-e,this.skipEvent=!t.toBoolean(n),this.zoomScrollbar(),this.dispatchScrollbarEvent()},zoom:function(t,e){this.start=t,this.end=e,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.categoryAxis&&"ValueAxis"==this.categoryAxis.cname)t.ChartScrollbar.base.dispatchScrollbarEvent.call(this);else if(this.skipEvent)this.skipEvent=!1;else{var e,i,n=this.chart.chartData;e=(o=this.dragger.getBBox()).x;var a=o.y,s=o.width,o=o.height,r=this.chart;this.rotate?(e=a,i=o):i=s,(s={type:"zoomed",target:this}).chart=r;var l=this.categoryAxis,h=this.stepWidth,a=r.minSelectedTime,o=r.maxSelectedTime,c=!1;l.parseDates&&!l.equalSpacing?(n=r.lastTime,r=r.firstTime,(l=Math.round(e/h)+r)>(e=this.dragging?l+this.timeDifference:Math.round((e+i)/h)+r)&&(l=e),0<a&&e-l<a&&(e=Math.round(l+(e-l)/2),c=Math.round(a/2),l=e-c,e+=c,c=!0),0<o&&e-l>o&&(e=Math.round(l+(e-l)/2),c=Math.round(o/2),l=e-c,e+=c,c=!0),e>n&&(e=n),e-a<l&&(l=e-a),l<r&&(l=r),l+a>e&&(e=l+a),(l!=this.startTime||e!=this.endTime)&&(this.startTime=l,this.endTime=e,s.start=l,s.end=e,s.startDate=new Date(l),s.endDate=new Date(e),this.fire(s))):(l.startOnAxis||(e+=h/2),i-=this.stepWidth/2,a=l.xToIndex(e),e=l.xToIndex(e+i),a==this.start&&this.end==e||(l.startOnAxis&&(this.resizingRight&&a==e&&e++,this.resizingLeft&&a==e&&(0<a?a--:e=1)),this.start=a,this.end=this.dragging?this.start+this.difference:e,s.start=this.start,s.end=this.end,l.parseDates&&(n[this.start]&&(s.startDate=new Date(n[this.start].time)),n[this.end]&&(s.endDate=new Date(n[this.end].time))),this.fire(s)),this.percentStart=a,this.percentEnd=e),c&&this.zoomScrollbar(!0)}},zoomScrollbar:function(t){if((!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)||t)&&this.dragger&&this.enabled){var e,i,n=this.chart;t=n.chartData;var a=this.categoryAxis;a.parseDates&&!a.equalSpacing?(t=a.stepWidth,i=n.firstTime,e=t*(this.startTime-i),i=t*(this.endTime-i)):(t[this.start]&&(e=t[this.start].x[a.id]),t[this.end]&&(i=t[this.end].x[a.id]),t=a.stepWidth,a.startOnAxis||(n=t/2,e-=n,i+=n)),this.stepWidth=t,isNaN(e)||isNaN(i)||this.updateScrollbarSize(e,i)}},maskGraphs:function(t,e,i,n){var a=this.selectedGraph;a&&a.set.clipRect(t,e,i,n)},handleDragStart:function(){t.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){t.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var t=window.AmCharts;t.AmBalloon=t.Class({construct:function(e){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!0,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,t.isModern||(this.offsetY*=1.5),this.sdy=this.sdx=0,t.applyTheme(this,e,this.cname)},draw:function(){var e=this.pointToX,i=this.pointToY;t.isModern||(this.drop=!1);var n=this.chart;if(t.VML&&(this.fadeOutDuration=0),this.xAnim&&n.stopAnim(this.xAnim),this.yAnim&&n.stopAnim(this.yAnim),this.sdy=this.sdx=0,!isNaN(e)){var a=this.follow,s=n.container,o=this.set;if(t.remove(o),this.removeDiv(),o=s.set(),o.node.style.pointerEvents="none",this.set=o,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):n.balloonsSet.push(o),this.show){var r=this.l,l=this.t,h=this.r,c=this.b,d=this.balloonColor,u=this.fillColor,p=this.borderColor,f=u;void 0!=d&&(this.adjustBorderColor?f=p=d:u=d);var m=this.horizontalPadding,g=this.verticalPadding,v=this.pointerWidth,b=this.pointerOrientation,y=this.cornerRadius,x=n.fontFamily;void 0==(k=this.fontSize)&&(k=n.fontSize);var d=document.createElement("div"),w=n.classNamePrefix;d.className=w+"-balloon-div",this.className&&(d.className=d.className+" "+w+"-balloon-div-"+this.className),w=d.style,this.disableMouseEvents&&(w.pointerEvents="none"),w.position="absolute";var T=this.minWidth,C="";isNaN(T)||(C="min-width:"+(T-2*m)+"px; "),d.innerHTML='<div style="text-align:'+this.textAlign+"; "+C+"max-width:"+this.maxWidth+"px; font-size:"+k+"px; color:"+this.color+"; font-family:"+x+'">'+this.text+"</div>",n.chartDiv.appendChild(d),this.textDiv=d;var S=d.offsetWidth,M=d.offsetHeight;d.clientHeight&&(S=d.clientWidth,M=d.clientHeight),x=M+2*g,C=S+2*m,!isNaN(T)&&C<T&&(C=T),window.opera&&(x+=2);var A=!1,k=this.offsetY;n.handDrawn&&(k+=n.handDrawScatter+2),"H"!=b?(T=e-C/2,i<l+x+10&&"down"!=b?(A=!0,a&&(i+=k),k=i+v,this.deltaSignY=-1):(a&&(i-=k),k=i-x-v,this.deltaSignY=1)):(2*v>x&&(v=x/2),k=i-x/2,e<r+(h-r)/2?(T=e+v,this.deltaSignX=-1):(T=e-C-v,this.deltaSignX=1)),k+x>=c&&(k=c-x),k<l&&(k=l),T<r&&(T=r),T+C>h&&(T=h-C);var D,l=k+g,c=T+m,P=this.shadowAlpha,_=this.shadowColor,m=this.borderThickness,N=this.bulletSize,g=this.fillAlpha,E=this.borderAlpha;this.showBullet&&(D=t.circle(s,N,f,g),o.push(D)),this.drop?(r=C/1.6,h=0,"V"==b&&(b="down"),"H"==b&&(b="left"),"down"==b&&(T=e+1,k=i-r-r/3),"up"==b&&(h=180,T=e+1,k=i+r+r/3),"left"==b&&(h=270,T=e+r+r/3+2,k=i),"right"==b&&(h=90,T=e-r-r/3+2,k=i),l=k-M/2+1,c=T-S/2-1,u=t.drop(s,r,h,u,g,m,p,E)):0<y||0===v?(0<P&&(e=t.rect(s,C,x,u,0,m+1,_,P,y),t.isModern?e.translate(1,1):e.translate(4,4),o.push(e)),u=t.rect(s,C,x,u,g,m,p,E,y)):(f=[],y=[],"H"!=b?((r=e-T)>C-v&&(r=C-v),r<v&&(r=v),f=[0,r-v,e-T,r+v,C,C,0,0],y=A?[0,0,i-k,0,0,x,x,0]:[x,x,i-k,x,x,0,0,x]):((b=i-k)>x-v&&(b=x-v),b<v&&(b=v),y=[0,b-v,i-k,b+v,x,x,0,0],f=e<r+(h-r)/2?[0,0,T<e?0:e-T,0,0,C,C,0]:[C,C,T+C>e?C:e-T,C,C,0,0,C]),0<P&&((e=t.polygon(s,f,y,u,0,m,_,P)).translate(1,1),o.push(e)),u=t.polygon(s,f,y,u,g,m,p,E)),this.bg=u,o.push(u),u.toFront(),t.setCN(n,u,"balloon-bg"),this.className&&t.setCN(n,u,"balloon-bg-"+this.className),s=1*this.deltaSignX,c+=this.sdx,l+=this.sdy,w.left=c+"px",w.top=l+"px",o.translate(T-s,k,1,!0),u=u.getBBox(),this.bottom=k+x+1,this.yPos=u.y+k,D&&D.translate(this.pointToX-T+s,i-k),i=this.animationDuration,0<this.animationDuration&&!a&&!isNaN(this.prevX)&&(o.translate(this.prevX,this.prevY,NaN,!0),o.animate({translate:T-s+","+k},i,"easeOutSine"),d&&(w.left=this.prevTX+"px",w.top=this.prevTY+"px",this.xAnim=n.animate({node:d},"left",this.prevTX,c,i,"easeOutSine","px"),this.yAnim=n.animate({node:d},"top",this.prevTY,l,i,"easeOutSine","px"))),this.prevX=T-s,this.prevY=k,this.prevTX=c,this.prevTY=l}}},fixPrevious:function(){this.rPrevX=this.prevX,this.rPrevY=this.prevY,this.rPrevTX=this.prevTX,this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX,this.prevY=this.rPrevY,this.prevTX=this.rPrevTX,this.prevTY=this.rPrevTY},followMouse:function(){if(this.follow&&this.show){var t=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,e=this.chart.mouseY-this.sdy;if(this.pointToX=t,this.pointToY=e,t!=this.previousX||e!=this.previousY)if(this.previousX=t,this.previousY=e,0===this.cornerRadius)this.draw();else{var i=this.set;if(i){var n=i.getBBox(),t=t-n.width/2,a=e-n.height-10;t<this.l&&(t=this.l),t>this.r-n.width&&(t=this.r-n.width),a<this.t&&(a=e+10),i.translate(t,a),(e=this.textDiv.style).left=t+this.horizontalPadding+"px",e.top=a+this.verticalPadding+"px"}}}},changeColor:function(t){this.balloonColor=t},setBounds:function(t,e,i,n){this.l=t,this.t=e,this.r=i,this.b=n,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(t){(this.text!=t||this.positionChanged)&&(this.text=t,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),t=this.chart,this.fadeAnim1&&t.stopAnim(this.fadeAnim1),this.fadeAnim2&&t.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(t){var e=this;e.text=void 0,isNaN(t)&&(t=e.fadeOutDuration);var i=e.chart;if(0<t&&!e.isHiding){e.isHiding=!0,e.destroyTO&&clearTimeout(e.destroyTO),e.destroyTO=setTimeout(function(){e.destroy.call(e)},1e3*t),e.follow=!1,e.show=!1;var n=e.set;n&&(n.setAttr("opacity",e.fillAlpha),e.fadeAnim1=n.animate({opacity:0},t,"easeInSine")),e.textDiv&&(e.fadeAnim2=i.animate({node:e.textDiv},"opacity",1,0,t,"easeInSine",""))}else e.show=!1,e.follow=!1,e.destroy()},setPosition:function(t,e){t==this.pointToX&&e==this.pointToY||(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=t,this.pointToY=e,this.positionChanged=!0)},followCursor:function(t){var e=this;e.follow=t,clearInterval(e.interval);var i=e.chart.mouseX-e.sdx,n=e.chart.mouseY-e.sdy;!isNaN(i)&&t&&(e.pointToX=i-e.offsetX*e.deltaSignX,e.pointToY=n,e.followMouse(),e.interval=setInterval(function(){e.followMouse.call(e)},40))},removeDiv:function(){if(this.textDiv){var t=this.textDiv.parentNode;t&&t.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),t.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var t=window.AmCharts;t.AmCoordinateChart=t.Class({inherits:t.AmChart,construct:function(e){t.AmCoordinateChart.base.construct.call(this,e),this.theme=e,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,t.applyTheme(this,e,"AmCoordinateChart")},initChart:function(){t.AmCoordinateChart.base.initChart.call(this),this.drawGraphs=!0;var e=this.categoryAxis;e&&(this.categoryAxis=t.processObject(e,t.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),t.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&(this.gridSet.toFront(),this.bulletSet.toFront(),this.balloonsSet.toFront())},createValueAxes:function(){if(0===this.valueAxes.length){var e=new t.ValueAxis;this.addValueAxis(e)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(t){if(this.chartData=[],t)if(0<this.processTimeout){1>this.processCount&&(this.processCount=1);var e=t.length/this.processCount;this.parseCount=Math.ceil(e)-1;for(var i=0;i<e;i++)this.delayParseSerialData(t,i)}else this.parseCount=0,this.parsePartSerialData(t,0,t.length,0);else this.onDataUpdated()},delayParseSerialData:function(t,e){var i=this,n=i.processCount;setTimeout(function(){i.parsePartSerialData.call(i,t,e*n,(e+1)*n,e)},i.processTimeout)},parsePartSerialData:function(e,i,n,a){n>e.length&&(n=e.length);var s=this.graphs,o={},r=this.seriesIdField;r||(r=this.categoryField);var l,h,c,d,u=!1,p=this.categoryAxis;p&&(u=p.parseDates,h=p.forceShowField,d=p.classNameField,c=p.labelColorField,l=p.categoryFunction);var f,m,g,v={};u&&(f=t.extractPeriod(p.minPeriod),m=f.period,f=f.count,g=t.getPeriodDuration(m,f));var b={};this.lookupTable=b;var y,x=this.dataDateFormat,w={};for(y=i;y<n;y++){var T={},C=e[y];if(i=C[this.categoryField],T.dataContext=C,T.category=l?l(i,C,p):String(i),h&&(T.forceShow=C[h]),d&&(T.className=C[d]),c&&(T.labelColor=C[c]),b[C[r]]=T,!u||(p.categoryFunction?i=p.categoryFunction(i,C,p):(!x||i instanceof Date||(i=i.toString()+" |"),i=t.getDate(i,x,p.minPeriod)),i=t.resetDateToMin(i,m,f,p.firstDayOfWeek),T.category=i,T.time=i.getTime(),!isNaN(T.time))){var S=this.valueAxes;T.axes={},T.x={};var M;for(M=0;M<S.length;M++){var A=S[M].id;T.axes[A]={},T.axes[A].graphs={};var k;for(k=0;k<s.length;k++){var D=(i=s[k]).id,P=1.1;isNaN(i.gapPeriod)||(P=i.gapPeriod);var _=i.periodValue;if(i.valueAxis.id==A){T.axes[A].graphs[D]={};var N={};N.index=y;var E=C;if(i.dataProvider&&(E=o),N.values=this.processValues(E,i,_),!i.connect||i.forceGap&&!isNaN(i.gapPeriod))if(w&&w[D]&&0<P&&T.time-v[D]>=g*P&&(w[D].gap=!0),i.forceGap){var O,P=0;for(O in N.values)P++;0<P&&(v[D]=T.time,w[D]=N)}else v[D]=T.time,w[D]=N;this.processFields(i,N,E),N.category=T.category,N.serialDataItem=T,N.graph=i,T.axes[A].graphs[D]=N}}}this.chartData[y]=T}}if(this.parseCount==a){for(e=0;e<s.length;e++)(i=s[e]).dataProvider&&this.parseGraphData(i);this.dataChanged=!1,this.dispatchDataUpdated=!0,this.onDataUpdated()}},processValues:function(e,i,n){var a,s={},o=!1;"candlestick"!=i.type&&"ohlc"!=i.type||""===n||(o=!0);for(var r="value error open close low high".split(" "),l=0;l<r.length;l++){var h=r[l];"value"!=h&&"error"!=h&&o&&(n=h.charAt(0).toUpperCase()+h.slice(1));var c=e[i[h+"Field"]+n];null!==c&&(a=Number(c),isNaN(a)||(s[h]=a),"date"==i.valueAxis.type&&void 0!==c&&(a=t.getDate(c,i.chart.dataDateFormat),s[h]=a.getTime()))}return s},parseGraphData:function(t){var e=t.dataProvider,i=t.seriesIdField;i||(i=this.seriesIdField),i||(i=this.categoryField);var n;for(n=0;n<e.length;n++){var a=e[n],s=this.lookupTable[String(a[i])],o=t.valueAxis.id;s&&(o=s.axes[o].graphs[t.id],o.serialDataItem=s,o.values=this.processValues(a,t,t.periodValue),this.processFields(t,o,a))}},addValueAxis:function(t){t.chart=this,this.valueAxes.push(t),this.validateData()},removeValueAxesAndGraphs:function(){var t,e=this.valueAxes;for(t=e.length-1;-1<t;t--)this.removeValueAxis(e[t])},removeValueAxis:function(t){var e,i=this.graphs;for(e=i.length-1;0<=e;e--){var n=i[e];n&&n.valueAxis==t&&this.removeGraph(n)}for(e=(i=this.valueAxes).length-1;0<=e;e--)i[e]==t&&i.splice(e,1);this.validateData()},addGraph:function(t){this.graphs.push(t),this.chooseGraphColor(t,this.graphs.length-1),this.validateData()},removeGraph:function(t){var e,i=this.graphs;for(e=i.length-1;0<=e;e--)i[e]==t&&(i.splice(e,1),t.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){var e,i=this.valueAxes;for(e=0;e<i.length;e++){var n=i[e],n=t.processObject(n,t.ValueAxis,this.theme);i[e]=n,n.chart=this,n.init(),this.listenTo(n,"axisIntZoomed",this.handleValueAxisZoom),n.id||(n.id="valueAxisAuto"+e+"_"+(new Date).getTime()),void 0===n.usePrefixes&&(n.usePrefixes=this.usePrefixes)}},processGuides:function(){var e=this.guides,i=this.categoryAxis;if(e)for(var n=0;n<e.length;n++){var a=e[n];(void 0!==a.category||void 0!==a.date)&&i&&i.addGuide(a),a.id||(a.id="guideAuto"+n+"_"+(new Date).getTime());var s=a.valueAxis;s?(t.isString(s)&&(s=this.getValueAxisById(s)),s?s.addGuide(a):this.valueAxes[0].addGuide(a)):isNaN(a.value)||this.valueAxes[0].addGuide(a)}},processGraphs:function(){var e,i=this.graphs;for(this.graphsById={},e=0;e<i.length;e++){var n=i[e],n=t.processObject(n,t.AmGraph,this.theme);i[e]=n,this.chooseGraphColor(n,e),n.chart=this,n.init(),t.isString(n.valueAxis)&&(n.valueAxis=this.getValueAxisById(n.valueAxis)),n.valueAxis||(n.valueAxis=this.valueAxes[0]),n.id||(n.id="graphAuto"+e+"_"+(new Date).getTime()),this.graphsById[n.id]=n}},formatString:function(e,i,n){var a=i.graph,s=a.valueAxis;return s.duration&&i.values.value&&(s=t.formatDuration(i.values.value,s.duration,"",s.durationUnits,s.maxInterval,s.numberFormatter),e=e.split("[[value]]").join(s)),e=t.massReplace(e,{"[[title]]":a.title,"[[description]]":i.description}),e=n?t.fixNewLines(e):t.fixBrakes(e),e=t.cleanFromEmpty(e)},getBalloonColor:function(e,i,n){var a=e.lineColor,s=e.balloonColor;return n&&(s=a),"object"==typeof(n=e.fillColorsR)?a=n[0]:void 0!==n&&(a=n),i.isNegative&&(n=e.negativeLineColor,"object"==typeof(e=e.negativeFillColors)?n=e[0]:void 0!==e&&(n=e),void 0!==n&&(a=n)),void 0!==i.color&&(a=i.color),void 0!==i.lineColor&&(a=i.lineColor),void 0!==(i=i.fillColors)&&(a=i,t.ifArray(i)&&(a=i[0])),void 0===s&&(s=a),s},getGraphById:function(e){return t.getObjById(this.graphs,e)},getValueAxisById:function(e){return t.getObjById(this.valueAxes,e)},processFields:function(e,i,n){if(e.itemColors){var a=e.itemColors,s=i.index;i.color=s<a.length?a[s]:t.randomColor()}for(a="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className columnIndex".split(" "),s=0;s<a.length;s++){var o=a[s],r=e[o+"Field"];r&&(r=n[r],t.isDefined(r)&&(i[o]=r))}i.dataContext=n},chooseGraphColor:function(e,i){if(e.lineColor)e.lineColorR=e.lineColor;else{var n;n=this.colors.length>i?this.colors[i]:e.lineColorR?e.lineColorR:t.randomColor(),e.lineColorR=n}e.fillColorsR=e.fillColors?e.fillColors:e.lineColorR,e.bulletBorderColorR=e.bulletBorderColor?e.bulletBorderColor:e.useLineColorForBulletBorder?e.lineColorR:e.bulletColor,e.bulletColorR=e.bulletColor?e.bulletColor:e.lineColorR,(n=this.patterns)&&(e.pattern=n[i])},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem){var i=t.hidden,n=t.showBalloon;switch(e){case"clickMarker":this.textClickEnabled&&(n?this.hideGraphsBalloon(t):this.showGraphsBalloon(t));break;case"clickLabel":n?this.hideGraphsBalloon(t):this.showGraphsBalloon(t);break;case"rollOverItem":i||this.highlightGraph(t);break;case"rollOutItem":i||this.unhighlightGraph();break;case"hideItem":this.hideGraph(t);break;case"showItem":this.showGraph(t)}}},highlightGraph:function(t){var e=this.graphs;if(e){var i,n=.2;if(this.legend&&(n=this.legend.rollOverGraphAlpha),1!=n)for(i=0;i<e.length;i++){var a=e[i];a!=t&&a.changeOpacity(n)}}},unhighlightGraph:function(){var t;if(this.legend&&(t=this.legend.rollOverGraphAlpha),1!=t){t=this.graphs;var e;for(e=0;e<t.length;e++)t[e].changeOpacity(1)}},showGraph:function(t){t.switchable&&(t.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(t){t.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),t.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(t){t.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(t){t.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var t=this.graphs;if(t){var e;for(e=0;e<t.length;e++)t[e].animationPlayed=!1}},animateAgain:function(){this.resetAnimation(),this.validateNow()}})}(),function(){var t=window.AmCharts;t.TrendLine=t.Class({construct:function(e){this.cname="TrendLine",this.createEvents("click"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,t.applyTheme(this,e,this.cname)},draw:function(){var e=this;e.destroy();var i,n,a,s,o=e.chart,r=o.container,l=e.categoryAxis,h=e.initialDate,c=e.initialCategory,d=e.finalDate,u=e.finalCategory,p=e.valueAxis,f=e.valueAxisX,m=e.initialXValue,g=e.finalXValue,v=e.initialValue,b=e.finalValue,y=p.recalculateToPercents,x=o.dataDateFormat;l&&(h&&(h=t.getDate(h,x,"fff"),e.initialDate=h,i=l.dateToCoordinate(h)),c&&(i=l.categoryToCoordinate(c)),d&&(d=t.getDate(d,x,"fff"),e.finalDate=d,n=l.dateToCoordinate(d)),u&&(n=l.categoryToCoordinate(u))),f&&!y&&(isNaN(m)||(i=f.getCoordinate(m)),isNaN(g)||(n=f.getCoordinate(g))),p&&!y&&(isNaN(v)||(a=p.getCoordinate(v)),isNaN(b)||(s=p.getCoordinate(b))),isNaN(i)||isNaN(n)||isNaN(a)||isNaN(a)||(o.rotate?(l=[a,s],s=[i,n]):(l=[i,n],s=[a,s]),h=e.lineColor,a=t.line(r,l,s,h,e.lineAlpha,e.lineThickness,e.dashLength),i=l,n=s,u=l[1]-l[0],p=s[1]-s[0],0===u&&(u=.01),0===p&&(p=.01),c=u/Math.abs(u),d=p/Math.abs(p),p=90*Math.PI/180-Math.asin(u/(u*p/Math.abs(u*p)*Math.sqrt(Math.pow(u,2)+Math.pow(p,2)))),u=Math.abs(5*Math.cos(p)),p=Math.abs(5*Math.sin(p)),i.push(l[1]-c*p,l[0]-c*p),n.push(s[1]+d*u,s[0]+d*u),s=t.polygon(r,i,n,h,.005,0),(r=r.set([s,a])).translate(o.marginLeftReal,o.marginTopReal),o.trendLinesSet.push(r),t.setCN(o,a,"trend-line"),t.setCN(o,a,"trend-line-"+e.id),e.line=a,e.set=r,(a=e.initialImage)&&(a=t.processObject(a,t.Image,e.theme),a.chart=o,a.draw(),a.translate(i[0]+a.offsetX,n[0]+a.offsetY),r.push(a.set)),(a=e.finalImage)&&(a=t.processObject(a,t.Image,e.theme),a.chart=o,a.draw(),a.translate(i[1]+a.offsetX,n[1]+a.offsetY),r.push(a.set)),s.mouseup(function(){e.handleLineClick()}).mouseover(function(){e.handleLineOver()}).mouseout(function(){e.handleLineOut()}),s.touchend&&s.touchend(function(){e.handleLineClick()}),r.clipRect(0,0,o.plotAreaWidth,o.plotAreaHeight))},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var t=this.rollOverColor;void 0!==t&&this.line.attr({stroke:t}),this.balloonText&&(clearTimeout(this.chart.hoverInt),t=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+t.x+t.width/2,this.y+t.y+t.height/2))},handleLineOut:function(){this.line.attr({stroke:this.lineColor}),this.balloonText&&this.chart.hideBalloon()},destroy:function(){t.remove(this.set)}})}(),function(){var t=window.AmCharts;t.Image=t.Class({construct:function(e){this.cname="Image",this.height=this.width=20,this.rotation=this.offsetY=this.offsetX=0,this.balloonColor=this.color="#000000",this.opacity=1,t.applyTheme(this,e,this.cname)},draw:function(){var t=this;t.set&&t.set.remove();var e=t.chart.container;t.set=e.set();var i,n;t.url?(i=e.image(t.url,0,0,t.width,t.height),n=1):t.svgPath&&((i=e.path(t.svgPath)).setAttr("fill",t.color),i.setAttr("stroke",t.outlineColor),e=i.getBBox(),n=Math.min(t.width/e.width,t.height/e.height)),i&&(i.setAttr("opacity",t.opacity),t.set.rotate(t.rotation),i.translate(-t.width/2,-t.height/2,n),t.balloonText&&i.mouseover(function(){t.chart.showBalloon(t.balloonText,t.balloonColor,!0)}).mouseout(function(){t.chart.hideBalloon()}).touchend(function(){t.chart.hideBalloon()}).touchstart(function(){t.chart.showBalloon(t.balloonText,t.balloonColor,!0)}),t.set.push(i))},translate:function(t,e){this.set&&this.set.translate(t,e)}})}(),function(){var t=window.AmCharts;t.circle=function(e,i,n,a,s,o,r,l,h){return 0>=i&&(i=.001),void 0!=s&&0!==s||(s=.01),void 0===o&&(o="#000000"),void 0===r&&(r=0),a={fill:n,stroke:o,"fill-opacity":a,"stroke-width":s,"stroke-opacity":r},e=isNaN(h)?e.circle(0,0,i).attr(a):e.ellipse(0,0,i,h).attr(a),l&&e.gradient("radialGradient",[n,t.adjustLuminosity(n,-.6)]),e},t.text=function(e,i,n,a,s,o,r,l){return o||(o="middle"),"right"==o&&(o="end"),"left"==o&&(o="start"),isNaN(l)&&(l=1),void 0!==i&&(i=String(i),t.isIE&&!t.isModern&&(i=i.replace("&amp;","&"),i=i.replace("&","&amp;"))),n={fill:n,"font-family":a,"font-size":s+"px",opacity:l},!0===r&&(n["font-weight"]="bold"),n["text-anchor"]=o,e.text(i,n)},t.polygon=function(e,i,n,a,s,o,r,l,h,c,d){isNaN(o)&&(o=.01),isNaN(l)&&(l=s);var u=a,p=!1;"object"==typeof u&&1<u.length&&(p=!0,u=u[0]),void 0===r&&(r=u),s={fill:u,stroke:r,"fill-opacity":s,"stroke-width":o,"stroke-opacity":l},void 0!==d&&0<d&&(s["stroke-dasharray"]=d),d=t.dx,o=t.dy,e.handDrawn&&(n=t.makeHD(i,n,e.handDrawScatter),i=n[0],n=n[1]),r=Math.round,c&&(i[f]=t.roundTo(i[f],5),n[f]=t.roundTo(n[f],5),r=Number),l="M"+(r(i[0])+d)+","+(r(n[0])+o);for(var f=1;f<i.length;f++)c&&(i[f]=t.roundTo(i[f],5),n[f]=t.roundTo(n[f],5)),l+=" L"+(r(i[f])+d)+","+(r(n[f])+o);return e=e.path(l+" Z").attr(s),p&&e.gradient("linearGradient",a,h),e},t.rect=function(e,i,n,a,s,o,r,l,h,c,d){if(isNaN(i)||isNaN(n))return e.set();isNaN(o)&&(o=0),void 0===h&&(h=0),void 0===c&&(c=270),isNaN(s)&&(s=0);var u=a,p=!1;"object"==typeof u&&(u=u[0],p=!0),void 0===r&&(r=u),void 0===l&&(l=s),i=Math.round(i),n=Math.round(n);var f=0,m=0;return 0>i&&(i=Math.abs(i),f=-i),0>n&&(n=Math.abs(n),m=-n),f+=t.dx,m+=t.dy,s={fill:u,stroke:r,"fill-opacity":s,"stroke-opacity":l},void 0!==d&&0<d&&(s["stroke-dasharray"]=d),e=e.rect(f,m,i,n,h,o).attr(s),p&&e.gradient("linearGradient",a,c),e},t.bullet=function(e,i,n,a,s,o,r,l,h,c,d,u,p){var f;switch("circle"==i&&(i="round"),i){case"round":f=t.circle(e,n/2,a,s,o,r,l);break;case"square":f=t.polygon(e,[-n/2,n/2,n/2,-n/2],[n/2,n/2,-n/2,-n/2],a,s,o,r,l,c-180,void 0,p);break;case"rectangle":f=t.polygon(e,[-n,n,n,-n],[n/2,n/2,-n/2,-n/2],a,s,o,r,l,c-180,void 0,p);break;case"diamond":f=t.polygon(e,[-n/2,0,n/2,0],[0,-n/2,0,n/2],a,s,o,r,l);break;case"triangleUp":f=t.triangle(e,n,0,a,s,o,r,l);break;case"triangleDown":f=t.triangle(e,n,180,a,s,o,r,l);break;case"triangleLeft":f=t.triangle(e,n,270,a,s,o,r,l);break;case"triangleRight":f=t.triangle(e,n,90,a,s,o,r,l);break;case"bubble":f=t.circle(e,n/2,a,s,o,r,l,!0);break;case"line":f=t.line(e,[-n/2,n/2],[0,0],a,s,o,r,l);break;case"yError":(f=e.set()).push(t.line(e,[0,0],[-n/2,n/2],a,s,o)),f.push(t.line(e,[-h,h],[-n/2,-n/2],a,s,o)),f.push(t.line(e,[-h,h],[n/2,n/2],a,s,o));break;case"xError":(f=e.set()).push(t.line(e,[-n/2,n/2],[0,0],a,s,o)),f.push(t.line(e,[-n/2,-n/2],[-h,h],a,s,o)),f.push(t.line(e,[n/2,n/2],[-h,h],a,s,o))}return f&&f.pattern(d,NaN,u),f},t.triangle=function(t,e,i,n,a,s,o,r){void 0!==s&&0!==s||(s=1),void 0===o&&(o="#000"),void 0===r&&(r=0),n={fill:n,stroke:o,"fill-opacity":a,"stroke-width":s,"stroke-opacity":r},e/=2;var l;return 0===i&&(l=" M"+-e+","+e+" L0,"+-e+" L"+e+","+e+" Z"),180==i&&(l=" M"+-e+","+-e+" L0,"+e+" L"+e+","+-e+" Z"),90==i&&(l=" M"+-e+","+-e+" L"+e+",0 L"+-e+","+e+" Z"),270==i&&(l=" M"+-e+",0 L"+e+","+e+" L"+e+","+-e+" Z"),t.path(l).attr(n)},t.line=function(e,i,n,a,s,o,r,l,h,c,d){if(e.handDrawn&&!d)return t.handDrawnLine(e,i,n,a,s,o,r,l,h,c,d);for(o={fill:"none","stroke-width":o},void 0!==r&&0<r&&(o["stroke-dasharray"]=r),isNaN(s)||(o["stroke-opacity"]=s),a&&(o.stroke=a),a=Math.round,c&&(a=Number,i[0]=t.roundTo(i[0],5),n[0]=t.roundTo(n[0],5)),c=t.dx,s=t.dy,r="M"+(a(i[0])+c)+","+(a(n[0])+s),l=1;l<i.length;l++)i[l]=t.roundTo(i[l],5),n[l]=t.roundTo(n[l],5),r+=" L"+(a(i[l])+c)+","+(a(n[l])+s);return t.VML?e.path(r,void 0,!0).attr(o):(h&&(r+=" M0,0 L0,0"),e.path(r).attr(o))},t.makeHD=function(t,e,i){for(var n=[],a=[],s=1;s<t.length;s++)for(var o=Number(t[s-1]),r=Number(e[s-1]),l=Number(t[s]),h=Number(e[s]),c=Math.round(Math.sqrt(Math.pow(l-o,2)+Math.pow(h-r,2))/50)+1,l=(l-o)/c,h=(h-r)/c,d=0;d<=c;d++){var u=r+d*h+Math.random()*i;n.push(o+d*l+Math.random()*i),a.push(u)}return[n,a]},t.handDrawnLine=function(e,i,n,a,s,o,r,l,h,c){var d,u=e.set();for(d=1;d<i.length;d++)for(var p=[i[d-1],i[d]],f=[n[d-1],n[d]],f=t.makeHD(p,f,e.handDrawScatter),p=f[0],f=f[1],m=1;m<p.length;m++)u.push(t.line(e,[p[m-1],p[m]],[f[m-1],f[m]],a,s,o+Math.random()*e.handDrawThickness-e.handDrawThickness/2,r,l,h,c,!0));return u},t.doNothing=function(t){return t},t.drop=function(t,e,i,n,a,s,o,r){var l=1/180*Math.PI,h=i-20,c=Math.sin(h*l)*e,d=Math.cos(h*l)*e,u=Math.sin((h+40)*l)*e,p=Math.cos((h+40)*l)*e,f=.8*e,m=-e/3,g=e/3;return 0===i&&(m=-m,g=0),180==i&&(g=0),90==i&&(m=0),270==i&&(m=0,g=-g),i={fill:n,stroke:o,"stroke-width":s,"stroke-opacity":r,"fill-opacity":a},e="M"+c+","+d+" A"+e+","+e+",0,1,1,"+u+","+p+" A"+f+","+f+",0,0,0,"+(Math.sin((h+20)*l)*e+g)+","+(Math.cos((h+20)*l)*e+m),e+=" A"+f+","+f+",0,0,0,"+c+","+d,t.path(e,void 0,void 0,"1000,1000").attr(i)},t.wedge=function(e,i,n,a,s,o,r,l,h,c,d,u,p,f){var m=Math.round;o=m(o);var g=m((r=m(r))/o*(l=m(l))),v=t.VML;359.94<(y=359.5+o/100)&&(y=359.94),s>=y&&(s=y);var b=1/180*Math.PI,y=i+Math.sin(a*b)*l,x=n-Math.cos(a*b)*g,w=i+Math.sin(a*b)*o,T=n-Math.cos(a*b)*r,C=i+Math.sin((a+s)*b)*o,S=n-Math.cos((a+s)*b)*r,M=i+Math.sin((a+s)*b)*l,b=n-Math.cos((a+s)*b)*g,A={fill:t.adjustLuminosity(c.fill,-.2),"stroke-opacity":0,"fill-opacity":c["fill-opacity"]},k=0;180<Math.abs(s)&&(k=1),a=e.set();var D;v&&(y=m(10*y),w=m(10*w),C=m(10*C),M=m(10*M),x=m(10*x),T=m(10*T),S=m(10*S),b=m(10*b),i=m(10*i),h=m(10*h),n=m(10*n),o*=10,r*=10,l*=10,g*=10,1>Math.abs(s)&&1>=Math.abs(C-w)&&1>=Math.abs(S-T)&&(D=!0)),s="";var P;if(u&&(A["fill-opacity"]=0,A["stroke-opacity"]=c["stroke-opacity"]/2,A.stroke=c.stroke),0<h){P=" M"+y+","+(x+h)+" L"+w+","+(T+h),v?(D||(P+=" A"+(i-o)+","+(h+n-r)+","+(i+o)+","+(h+n+r)+","+w+","+(T+h)+","+C+","+(S+h)),P+=" L"+M+","+(b+h),0<l&&(D||(P+=" B"+(i-l)+","+(h+n-g)+","+(i+l)+","+(h+n+g)+","+M+","+(h+b)+","+y+","+(h+x)))):(P+=" A"+o+","+r+",0,"+k+",1,"+C+","+(S+h)+" L"+M+","+(b+h),0<l&&(P+=" A"+l+","+g+",0,"+k+",0,"+y+","+(x+h))),P+=" Z";var _=h;v&&(_/=10);for(var N=0;N<_;N+=10){var E=e.path(P,void 0,void 0,"1000,1000").attr(A);a.push(E),E.translate(0,-N)}P=e.path(" M"+y+","+x+" L"+y+","+(x+h)+" L"+w+","+(T+h)+" L"+w+","+T+" L"+y+","+x+" Z",void 0,void 0,"1000,1000").attr(A),h=e.path(" M"+C+","+S+" L"+C+","+(S+h)+" L"+M+","+(b+h)+" L"+M+","+b+" L"+C+","+S+" Z",void 0,void 0,"1000,1000").attr(A),a.push(P),a.push(h)}if(v?(D||(s=" A"+m(i-o)+","+m(n-r)+","+m(i+o)+","+m(n+r)+","+m(w)+","+m(T)+","+m(C)+","+m(S)),r=" M"+m(y)+","+m(x)+" L"+m(w)+","+m(T)+s+" L"+m(M)+","+m(b)):r=" M"+y+","+x+" L"+w+","+T+" A"+o+","+r+",0,"+k+",1,"+C+","+S+" L"+M+","+b,0<l&&(v?D||(r+=" B"+(i-l)+","+(n-g)+","+(i+l)+","+(n+g)+","+M+","+b+","+y+","+x):r+=" A"+l+","+g+",0,"+k+",0,"+y+","+x),e.handDrawn&&(l=t.line(e,[y,w],[x,T],c.stroke,c.thickness*Math.random()*e.handDrawThickness,c["stroke-opacity"]),a.push(l)),e=e.path(r+" Z",void 0,void 0,"1000,1000").attr(c),d){for(l=[],g=0;g<d.length;g++)l.push(t.adjustLuminosity(c.fill,d[g]));"radial"!=f||t.isModern||(l=[]),0<l.length&&e.gradient(f+"Gradient",l)}return t.isModern&&"radial"==f&&e.grad&&(e.grad.setAttribute("gradientUnits","userSpaceOnUse"),e.grad.setAttribute("r",o),e.grad.setAttribute("cx",i),e.grad.setAttribute("cy",n)),e.pattern(u,NaN,p),a.wedge=e,a.push(e),a},t.rgb2hex=function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},t.adjustLuminosity=function(e,i){e&&-1!=e.indexOf("rgb")&&(e=t.rgb2hex(e)),6>(e=String(e).replace(/[^0-9a-f]/gi,"")).length&&(e=String(e[0])+String(e[0])+String(e[1])+String(e[1])+String(e[2])+String(e[2])),i=i||0;var n,a,s="#";for(a=0;3>a;a++)n=parseInt(e.substr(2*a,2),16),n=Math.round(Math.min(Math.max(0,n+n*i),255)).toString(16),s+=("00"+n).substr(n.length);return s}}(),function(){var t=window.AmCharts;t.Bezier=t.Class({construct:function(e,i,n,a,s,o,r,l,h,c,d){var u,p;for("object"==typeof r&&1<r.length&&(p=!0,u=r,r=r[0]),"object"==typeof l&&(l=l[0]),0===l&&(r="none"),o={fill:r,"fill-opacity":l,"stroke-width":o},void 0!==h&&0<h&&(o["stroke-dasharray"]=h),isNaN(s)||(o["stroke-opacity"]=s),a&&(o.stroke=a),a="M"+Math.round(i[0])+","+Math.round(n[0]),s=[],h=0;h<i.length;h++)isNaN(i[h])||isNaN(n[h])?(a+=this.drawSegment(s),h<i.length-1&&(a+="L"+i[h+1]+","+n[h+1]),s=[]):s.push({x:Number(i[h]),y:Number(n[h])});a+=this.drawSegment(s),c?a+=c:t.VML||(a+="M0,0 L0,0"),this.path=e.path(a).attr(o),this.node=this.path.node,p&&this.path.gradient("linearGradient",u,d)},drawSegment:function(t){return 1<t.length?(t=this.interpolate(t),this.drawBeziers(t)):""},interpolate:function(e){var i=[];i.push({x:e[0].x,y:e[0].y});var n=e[1].x-e[0].x,a=e[1].y-e[0].y,s=t.bezierX,o=t.bezierY;i.push({x:e[0].x+n/s,y:e[0].y+a/o});var r;for(r=1;r<e.length-1;r++){var l=e[r-1],h=e[r],a=e[r+1];isNaN(a.x)&&(a=h),isNaN(h.x)&&(h=l),isNaN(l.x)&&(l=h),n=a.x-h.x,a=a.y-l.y,(l=h.x-l.x)>n&&(l=n),i.push({x:h.x-l/s,y:h.y-a/o}),i.push({x:h.x,y:h.y}),i.push({x:h.x+l/s,y:h.y+a/o})}return a=e[e.length-1].y-e[e.length-2].y,n=e[e.length-1].x-e[e.length-2].x,i.push({x:e[e.length-1].x-n/s,y:e[e.length-1].y-a/o}),i.push({x:e[e.length-1].x,y:e[e.length-1].y}),i},drawBeziers:function(t){var e,i="";for(e=0;e<(t.length-1)/3;e++)i+=this.drawBezierMidpoint(t[3*e],t[3*e+1],t[3*e+2],t[3*e+3]);return i},drawBezierMidpoint:function(t,e,i,n){var a=Math.round,s=this.getPointOnSegment(t,e,.75),o=this.getPointOnSegment(n,i,.75),r=(n.x-t.x)/16,l=(n.y-t.y)/16,h=this.getPointOnSegment(t,e,.375);return t=this.getPointOnSegment(s,o,.375),t.x-=r,t.y-=l,e=this.getPointOnSegment(o,s,.375),e.x+=r,e.y+=l,i=this.getPointOnSegment(n,i,.375),r=this.getMiddle(h,t),s=this.getMiddle(s,o),o=this.getMiddle(e,i),h=" Q"+a(h.x)+","+a(h.y)+","+a(r.x)+","+a(r.y),h+=" Q"+a(t.x)+","+a(t.y)+","+a(s.x)+","+a(s.y),h+=" Q"+a(e.x)+","+a(e.y)+","+a(o.x)+","+a(o.y),h+=" Q"+a(i.x)+","+a(i.y)+","+a(n.x)+","+a(n.y)},getMiddle:function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},getPointOnSegment:function(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}})}(),function(){var t=window.AmCharts;t.AmDraw=t.Class({construct:function(e,i,n,a){t.SVG_NS="http://www.w3.org/2000/svg",t.SVG_XLINK="http://www.w3.org/1999/xlink",t.hasSVG=!!document.createElementNS&&!!document.createElementNS(t.SVG_NS,"svg").createSVGRect,1>i&&(i=10),1>n&&(n=10),this.div=e,this.width=i,this.height=n,this.rBin=document.createElement("div"),t.hasSVG?(t.SVG=!0,i=this.createSvgElement("svg"),e.appendChild(i),this.container=i,this.addDefs(a),this.R=new t.SVGRenderer(this)):t.isIE&&t.VMLRenderer&&(t.VML=!0,t.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?((i=document.createStyleSheet()).addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),t.vmlStyleSheet=i):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=e,this.R=new t.VMLRenderer(this,a),this.R.disableSelection(e))},createSvgElement:function(e){return document.createElementNS(t.SVG_NS,e)},circle:function(e,i,n,a){var s=new t.AmDObject("circle",this);return s.attr({r:n,cx:e,cy:i}),this.addToContainer(s.node,a),s},ellipse:function(e,i,n,a,s){var o=new t.AmDObject("ellipse",this);return o.attr({rx:n,ry:a,cx:e,cy:i}),this.addToContainer(o.node,s),o},setSize:function(t,e){0<t&&0<e&&(this.container.style.width=t+"px",this.container.style.height=e+"px")},rect:function(e,i,n,a,s,o,r){var l=new t.AmDObject("rect",this);return t.VML&&(s=Math.round(100*s/Math.min(n,a)),n+=2*o,a+=2*o,l.bw=o,l.node.style.marginLeft=-o,l.node.style.marginTop=-o),1>n&&(n=1),1>a&&(a=1),l.attr({x:e,y:i,width:n,height:a,rx:s,ry:s,"stroke-width":o}),this.addToContainer(l.node,r),l},image:function(e,i,n,a,s,o){var r=new t.AmDObject("image",this);return r.attr({x:i,y:n,width:a,height:s}),this.R.path(r,e),this.addToContainer(r.node,o),r},addToContainer:function(t,e){e||(e=this.container),e.appendChild(t)},text:function(t,e,i){return this.R.text(t,e,i)},path:function(e,i,n,a){var s=new t.AmDObject("path",this);return a||(a="100,100"),s.attr({cs:a}),n?s.attr({dd:e}):s.attr({d:e}),this.addToContainer(s.node,i),s},set:function(t){return this.R.set(t)},remove:function(t){if(t){var e=this.rBin;e.appendChild(t),e.innerHTML=""}},renderFix:function(){var t=this.container,e=t.style;e.top="0px",e.left="0px";try{var i=t.getBoundingClientRect(),n=i.left-Math.round(i.left),a=i.top-Math.round(i.top);n&&(e.left=n+"px"),a&&(e.top=a+"px")}catch(t){}},update:function(){this.R.update()},addDefs:function(e){if(t.hasSVG){var i=this.createSvgElement("desc"),n=this.container;if(n.setAttribute("version","1.1"),n.style.position="absolute",this.setSize(this.width,this.height),e.accessibleTitle){var a=this.createSvgElement("text");n.appendChild(a),a.innerHTML=e.accessibleTitle,a.style.opacity=0}t.rtl&&(n.setAttribute("direction","rtl"),n.style.left="auto",n.style.right="0px"),e&&(e.addCodeCredits&&i.appendChild(document.createTextNode("JavaScript chart by amCharts "+e.version)),n.appendChild(i),e.defs&&(i=this.createSvgElement("defs"),n.appendChild(i),t.parseDefs(e.defs,i),this.defs=i))}}})}(),function(){var t=window.AmCharts;t.AmDObject=t.Class({construct:function(t,e){this.D=e,this.R=e.R,this.node=this.R.create(this,t),this.y=this.x=0,this.scale=1},attr:function(t){return this.R.attr(this,t),this},getAttr:function(t){return this.node.getAttribute(t)},setAttr:function(t,e){return this.R.setAttr(this,t,e),this},clipRect:function(t,e,i,n){this.R.clipRect(this,t,e,i,n)},translate:function(t,e,i,n){n||(t=Math.round(t),e=Math.round(e)),this.R.move(this,t,e,i),this.x=t,this.y=e,this.scale=i,this.angle&&this.rotate(this.angle)},rotate:function(t,e){this.R.rotate(this,t,e),this.angle=t},animate:function(e,i,n){for(var a in e)if(e.hasOwnProperty(a)){var s=a,o=e[a];n=t.getEffect(n),this.R.animate(this,s,o,i,n)}},push:function(t){if(t){var e=this.node;e.appendChild(t.node);var i=t.clipPath;i&&e.appendChild(i),(t=t.grad)&&e.appendChild(t)}},text:function(t){this.R.setText(this,t)},remove:function(){this.stop(),this.R.remove(this)},clear:function(){var t=this.node;if(t.hasChildNodes())for(;1<=t.childNodes.length;)t.removeChild(t.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;e&&e.appendChild(t)}},toPrevious:function(){var t=this.node;t&&this.prevNextNode&&(t=t.parentNode)&&t.insertBefore(this.prevNextNode,null)},toBack:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;if(e){var i=e.firstChild;i&&e.insertBefore(t,i)}}},mouseover:function(t){return this.R.addListener(this,"mouseover",t),this},mouseout:function(t){return this.R.addListener(this,"mouseout",t),this},click:function(t){return this.R.addListener(this,"click",t),this},dblclick:function(t){return this.R.addListener(this,"dblclick",t),this},mousedown:function(t){return this.R.addListener(this,"mousedown",t),this},mouseup:function(t){return this.R.addListener(this,"mouseup",t),this},touchmove:function(t){return this.R.addListener(this,"touchmove",t),this},touchstart:function(t){return this.R.addListener(this,"touchstart",t),this},touchend:function(t){return this.R.addListener(this,"touchend",t),this},keyup:function(t){return this.R.addListener(this,"keyup",t),this},focus:function(t){return this.R.addListener(this,"focus",t),this},blur:function(t){return this.R.addListener(this,"blur",t),this},contextmenu:function(t){return this.node.addEventListener?this.node.addEventListener("contextmenu",t,!0):this.R.addListener(this,"contextmenu",t),this},stop:function(){t.removeFromArray(this.R.animations,this.an_translate),t.removeFromArray(this.R.animations,this.an_y),t.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(t,e,i){this.R.gradient(this,t,e,i)},pattern:function(t,e,i){t&&this.R.pattern(this,t,e,i)}})}(),function(){var t=window.AmCharts;t.VMLRenderer=t.Class({construct:function(t,e){this.chart=e,this.D=t,this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(t,e){var i;if("group"==e)i=document.createElement("div"),t.type="div";else if("text"==e)i=document.createElement("div"),t.type="text";else if("image"==e)i=document.createElement("img"),t.type="image";else{t.type="shape",t.shapeType=this.cNames[e],i=document.createElement("amvml:"+this.cNames[e]);var n=document.createElement("amvml:stroke");i.appendChild(n),t.stroke=n;var a=document.createElement("amvml:fill");i.appendChild(a),t.fill=a,a.className="amvml",n.className="amvml",i.className="amvml"}return i.style.position="absolute",i.style.top=0,i.style.left=0,i},path:function(t,e){t.node.setAttribute("src",e)},setAttr:function(e,i,n){if(void 0!==n){var a;8===document.documentMode&&(a=!0);var s=e.node,o=e.type,r=s.style;"r"==i&&(r.width=2*n,r.height=2*n),"oval"==e.shapeType&&("rx"==i&&(r.width=2*n),"ry"==i&&(r.height=2*n)),"roundrect"==e.shapeType&&("width"!=i&&"height"!=i||--n),"cursor"==i&&(r.cursor=n),"cx"==i&&(r.left=n-t.removePx(r.width)/2),"cy"==i&&(r.top=n-t.removePx(r.height)/2);var l=this.styleMap[i];if("width"==l&&0>n&&(n=0),void 0!==l&&(r[l]=n),"text"==o&&("text-anchor"==i&&(e.anchor=n,l=s.clientWidth,"end"==n&&(r.marginLeft=-l+"px"),"middle"==n&&(r.marginLeft=-l/2+"px",r.textAlign="center"),"start"==n&&(r.marginLeft="0px")),"fill"==i&&(r.color=n),"font-weight"==i&&(r.fontWeight=n)),r=e.children)for(l=0;l<r.length;l++)r[l].setAttr(i,n);"shape"==o&&("cs"==i&&(s.style.width="100px",s.style.height="100px",s.setAttribute("coordsize",n)),"d"==i&&s.setAttribute("path",this.svgPathToVml(n)),"dd"==i&&s.setAttribute("path",n),o=e.stroke,e=e.fill,"stroke"==i&&(a?o.color=n:o.setAttribute("color",n)),"stroke-width"==i&&(a?o.weight=n:o.setAttribute("weight",n)),"stroke-opacity"==i&&(a?o.opacity=n:o.setAttribute("opacity",n)),"stroke-dasharray"==i&&(r="solid",0<n&&3>n&&(r="dot"),3<=n&&6>=n&&(r="dash"),6<n&&(r="longdash"),a?o.dashstyle=r:o.setAttribute("dashstyle",r)),"fill-opacity"!=i&&"opacity"!=i||(0===n?a?e.on=!1:e.setAttribute("on",!1):a?e.opacity=n:e.setAttribute("opacity",n)),"fill"==i&&(a?e.color=n:e.setAttribute("color",n)),"rx"==i&&(a?s.arcSize=n+"%":s.setAttribute("arcsize",n+"%")))}},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},text:function(e,i,n){var a=new t.AmDObject("text",this.D),s=a.node;return s.style.whiteSpace="pre",s.innerHTML=e,this.D.addToContainer(s,n),this.attr(a,i),a},getBBox:function(t){return this.getBox(t.node)},getBox:function(t){var e,i=t.offsetLeft,n=t.offsetTop,a=t.offsetWidth,s=t.offsetHeight;if(t.hasChildNodes()){var o,r,l;for(l=0;l<t.childNodes.length;l++){var h=(e=this.getBox(t.childNodes[l])).x;isNaN(h)||(isNaN(o)?o=h:h<o&&(o=h));var c=e.y;isNaN(c)||(isNaN(r)?r=c:c<r&&(r=c)),h=e.width+h,isNaN(h)||(a=Math.max(a,h)),e=e.height+c,isNaN(e)||(s=Math.max(s,e))}0>o&&(i+=o),0>r&&(n+=r)}return{x:i,y:n,width:a,height:s}},setText:function(t,e){var i=t.node;i&&(i.innerHTML=e),this.setAttr(t,"text-anchor",t.anchor)},addListener:function(t,e,i){t.node["on"+e]=i},move:function(e,i,n){var a=e.node,s=a.style;"text"==e.type&&(n-=t.removePx(s.fontSize)/2-1),"oval"==e.shapeType&&(i-=t.removePx(s.width)/2,n-=t.removePx(s.height)/2),e=e.bw,isNaN(e)||(i-=e,n-=e),isNaN(i)||isNaN(n)||(a.style.left=i+"px",a.style.top=n+"px")},svgPathToVml:function(t){var e=t.split(" ");t="";var i,n,a=Math.round;for(n=0;n<e.length;n++){var s=e[n],o=s.substring(0,1),r=(s=s.substring(1)).split(","),l=a(r[0])+","+a(r[1]);if("M"==o&&(t+=" m "+l),"L"==o&&(t+=" l "+l),"Z"==o&&(t+=" x e"),"Q"==o){var h=i.length,c=i[h-1],d=r[0],u=r[1],l=r[2],p=r[3];t+=" c "+(i=a(i[h-2]/3+2/3*d))+","+(c=a(c/3+2/3*u))+","+(d=a(2/3*d+l/3))+","+(u=a(2/3*u+p/3))+","+l+","+p}"A"==o&&(t+=" wa "+s),"B"==o&&(t+=" at "+s),i=r}return t},animate:function(t,e,i,n,a){var s=t.node,o=this.chart;if(t.animationFinished=!1,"translate"==e){i=(e=i.split(","))[1];var r=s.offsetTop;o.animate(t,"left",s.offsetLeft,e[0],n,a,"px"),o.animate(t,"top",r,i,n,a,"px")}},clipRect:function(t,e,i,n,a){t=t.node,0===e&&0===i?(t.style.width=n+"px",t.style.height=a+"px",t.style.overflow="hidden"):t.style.clip="rect("+i+"px "+(e+n)+"px "+(i+a)+"px "+e+"px)"},rotate:function(e,i,n){if(0!==Number(i)){e=(h=e.node).style,n||(n=this.getBGColor(h.parentNode)),e.backgroundColor=n,e.paddingLeft=1,n=i*Math.PI/180;var a=Math.cos(n),s=Math.sin(n),o=t.removePx(e.left),r=t.removePx(e.top),l=h.offsetWidth,h=h.offsetHeight;i/=Math.abs(i),e.left=o+l/2-l/2*Math.cos(n)-i*h/2*Math.sin(n)+3,e.top=r-i*l/2*Math.sin(n)+i*h/2*Math.sin(n),e.cssText=e.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+a+"', M12='"+-s+"', M21='"+s+"', M22='"+a+"', sizingmethod='auto expand');"}},getBGColor:function(t){var e="#FFFFFF";if(t.style){var i=t.style.backgroundColor;""!==i?e=i:t.parentNode&&(e=this.getBGColor(t.parentNode))}return e},set:function(e){var i=new t.AmDObject("group",this.D);if(this.D.container.appendChild(i.node),e){var n;for(n=0;n<e.length;n++)i.push(e[n])}return i},gradient:function(t,e,i,n){var a="";"radialGradient"==e&&(e="gradientradial",i.reverse()),"linearGradient"==e&&(e="gradient");var s;for(s=0;s<i.length;s++)a+=Math.round(100*s/(i.length-1))+"% "+i[s],s<i.length-1&&(a+=",");t=t.fill,90==n?n=0:270==n?n=180:180==n?n=90:0===n&&(n=270),8===document.documentMode?(t.type=e,t.angle=n):(t.setAttribute("type",e),t.setAttribute("angle",n)),a&&(t.colors.value=a)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),this.D.remove(t.node)},disableSelection:function(t){t.onselectstart=function(){return!1},t.style.cursor="default"},pattern:function(e,i,n,a){n=e.node,e=e.fill;var s="none";i.color&&(s=i.color),n.fillColor=s,i=i.url,t.isAbsolute(i)||(i=a+i),8===document.documentMode?(e.type="tile",e.src=i):(e.setAttribute("type","tile"),e.setAttribute("src",i))},update:function(){}})}(),function(){var t=window.AmCharts;t.SVGRenderer=t.Class({construct:function(t){this.D=t,this.animations=[]},create:function(e,i){return document.createElementNS(t.SVG_NS,i)},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},setAttr:function(t,e,i){void 0!==i&&t.node.setAttribute(e,i)},animate:function(e,i,n,a,s){e.animationFinished=!1;var o=e.node;e["an_"+i]&&t.removeFromArray(this.animations,e["an_"+i]),"translate"==i?(o=(o=o.getAttribute("transform"))?String(o).substring(10,o.length-1):"0,0",o=o.split(", ").join(" "),0===(o=o.split(" ").join(","))&&(o="0,0")):o=Number(o.getAttribute(i)),n={obj:e,frame:0,attribute:i,from:o,to:n,time:a,effect:s},this.animations.push(n),e["an_"+i]=n},update:function(){var e,i=this.animations;for(e=i.length-1;0<=e;e--){var n,a,s,o=i[e],r=o.time*t.updateRate,l=o.frame+1,h=o.obj,c=o.attribute;if(l<=r){if(o.frame++,"translate"==c){if(n=o.from.split(","),c=Number(n[0]),n=Number(n[1]),isNaN(n)&&(n=0),a=o.to.split(","),s=Number(a[0]),a=Number(a[1]),s=0==s-c?s:Math.round(t[o.effect](0,l,c,s-c,r)),o=0==a-n?a:Math.round(t[o.effect](0,l,n,a-n,r)),c="transform",isNaN(s)||isNaN(o))continue;o="translate("+s+","+o+")"}else a=Number(o.from),n=Number(o.to),s=n-a,o=t[o.effect](0,l,a,s,r),isNaN(o)&&(o=n),0===s&&this.animations.splice(e,1);this.setAttr(h,c,o)}else"translate"==c?(a=o.to.split(","),s=Number(a[0]),a=Number(a[1]),h.translate(s,a)):(n=Number(o.to),this.setAttr(h,c,n)),h.animationFinished=!0,this.animations.splice(e,1)}},getBBox:function(t){if(t=t.node)try{return t.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(e,i){e.node.setAttributeNS(t.SVG_XLINK,"xlink:href",i)},clipRect:function(e,i,n,a,s){var o=e.node,r=e.clipPath;r&&this.D.remove(r);var l=o.parentNode;l&&(o=document.createElementNS(t.SVG_NS,"clipPath"),r=t.getUniqueId(),o.setAttribute("id",r),this.D.rect(i,n,a,s,0,0,o),l.appendChild(o),i="#",t.baseHref&&!t.isIE&&(i=this.removeTarget(window.location.href)+i),this.setAttr(e,"clip-path","url("+i+r+")"),this.clipPathC++,e.clipPath=o)},text:function(e,i,n){var a=new t.AmDObject("text",this.D);e=String(e).split("\n");var s,o=t.removePx(i["font-size"]);for(s=0;s<e.length;s++){var r=this.create(null,"tspan");r.appendChild(document.createTextNode(e[s])),r.setAttribute("y",(o+2)*s+Math.round(o/2)),r.setAttribute("x",0),a.node.appendChild(r)}return a.node.setAttribute("y",Math.round(o/2)),this.attr(a,i),this.D.addToContainer(a.node,n),a},setText:function(t,e){var i=t.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(e)))},move:function(t,e,i,n){isNaN(e)&&(e=0),isNaN(i)&&(i=0),e="translate("+e+","+i+")",n&&(e=e+" scale("+n+")"),this.setAttr(t,"transform",e)},rotate:function(t,e){var i=t.node.getAttribute("transform"),n="rotate("+e+")";i&&(n=i+" "+n),this.setAttr(t,"transform",n)},set:function(e){var i=new t.AmDObject("g",this.D);if(this.D.container.appendChild(i.node),e){var n;for(n=0;n<e.length;n++)i.push(e[n])}return i},addListener:function(t,e,i){t.node["on"+e]=i},gradient:function(e,i,n,a){var s=e.node,o=e.grad;if(o&&this.D.remove(o),i=document.createElementNS(t.SVG_NS,i),o=t.getUniqueId(),i.setAttribute("id",o),!isNaN(a)){var r=0,l=0,h=0,c=0;90==a?h=100:270==a?c=100:180==a?r=100:0===a&&(l=100),i.setAttribute("x1",r+"%"),i.setAttribute("x2",l+"%"),i.setAttribute("y1",h+"%"),i.setAttribute("y2",c+"%")}for(a=0;a<n.length;a++)r=document.createElementNS(t.SVG_NS,"stop"),l=100*a/(n.length-1),0===a&&(l=0),r.setAttribute("offset",l+"%"),r.setAttribute("stop-color",n[a]),i.appendChild(r);s.parentNode.appendChild(i),n="#",t.baseHref&&!t.isIE&&(n=this.removeTarget(window.location.href)+n),s.setAttribute("fill","url("+n+o+")"),e.grad=i},removeTarget:function(t){return t.split("#")[0]},pattern:function(e,i,n,a){var s=e.node;isNaN(n)&&(n=1);(o=e.patternNode)&&this.D.remove(o);var o=document.createElementNS(t.SVG_NS,"pattern"),r=t.getUniqueId(),l=i;i.url&&(l=i.url),t.isAbsolute(l)||-1!=l.indexOf("data:image")||(l=a+l),a=Number(i.width),isNaN(a)&&(a=4);var h=Number(i.height);isNaN(h)&&(h=4),a/=n,h/=n,n=i.x,isNaN(n)&&(n=0);var c=-Math.random()*Number(i.randomX);isNaN(c)||(n=c),c=i.y,isNaN(c)&&(c=0);var d=-Math.random()*Number(i.randomY);isNaN(d)||(c=d),o.setAttribute("id",r),o.setAttribute("width",a),o.setAttribute("height",h),o.setAttribute("patternUnits","userSpaceOnUse"),o.setAttribute("xlink:href",l),i.color&&((d=document.createElementNS(t.SVG_NS,"rect")).setAttributeNS(null,"height",a),d.setAttributeNS(null,"width",h),d.setAttributeNS(null,"fill",i.color),o.appendChild(d)),this.D.image(l,0,0,a,h,o).translate(n,c),l="#",t.baseHref&&!t.isIE&&(l=this.removeTarget(window.location.href)+l),s.setAttribute("fill","url("+l+r+")"),e.patternNode=o,s.parentNode.appendChild(o)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),t.grad&&this.D.remove(t.grad),t.patternNode&&this.D.remove(t.patternNode),this.D.remove(t.node)}})}(),function(){var t=window.AmCharts;t.AmLegend=t.Class({construct:function(e){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.accessibleLabel="[[title]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,this.labelDx=0,t.applyTheme(this,e,this.cname)},setData:function(t){this.legendData=t,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[];var e=this.legendData;this.enabled&&(t.ifArray(e)||t.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var e=this.chart,i=this.position,n=this.width,a=e.divRealWidth,s=e.divRealHeight,o=this.div,r=this.legendData;if(this.data&&(r=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=e.fontSize),this.maxColumnsReal=this.maxColumns,"right"==i||"left"==i)this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=e.marginRight,this.marginLeft=e.marginLeft;var l=e.autoMarginOffset;"bottom"==i?(this.marginBottom=l,this.marginTop=0):(this.marginTop=l,this.marginBottom=0)}if(n=void 0!==n?t.toCoordinate(n,a):"right"!=i&&"left"!=i?e.realWidth:0<this.ieW?this.ieW:e.realWidth,"outside"==i?(n=o.offsetWidth,s=o.offsetHeight,o.clientHeight&&(n=o.clientWidth,s=o.clientHeight)):(isNaN(n)||(o.style.width=n+"px"),o.className="amChartsLegend "+e.classNamePrefix+"-legend-div"),this.divWidth=n,(i=this.container)?(i.container.innerHTML="",o.appendChild(i.container),i.width=n,i.height=s,i.setSize(n,s),i.addDefs(e)):i=new t.AmDraw(o,n,s,e),this.container=i,this.lx=0,this.ly=8,(s=this.markerSize)>this.fontSize&&(this.ly=s/2-1),0<s&&(this.lx+=s+this.markerLabelGap),this.titleWidth=0,(s=this.title)&&(s=t.text(this.container,s,this.color,e.fontFamily,this.fontSize,"start",!0),t.setCN(e,s,"legend-title"),s.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),e=s.getBBox(),this.titleWidth=e.width+15,this.titleHeight=e.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(e=0;e<r.length;e++)this.createEntry(r[e]);for(e=this.index=0;e<r.length;e++)this.createValue(r[e])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var e=this.position,i=this.marginLeft+this.titleWidth,n=this.marginRight,a=this.marginTop,s=this.marginBottom,o=this.horizontalGap,r=this.div,l=this.divWidth,h=this.maxColumnsReal,c=this.verticalGap,d=this.spacing,u=l-n-i,p=0,f=0,m=this.container;this.set&&this.set.remove();var g=m.set();this.set=g;var v=m.set();g.push(v);var b,y,x=this.entries;for(y=0;y<x.length;y++){(w=(b=x[y].getBBox()).width)>p&&(p=w),(b=b.height)>f&&(f=b)}var w=f=0,T=o,C=0,S=0;for(y=0;y<x.length;y++){var M=x[y];this.reversedOrder&&(M=x[x.length-y-1]),b=M.getBBox();var A;this.equalWidths?A=w*(p+d+this.markerLabelGap):(A=T,T=T+b.width+o+d),A+b.width>u&&0<y&&0!==w&&(f++,A=w=0,T=A+b.width+o+d,C=C+S+c,S=0),b.height>S&&(S=b.height),M.translate(A,C),w++,!isNaN(h)&&w>=h&&(w=0,f++,C=C+S+c,T=o,S=0),v.push(M)}h=(b=v.getBBox()).height+2*c-1,"left"==e||"right"==e?(d=b.width+2*o,l=d+i+n,r.style.width=l+"px",this.ieW=l):d=l-i-n-1,n=t.polygon(this.container,[0,d,d,0],[0,0,h,h],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),t.setCN(this.chart,n,"legend-bg"),g.push(n),g.translate(i,a),n.toBack(),i=o,"top"!=e&&"bottom"!=e&&"absolute"!=e&&"outside"!=e||("center"==this.align?i=o+(d-b.width)/2:"right"==this.align&&(i=o+d-b.width)),v.translate(i,c+1),this.titleHeight>h&&(h=this.titleHeight),0>(a=h+a+s+1)&&(a=0),"absolute"!=e&&"outside"!=e&&a>this.chart.divRealHeight&&(r.style.top="0px"),r.style.height=Math.round(a)+"px",m.setSize(this.divWidth,a)},createEntry:function(e){if(!1!==e.visibleInLegend&&!e.hideFromLegend){var i=this,n=i.chart,a=i.useGraphSettings,s=e.markerType;s&&(a=!1),e.legendEntryWidth=i.markerSize,s||(s=i.markerType);var o=e.color,r=e.alpha;e.legendKeyColor&&(o=e.legendKeyColor()),e.legendKeyAlpha&&(r=e.legendKeyAlpha());var l;!0===e.hidden&&(l=o=i.markerDisabledColor);var h,c=e.pattern,d=e.customMarker;d||(d=i.customMarker);var u=i.container,p=i.markerSize,f=0,m=0,g=p/2;if(a)a=e.type,i.switchType=void 0,"line"==a||"step"==a||"smoothedLine"==a||"ohlc"==a?(h=u.set(),e.hidden||(o=e.lineColorR,l=e.bulletBorderColorR),f=t.line(u,[0,2*p],[p/2,p/2],o,e.lineAlpha,e.lineThickness,e.dashLength),t.setCN(n,f,"graph-stroke"),h.push(f),e.bullet&&(e.hidden||(o=e.bulletColorR),f=t.bullet(u,e.bullet,e.bulletSize,o,e.bulletAlpha,e.bulletBorderThickness,l,e.bulletBorderAlpha))&&(t.setCN(n,f,"graph-bullet"),f.translate(p+1,p/2),h.push(f)),g=0,f=p,m=p/3):(e.getGradRotation&&0===(h=e.getGradRotation())&&(h=180),f=e.fillColorsR,!0===e.hidden&&(f=o),(h=i.createMarker("rectangle",f,e.fillAlphas,e.lineThickness,o,e.lineAlpha,h,c,e.dashLength))&&(g=p,h.translate(g,p/2)),f=p),t.setCN(n,h,"graph-"+a),t.setCN(n,h,"graph-"+e.id);else if(d)h=u.image(d,0,0,p,p);else{var v;isNaN(i.gradientRotation)||(v=180+i.gradientRotation),(h=i.createMarker(s,o,r,void 0,void 0,void 0,v,c))&&h.translate(p/2,p/2)}t.setCN(n,h,"legend-marker"),i.addListeners(h,e),u=u.set([h]),i.switchable&&e.switchable&&u.setAttr("cursor","pointer"),void 0!==e.id&&t.setCN(n,u,"legend-item-"+e.id),t.setCN(n,u,e.className,!0);var b;(l=i.switchType)&&"none"!=l&&0<p&&("x"==l?(b=i.createX()).translate(p/2,p/2):b=i.createV(),b.dItem=e,!0!==e.hidden?"x"==l?b.hide():b.show():"x"!=l&&b.hide(),i.switchable||b.hide(),i.addListeners(b,e),e.legendSwitch=b,u.push(b),t.setCN(n,b,"legend-switch")),l=i.color,e.showBalloon&&i.textClickEnabled&&void 0!==i.selectedColor&&(l=i.selectedColor),i.useMarkerColorForLabels&&!c&&(l=o),!0===e.hidden&&(l=i.markerDisabledColor),o=t.massReplace(i.labelText,{"[[title]]":e.title}),void 0!==i.tabIndex&&(u.setAttr("tabindex",i.tabIndex),u.setAttr("role","menuitem"),u.keyup(function(t){13==t.keyCode&&i.clickMarker(e,t)})),n.accessible&&i.accessibleLabel&&(c=t.massReplace(i.accessibleLabel,{"[[title]]":e.title}),n.makeAccessible(u,c)),c=i.fontSize,h&&(p<=c&&(p=p/2+i.ly-c/2+(c+2-p)/2-m,h.translate(g,p),b&&b.translate(b.x,p)),e.legendEntryWidth=h.getBBox().width);var y;o&&(o=t.fixBrakes(o),e.legendTextReal=o,y=i.labelWidth,y=isNaN(y)?t.text(i.container,o,l,n.fontFamily,c,"start"):t.wrappedText(i.container,o,l,n.fontFamily,c,"start",!1,y,0),t.setCN(n,y,"legend-label"),y.translate(i.lx+f,i.ly),u.push(y),i.labelDx=f,n=y.getBBox().width,i.maxLabelWidth<n&&(i.maxLabelWidth=n)),i.entries[i.index]=u,e.legendEntry=i.entries[i.index],e.legendMarker=h,e.legendLabel=y,i.index++}},addListeners:function(t,e){var i=this;t&&t.mouseover(function(t){i.rollOverMarker(e,t)}).mouseout(function(t){i.rollOutMarker(e,t)}).click(function(t){i.clickMarker(e,t)})},rollOverMarker:function(t,e){this.switchable&&this.dispatch("rollOverMarker",t,e),this.dispatch("rollOverItem",t,e)},rollOutMarker:function(t,e){this.switchable&&this.dispatch("rollOutMarker",t,e),this.dispatch("rollOutItem",t,e)},clickMarker:function(t,e){this.switchable&&(!0===t.hidden?this.dispatch("showItem",t,e):this.dispatch("hideItem",t,e)),this.dispatch("clickMarker",t,e)},rollOverLabel:function(t,e){t.hidden||this.textClickEnabled&&t.legendLabel&&t.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",t,e)},rollOutLabel:function(t,e){if(!t.hidden&&this.textClickEnabled&&t.legendLabel){var i=this.color;void 0!==this.selectedColor&&t.showBalloon&&(i=this.selectedColor),this.useMarkerColorForLabels&&void 0===(i=t.lineColor)&&(i=t.color),t.legendLabel.attr({fill:i})}this.dispatch("rollOutItem",t,e)},clickLabel:function(t,e){this.textClickEnabled?t.hidden||this.dispatch("clickLabel",t,e):this.switchable&&(!0===t.hidden?this.dispatch("showItem",t,e):this.dispatch("hideItem",t,e))},dispatch:function(t,e,i){t={type:t,dataItem:e,target:this,event:i,chart:this.chart},this.chart&&this.chart.handleLegendEvent(t),this.fire(t)},createValue:function(e){var i=this,n=i.fontSize,a=i.chart;if(!1!==e.visibleInLegend&&!e.hideFromLegend){l=i.maxLabelWidth;i.forceWidth&&(l=i.labelWidth),i.equalWidths||(i.valueAlign="left"),"left"==i.valueAlign&&e.legendLabel&&(l=e.legendLabel.getBBox().width);var s=l;if(i.valueText&&0<i.valueWidth){var o=i.color;i.useMarkerColorForValues&&(o=e.color,e.legendKeyColor&&(o=e.legendKeyColor())),!0===e.hidden&&(o=i.markerDisabledColor);var r=i.valueText,l=l+i.lx+i.labelDx+i.markerLabelGap+i.valueWidth,h="end";"left"==i.valueAlign&&(l-=i.valueWidth,h="start"),o=t.text(i.container,r,o,i.chart.fontFamily,n,h),t.setCN(a,o,"legend-value"),o.translate(l,i.ly),i.entries[i.index].push(o),s+=i.valueWidth+2*i.markerLabelGap,o.dItem=e,i.valueLabels.push(o)}i.index++,(a=i.markerSize)<n+7&&(a=n+7,t.VML&&(a+=3)),(n=i.container.rect(e.legendEntryWidth,0,s,a,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005})).dItem=e,i.entries[i.index-1].push(n),n.mouseover(function(t){i.rollOverLabel(e,t)}).mouseout(function(t){i.rollOutLabel(e,t)}).click(function(t){i.clickLabel(e,t)})}},createV:function(){var e=this.markerSize;return t.polygon(this.container,[e/5,e/2,e-e/5,e/2],[e/3,e-e/5,e/5,e/1.7],this.switchColor)},createX:function(){var e=(this.markerSize-4)/2,i={stroke:this.switchColor,"stroke-width":3},n=this.container,a=t.line(n,[-e,e],[-e,e]).attr(i),e=t.line(n,[-e,e],[e,-e]).attr(i);return this.container.set([a,e])},createMarker:function(e,i,n,a,s,o,r,l,h){var c=this.markerSize,d=this.container;return s||(s=this.markerBorderColor),s||(s=i),isNaN(a)&&(a=this.markerBorderThickness),isNaN(o)&&(o=this.markerBorderAlpha),t.bullet(d,e,c,i,n,a,s,o,c,r,l,this.chart.path,h)},validateNow:function(){this.invalidateSize()},updateValues:function(){var e,i=this.valueLabels,n=this.chart,a=this.data;if(i)for(e=0;e<i.length;e++){var s=i[e],o=s.dItem;o.periodDataItem=void 0,o.periodPercentDataItem=void 0;var r=" ";if(a)o.value?s.text(o.value):s.text("");else{l=null;if(void 0!==o.type){var l=o.currentDataItem,h=this.periodValueText;o.legendPeriodValueText&&(h=o.legendPeriodValueText),l?(r=this.valueText,o.legendValueText&&(r=o.legendValueText),r=n.formatString(r,l)):h&&n.formatPeriodString&&(h=t.massReplace(h,{"[[title]]":o.title}),r=n.formatPeriodString(h,o))}else r=n.formatString(this.valueText,o);h=o,l&&(h=l);var c=this.valueFunction;c&&(r=c(h,r,n.periodDataItem));var d;this.useMarkerColorForLabels&&!l&&o.lastDataItem&&(l=o.lastDataItem),l?d=n.getBalloonColor(o,l):o.legendKeyColor&&(d=o.legendKeyColor()),o.legendColorFunction&&(d=o.legendColorFunction(h,r,o.periodDataItem,o.periodPercentDataItem)),s.text(r),!o.pattern&&(this.useMarkerColorForValues&&s.setAttr("fill",d),this.useMarkerColorForLabels)&&((s=o.legendMarker)&&(s.setAttr("fill",d),s.setAttr("stroke",d)),(o=o.legendLabel)&&o.setAttr("fill",d))}}},renderFix:function(){if(!t.VML&&this.enabled){var e=this.container;e&&e.renderFix()}},destroy:function(){this.div.innerHTML="",t.remove(this.set)}})}(),function(){var t=window.AmCharts;t.formatMilliseconds=function(t,e){if(-1!=t.indexOf("fff")){var i=e.getMilliseconds(),n=String(i);10>i&&(n="00"+i),10<=i&&100>i&&(n="0"+i),t=t.replace(/fff/g,n)}return t},t.extractPeriod=function(e){var i=t.stripNumbers(e),n=1;return i!=e&&(n=Number(e.slice(0,e.indexOf(i)))),{period:i,count:n}},t.getDate=function(e,i,n){return e instanceof Date?t.newDate(e,n):i&&isNaN(e)?t.stringToDate(e,i):new Date(e)},t.daysInMonth=function(t){return new Date(t.getYear(),t.getMonth()+1,0).getDate()},t.newDate=function(t,e){return e&&-1==e.indexOf("fff")?new Date(t):new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},t.resetDateToMin=function(e,i,n,a){void 0===a&&(a=1);var s,o,r,l,h,c,d;switch(t.useUTC?(s=e.getUTCFullYear(),o=e.getUTCMonth(),r=e.getUTCDate(),l=e.getUTCHours(),h=e.getUTCMinutes(),c=e.getUTCSeconds(),d=e.getUTCMilliseconds(),e=e.getUTCDay()):(s=e.getFullYear(),o=e.getMonth(),r=e.getDate(),l=e.getHours(),h=e.getMinutes(),c=e.getSeconds(),d=e.getMilliseconds(),e=e.getDay()),i){case"YYYY":s=Math.floor(s/n)*n,o=0,r=1,d=c=h=l=0;break;case"MM":o=Math.floor(o/n)*n,r=1,d=c=h=l=0;break;case"WW":r=e>=a?r-e+a:r-(7+e)+a,d=c=h=l=0;break;case"DD":d=c=h=l=0;break;case"hh":l=Math.floor(l/n)*n,d=c=h=0;break;case"mm":h=Math.floor(h/n)*n,d=c=0;break;case"ss":c=Math.floor(c/n)*n,d=0;break;case"fff":d=Math.floor(d/n)*n}return t.useUTC?((e=new Date).setUTCFullYear(s,o,r),e.setUTCHours(l,h,c,d)):e=new Date(s,o,r,l,h,c,d),e},t.getPeriodDuration=function(t,e){void 0===e&&(e=1);var i;switch(t){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*e},t.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},t.getMaxInterval=function(e,i){var n=t.intervals;return e>=n[i].contains?(e=Math.round(e/n[i].contains),i=n[i].nextInterval,t.getMaxInterval(e,i)):"ss"==i?n[i].nextInterval:i},t.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),t.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),t.monthNames="January February March April May June July August September October November December".split(" "),t.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),t.getWeekNumber=function(t){(t=new Date(t)).setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+1)/7)},t.stringToDate=function(e,i){var n={},a=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],s=!0;-1!=(h=i.indexOf("AA"))&&(e.substr(h,2),"pm"==e.toLowerCase&&(s=!1));var o,r,l,h=i;for(l=0;l<a.length;l++)r=a[l].period,n[r]=0,"date"==r&&(n[r]=1);for(l=0;l<a.length;l++)if(o=a[l].pattern,r=a[l].period,-1!=i.indexOf(o)){var c=t.getFromDateString(o,e,h);i=i.replace(o,""),"KK"!=o&&"K"!=o&&"LL"!=o&&"L"!=o||s||(c+=12),n[r]=c}return t.useUTC?((a=new Date).setUTCFullYear(n.year,n.month,n.date),a.setUTCHours(n.hours,n.minutes,n.seconds,n.milliseconds)):a=new Date(n.year,n.month,n.date,n.hours,n.minutes,n.seconds,n.milliseconds),a},t.getFromDateString=function(t,e,i){if(void 0!==e)return i=i.indexOf(t),e=String(e),"0"==(e=e.substr(i,t.length)).charAt(0)&&(e=e.substr(1,e.length-1)),e=Number(e),isNaN(e)&&(e=0),-1!=t.indexOf("M")&&e--,e},t.formatDate=function(e,i,n){n||(n=t);var a,s,o,r,l,h,c,d,u=t.getWeekNumber(e);t.useUTC?(a=e.getUTCFullYear(),s=e.getUTCMonth(),o=e.getUTCDate(),r=e.getUTCDay(),l=e.getUTCHours(),h=e.getUTCMinutes(),c=e.getUTCSeconds(),d=e.getUTCMilliseconds()):(a=e.getFullYear(),s=e.getMonth(),o=e.getDate(),r=e.getDay(),l=e.getHours(),h=e.getMinutes(),c=e.getSeconds(),d=e.getMilliseconds());var p=String(a).substr(2,2),f="0"+r;i=i.replace(/W/g,u),24==(u=l)&&(u=0);var m=u;10>m&&(m="0"+m),i=(i=i.replace(/JJ/g,m)).replace(/J/g,u),0===(m=l)&&(m=24,-1!=i.indexOf("H")&&0==--o&&((a=new Date(e)).setDate(a.getDate()-1),s=a.getMonth(),o=a.getDate(),a=a.getFullYear())),e=s+1,9>s&&(e="0"+e),u=o,10>o&&(u="0"+o);var g=m;return 10>g&&(g="0"+g),i=i.replace(/HH/g,g),i=i.replace(/H/g,m),11<(m=l)&&(m-=12),10>(g=m)&&(g="0"+g),i=i.replace(/KK/g,g),i=i.replace(/K/g,m),0===(m=l)&&(m=12),12<m&&(m-=12),10>(g=m)&&(g="0"+g),i=i.replace(/LL/g,g),i=i.replace(/L/g,m),10>(m=h)&&(m="0"+m),i=i.replace(/NN/g,m),i=i.replace(/N/g,h),10>(h=c)&&(h="0"+h),i=i.replace(/SS/g,h),i=i.replace(/S/g,c),10>(c=d)?c="00"+c:100>c&&(c="0"+c),10>(h=d)&&(h="00"+h),i=i.replace(/A/g,"@A@"),i=i.replace(/QQQ/g,c),i=i.replace(/QQ/g,h),i=i.replace(/Q/g,d),i=i.replace(/YYYY/g,"@IIII@"),i=i.replace(/YY/g,"@II@"),i=i.replace(/MMMM/g,"@XXXX@"),i=i.replace(/MMM/g,"@XXX@"),i=i.replace(/MM/g,"@XX@"),i=i.replace(/M/g,"@X@"),i=i.replace(/DD/g,"@RR@"),i=i.replace(/D/g,"@R@"),i=i.replace(/EEEE/g,"@PPPP@"),i=i.replace(/EEE/g,"@PPP@"),i=i.replace(/EE/g,"@PP@"),i=i.replace(/E/g,"@P@"),i=i.replace(/@IIII@/g,a),i=i.replace(/@II@/g,p),i=i.replace(/@XXXX@/g,n.monthNames[s]),i=i.replace(/@XXX@/g,n.shortMonthNames[s]),i=i.replace(/@XX@/g,e),i=i.replace(/@X@/g,s+1),i=i.replace(/@RR@/g,u),i=i.replace(/@R@/g,o),i=i.replace(/@PPPP@/g,n.dayNames[r]),i=i.replace(/@PPP@/g,n.shortDayNames[r]),i=i.replace(/@PP@/g,f),i=i.replace(/@P@/g,r),i=12>l?i.replace(/@A@/g,n.amString):i.replace(/@A@/g,n.pmString)},t.changeDate=function(e,i,n,a,s){if(t.useUTC)return t.changeUTCDate(e,i,n,a,s);var o=-1;switch(void 0===a&&(a=!0),void 0===s&&(s=!1),!0===a&&(o=1),i){case"YYYY":e.setFullYear(e.getFullYear()+n*o),a||s||e.setDate(e.getDate()+1);break;case"MM":i=e.getMonth(),e.setMonth(e.getMonth()+n*o),e.getMonth()>i+n*o&&e.setDate(e.getDate()-1),a||s||e.setDate(e.getDate()+1);break;case"DD":e.setDate(e.getDate()+n*o);break;case"WW":e.setDate(e.getDate()+n*o*7);break;case"hh":e.setHours(e.getHours()+n*o);break;case"mm":e.setMinutes(e.getMinutes()+n*o);break;case"ss":e.setSeconds(e.getSeconds()+n*o);break;case"fff":e.setMilliseconds(e.getMilliseconds()+n*o)}return e},t.changeUTCDate=function(t,e,i,n,a){var s=-1;switch(void 0===n&&(n=!0),void 0===a&&(a=!1),!0===n&&(s=1),e){case"YYYY":t.setUTCFullYear(t.getUTCFullYear()+i*s),n||a||t.setUTCDate(t.getUTCDate()+1);break;case"MM":e=t.getUTCMonth(),t.setUTCMonth(t.getUTCMonth()+i*s),t.getUTCMonth()>e+i*s&&t.setUTCDate(t.getUTCDate()-1),n||a||t.setUTCDate(t.getUTCDate()+1);break;case"DD":t.setUTCDate(t.getUTCDate()+i*s);break;case"WW":t.setUTCDate(t.getUTCDate()+i*s*7);break;case"hh":t.setUTCHours(t.getUTCHours()+i*s);break;case"mm":t.setUTCMinutes(t.getUTCMinutes()+i*s);break;case"ss":t.setUTCSeconds(t.getUTCSeconds()+i*s);break;case"fff":t.setUTCMilliseconds(t.getUTCMilliseconds()+i*s)}return t}}(),function(){var t=window.AmCharts;t.AmSlicedChart=t.Class({inherits:t.AmChart,construct:function(e){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),t.AmSlicedChart.base.construct.call(this,e),this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" "),this.alpha=1,this.groupPercent=0,this.groupedTitle="Other",this.groupedPulled=!1,this.groupedAlpha=1,this.marginLeft=0,this.marginBottom=this.marginTop=10,this.marginRight=0,this.hoverAlpha=1,this.outlineColor="#FFFFFF",this.outlineAlpha=0,this.outlineThickness=1,this.startAlpha=0,this.startDuration=1,this.startEffect="bounce",this.sequencedAnimation=!0,this.pullOutDuration=1,this.pullOutEffect="bounce",this.pullOnHover=this.pullOutOnlyOne=!1,this.labelsEnabled=!0,this.labelTickColor="#000000",this.labelTickAlpha=.2,this.hideLabelsPercent=0,this.urlTarget="_self",this.autoMarginOffset=10,this.gradientRatio=[],this.maxLabelWidth=200,this.accessibleLabel="[[title]]: [[percents]]% [[value]] [[description]]",t.applyTheme(this,e,"AmSlicedChart")},initChart:function(){t.AmSlicedChart.base.initChart.call(this),this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData)),this.drawChart()},handleLegendEvent:function(t){var e=t.type,i=t.dataItem,n=this.legend;if(i.wedge&&i){var a=i.hidden;switch(t=t.event,e){case"clickMarker":a||n.switchable||this.clickSlice(i,t);break;case"clickLabel":a||this.clickSlice(i,t,!1);break;case"rollOverItem":a||this.rollOverSlice(i,!1,t);break;case"rollOutItem":a||this.rollOutSlice(i,t);break;case"hideItem":this.hideSlice(i,t);break;case"showItem":this.showSlice(i,t)}}},invalidateVisibility:function(){this.recalculatePercents(),this.initChart();var t=this.legend;t&&t.invalidateSize()},addEventListeners:function(t,e){var i=this;t.mouseover(function(t){i.rollOverSlice(e,!0,t)}).mouseout(function(t){i.rollOutSlice(e,t)}).touchend(function(t){i.rollOverSlice(e,t)}).mouseup(function(t){i.clickSlice(e,t)}).contextmenu(function(t){i.handleRightClick(e,t)})},formatString:function(e,i,n){e=t.formatValue(e,i,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var a=this.pf.precision;return isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec),e=t.formatValue(e,i,["percents"],this.pf),e=t.massReplace(e,{"[[title]]":i.title,"[[description]]":i.description}),this.pf.precision=a,-1!=e.indexOf("[[")&&(e=t.formatDataContextValue(e,i.dataContext)),e=n?t.fixNewLines(e):t.fixBrakes(e),e=t.cleanFromEmpty(e)},startSlices:function(){var t;for(t=0;t<this.chartData.length;t++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(t):this.startSlice(this.chartData[t])},setStartTO:function(t){var e=this;t=setTimeout(function(){e.startSequenced.call(e)},e.startDuration/e.chartData.length*500*t),e.timeOuts.push(t)},pullSlices:function(t){var e,i=this.chartData;for(e=0;e<i.length;e++){var n=i[e];n.pulled&&this.pullSlice(n,1,t)}},startSequenced:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(t){t.started=!0;var e=t.wedge,i=this.startDuration,n=t.labelSet;e&&0<i&&(0<t.alpha&&e.show(),e.translate(t.startX,t.startY),this.animatable.push(e),e.animate({opacity:1,translate:"0,0"},i,this.startEffect)),n&&0<i&&(0<t.alpha&&n.show(),n.translate(t.startX,t.startY),n.animate({opacity:1,translate:"0,0"},i,this.startEffect))},showLabels:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i=e[t];if(0<i.alpha){var n=i.label;n&&n.show(),(i=i.tick)&&i.show()}}},showSlice:function(t){isNaN(t)?t.hidden=!1:this.chartData[t].hidden=!1,this.invalidateVisibility()},hideSlice:function(t){isNaN(t)?t.hidden=!0:this.chartData[t].hidden=!0,this.hideBalloon(),this.invalidateVisibility()},rollOverSlice:function(e,i,n){if(isNaN(e)||(e=this.chartData[e]),clearTimeout(this.hoverInt),!e.hidden){this.pullOnHover&&this.pullSlice(e,1),1>this.hoverAlpha&&e.wedge&&e.wedge.attr({opacity:this.hoverAlpha});var a=e.balloonX,s=e.balloonY;e.pulled&&(a+=e.pullX,s+=e.pullY);var o=this.formatString(this.balloonText,e,!0),r=this.balloonFunction;r&&(o=r(e,o)),r=t.adjustLuminosity(e.color,-.15),o?this.showBalloon(o,r,i,a,s):this.hideBalloon(),0===e.value&&this.hideBalloon(),this.fire({type:"rollOverSlice",dataItem:e,chart:this,event:n})}},rollOutSlice:function(t,e){isNaN(t)||(t=this.chartData[t]),t.wedge&&t.wedge.attr({opacity:1}),this.hideBalloon(),this.fire({type:"rollOutSlice",dataItem:t,chart:this,event:e})},clickSlice:function(e,i,n){this.checkTouchDuration(i)&&(isNaN(e)||(e=this.chartData[e]),e.pulled?this.pullSlice(e,0):this.pullSlice(e,1),t.getURL(e.url,this.urlTarget),n||this.fire({type:"clickSlice",dataItem:e,chart:this,event:i}))},handleRightClick:function(t,e){isNaN(t)||(t=this.chartData[t]),this.fire({type:"rightClickSlice",dataItem:t,chart:this,event:e})},drawTicks:function(){var e,i=this.chartData;for(e=0;e<i.length;e++){var n=i[e];if(n.label&&!n.skipTick){var a=n.ty,a=t.line(this.container,[n.tx0,n.tx,n.tx2],[n.ty0,a,a],this.labelTickColor,this.labelTickAlpha);t.setCN(this,a,this.type+"-tick"),t.setCN(this,a,n.className,!0),n.tick=a,n.wedge.push(a),"AmFunnelChart"==this.cname&&a.toBack()}}},initialStart:function(){var t=this,e=t.startDuration,i=setTimeout(function(){t.showLabels.call(t)},1e3*e);t.timeOuts.push(i),t.chartCreated?t.pullSlices(!0):(t.startSlices(),0<e?(e=setTimeout(function(){t.pullSlices.call(t)},1200*e),t.timeOuts.push(e)):t.pullSlices(!0))},pullSlice:function(t,e,i){var n=this.pullOutDuration;!0===i&&(n=0),(i=t.wedge)&&(0<n?(i.animate({translate:e*t.pullX+","+e*t.pullY},n,this.pullOutEffect),t.labelSet&&t.labelSet.animate({translate:e*t.pullX+","+e*t.pullY},n,this.pullOutEffect)):(t.labelSet&&t.labelSet.translate(e*t.pullX,e*t.pullY),i.translate(e*t.pullX,e*t.pullY))),1==e?(t.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(t.index),t={type:"pullOutSlice",dataItem:t,chart:this}):(t.pulled=!1,t={type:"pullInSlice",dataItem:t,chart:this}),this.fire(t)},pullInAll:function(t){var e,i=this.chartData;for(e=0;e<this.chartData.length;e++)e!=t&&i[e].pulled&&this.pullSlice(i[e],0)},pullOutAll:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)e[t].pulled||this.pullSlice(e[t],1)},parseData:function(){var e=[];this.chartData=e;var i=this.dataProvider;if(isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==i){var n,a,s,o=i.length,r=0;for(n=0;n<o;n++){a={};var l=i[n];a.dataContext=l,null!==l[this.valueField]&&(a.value=Number(l[this.valueField])),(s=l[this.titleField])||(s=""),a.title=s,a.pulled=t.toBoolean(l[this.pulledField],!1),(s=l[this.descriptionField])||(s=""),a.description=s,a.labelRadius=Number(l[this.labelRadiusField]),a.switchable=!0,a.className=l[this.classNameField],a.url=l[this.urlField],!(s=l[this.patternField])&&this.patterns&&(s=this.patterns[n]),a.pattern=s,a.visibleInLegend=t.toBoolean(l[this.visibleInLegendField],!0),s=l[this.alphaField],a.alpha=void 0!==s?Number(s):this.alpha,void 0!==(s=l[this.colorField])&&(a.color=s),a.labelColor=t.toColor(l[this.labelColorField]),r+=a.value,a.hidden=!1,e[n]=a}for(n=i=0;n<o;n++)a=e[n],a.percents=a.value/r*100,a.percents<this.groupPercent&&i++;for(1<i&&(this.groupValue=0,this.removeSmallSlices(),e.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/r*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}})),(o=this.baseColor)||(o=this.pieBaseColor),(r=this.brightnessStep)||(r=this.pieBrightnessStep),n=0;n<e.length;n++)o?s=t.adjustLuminosity(o,n*r/100):void 0===(s=this.colors[n])&&(s=t.randomColor()),void 0===e[n].color&&(e[n].color=s);this.recalculatePercents()}},recalculatePercents:function(){var t,e,i=this.chartData,n=0;for(t=0;t<i.length;t++)!(e=i[t]).hidden&&0<e.value&&(n+=e.value);for(t=0;t<i.length;t++)e=this.chartData[t],e.percents=!e.hidden&&0<e.value?100*e.value/n:0},removeSmallSlices:function(){var t,e=this.chartData;for(t=e.length-1;0<=t;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var t=this;t.startSlices();for(var e=0;e<t.chartData.length;e++){var i=t.chartData[e];i.started=!1;var n=i.wedge;n&&(n.setAttr("opacity",t.startAlpha),n.translate(i.startX,i.startY)),(n=i.labelSet)&&(n.setAttr("opacity",t.startAlpha),n.translate(i.startX,i.startY))}0<(e=t.startDuration)?(e=setTimeout(function(){t.pullSlices.call(t)},1200*e),t.timeOuts.push(e)):t.pullSlices()},measureMaxLabel:function(){var e,i=this.chartData,n=0;for(e=0;e<i.length;e++){var a=i[e],s=this.formatString(this.labelText,a),o=this.labelFunction;o&&(s=o(a,s)),(s=(a=t.text(this.container,s,this.color,this.fontFamily,this.fontSize)).getBBox().width)>n&&(n=s),a.remove()}return n}})}(),function(){var t=window.AmCharts;t.AmPieChart=t.Class({inherits:t.AmSlicedChart,construct:function(e){this.type="pie",t.AmPieChart.base.construct.call(this,e),this.cname="AmPieChart",this.pieBrightnessStep=30,this.minRadius=10,this.depth3D=0,this.startAngle=90,this.angle=this.innerRadius=0,this.startRadius="500%",this.pullOutRadius="20%",this.labelRadius=20,this.labelText="[[title]]: [[percents]]%",this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]",this.previousScale=1,this.adjustPrecision=!1,this.gradientType="radial",t.applyTheme(this,e,this.cname)},drawChart:function(){t.AmPieChart.base.drawChart.call(this);var e=this.chartData;if(t.ifArray(e)){if(0<this.realWidth&&0<this.realHeight){t.VML&&(this.startAlpha=1);var i=this.startDuration,n=this.container,a=this.updateWidth();this.realWidth=a;var s=this.updateHeight();this.realHeight=s;var o,r,l,h=t.toCoordinate,c=h(this.marginLeft,a),d=h(this.marginRight,a),u=h(this.marginTop,s)+this.getTitleHeight(),p=h(this.marginBottom,s)+this.depth3D,f=t.toNumber(this.labelRadius);for((v=this.measureMaxLabel())>this.maxLabelWidth&&(v=this.maxLabelWidth),this.labelText&&this.labelsEnabled||(f=v=0),o=void 0===this.pieX?(a-c-d)/2+c:h(this.pieX,this.realWidth),r=void 0===this.pieY?(s-u-p)/2+u:h(this.pieY,s),(l=h(this.radius,a,s))||(a=0<=f?a-c-d-2*v:a-c-d,s=s-u-p,l=Math.min(a,s),s<a&&(l/=1-this.angle/90)>a&&(l=a),s=t.toCoordinate(this.pullOutRadius,l),l=(0<=f?l-1.8*(f+s):l-1.8*s)/2),l<this.minRadius&&(l=this.minRadius),s=h(this.pullOutRadius,l),u=t.toCoordinate(this.startRadius,l),(h=h(this.innerRadius,l))>=l&&(h=l-1),p=t.fitToBounds(this.startAngle,0,360),0<this.depth3D&&(p=270<=p?270:90),360<(p-=90)&&(p-=360),a=l-l*this.angle/90,c=v=0;c<e.length;c++)!0!==(d=e[c]).hidden&&(v+=t.roundTo(d.percents,this.pf.precision));v=t.roundTo(v,this.pf.precision),this.tempPrec=NaN,this.adjustPrecision&&100!=v&&(this.tempPrec=this.pf.precision+1);for(var m,c=0;c<e.length;c++)if(!0!==(d=e[c]).hidden&&(this.showZeroSlices||0!==d.percents)){var g=360*d.percents/100,v=Math.sin((p+g/2)/180*Math.PI),b=a/l*-Math.cos((p+g/2)/180*Math.PI),y=this.outlineColor;y||(y=d.color);var x=this.alpha;if(isNaN(d.alpha)||(x=d.alpha),y={fill:d.color,stroke:y,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":x},d.url&&(y.cursor="pointer"),y=t.wedge(n,o,r,p,g,l,a,h,this.depth3D,y,this.gradientRatio,d.pattern,this.path,this.gradientType),t.setCN(this,y,"pie-item"),t.setCN(this,y.wedge,"pie-slice"),t.setCN(this,y,d.className,!0),this.addEventListeners(y,d),d.startAngle=p,e[c].wedge=y,0<i&&(this.chartCreated||y.setAttr("opacity",this.startAlpha)),d.ix=v,d.iy=b,d.wedge=y,d.index=c,d.label=null,x=n.set(),this.labelsEnabled&&this.labelText&&d.percents>=this.hideLabelsPercent){var w=p+g/2;0>w&&(w+=360),360<w&&(w-=360);var T=f;isNaN(d.labelRadius)||0>(T=d.labelRadius)&&(d.skipTick=!0);var C,g=o+v*(l+T),S=r+b*(l+T),M=0;if(isNaN(m)&&350<w&&1<e.length-c&&(m=c-1+Math.floor((e.length-c)/2)),0<=T){var A;90>=w&&0<=w?(A=0,C="start",M=8):90<=w&&180>w?(A=1,C="start",M=8):180<=w&&270>w?(A=2,C="end",M=-8):270<=w&&354>=w?(A=3,C="end",M=-8):354<=w&&(c>m?(A=0,C="start",M=8):(A=3,C="end",M=-8)),d.labelQuarter=A}else C="middle";w=this.formatString(this.labelText,d),(T=this.labelFunction)&&(w=T(d,w)),(T=d.labelColor)||(T=this.color),""!==w&&(w=t.wrappedText(n,w,T,this.fontFamily,this.fontSize,C,!1,this.maxLabelWidth),t.setCN(this,w,"pie-label"),t.setCN(this,w,d.className,!0),w.translate(g+1.5*M,S),0>f&&(w.node.style.pointerEvents="none"),w.node.style.cursor="default",d.ty=S,d.textX=g+1.5*M,x.push(w),this.axesSet.push(x),d.labelSet=x,d.label=w,this.addEventListeners(x,d)),d.tx=g,d.tx2=g+M,d.tx0=o+v*l,d.ty0=r+b*l}g=h+(l-h)/2,d.pulled&&(g+=s),this.accessible&&this.accessibleLabel&&(S=this.formatString(this.accessibleLabel,d),this.makeAccessible(y,S)),void 0!==this.tabIndex&&y.setAttr("tabindex",this.tabIndex),d.balloonX=v*g+o,d.balloonY=b*g+r,d.startX=Math.round(v*u),d.startY=Math.round(b*u),d.pullX=Math.round(v*s),d.pullY=Math.round(b*s),this.graphsSet.push(y),(0===d.alpha||0<i&&!this.chartCreated)&&(y.hide(),x&&x.hide()),360<(p+=360*d.percents/100)&&(p-=360)}0<f&&this.arrangeLabels(),this.pieXReal=o,this.pieYReal=r,this.radiusReal=l,this.innerRadiusReal=h,0<f&&this.drawTicks(),this.initialStart(),this.setDepths()}(e=this.legend)&&e.invalidateSize()}else this.cleanChart();this.dispDUpd()},setDepths:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i=e[t],n=i.wedge;0<=(i=i.startAngle)&&180>i?n.toFront():180<=i&&n.toBack()}},arrangeLabels:function(){var t,e,i=this.chartData,n=i.length;for(e=n-1;0<=e;e--)0!==(t=i[e]).labelQuarter||t.hidden||this.checkOverlapping(e,t,0,!0,0);for(e=0;e<n;e++)1!=(t=i[e]).labelQuarter||t.hidden||this.checkOverlapping(e,t,1,!1,0);for(e=n-1;0<=e;e--)2!=(t=i[e]).labelQuarter||t.hidden||this.checkOverlapping(e,t,2,!0,0);for(e=0;e<n;e++)3!=(t=i[e]).labelQuarter||t.hidden||this.checkOverlapping(e,t,3,!1,0)},checkOverlapping:function(t,e,i,n,a){var s,o,r=this.chartData,l=r.length,h=e.label;if(h){if(!0===n)for(o=t+1;o<l;o++)r[o].labelQuarter==i&&(s=this.checkOverlappingReal(e,r[o],i))&&(o=l);else for(o=t-1;0<=o;o--)r[o].labelQuarter==i&&(s=this.checkOverlappingReal(e,r[o],i))&&(o=0);!0===s&&200>a&&isNaN(e.labelRadius)&&(s=e.ty+3*e.iy,e.ty=s,h.translate(e.textX,s),this.checkOverlapping(t,e,i,n,a+1))}},checkOverlappingReal:function(e,i,n){var a=!1,s=e.label,o=i.label;return e.labelQuarter!=n||e.hidden||i.hidden||!o||(s=s.getBBox(),n={},n.width=s.width,n.height=s.height,n.y=e.ty,n.x=e.tx,e=o.getBBox(),o={},o.width=e.width,o.height=e.height,o.y=i.ty,o.x=i.tx,t.hitTest(n,o)&&(a=!0)),a}})}(),function(){var t=window.AmCharts;t.AmRectangularChart=t.Class({inherits:t.AmCoordinateChart,construct:function(e){t.AmRectangularChart.base.construct.call(this,e),this.theme=e,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,t.applyTheme(this,e,"AmRectangularChart")},initChart:function(){t.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(t.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),t.ifArray(this.chartData)){var e=this.chartCursor;e&&e.draw()}},resetMargins:function(){var t,e={};if("xy"==this.type){var i=this.xAxes,n=this.yAxes;for(t=0;t<i.length;t++){var a=i[t];a.ignoreAxisWidth||(a.setOrientation(!0),a.fixAxisPosition(),e[a.position]=!0)}for(t=0;t<n.length;t++)(i=n[t]).ignoreAxisWidth||(i.setOrientation(!1),i.fixAxisPosition(),e[i.position]=!0)}else{for(n=this.valueAxes,t=0;t<n.length;t++)(i=n[t]).ignoreAxisWidth||(i.setOrientation(this.rotate),i.fixAxisPosition(),e[i.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e=this.valueAxes,i=this.autoMarginOffset,n=this.fixMargins,a=this.realWidth,s=this.realHeight,o=i,r=i,l=a;t=s;var h;for(h=0;h<e.length;h++)e[h].handleSynchronization(),t=this.getAxisBounds(e[h],o,l,r,t),o=Math.round(t.l),l=Math.round(t.r),r=Math.round(t.t),t=Math.round(t.b);(e=this.categoryAxis)&&(t=this.getAxisBounds(e,o,l,r,t),o=Math.round(t.l),l=Math.round(t.r),r=Math.round(t.t),t=Math.round(t.b)),n.left&&o<i&&(this.marginLeft=Math.round(-o+i),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),n.right&&l>=a-i&&(this.marginRight=Math.round(l-a+i),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),n.top&&r<i+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-r+i+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),n.bottom&&t>s-i&&(this.marginBottom=Math.round(this.marginBottom+t-s+i),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(t,e,i,n,a){if(!t.ignoreAxisWidth){var s=t.labelsSet,o=t.tickLength;if(t.inside&&(o=0),s)switch(s=t.getBBox(),t.position){case"top":n>(t=s.y)&&(n=t);break;case"bottom":a<(t=s.y+s.height)&&(a=t);break;case"right":i<(t=s.x+s.width+o+3)&&(i=t);break;case"left":e>(t=s.x-o)&&(e=t)}}return{l:e,t:n,r:i,b:a}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var i=e.container.set();e.zoomButtonSet.push(i);var n=e.color,a=e.fontSize,s=e.zoomOutButtonImageSize,o=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),r=e.langObj.zoomOutText||e.zoomOutText,l=e.zoomOutButtonColor,h=e.zoomOutButtonAlpha,c=e.zoomOutButtonFontSize,d=e.zoomOutButtonPadding;isNaN(c)||(a=c),(c=e.zoomOutButtonFontColor)&&(n=c);var u;(c=e.zoomOutButton)&&(c.fontSize&&(a=c.fontSize),c.color&&(n=c.color),c.backgroundColor&&(l=c.backgroundColor),isNaN(c.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=c.backgroundAlpha));var p=c=0,p=e.pathToImages;for(o&&((t.isAbsolute(o)||void 0===p)&&(p=""),u=e.container.image(p+o+e.extension,0,0,s,s),t.setCN(e,u,"zoom-out-image"),i.push(u),c=(u=u.getBBox()).width+5),void 0!==r&&(n=t.text(e.container,r,n,e.fontFamily,a,"start"),t.setCN(e,n,"zoom-out-label"),a=n.getBBox(),p=u?u.height/2-3:a.height/2,n.translate(c,p),i.push(n)),u=i.getBBox(),n=1,t.isModern||(n=0),(l=t.rect(e.container,u.width+2*d+5,u.height+2*d-2,l,1,1,l,n)).setAttr("opacity",h),l.translate(-d,-d),t.setCN(e,l,"zoom-out-bg"),i.push(l),l.toBack(),e.zbBG=l,u=l.getBBox(),i.translate(e.marginLeftReal+e.plotAreaWidth-u.width+d,e.marginTopReal+d),i.hide(),i.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),h=0;h<i.length;h++)i[h].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(i.setAttr("tabindex",e.zoomOutButtonTabIndex),i.setAttr("role","menuitem"),i.keyup(function(t){13==t.keyCode&&e.clickZB()})),e.zbSet=i}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var e=this.dx,i=this.dy,n=this.marginLeftReal,a=this.marginTopReal,s=this.plotAreaWidth-1,o=this.plotAreaHeight-1,r=this.plotAreaFillColors,l=this.plotAreaFillAlphas,h=this.plotAreaBorderColor,c=this.plotAreaBorderAlpha;"object"==typeof l&&(l=l[0]),r=t.polygon(this.container,[0,s,s,0,0],[0,0,o,o,0],r,l,1,h,c,this.plotAreaGradientAngle),t.setCN(this,r,"plot-area"),r.translate(n+e,a+i),this.set.push(r),0!==e&&0!==i&&("object"==typeof(r=this.plotAreaFillColors)&&(r=r[0]),r=t.adjustLuminosity(r,-.15),s=t.polygon(this.container,[0,e,s+e,s,0],[0,i,i,0,0],r,l,1,h,c),t.setCN(this,s,"plot-area-bottom"),s.translate(n,a+o),this.set.push(s),e=t.polygon(this.container,[0,0,e,e,0],[0,o,o+i,i,0],r,l,1,h,c),t.setCN(this,e,"plot-area-left"),e.translate(n,a),this.set.push(e)),(n=this.bbset)&&this.scrollbarOnly&&n.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),i=this.container;this.realWidth=t,this.realWidth=e,i&&this.container.setSize(t,e);var i=this.marginLeftReal,n=this.marginTopReal,t=t-i-this.marginRightReal-this.dx,e=e-n-this.marginBottomReal;1>t&&(t=1),1>e&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e),this.plotBalloonsSet.translate(i,n)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t];this.setAxisRenderers(i),this.updateObjectSize(i)}},setAxisRenderers:function(e){e.axisRenderer=t.RecAxis,e.guideFillRenderer=t.RecFill,e.axisItemRenderer=t.RecItem,e.marginsChanged=!0},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.index=t,i.rotate=this.rotate,this.updateObjectSize(i)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var e=this.chartCursor;e&&(e=t.processObject(e,t.ChartCursor,this.theme),this.updateObjectSize(e),this.addChartCursor(e),e.chart=this)},processScrollbars:function(){var e=this.chartScrollbar;e&&(e=t.processObject(e,t.ChartScrollbar,this.theme),this.addChartScrollbar(e))},updateScrollbars:function(){},removeChartCursor:function(){t.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i.valueAxis.recalculateToPercents?i.set&&i.set.hide():(i.x=this.marginLeftReal,i.y=this.marginTopReal,i.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].zoomOut()},removeTrendLine:function(t){var e,i=this.trendLines;for(e=i.length-1;0<=e;e--)i[e]==t&&i.splice(e,1)},adjustMargins:function(t,e){var i=t.position,n=t.scrollbarHeight+t.offset;t.enabled&&("top"==i?e?this.marginLeftReal+=n:this.marginTopReal+=n:e?this.marginRightReal+=n:this.marginBottomReal+=n)},getScrollbarPosition:function(t,e,i){var n="bottom",a="top";t.oppositeAxis||(a=n,n="top"),t.position=e?"bottom"==i||"left"==i?n:a:"top"==i||"right"==i?n:a},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var i=this.marginTopReal,n=this.marginLeftReal,a=t.scrollbarHeight,s=this.dx,o=this.dy,r=t.offset;"top"==t.position?e?(t.y=i,t.x=n-a-r):(t.y=i-a+o-r,t.x=n+s):e?(t.y=i+o,t.x=n+this.plotAreaWidth+s+r):(t.y=i+this.plotAreaHeight+r,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;t&&""!==(e=this.zoomOutText)&&e&&this.drawZoomOutButton(),(e=this.zbSet)&&(this.zoomButtonSet.push(e),t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(e){t.AmRectangularChart.base.handleReleaseOutside.call(this,e),(e=this.chartCursor)&&e.handleReleaseOutside&&e.handleReleaseOutside()},handleMouseDown:function(e){t.AmRectangularChart.base.handleMouseDown.call(this,e);var i=this.chartCursor;i&&i.handleMouseDown&&!this.rolledOverZB&&i.handleMouseDown(e)},update:function(){t.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){if(t&&t.enabled){var e=t.valueAxes[0],i=e.relativeStart,n=e.relativeEnd;e.reversed&&(n=1-i,i=1-e.relativeEnd),t.percentZoom(i,n)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,e){if((n=t.relativeStart)>(a=t.relativeEnd))var i=n,n=a,a=i;this.relativeZoomValueAxes(e,n,a),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(e,i,n){if(i=t.fitToBounds(i,0,1),n=t.fitToBounds(n,0,1),i>n){a=i;i=n,n=a}var a=1/this.maxZoomFactor,s=t.getDecimals(a)+4;if(n-i<a&&(n=i+(n-i)/2,i=n-a/2,n+=a/2),i=t.roundTo(i,s),n=t.roundTo(n,s),a=!1,e){for(s=0;s<e.length;s++){var o=e[s].zoomToRelativeValues(i,n,!0);o&&(a=o)}this.showZB()}return a},addChartCursor:function(e){t.callMethod("destroy",[this.chartCursor]),e&&(this.listenTo(e,"moved",this.handleCursorMove),this.listenTo(e,"zoomed",this.handleCursorZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(e,"panning",this.handleCursorPanning),this.listenTo(e,"onHideCursor",this.handleCursorHide)),this.chartCursor=e},handleCursorChange:function(){},handleCursorMove:function(t){var e,i=this.valueAxes;for(e=0;e<i.length;e++)if(!t.panning){var n=i[e];n&&n.showBalloon&&n.showBalloon(t.x,t.y)}},handleCursorZoom:function(t){if(this.skipZoomed)this.skipZoomed=!1;else{var e=this.startX0,i=this.endX0,n=this.endY0,a=this.startY0,s=t.startX,o=t.endX,r=t.startY,l=t.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(e+s*(i-e),e+o*(i-e),a+r*(n-a),a+l*(n-a),t)}},handleCursorHide:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].hideBalloon();for(e=this.graphs,t=0;t<e.length;t++)e[t].hideBalloonReal()}})}(),function(){var t=window.AmCharts;t.AmSerialChart=t.Class({inherits:t.AmRectangularChart,construct:function(e){this.type="serial",t.AmSerialChart.base.construct.call(this,e),this.cname="AmSerialChart",this.theme=e,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var i=new t.CategoryAxis(e);i.chart=this,this.categoryAxis=i,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,t.applyTheme(this,e,this.cname)},initChart:function(){t.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var t,e=this.countColumns(),i=this.chartData,n=this.graphs;for(t=0;t<n.length;t++){var a=n[t];a.data=i,a.columnCount=e}0<i.length&&(this.firstTime=this.getStartTime(i[0].time),this.lastTime=this.getEndTime(i[i.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var e,i,n=this.valueAxes;if(0<n.length){var a=0;for(i=0;i<n.length;i++)e=n[i],a<e.gridCountReal&&(a=e.gridCountReal);var s=!1;for(i=0;i<n.length;i++)if((e=n[i]).gridCountReal<a){var o=(a-e.gridCountReal)/2,r=s=o;0!=o-Math.round(o)&&(s-=.5,r+=.5),0<=e.min&&0>e.min-s*e.step&&(r+=s,s=0),0>=e.max&&0<e.max+r*e.step&&(s+=r,r=0),o=t.getDecimals(e.step),e.minimum=t.roundTo(e.min-s*e.step,o),e.maximum=t.roundTo(e.max+r*e.step,o),e.setStep=e.step,s=e.strictMinMax=!0}for(s&&this.updateAfterValueZoom(),i=0;i<n.length;i++)e=n[i],e.minimum=NaN,e.maximum=NaN,e.setStep=NaN,e.strictMinMax=!1}}},handleWheelReal:function(t,e){if(!this.wheelBusy){var i=this.categoryAxis,n=i.parseDates,a=i.minDuration(),s=1,o=1;this.mouseWheelZoomEnabled?e||(s=-1):e&&(s=-1);if(l=this.chartCursor){var r=l.mouseX,l=l.mouseY;s!=o&&(r=this.rotate?l/this.plotAreaHeight:r/this.plotAreaWidth,s*=r,o*=1-r),r=.05*(this.end-this.start),n&&(r=.05*(this.endTime-this.startTime)/a),1>r&&(r=1),s*=r,o*=r,n&&!i.equalSpacing||(s=Math.round(s),o=Math.round(o))}l=this.chartData.length,i=this.lastTime,r=this.firstTime,0>t?n?(l=this.endTime-this.startTime,n=this.startTime+s*a,a=this.endTime+o*a,0<o&&0<s&&a>=i&&(a=i,n=i-l),this.zoomToDates(new Date(n),new Date(a))):(0<o&&0<s&&this.end>=l-1&&(s=o=0),n=this.start+s,a=this.end+o,this.zoomToIndexes(n,a)):n?(l=this.endTime-this.startTime,n=this.startTime-s*a,a=this.endTime-o*a,0<o&&0<s&&n<=r&&(n=r,a=r+l),this.zoomToDates(new Date(n),new Date(a))):(0<o&&0<s&&1>this.start&&(s=o=0),n=this.start-s,a=this.end-o,this.zoomToIndexes(n,a))}},validateData:function(e){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!e&&(this.endTime=this.end=this.startTime=this.start=NaN),t.AmSerialChart.base.validateData.call(this)},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){t.AmSerialChart.base.drawChart.call(this);var e=this.chartData;if(t.ifArray(e)){!(a=this.chartScrollbar)||!this.marginsUpdated&&this.autoMargins||a.draw(),(a=this.valueScrollbar)&&a.draw();var i,n,a=e.length-1;(i=this.categoryAxis).parseDates&&!i.equalSpacing?(i=this.startTime,n=this.endTime,(isNaN(i)||isNaN(n))&&(i=this.firstTime,n=this.lastTime)):(i=this.start,n=this.end,(isNaN(i)||isNaN(n))&&(n=i=NaN),isNaN(i)&&(isNaN(this.startTime)||(i=this.getClosestIndex(e,"time",this.startTime,!0,0,e.length))),isNaN(n)&&(isNaN(this.endTime)||(n=this.getClosestIndex(e,"time",this.endTime,!1,0,e.length))),(isNaN(i)||isNaN(n))&&(i=0,n=a)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(i,n)}}else this.cleanChart()},cleanChart:function(){t.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(t,e,i){t.chart=this,t.id=i,t.rotate=e,t.setOrientation(!this.rotate),t.init(),this.setAxisRenderers(t),this.updateObjectSize(t)},updateValueAxes:function(){t.AmSerialChart.base.updateValueAxes.call(this);var e,i=this.valueAxes;for(e=0;e<i.length;e++){var n=i[e],a=this.rotate;n.rotate=a,n.setOrientation(a),(a=this.categoryAxis).startOnAxis&&!a.parseDates||(n.expandMinMax=!0)}},getStartTime:function(e){var i=this.categoryAxis;return t.resetDateToMin(new Date(e),i.minPeriod,1,i.firstDayOfWeek).getTime()},getEndTime:function(e){var i=t.extractPeriod(this.categoryAxis.minPeriod);return t.changeDate(new Date(e),i.period,i.count,!0).getTime()-1},updateMargins:function(){t.AmSerialChart.base.updateMargins.call(this);var e=this.chartScrollbar;e&&(this.getScrollbarPosition(e,this.rotate,this.categoryAxis.position),this.adjustMargins(e,this.rotate)),(e=this.valueScrollbar)&&(this.getScrollbarPosition(e,!this.rotate,this.valueAxes[0].position),this.adjustMargins(e,!this.rotate))},updateScrollbars:function(){t.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(t,e){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?this.timeZoom(t,e):this.indexZoom(t,e),isNaN(t)&&this.zoomOutValueAxes(),(i=this.chartCursor)&&(i.pan||i.hideCursorReal()),this.updateLegendValues()},timeZoom:function(e,i){var n=this.maxSelectedTime;isNaN(n)||(i!=this.endTime&&i-e>n&&(e=i-n),e!=this.startTime&&i-e>n&&(i=e+n));a=this.minSelectedTime;if(0<a&&i-e<a){var a,s=Math.round(e+(i-e)/2);e=s-(a=Math.round(a/2)),i=s+a}if(a=this.chartData,s=this.categoryAxis,t.ifArray(a)&&(e!=this.startTime||i!=this.endTime)){var o=s.minDuration(),r=this.firstTime,l=this.lastTime;e||(e=r,isNaN(n)||(e=l-n)),i||(i=l),e>l&&(e=l),i<r&&(i=r),e<r&&(e=r),i>l&&(i=l),i<e&&(i=e+o),i-e<o/5&&(i<l?i=e+o/5:e=i-o/5),this.startTime=e,this.endTime=i,n=a.length-1,o=this.getClosestIndex(a,"time",e,!0,0,n),a=this.getClosestIndex(a,"time",i,!1,o,n),s.timeZoom(e,i),s.zoom(o,a),this.start=t.fitToBounds(o,0,n),this.end=t.fitToBounds(a,0,n),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},showZB:function(){var e,i=this.categoryAxis;i&&i.parseDates&&!i.equalSpacing&&(this.startTime>this.firstTime&&(e=!0),this.endTime<this.lastTime&&(e=!0)),0<this.start&&(e=!0),this.end<this.chartData.length-1&&(e=!0),(i=this.valueAxes)&&(i=i[0],isNaN(i.relativeStart)||(0!==t.roundTo(i.relativeStart,3)&&(e=!0),1!=t.roundTo(i.relativeEnd,3)&&(e=!0))),t.AmSerialChart.base.showZB.call(this,e)},updateAfterValueZoom:function(){t.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(t,e){var i=this.maxSelectedSeries,n=!1;if(isNaN(i)||(e!=this.end&&e-t>i&&(t=e-i,n=!0),t!=this.start&&e-t>i&&(e=t+i,n=!0)),n&&(n=this.chartScrollbar)&&n.dragger){var a=n.dragger.getBBox();n.maxWidth=a.width,n.maxHeight=a.height}t==this.start&&e==this.end||(n=this.chartData.length-1,isNaN(t)&&(t=0,isNaN(i)||(t=n-i)),isNaN(e)&&(e=n),e<t&&(e=t),e>n&&(e=n),t>n&&(t=n-1),0>t&&(t=0),this.start=t,this.end=e,this.categoryAxis.zoom(t,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==t||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){t.AmSerialChart.base.updateGraphs.call(this);var e,i=this.graphs;for(e=0;e<i.length;e++){var n=i[e];n.columnWidthReal=this.columnWidth,n.categoryAxis=this.categoryAxis,t.isString(n.fillToGraph)&&(n.fillToGraph=this.graphsById[n.fillToGraph])}},zoomAxesAndGraphs:function(){t.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var e,i,n=this.graphs;for(this.columnsArray=[],e=0;e<n.length;e++){var a=(i=n[e]).columnsArray;if(a){var s;for(s=0;s<a.length;s++)this.columnsArray.push(a[s])}}if(this.columnsArray.sort(this.compareDepth),n=this.columnsSet,0<this.columnsArray.length){for(a=this.container.set(),this.columnSet.push(a),e=0;e<this.columnsArray.length;e++)a.push(this.columnsArray[e].column.set);i&&a.translate(i.x,i.y),this.columnsSet=a}t.remove(n)}},compareDepth:function(t,e){return t.depth>e.depth?1:-1},zoomScrollbar:function(){var t=this.chartScrollbar,e=this.categoryAxis;if(t){if(!this.zoomedByScrollbar){var i=t.dragger;i&&i.stop()}this.zoomedByScrollbar=!1,e.parseDates&&!e.equalSpacing?t.timeZoom(this.startTime,this.endTime):t.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var e,i=this.trendLines;for(e=0;e<i.length;e++){var n=i[e],n=t.processObject(n,t.TrendLine,this.theme);i[e]=n,n.chart=this,n.id||(n.id="trendLineAuto"+e+"_"+(new Date).getTime()),t.isString(n.valueAxis)&&(n.valueAxis=this.getValueAxisById(n.valueAxis)),n.valueAxis||(n.valueAxis=this.valueAxes[0]),n.categoryAxis=this.categoryAxis}},countColumns:function(){var t,e,i,n,a=0,s=this.valueAxes.length,o=this.graphs.length,r=!1;for(n=0;n<s;n++){var l=(e=this.valueAxes[n]).stackType,h=0;if("100%"==l||"regular"==l)for(r=!1,i=0;i<o;i++)t=this.graphs[i],t.tcc=1,t.valueAxis==e&&"column"==t.type&&(!r&&t.stackable&&(a++,r=!0),(!t.stackable&&t.clustered||t.newStack&&0!==h)&&a++,t.columnIndex=a-1,t.clustered||(t.columnIndex=0),h++);if("none"==l||"3d"==l){for(r=!1,i=0;i<o;i++)(t=this.graphs[i]).valueAxis==e&&"column"==t.type&&(t.clustered?(t.tcc=1,t.newStack&&(a=0),t.hidden||(t.columnIndex=a,a++)):t.hidden||(r=!0,t.tcc=1,t.columnIndex=0));r&&0===a&&(a=1)}if("3d"==l){for(e=1,n=0;n<o;n++)(t=this.graphs[n]).newStack&&e++,t.depthCount=e,t.tcc=a;a=e}}return a},parseData:function(){t.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(t){var e,i=this.chartData;for(e=0;e<i.length;e++)if(i[e].category==t)return e},handleScrollbarZoom:function(t){this.zoomedByScrollbar=!0,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var e={type:"zoomed"};e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime),e.startIndex=this.start,e.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=e.startDate,this.endDate=e.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var i=this.categoryAxis,n=t.extractPeriod(i.minPeriod).period,i=i.dateFormatsObject[n];e.startValue=t.formatDate(e.startDate,i,this),e.endValue=t.formatDate(e.endDate,i,this),e.chart=this,e.target=this,this.fire(e)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start,this.endIndex=this.end;var e=this.chartData;if(t.ifArray(e)&&!isNaN(this.start)&&!isNaN(this.end)){var i={chart:this,target:this,type:"zoomed"};i.startIndex=this.start,i.endIndex=this.end,i.startValue=e[this.start].category,i.endValue=e[this.end].category,this.categoryAxis.parseDates&&(this.startTime=e[this.start].time,this.endTime=e[this.end].time,i.startDate=new Date(this.startTime),i.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(i)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(t,e,i,n,a,s){0>a&&(a=0),s>t.length-1&&(s=t.length-1);var o=a+Math.round((s-a)/2),r=t[o][e];return i==r?o:1>=s-a?n?a:Math.abs(t[a][e]-i)<Math.abs(t[s][e]-i)?a:s:i==r?o:i<r?this.getClosestIndex(t,e,i,n,a,o):this.getClosestIndex(t,e,i,n,o,s)},zoomToIndexes:function(t,e){var i=this.chartData;if(i){var n=i.length;0<n&&(0>t&&(t=0),e>n-1&&(e=n-1),(n=this.categoryAxis).parseDates&&!n.equalSpacing?this.zoom(i[t].time,this.getEndTime(i[e].time)):this.zoom(t,e))}},zoomToDates:function(e,i){var n=this.chartData;if(n)if(this.categoryAxis.equalSpacing){var a=this.getClosestIndex(n,"time",e.getTime(),!0,0,n.length);i=t.resetDateToMin(i,this.categoryAxis.minPeriod,1),n=this.getClosestIndex(n,"time",i.getTime(),!1,0,n.length),this.zoom(a,n)}else this.zoom(e.getTime(),i.getTime())},zoomToCategoryValues:function(t,e){this.chartData&&this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(e))},formatPeriodString:function(e,i){if(i){i.periodDataItem={},i.periodPercentDataItem={};var n=["value","open","low","high","close"],a="value open low high close average sum count".split(" "),s=i.valueAxis,o=this.chartData,r=i.numberFormatter;r||(r=this.nf);for(var l=0;l<n.length;l++){for(var h,c,d,u,p,f,m,g,v,b,y=n[l],x=0,w=0,T=0,C=0,S=this.start;S<=this.end;S++){if(k=o[S]){var M=k.axes[s.id].graphs[i.id];if(M){if(M.values){var A=M.values[y],k=k.x.categoryAxis;this.rotate?(0>k||k>M.graph.height)&&(A=NaN):(0>k||k>M.graph.width)&&(A=NaN),isNaN(A)||(isNaN(h)&&(h=A),c=A,(isNaN(d)||d>A)&&(d=A),(isNaN(u)||u<A)&&(u=A),p=t.getDecimals(x),k=t.getDecimals(A),x+=A,p=(x=t.roundTo(x,Math.max(p,k)))/++w)}M.percents&&(M=M.percents[y],!isNaN(M))&&(isNaN(f)&&(f=M),m=M,(isNaN(g)||g>M)&&(g=M),(isNaN(v)||v<M)&&(v=M),b=t.getDecimals(T),A=t.getDecimals(M),T+=M,b=(T=t.roundTo(T,Math.max(b,A)))/++C)}}}x={open:h,close:c,high:u,low:d,average:p,sum:x,count:w},T={open:f,close:m,high:v,low:g,average:b,sum:T,count:C},e=t.formatValue(e,x,a,r,y+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),e=t.formatValue(e,T,a,this.pf,"percents\\."+y+"\\."),i.periodDataItem[y]=x,i.periodPercentDataItem[y]=T}}return e=t.cleanFromEmpty(e)},formatString:function(e,i,n){if(i){var a=i.graph;if(void 0!==e){if(-1!=e.indexOf("[[category]]")){var s=i.serialDataItem.category;if(this.categoryAxis.parseDates){var o=this.balloonDateFormat,r=this.chartCursor;r&&r.categoryBalloonDateFormat&&(o=r.categoryBalloonDateFormat),-1!=(o=t.formatDate(s,o,this)).indexOf("fff")&&(o=t.formatMilliseconds(o,s)),s=o}e=e.replace(/\[\[category\]\]/g,String(s.replace("$","$$$")))}(s=a.numberFormatter)||(s=this.nf),(r=(o=i.graph.valueAxis).duration)&&!isNaN(i.values.value)&&(r=t.formatDuration(i.values.value,r,"",o.durationUnits,o.maxInterval,s),e=e.replace(RegExp("\\[\\[value\\]\\]","g"),r)),"date"==o.type&&(o=t.formatDate(new Date(i.values.value),a.dateFormat,this),r=RegExp("\\[\\[value\\]\\]","g"),e=e.replace(r,o),o=t.formatDate(new Date(i.values.open),a.dateFormat,this),r=RegExp("\\[\\[open\\]\\]","g"),e=e.replace(r,o)),a="value open low high close total".split(" "),o=this.pf,e=t.formatValue(e,i.percents,a,o,"percents\\."),e=t.formatValue(e,i.values,a,s,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=(e=t.formatValue(e,i.values,["percents"],o)).indexOf("[[")&&(e=t.formatDataContextValue(e,i.dataContext)),-1!=e.indexOf("[[")&&i.graph.customData&&(e=t.formatDataContextValue(e,i.graph.customData)),e=t.AmSerialChart.base.formatString.call(this,e,i,n)}return e}},updateChartCursor:function(){t.AmSerialChart.base.updateChartCursor.call(this);var e=this.chartCursor,i=this.categoryAxis;if(e){var n=e.categoryBalloonAlpha,a=e.categoryBalloonColor,s=e.color;void 0===a&&(a=e.cursorColor);var o=e.valueZoomable,r=e.zoomable,l=e.valueLineEnabled;if(this.rotate?(e.vLineEnabled=l,e.hZoomEnabled=o,e.vZoomEnabled=r):(e.hLineEnabled=l,e.vZoomEnabled=o,e.hZoomEnabled=r),e.valueLineBalloonEnabled)for(l=0;l<this.valueAxes.length;l++)o=this.valueAxes[l],(r=o.balloon)||(r={}),r=t.extend(r,this.balloon,!0),r.fillColor=a,r.balloonColor=a,r.fillAlpha=n,r.borderColor=a,r.color=s,o.balloon=r;else for(r=0;r<this.valueAxes.length;r++)(o=this.valueAxes[r]).balloon&&(o.balloon=null);i&&(i.balloonTextFunction=e.categoryBalloonFunction,e.categoryLineAxis=i,i.balloonText=e.categoryBalloonText,e.categoryBalloonEnabled&&((r=i.balloon)||(r={}),r=t.extend(r,this.balloon,!0),r.fillColor=a,r.balloonColor=a,r.fillAlpha=n,r.borderColor=a,r.color=s,i.balloon=r),i.balloon&&(i.balloon.enabled=e.categoryBalloonEnabled))}},addChartScrollbar:function(e){t.callMethod("destroy",[this.chartScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===e.width&&(e.width=e.scrollbarHeight):void 0===e.height&&(e.height=e.scrollbarHeight),e.gridAxis=this.categoryAxis,this.chartScrollbar=e},addValueScrollbar:function(e){t.callMethod("destroy",[this.valueScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarValueZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted));var i=e.scrollbarHeight;this.rotate?void 0===e.height&&(e.height=i):void 0===e.width&&(e.width=i),e.gridAxis||(e.gridAxis=this.valueAxes[0]),e.valueAxes=this.valueAxes,this.valueScrollbar=e},removeChartScrollbar:function(){t.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){t.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(e){t.AmSerialChart.base.handleReleaseOutside.call(this,e),t.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){t.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){t.AmSerialChart.base.processScrollbars.call(this);var e=this.valueScrollbar;e&&(e=t.processObject(e,t.ChartScrollbar,this.theme),e.id="valueScrollbar",this.addValueScrollbar(e))},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,this.valueAxes)},zoomOut:function(){t.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(t){var e=t.index,i=this.chartData,n=t.graph;if(e+1<i.length)for(e+=1;e<i.length;e++)if((t=i[e])&&(t=t.axes[n.valueAxis.id].graphs[n.id],!isNaN(t.y)))return t},handleCursorZoomReal:function(t,e,i,n,a){var s,o,r=a.target;this.rotate?(isNaN(t)||isNaN(e)||this.relativeZoomValueAxes(this.valueAxes,t,e)&&this.updateAfterValueZoom(),r.vZoomEnabled&&(s=a.start,o=a.end)):(isNaN(i)||isNaN(n)||this.relativeZoomValueAxes(this.valueAxes,i,n)&&this.updateAfterValueZoom(),r.hZoomEnabled&&(s=a.start,o=a.end)),isNaN(s)||isNaN(o)||((t=this.categoryAxis).parseDates&&!t.equalSpacing?this.zoomToDates(new Date(s),new Date(o)):this.zoomToIndexes(s,o))},handleCursorZoomStarted:function(){t=this.valueAxes;if(t){var t,e=(t=t[0]).relativeStart,i=t.relativeEnd;t.reversed&&(e=1-t.relativeEnd,i=1-t.relativeStart),this.rotate?(this.startX0=e,this.endX0=i):(this.startY0=e,this.endY0=i)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(e){t.AmSerialChart.base.handleCursorMove.call(this,e);var i=e.target,n=this.categoryAxis;if(e.panning)this.handleCursorHide(e);else if(this.chartData&&!i.isHidden){var a=this.graphs;if(a){var s;if(s=n.xToIndex(this.rotate?e.y:e.x),s=this.chartData[s]){var o,r,l,h;if(i.oneBalloonOnly&&i.valueBalloonsEnabled){var c=1/0;for(o=a.length-1;0<=o;o--)if((r=a[o]).balloon.enabled&&r.showBalloon&&!r.hidden){if(l=r.valueAxis.id,l=s.axes[l].graphs[r.id],i.showNextAvailable&&isNaN(l.y)&&!(l=this.getNextItem(l)))continue;l=l.y,"top"==r.showBalloonAt&&(l=0),"bottom"==r.showBalloonAt&&(l=this.height);var d=i.mouseX,u=i.mouseY;(l=this.rotate?Math.abs(d-l):Math.abs(u-l))<c&&(c=l,h=r)}i.mostCloseGraph=h}if(this.prevCursorItem!=s||h!=this.prevMostCloseGraph){for(c=[],o=0;o<a.length;o++)l=(r=a[o]).valueAxis.id,l=s.axes[l].graphs[r.id],i.showNextAvailable&&isNaN(l.y)&&!(l=this.getNextItem(l))&&r.balloon?r.balloon.hide():h&&r!=h?(r.showGraphBalloon(l,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),r.balloon.hide(0)):i.valueBalloonsEnabled?(r.balloon.showBullet=i.bulletsEnabled,r.balloon.bulletSize=i.bulletSize/2,e.hideBalloons||(r.showGraphBalloon(l,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),r.balloon.set&&c.push({balloon:r.balloon,y:r.balloon.pointToY}))):(r.currentDataItem=l,r.resizeBullet(l,i.graphBulletSize,i.graphBulletAlpha));i.avoidBalloonOverlapping&&this.arrangeBalloons(c),this.prevCursorItem=s}this.prevMostCloseGraph=h}}n.showBalloon(e.x,e.y,i.categoryBalloonDateFormat,e.skip),this.updateLegendValues()}},handleCursorHide:function(e){t.AmSerialChart.base.handleCursorHide.call(this,e),e=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),e&&e.hideBalloon(),e=this.graphs;var i;for(i=0;i<e.length;i++)e[i].currentDataItem=null},handleCursorPanning:function(e){var i,n=e.target,a=e.deltaX,s=e.deltaY,o=e.delta2X,r=e.delta2Y;if(e=!1,this.rotate){isNaN(o)&&(o=a,e=!0);var l=(h=this.endX0)-(i=this.startX0),h=h-l*o,c=l;e||(c=0),e=t.fitToBounds(i-l*a,0,1-c)}else isNaN(r)&&(r=s,e=!0),h=this.endY0,i=this.startY0,l=h-i,h+=l*s,c=l,e||(c=0),e=t.fitToBounds(i+l*r,0,1-c);i=t.fitToBounds(h,c,1);var d;n.valueZoomable&&(d=this.relativeZoomValueAxes(this.valueAxes,e,i));var u;i=this.categoryAxis,this.rotate&&(a=s,o=r),e=!1,isNaN(o)&&(o=a,e=!0),n.zoomable&&(0<Math.abs(a)||0<Math.abs(o))&&(i.parseDates&&!i.equalSpacing?(r=this.startTime0,o*=i=(s=this.endTime0)-r,l=this.firstTime,h=this.lastTime,c=i,e||(c=0),e=Math.round(t.fitToBounds(r-i*a,l,h-c)),o=Math.round(t.fitToBounds(s-o,l+c,h)),(this.startTime!=e||this.endTime!=o)&&(u={chart:this,target:n,type:"zoomed",start:e,end:o},this.skipZoomed=!0,n.fire(u),this.zoom(e,o),u=!0)):(r=this.start0,s=this.end0,i=s-r,a=Math.round(i*a),o=Math.round(i*o),l=this.chartData.length-1,e||(i=0),e=t.fitToBounds(r-a,0,l-i),i=t.fitToBounds(s-o,i,l),(this.start!=e||this.end!=i)&&(this.skipZoomed=!0,n.fire({chart:this,target:n,type:"zoomed",start:e,end:i}),this.zoom(e,i),u=!0))),!u&&d&&this.updateAfterValueZoom()},arrangeBalloons:function(t){o=this.plotAreaHeight;t.sort(this.compareY);var e,i,n,a=this.plotAreaWidth,s=t.length;for(e=0;e<s;e++)(i=t[e].balloon).setBounds(0,0,a,o),i.restorePrevious(),i.draw(),o=i.yPos-3;for(t.reverse(),e=0;e<s;e++){var o=(i=t[e].balloon).bottom,r=i.bottom-i.yPos;0<e&&o-r<n+3&&(i.setBounds(0,n+3,a,n+r+3),i.restorePrevious(),i.draw()),i.set&&i.set.show(),n=i.bottom}},compareY:function(t,e){return t.y<e.y?1:-1}})}(),function(){var t=window.AmCharts;t.Cuboid=t.Class({construct:function(t,e,i,n,a,s,o,r,l,h,c,d,u,p,f,m,g){this.set=t.set(),this.container=t,this.h=Math.round(i),this.w=Math.round(e),this.dx=n,this.dy=a,this.colors=s,this.alpha=o,this.bwidth=r,this.bcolor=l,this.balpha=h,this.dashLength=p,this.topRadius=m,this.pattern=f,this.rotate=u,this.bcn=g,u?0>e&&0===c&&(c=180):0>i&&270==c&&(c=90),this.gradientRotation=c,0===n&&0===a&&(this.cornerRadius=d),this.draw()},draw:function(){var e=this.set;e.clear();var i=this.container,n=i.chart,a=this.w,s=this.h,o=this.dx,r=this.dy,l=this.colors,h=this.alpha,c=this.bwidth,d=this.bcolor,u=this.balpha,p=this.gradientRotation,f=this.cornerRadius,m=this.dashLength,g=this.pattern,v=this.topRadius,b=this.bcn,y=l,x=l;"object"==typeof l&&(y=l[0],x=l[l.length-1]);var w,T,C,S,M,A,k,D,P,_=h;g&&(h=0);var N,E,O,I,L=this.rotate;if(0<Math.abs(o)||0<Math.abs(r))if(isNaN(v))k=x,x=t.adjustLuminosity(y,-.2),x=t.adjustLuminosity(y,-.2),w=t.polygon(i,[0,o,a+o,a,0],[0,r,r,0,0],x,h,1,d,0,p),0<u&&(P=t.line(i,[0,o,a+o],[0,r,r],d,u,c,m)),(T=t.polygon(i,[0,0,a,a,0],[0,s,s,0,0],x,h,1,d,0,p)).translate(o,r),0<u&&(C=t.line(i,[o,o],[r,r+s],d,u,c,m)),S=t.polygon(i,[0,0,o,o,0],[0,s,s+r,r,0],x,h,1,d,0,p),M=t.polygon(i,[a,a,a+o,a+o,a],[0,s,s+r,r,0],x,h,1,d,0,p),0<u&&(A=t.line(i,[a,a+o,a+o,a],[0,r,s+r,s],d,u,c,m)),x=t.adjustLuminosity(k,.2),k=t.polygon(i,[0,o,a+o,a,0],[s,s+r,s+r,s,s],x,h,1,d,0,p),0<u&&(D=t.line(i,[0,o,a+o],[s,s+r,s+r],d,u,c,m));else{var B,R,$;L?(B=s/2,x=o/2,$=s/2,R=a+o/2,E=Math.abs(s/2),N=Math.abs(o/2)):(x=a/2,B=r/2,R=a/2,$=s+r/2+1,N=Math.abs(a/2),E=Math.abs(r/2)),O=N*v,I=E*v,.1<N&&.1<N&&(w=t.circle(i,N,y,h,c,d,u,!1,E)).translate(x,B),.1<O&&.1<O&&(k=t.circle(i,O,t.adjustLuminosity(y,.5),h,c,d,u,!1,I)).translate(R,$)}for(h=_,1>Math.abs(s)&&(s=0),1>Math.abs(a)&&(a=0),!isNaN(v)&&(0<Math.abs(o)||0<Math.abs(r))?(l=[y],l={fill:l,stroke:d,"stroke-width":c,"stroke-opacity":u,"fill-opacity":h},L?(h="M0,0 L"+a+","+(s/2-s/2*v),c=" B",0<a&&(c=" A"),t.VML?(h+=c+Math.round(a-O)+","+Math.round(s/2-I)+","+Math.round(a+O)+","+Math.round(s/2+I)+","+a+",0,"+a+","+s,h=h+" L0,"+s+(c+Math.round(-N))+","+Math.round(s/2-E)+","+Math.round(N)+","+Math.round(s/2+E)+",0,"+s+",0,0"):(h+="A"+O+","+I+",0,0,0,"+a+","+(s-s/2*(1-v))+"L0,"+s,h+="A"+N+","+E+",0,0,1,0,0"),N=90):(c=a/2-a/2*v,h="M0,0 L"+c+","+s,t.VML?(h="M0,0 L"+c+","+s,c=" B",0>s&&(c=" A"),h+=c+Math.round(a/2-O)+","+Math.round(s-I)+","+Math.round(a/2+O)+","+Math.round(s+I)+",0,"+s+","+a+","+s,h+=" L"+a+",0",h+=c+Math.round(a/2+N)+","+Math.round(E)+","+Math.round(a/2-N)+","+Math.round(-E)+","+a+",0,0,0"):(h+="A"+O+","+I+",0,0,0,"+(a-a/2*(1-v))+","+s+"L"+a+",0",h+="A"+N+","+E+",0,0,1,0,0"),N=180),(i=i.path(h).attr(l)).gradient("linearGradient",[y,t.adjustLuminosity(y,-.3),t.adjustLuminosity(y,-.3),y],N),L?i.translate(o/2,0):i.translate(0,r/2)):i=0===s?t.line(i,[0,a],[0,0],d,u,c,m):0===a?t.line(i,[0,0],[0,s],d,u,c,m):0<f?t.rect(i,a,s,l,h,c,d,u,f,p,m):t.polygon(i,[0,0,a,a,0],[0,s,s,0,0],l,h,c,d,u,p,!1,m),a=isNaN(v)?0>s?[w,P,T,C,S,M,A,k,D,i]:[k,D,T,C,S,M,w,P,A,i]:L?0<a?[w,i,k]:[k,i,w]:0>s?[w,i,k]:[k,i,w],t.setCN(n,i,b+"front"),t.setCN(n,T,b+"back"),t.setCN(n,k,b+"top"),t.setCN(n,w,b+"bottom"),t.setCN(n,S,b+"left"),t.setCN(n,M,b+"right"),w=0;w<a.length;w++)(T=a[w])&&(e.push(T),t.setCN(n,T,b+"element"));g&&i.pattern(g,NaN,n.path)},width:function(t){isNaN(t)&&(t=0),this.w=Math.round(t),this.draw()},height:function(t){isNaN(t)&&(t=0),this.h=Math.round(t),this.draw()},animateHeight:function(e,i){var n=this;n.animationFinished=!1,n.easing=i,n.totalFrames=e*t.updateRate,n.rh=n.h,n.frame=0,n.height(1),setTimeout(function(){n.updateHeight.call(n)},1e3/t.updateRate)},updateHeight:function(){var e=this;e.frame++;var i=e.totalFrames;e.frame<=i?(i=e.easing(0,e.frame,1,e.rh-1,i),e.height(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateHeight.call(e)}):setTimeout(function(){e.updateHeight.call(e)},1e3/t.updateRate)):(e.height(e.rh),e.animationFinished=!0)},animateWidth:function(e,i){var n=this;n.animationFinished=!1,n.easing=i,n.totalFrames=e*t.updateRate,n.rw=n.w,n.frame=0,n.width(1),setTimeout(function(){n.updateWidth.call(n)},1e3/t.updateRate)},updateWidth:function(){var e=this;e.frame++;var i=e.totalFrames;e.frame<=i?(i=e.easing(0,e.frame,1,e.rw-1,i),e.width(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateWidth.call(e)}):setTimeout(function(){e.updateWidth.call(e)},1e3/t.updateRate)):(e.width(e.rw),e.animationFinished=!0)}})}(),function(){var t=window.AmCharts;t.CategoryAxis=t.Class({inherits:t.AxisBase,construct:function(e){this.cname="CategoryAxis",t.CategoryAxis.base.construct.call(this,e),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,t.applyTheme(this,e,this.cname)},draw:function(){t.CategoryAxis.base.draw.call(this),this.generateDFObject();var e=this.chart.chartData;if(this.data=e,this.labelRotationR=this.labelRotation,this.type=null,t.ifArray(e)){var i,n=this.chart;"scrollbar"!=this.id?(t.setCN(n,this.set,"category-axis"),t.setCN(n,this.labelsSet,"category-axis"),t.setCN(n,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var a,s,o,r,l,h,c=this.start,d=this.labelFrequency,u=0,p=this.end-c+1,f=this.gridCountR,m=this.showFirstLabel,g=this.showLastLabel,v="",v=t.extractPeriod(this.minPeriod),b=t.getPeriodDuration(v.period,v.count),y=this.rotate,x=this.firstDayOfWeek,w=this.boldPeriodBeginning;i=t.resetDateToMin(new Date(e[e.length-1].time+1.05*b),this.minPeriod,1,x).getTime(),this.firstTime=n.firstTime,this.endTime>i&&(this.endTime=i),h=this.minorGridEnabled,o=this.gridAlpha;var T=0,C=0;if(this.widthField)for(i=this.start;i<=this.end;i++)if(l=this.data[i]){var S=Number(this.data[i].dataContext[this.widthField]);isNaN(S)||(T+=S,l.widthValue=S)}if(this.parseDates&&!this.equalSpacing)this.lastTime=e[e.length-1].time,this.maxTime=t.resetDateToMin(new Date(this.lastTime+1.05*b),this.minPeriod,1,x).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(u=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,i=this.choosePeriod(0),d=i.period,s=i.count,(i=t.getPeriodDuration(d,s))<b&&(d=v.period,s=v.count,i=b),"WW"==(o=d)&&(o="DD"),this.currentDateFormat=this.dateFormatsObject[o],this.stepWidth=this.getStepWidth(p),f=Math.ceil(this.timeDifference/i)+1,v=t.resetDateToMin(new Date(this.startTime-i),d,s,x).getTime(),this.cellWidth=this.getStepWidth(p),p=Math.round(v/i),c=-1,p/2==Math.round(p/2)&&(c=-2,v-=i),(p=this.start)/2==Math.round(p/2)&&p--,0>p&&(p=0),(C=this.end+2)>=this.data.length&&(C=this.data.length),e=!1,e=!m,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),S=p,this.data[p].time!=t.resetDateToMin(new Date(this.data[p].time),d,s,x).getTime()){var b=0,M=v;for(i=p;i<C;i++)l=this.data[i].time,this.checkPeriodChange(d,s,l,M)&&(2<=++b&&(S=i,i=C),M=l)}if(h&&1<s&&(l=this.chooseMinorFrequency(s),t.getPeriodDuration(d,l)),0<this.gridCountR)for(i=p;i<C;i++)l=this.data[i].time,this.checkPeriodChange(d,s,l,v)&&i>=S&&(p=this.getCoordinate(i-this.start),h=!1,this.nextPeriod[o]&&(h=this.checkPeriodChange(this.nextPeriod[o],1,l,v,o))&&t.resetDateToMin(new Date(l),this.nextPeriod[o],1,x).getTime()!=l&&(h=!1),b=!1,h&&this.markPeriodChange?(h=this.dateFormatsObject[this.nextPeriod[o]],b=!0):h=this.dateFormatsObject[o],v=t.formatDate(new Date(l),h,n),(i==c&&!m||i==f&&!g)&&(v=" "),e?e=!1:(w||(b=!1),p-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(v=this.labelFunction(v,new Date(l),this,d,s,r)),this.boldLabels&&(b=!0),a=new this.axisItemRenderer(this,p,v,void 0,void 0,void 0,void 0,b),h=a.graphics(),this.pushAxisItem(a),h=h.getBBox().width,t.isModern||(h-=p),this.previousPos=p+h)),r=v=l)}}else if(this.cellWidth=this.getStepWidth(p),p<f&&(f=p),u+=this.start,this.stepWidth=this.getStepWidth(p),0<f)for(x=Math.floor(p/f),l=this.chooseMinorFrequency(x),(p=u)/2==Math.round(p/2)&&p--,0>p&&(p=0),w=0,this.widthField&&(p=this.start),this.end-p+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),i=p;i<=this.end+2;i++){if(f=!1,0<=i&&i<this.data.length?(s=this.data[i],v=s.category,f=s.forceShow):v="",h&&!isNaN(l)){if(i/l!=Math.round(i/l)&&!f)continue;i/x==Math.round(i/x)||f||(this.gridAlpha=this.minorGridAlpha,v=void 0)}else if(i/x!=Math.round(i/x)&&!f)continue;p=this.getCoordinate(i-u),f=0,"start"==this.gridPosition&&(p-=this.cellWidth/2,f=this.cellWidth/2),a=!0,r=f,"start"==this.tickPosition&&(r=0,a=!1,f=0),(i==c&&!m||i==this.end&&!g)&&(v=void 0),Math.round(w/d)!=w/d&&(v=void 0),w++,e=this.cellWidth,y&&(e=NaN,this.ignoreAxisWidth||!n.autoMargins)&&(e="right"==this.position?n.marginRight:n.marginLeft,e-=this.tickLength+10),this.labelFunction&&s&&(v=this.labelFunction(v,s,this)),v=t.fixBrakes(v),b=!1,this.boldLabels&&(b=!0),i>this.end&&"start"==this.tickPosition&&(v=" "),this.rotate&&this.inside&&(f-=2),isNaN(s.widthValue)||(s.percentWidthValue=s.widthValue/T*100,e=this.rotate?this.height*s.widthValue/T:this.width*s.widthValue/T,p=C,C+=e,f=e/2),(a=new this.axisItemRenderer(this,p,v,a,e,f,void 0,b,r,!1,s.labelColor,s.className)).serialDataItem=s,this.pushAxisItem(a),this.gridAlpha=o}for(i=m=0;i<this.data.length;i++)(l=this.data[i])&&(this.parseDates&&!this.equalSpacing?(g=l.time,c=this.cellWidth,"MM"==this.minPeriod&&(c=864e5*t.daysInMonth(new Date(g))*this.stepWidth,l.cellWidth=c),g=Math.round((g-this.startTime)*this.stepWidth+c/2)):g=this.getCoordinate(i-u),l.x[this.id]=g);if(this.widthField)for(i=this.start;i<=this.end;i++)l=this.data[i],c=l.widthValue,l.percentWidthValue=c/T*100,this.rotate?(g=this.height*c/T/2+m,m=this.height*c/T+m):(g=this.width*c/T/2+m,m=this.width*c/T+m),l.x[this.id]=g;for(T=this.guides.length,i=0;i<T;i++)m=this.guides[i],x=x=x=h=c=NaN,g=m.above,m.toCategory&&(x=n.getCategoryIndexByValue(m.toCategory),isNaN(x)||(c=this.getCoordinate(x-u),m.expand&&(c+=this.cellWidth/2),a=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,m),this.pushAxisItem(a,g))),m.category&&(x=n.getCategoryIndexByValue(m.category),isNaN(x)||(h=this.getCoordinate(x-u),m.expand&&(h-=this.cellWidth/2),x=(c-h)/2,a=new this.axisItemRenderer(this,h,m.label,!0,NaN,x,m),this.pushAxisItem(a,g))),w=n.dataDateFormat,m.toDate&&(!w||m.toDate instanceof Date||(m.toDate=m.toDate.toString()+" |"),m.toDate=t.getDate(m.toDate,w),this.equalSpacing?(x=n.getClosestIndex(this.data,"time",m.toDate.getTime(),!1,0,this.data.length-1),isNaN(x)||(c=this.getCoordinate(x-u))):c=(m.toDate.getTime()-this.startTime)*this.stepWidth,a=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,m),this.pushAxisItem(a,g)),m.date&&(!w||m.date instanceof Date||(m.date=m.date.toString()+" |"),m.date=t.getDate(m.date,w),this.equalSpacing?(x=n.getClosestIndex(this.data,"time",m.date.getTime(),!1,0,this.data.length-1),isNaN(x)||(h=this.getCoordinate(x-u))):h=(m.date.getTime()-this.startTime)*this.stepWidth,x=(c-h)/2,a=!0,m.toDate&&(a=!1),a="H"==this.orientation?new this.axisItemRenderer(this,h,m.label,a,2*x,NaN,m):new this.axisItemRenderer(this,h,m.label,!1,NaN,x,m),this.pushAxisItem(a,g)),m.balloonText&&a&&(x=a.label)&&this.addEventListeners(x,m),(0<c||0<h)&&(x=!1,this.rotate?(c<this.height||h<this.height)&&(x=!0):(c<this.width||h<this.width)&&(x=!0),x&&(c=new this.guideFillRenderer(this,h,c,m),h=c.graphics(),this.pushAxisItem(c,g),m.graphics=h,h.index=i,m.balloonText&&this.addEventListeners(h,m)));(n=n.chartCursor)&&(y?n.fixHeight(this.cellWidth):(n.fixWidth(this.cellWidth),n.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=A}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(y=this.axisLine.set)&&y.toFront();var A=this.getBBox().height;2<A-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(e){var i,n=this.data,a=this.chart,s=a.rotate,o=this.stepWidth;if(this.parseDates&&!this.equalSpacing)e=this.startTime+Math.round(e/o)-this.minDuration()/2,i=a.getClosestIndex(n,"time",e,!1,this.start,this.end+1);else if(this.widthField)for(a=1/0,o=this.start;o<=this.end;o++){var r=this.data[o];r&&(r=Math.abs(r.x[this.id]-e))<a&&(a=r,i=o)}else this.startOnAxis||(e-=o/2),i=this.start+Math.round(e/o);var l;return n[i=t.fitToBounds(i,0,n.length-1)]&&(l=n[i].x[this.id]),s?l>this.height+1&&i--:l>this.width+1&&i--,0>l&&i++,i=t.fitToBounds(i,0,n.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):NaN},categoryToCoordinate:function(t){return this.chart?this.parseDates?this.dateToCoordinate(new Date(t)):(t=this.chart.getCategoryIndexByValue(t),isNaN(t)?void 0:this.getCoordinate(t-this.start)):NaN},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)},coordinateToValue:function(t){if(t=this.xToIndex(t),t=this.data[t])return this.parseDates?t.time:t.category},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},formatValue:function(e,i){return i||(i=this.currentDateFormat),this.parseDates&&(e=t.formatDate(new Date(e),i,this.chart)),e},showBalloonAt:function(t,e){return void 0===e&&(e=this.parseDates?this.dateToCoordinate(new Date(t)):this.categoryToCoordinate(t)),this.adjustBalloonCoordinate(e)},formatBalloonText:function(e,i,n){var a="",s="",o=this.chart,r=this.data[i];if(r)if(this.parseDates)a=t.formatDate(r.category,n,o),i=t.changeDate(new Date(r.category),this.minPeriod,1),s=t.formatDate(i,n,o),-1!=a.indexOf("fff")&&(a=t.formatMilliseconds(a,r.category),s=t.formatMilliseconds(s,i));else{var l;this.data[i+1]&&(l=this.data[i+1]),a=t.fixNewLines(r.category),l&&(s=t.fixNewLines(l.category))}return e=e.replace(/\[\[category\]\]/g,String(a)),e=e.replace(/\[\[toCategory\]\]/g,String(s))},adjustBalloonCoordinate:function(t,e){var i=this.xToIndex(t),n=this.chart.chartCursor;if(this.stickBalloonToCategory){var a=this.data[i];a&&(t=a.x[this.id]),this.stickBalloonToStart&&(t-=this.cellWidth/2);var s=0;if(n){var o=n.limitToGraph;if(o){var r=o.valueAxis.id;o.hidden||(s=a.axes[r].graphs[o.id].y)}this.rotate?("left"==this.position?(o&&(s-=n.width),0<s&&(s=0)):0>s&&(s=0),n.fixHLine(t,s)):("top"==this.position?(o&&(s-=n.height),0<s&&(s=0)):0>s&&(s=0),n.fixVLine(t,s))}}return n&&!e&&(n.setIndex(i),this.parseDates&&n.setTimestamp(this.coordinateToDate(t).getTime())),t}})}(),function(){var t=window.AmCharts;t.AmRectangularChart=t.Class({inherits:t.AmCoordinateChart,construct:function(e){t.AmRectangularChart.base.construct.call(this,e),this.theme=e,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,t.applyTheme(this,e,"AmRectangularChart")},initChart:function(){t.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(t.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),t.ifArray(this.chartData)){var e=this.chartCursor;e&&e.draw()}},resetMargins:function(){var t,e={};if("xy"==this.type){var i=this.xAxes,n=this.yAxes;for(t=0;t<i.length;t++){var a=i[t];a.ignoreAxisWidth||(a.setOrientation(!0),a.fixAxisPosition(),e[a.position]=!0)}for(t=0;t<n.length;t++)(i=n[t]).ignoreAxisWidth||(i.setOrientation(!1),i.fixAxisPosition(),e[i.position]=!0)}else{for(n=this.valueAxes,t=0;t<n.length;t++)(i=n[t]).ignoreAxisWidth||(i.setOrientation(this.rotate),i.fixAxisPosition(),e[i.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e=this.valueAxes,i=this.autoMarginOffset,n=this.fixMargins,a=this.realWidth,s=this.realHeight,o=i,r=i,l=a;t=s;var h;for(h=0;h<e.length;h++)e[h].handleSynchronization(),t=this.getAxisBounds(e[h],o,l,r,t),o=Math.round(t.l),l=Math.round(t.r),r=Math.round(t.t),t=Math.round(t.b);(e=this.categoryAxis)&&(t=this.getAxisBounds(e,o,l,r,t),o=Math.round(t.l),l=Math.round(t.r),r=Math.round(t.t),t=Math.round(t.b)),n.left&&o<i&&(this.marginLeft=Math.round(-o+i),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),n.right&&l>=a-i&&(this.marginRight=Math.round(l-a+i),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),n.top&&r<i+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-r+i+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),n.bottom&&t>s-i&&(this.marginBottom=Math.round(this.marginBottom+t-s+i),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(t,e,i,n,a){if(!t.ignoreAxisWidth){var s=t.labelsSet,o=t.tickLength;if(t.inside&&(o=0),s)switch(s=t.getBBox(),t.position){case"top":n>(t=s.y)&&(n=t);break;case"bottom":a<(t=s.y+s.height)&&(a=t);break;case"right":i<(t=s.x+s.width+o+3)&&(i=t);break;case"left":e>(t=s.x-o)&&(e=t)}}return{l:e,t:n,r:i,b:a}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var i=e.container.set();e.zoomButtonSet.push(i);var n=e.color,a=e.fontSize,s=e.zoomOutButtonImageSize,o=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),r=e.langObj.zoomOutText||e.zoomOutText,l=e.zoomOutButtonColor,h=e.zoomOutButtonAlpha,c=e.zoomOutButtonFontSize,d=e.zoomOutButtonPadding;isNaN(c)||(a=c),(c=e.zoomOutButtonFontColor)&&(n=c);var u;(c=e.zoomOutButton)&&(c.fontSize&&(a=c.fontSize),c.color&&(n=c.color),c.backgroundColor&&(l=c.backgroundColor),isNaN(c.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=c.backgroundAlpha));var p=c=0,p=e.pathToImages;for(o&&((t.isAbsolute(o)||void 0===p)&&(p=""),u=e.container.image(p+o+e.extension,0,0,s,s),t.setCN(e,u,"zoom-out-image"),i.push(u),c=(u=u.getBBox()).width+5),void 0!==r&&(n=t.text(e.container,r,n,e.fontFamily,a,"start"),t.setCN(e,n,"zoom-out-label"),a=n.getBBox(),p=u?u.height/2-3:a.height/2,n.translate(c,p),i.push(n)),u=i.getBBox(),n=1,t.isModern||(n=0),(l=t.rect(e.container,u.width+2*d+5,u.height+2*d-2,l,1,1,l,n)).setAttr("opacity",h),l.translate(-d,-d),t.setCN(e,l,"zoom-out-bg"),i.push(l),l.toBack(),e.zbBG=l,u=l.getBBox(),i.translate(e.marginLeftReal+e.plotAreaWidth-u.width+d,e.marginTopReal+d),i.hide(),i.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),h=0;h<i.length;h++)i[h].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(i.setAttr("tabindex",e.zoomOutButtonTabIndex),i.setAttr("role","menuitem"),i.keyup(function(t){13==t.keyCode&&e.clickZB()})),e.zbSet=i}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var e=this.dx,i=this.dy,n=this.marginLeftReal,a=this.marginTopReal,s=this.plotAreaWidth-1,o=this.plotAreaHeight-1,r=this.plotAreaFillColors,l=this.plotAreaFillAlphas,h=this.plotAreaBorderColor,c=this.plotAreaBorderAlpha;"object"==typeof l&&(l=l[0]),r=t.polygon(this.container,[0,s,s,0,0],[0,0,o,o,0],r,l,1,h,c,this.plotAreaGradientAngle),t.setCN(this,r,"plot-area"),r.translate(n+e,a+i),this.set.push(r),0!==e&&0!==i&&("object"==typeof(r=this.plotAreaFillColors)&&(r=r[0]),r=t.adjustLuminosity(r,-.15),s=t.polygon(this.container,[0,e,s+e,s,0],[0,i,i,0,0],r,l,1,h,c),t.setCN(this,s,"plot-area-bottom"),s.translate(n,a+o),this.set.push(s),e=t.polygon(this.container,[0,0,e,e,0],[0,o,o+i,i,0],r,l,1,h,c),t.setCN(this,e,"plot-area-left"),e.translate(n,a),this.set.push(e)),(n=this.bbset)&&this.scrollbarOnly&&n.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),i=this.container;this.realWidth=t,this.realWidth=e,i&&this.container.setSize(t,e);var i=this.marginLeftReal,n=this.marginTopReal,t=t-i-this.marginRightReal-this.dx,e=e-n-this.marginBottomReal;1>t&&(t=1),1>e&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e),this.plotBalloonsSet.translate(i,n)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t];this.setAxisRenderers(i),this.updateObjectSize(i)}},setAxisRenderers:function(e){e.axisRenderer=t.RecAxis,e.guideFillRenderer=t.RecFill,e.axisItemRenderer=t.RecItem,e.marginsChanged=!0},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.index=t,i.rotate=this.rotate,this.updateObjectSize(i)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var e=this.chartCursor;e&&(e=t.processObject(e,t.ChartCursor,this.theme),this.updateObjectSize(e),this.addChartCursor(e),e.chart=this)},processScrollbars:function(){var e=this.chartScrollbar;e&&(e=t.processObject(e,t.ChartScrollbar,this.theme),this.addChartScrollbar(e))},updateScrollbars:function(){},removeChartCursor:function(){t.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i.valueAxis.recalculateToPercents?i.set&&i.set.hide():(i.x=this.marginLeftReal,i.y=this.marginTopReal,i.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].zoomOut()},removeTrendLine:function(t){var e,i=this.trendLines;for(e=i.length-1;0<=e;e--)i[e]==t&&i.splice(e,1)},adjustMargins:function(t,e){var i=t.position,n=t.scrollbarHeight+t.offset;t.enabled&&("top"==i?e?this.marginLeftReal+=n:this.marginTopReal+=n:e?this.marginRightReal+=n:this.marginBottomReal+=n)},getScrollbarPosition:function(t,e,i){var n="bottom",a="top";t.oppositeAxis||(a=n,n="top"),t.position=e?"bottom"==i||"left"==i?n:a:"top"==i||"right"==i?n:a},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var i=this.marginTopReal,n=this.marginLeftReal,a=t.scrollbarHeight,s=this.dx,o=this.dy,r=t.offset;"top"==t.position?e?(t.y=i,t.x=n-a-r):(t.y=i-a+o-r,t.x=n+s):e?(t.y=i+o,t.x=n+this.plotAreaWidth+s+r):(t.y=i+this.plotAreaHeight+r,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;t&&""!==(e=this.zoomOutText)&&e&&this.drawZoomOutButton(),(e=this.zbSet)&&(this.zoomButtonSet.push(e),t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(e){t.AmRectangularChart.base.handleReleaseOutside.call(this,e),(e=this.chartCursor)&&e.handleReleaseOutside&&e.handleReleaseOutside()},handleMouseDown:function(e){t.AmRectangularChart.base.handleMouseDown.call(this,e);var i=this.chartCursor;i&&i.handleMouseDown&&!this.rolledOverZB&&i.handleMouseDown(e)},update:function(){t.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){if(t&&t.enabled){var e=t.valueAxes[0],i=e.relativeStart,n=e.relativeEnd;e.reversed&&(n=1-i,i=1-e.relativeEnd),t.percentZoom(i,n)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,e){if((n=t.relativeStart)>(a=t.relativeEnd))var i=n,n=a,a=i;this.relativeZoomValueAxes(e,n,a),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(e,i,n){if(i=t.fitToBounds(i,0,1),n=t.fitToBounds(n,0,1),i>n){a=i;i=n,n=a}var a=1/this.maxZoomFactor,s=t.getDecimals(a)+4;if(n-i<a&&(n=i+(n-i)/2,i=n-a/2,n+=a/2),i=t.roundTo(i,s),n=t.roundTo(n,s),a=!1,e){for(s=0;s<e.length;s++){var o=e[s].zoomToRelativeValues(i,n,!0);o&&(a=o)}this.showZB()}return a},addChartCursor:function(e){t.callMethod("destroy",[this.chartCursor]),e&&(this.listenTo(e,"moved",this.handleCursorMove),this.listenTo(e,"zoomed",this.handleCursorZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(e,"panning",this.handleCursorPanning),this.listenTo(e,"onHideCursor",this.handleCursorHide)),this.chartCursor=e},handleCursorChange:function(){},handleCursorMove:function(t){var e,i=this.valueAxes;for(e=0;e<i.length;e++)if(!t.panning){var n=i[e];n&&n.showBalloon&&n.showBalloon(t.x,t.y)}},handleCursorZoom:function(t){if(this.skipZoomed)this.skipZoomed=!1;else{var e=this.startX0,i=this.endX0,n=this.endY0,a=this.startY0,s=t.startX,o=t.endX,r=t.startY,l=t.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(e+s*(i-e),e+o*(i-e),a+r*(n-a),a+l*(n-a),t)}},handleCursorHide:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].hideBalloon();for(e=this.graphs,t=0;t<e.length;t++)e[t].hideBalloonReal()}})}(),function(){var t=window.AmCharts;t.AmXYChart=t.Class({inherits:t.AmRectangularChart,construct:function(e){this.type="xy",t.AmXYChart.base.construct.call(this,e),this.cname="AmXYChart",this.theme=e,this.createEvents("zoomed"),t.applyTheme(this,e,this.cname)},initChart:function(){t.AmXYChart.base.initChart.call(this),this.dataChanged&&this.updateData(),this.drawChart(),!this.marginsUpdated&&this.autoMargins&&(this.marginsUpdated=!0,this.measureMargins());var e=this.marginLeftReal,i=this.marginTopReal,n=this.plotAreaWidth,a=this.plotAreaHeight;this.graphsSet.clipRect(e,i,n,a),this.bulletSet.clipRect(e,i,n,a),this.trendLinesSet.clipRect(e,i,n,a),this.drawGraphs=!0,this.showZB()},prepareForExport:function(){var t=this.bulletSet;t.clipPath&&this.container.remove(t.clipPath)},createValueAxes:function(){var e=[],i=[];this.xAxes=e,this.yAxes=i;var n,a,s=this.valueAxes;for(a=0;a<s.length;a++){var o=(n=s[a]).position;"top"!=o&&"bottom"!=o||(n.rotate=!0),n.setOrientation(n.rotate),"V"==(o=n.orientation)&&i.push(n),"H"==o&&e.push(n)}for(0===i.length&&(n=new t.ValueAxis(this.theme),n.rotate=!1,n.setOrientation(!1),s.push(n),i.push(n)),0===e.length&&(n=new t.ValueAxis(this.theme),n.rotate=!0,n.setOrientation(!0),s.push(n),e.push(n)),a=0;a<s.length;a++)this.processValueAxis(s[a],a);for(e=this.graphs,a=0;a<e.length;a++)this.processGraph(e[a],a)},drawChart:function(){t.AmXYChart.base.drawChart.call(this);var e=this.chartData;this.legend&&(this.legend.valueText=void 0),0<this.realWidth&&0<this.realHeight&&(t.ifArray(e)?(this.chartScrollbar&&this.updateScrollbars(),this.zoomChart()):this.cleanChart(),(e=this.scrollbarH)&&(this.hideXScrollbar?(e&&e.destroy(),this.scrollbarH=null):e.draw()),(e=this.scrollbarV)&&(this.hideYScrollbar?(e.destroy(),this.scrollbarV=null):e.draw()),this.zoomScrollbar()),this.autoMargins&&!this.marginsUpdated||this.dispDUpd()},cleanChart:function(){t.callMethod("destroy",[this.valueAxes,this.graphs,this.scrollbarV,this.scrollbarH,this.chartCursor])},zoomChart:function(){this.zoomObjects(this.valueAxes),this.zoomObjects(this.graphs),this.zoomTrendLines(),this.prevPlotAreaWidth=this.plotAreaWidth,this.prevPlotAreaHeight=this.plotAreaHeight},validateData:function(){if(this.zoomOutOnDataUpdate)for(var e=this.valueAxes,i=0;i<e.length;i++)e[i].minZoom=NaN,e[i].maxZoom=NaN;t.AmXYChart.base.validateData.call(this)},zoomObjects:function(t){var e,i=t.length;for(e=0;e<i;e++)t[e].zoom(0,this.chartData.length-1)},updateData:function(){this.parseData();var t,e,i=this.chartData,n=i.length-1,a=this.graphs,s=this.dataProvider,o=-1/0,r=1/0;if(s){for(t=0;t<a.length;t++)if(e=a[t],e.data=i,e.zoom(0,n),e=e.valueField){var l;for(l=0;l<s.length;l++){var h=Number(s[l][e]);null!==h&&(h>o&&(o=h),h<r&&(r=h))}}for(isNaN(this.minValue)||(r=this.minValue),isNaN(this.maxValue)||(o=this.maxValue),t=0;t<a.length;t++)e=a[t],e.maxValue=o,e.minValue=r;(i=this.chartCursor)&&(i.type="crosshair",i.valueBalloonsEnabled=!1),this.dataChanged=!1,this.dispatchDataUpdated=!0}},processValueAxis:function(t){t.chart=this,t.minMaxField="H"==t.orientation?"x":"y",t.min=NaN,t.max=NaN},processGraph:function(e){t.isString(e.xAxis)&&(e.xAxis=this.getValueAxisById(e.xAxis)),t.isString(e.yAxis)&&(e.yAxis=this.getValueAxisById(e.yAxis)),e.xAxis||(e.xAxis=this.xAxes[0]),e.yAxis||(e.yAxis=this.yAxes[0]),e.valueAxis=e.yAxis},parseData:function(){t.AmXYChart.base.parseData.call(this),this.chartData=[];var e,i=this.dataProvider,n=this.valueAxes,a=this.graphs;if(i)for(e=0;e<i.length;e++){var s,o={axes:{},x:{},y:{}},r=this.dataDateFormat,l=i[e];for(s=0;s<n.length;s++){var h=n[s].id;o.axes[h]={},o.axes[h].graphs={};var c;for(c=0;c<a.length;c++){var d=a[c],u=d.id;if(d.xAxis.id==h||d.yAxis.id==h){var p={};p.serialDataItem=o,p.index=e;var f={},m=l[d.valueField];null!==m&&(m=Number(m),isNaN(m)||(f.value=m)),null!==(m=l[d.xField])&&("date"==d.xAxis.type&&(m=t.getDate(l[d.xField],r).getTime()),m=Number(m),isNaN(m)||(f.x=m)),null!==(m=l[d.yField])&&("date"==d.yAxis.type&&(m=t.getDate(l[d.yField],r).getTime()),m=Number(m),isNaN(m)||(f.y=m)),null!==(m=l[d.errorField])&&(m=Number(m),isNaN(m)||(f.error=m)),p.values=f,this.processFields(d,p,l),p.serialDataItem=o,p.graph=d,o.axes[h].graphs[u]=p}}}this.chartData[e]=o}this.start=0,this.end=this.chartData.length-1},formatString:function(e,i,n){var a=i.graph,s=a.numberFormatter;s||(s=this.nf);var o,r;return"date"==i.graph.xAxis.type&&(o=t.formatDate(new Date(i.values.x),a.dateFormat,this),r=RegExp("\\[\\[x\\]\\]","g"),e=e.replace(r,o)),"date"==i.graph.yAxis.type&&(o=t.formatDate(new Date(i.values.y),a.dateFormat,this),r=RegExp("\\[\\[y\\]\\]","g"),e=e.replace(r,o)),-1!=(e=t.formatValue(e,i.values,["value","x","y"],s)).indexOf("[[")&&(e=t.formatDataContextValue(e,i.dataContext)),e=t.AmXYChart.base.formatString.call(this,e,i,n)},addChartScrollbar:function(e){if(t.callMethod("destroy",[this.chartScrollbar,this.scrollbarH,this.scrollbarV]),e){this.chartScrollbar=e,this.scrollbarHeight=e.scrollbarHeight;var i="backgroundColor backgroundAlpha selectedBackgroundColor selectedBackgroundAlpha scrollDuration resizeEnabled hideResizeGrips scrollbarHeight updateOnReleaseOnly".split(" ");if(!this.hideYScrollbar){var n=new t.ChartScrollbar(this.theme);n.skipEvent=!0,n.chart=this,this.listenTo(n,"zoomed",this.handleScrollbarValueZoom),t.copyProperties(e,n,i),n.rotate=!0,this.scrollbarV=n}this.hideXScrollbar||(n=new t.ChartScrollbar(this.theme),n.skipEvent=!0,n.chart=this,this.listenTo(n,"zoomed",this.handleScrollbarValueZoom),t.copyProperties(e,n,i),n.rotate=!1,this.scrollbarH=n)}},updateTrendLines:function(){var e,i=this.trendLines;for(e=0;e<i.length;e++){var n=i[e],n=t.processObject(n,t.TrendLine,this.theme);i[e]=n,n.chart=this;var a=n.valueAxis;t.isString(a)&&(n.valueAxis=this.getValueAxisById(a)),a=n.valueAxisX,t.isString(a)&&(n.valueAxisX=this.getValueAxisById(a)),n.id||(n.id="trendLineAuto"+e+"_"+(new Date).getTime()),n.valueAxis||(n.valueAxis=this.yAxes[0]),n.valueAxisX||(n.valueAxisX=this.xAxes[0])}},updateMargins:function(){t.AmXYChart.base.updateMargins.call(this);var e=this.scrollbarV;e&&(this.getScrollbarPosition(e,!0,this.yAxes[0].position),this.adjustMargins(e,!0)),(e=this.scrollbarH)&&(this.getScrollbarPosition(e,!1,this.xAxes[0].position),this.adjustMargins(e,!1))},updateScrollbars:function(){t.AmXYChart.base.updateScrollbars.call(this);var e=this.scrollbarV;e&&(this.updateChartScrollbar(e,!0),e.valueAxes=this.yAxes,e.gridAxis||(e.gridAxis=this.yAxes[0])),(e=this.scrollbarH)&&(this.updateChartScrollbar(e,!1),e.valueAxes=this.xAxes,e.gridAxis||(e.gridAxis=this.xAxes[0]))},removeChartScrollbar:function(){t.callMethod("destroy",[this.scrollbarH,this.scrollbarV]),this.scrollbarV=this.scrollbarH=null},handleReleaseOutside:function(e){t.AmXYChart.base.handleReleaseOutside.call(this,e),t.callMethod("handleReleaseOutside",[this.scrollbarH,this.scrollbarV])},update:function(){t.AmXYChart.base.update.call(this),this.scrollbarH&&this.scrollbarH.update&&this.scrollbarH.update(),this.scrollbarV&&this.scrollbarV.update&&this.scrollbarV.update()},zoomScrollbar:function(){this.zoomValueScrollbar(this.scrollbarV),this.zoomValueScrollbar(this.scrollbarH)},handleCursorZoomReal:function(t,e,i,n){isNaN(t)||isNaN(e)||this.relativeZoomValueAxes(this.xAxes,t,e),isNaN(i)||isNaN(n)||this.relativeZoomValueAxes(this.yAxes,i,n),this.updateAfterValueZoom()},handleCursorZoomStarted:function(){if(this.xAxes){var t=this.xAxes[0];this.startX0=t.relativeStart,this.endX0=t.relativeEnd,t.reversed&&(this.startX0=1-t.relativeEnd,this.endX0=1-t.relativeStart)}this.yAxes&&(t=this.yAxes[0],this.startY0=t.relativeStart,this.endY0=t.relativeEnd,t.reversed&&(this.startY0=1-t.relativeEnd,this.endY0=1-t.relativeStart))},updateChartCursor:function(){t.AmXYChart.base.updateChartCursor.call(this);var e=this.chartCursor;if(e){e.valueLineEnabled=!0,e.categoryLineAxis||(e.categoryLineAxis=this.xAxes[0]);o=this.valueAxis;if(e.valueLineBalloonEnabled){var i=e.categoryBalloonAlpha,n=e.categoryBalloonColor,a=e.color;void 0===n&&(n=e.cursorColor);for(var s=0;s<this.valueAxes.length;s++){var o,r=(o=this.valueAxes[s]).balloon;r||(r={}),(r=t.extend(r,this.balloon,!0)).fillColor=n,r.balloonColor=n,r.fillAlpha=i,r.borderColor=n,r.color=a,o.balloon=r}}else for(i=0;i<this.valueAxes.length;i++)(o=this.valueAxes[i]).balloon&&(o.balloon=null);e.zoomable&&(this.hideYScrollbar||(e.vZoomEnabled=!0),this.hideXScrollbar||(e.hZoomEnabled=!0))}},handleCursorPanning:function(e){var i,n=e.deltaX,a=e.delta2X;isNaN(a)&&(a=n,i=!0);var s=this.endX0,o=this.startX0,r=s-o,a=s-r*a,s=r;i||(s=0),n=t.fitToBounds(o-r*n,0,1-s),a=t.fitToBounds(a,s,1),this.relativeZoomValueAxes(this.xAxes,n,a),r=e.deltaY,e=e.delta2Y,isNaN(e)&&(e=r,i=!0),r=(a=this.endY0)+(o=a-(n=this.startY0))*r,a=o,i||(a=0),i=t.fitToBounds(n+o*e,0,1-a),r=t.fitToBounds(r,a,1),this.relativeZoomValueAxes(this.yAxes,i,r),this.updateAfterValueZoom()},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,"V"==t.valueAxis.orientation?this.yAxes:this.xAxes)},showZB:function(){var e,i=this.valueAxes;if(i)for(var n=0;n<i.length;n++){var a=i[n];0!==a.relativeStart&&(e=!0),1!=a.relativeEnd&&(e=!0)}t.AmXYChart.base.showZB.call(this,e)}})}(),function(t){function e(e,i){e.isOpen=!0,t("body").on("touchmove",function(e){t(e.target).closest("#marypopin-mask").length<=0&&e.preventDefault()}),"function"==typeof e.settings.beforeOpen&&e.settings.beforeOpen(e,i),setTimeout(function(){e.positionPopin()},0),e.popin.addClass("animate-on").fadeIn(e.settings.speed,function(){"function"==typeof e.settings.afterOpen&&e.settings.afterOpen(e,i),t(this).removeClass("animate-on")})}function i(e,i,n){e.isOpen=!1,"function"==typeof e.settings.beforeClose&&e.settings.beforeClose(e,i),e.popin.addClass("animate-off").fadeOut(e.settings.speed,function(){t("body").off("touchmove"),"function"==typeof e.settings.afterClose&&e.settings.afterClose(e,i),"function"==typeof n&&n(),t(this).removeClass("animate-off")})}function n(){void 0!==window.innerHeight?s.windowHeight=window.innerHeight:void 0!==document.documentElement&&void 0!==document.documentElement.clientHeight&&0!=document.documentElement.clientHeight?s.windowHeight=document.documentElement.clientHeight:s.windowHeight=t(window).height()}function a(){s.windowWidth=t(window).width()}var s={bodyOverflow:"auto",firstInit:!0,htmlOverflow:"auto",popins:[],windowWidth:void 0,scrollbarWidth:void 0,fixedElements:t(".marypopin-fixed")},o=function(e,i){s.popins.push(this),s.firstInit&&(s.firstInit=!1,s.mask=t("#marypopin-mask"),0==s.mask.length&&(s.mask=t('<div id="marypopin-mask"></div>'),s.mask.css({bottom:0,display:"none",left:0,position:"fixed",right:0,top:0,"z-index":99999,overflow:"auto","overflow-y":"scroll","-webkit-overflow-scrolling":"touch"}).appendTo("body").click(function(e){t.each(s.popins,function(i,n){n.isOpen&&0===t(e.target).closest(n.popin).length&&n.settings.maskClick&&n.close()})})),document.onkeydown=function(e){27==(e=e||window.event).keyCode&&t.each(s.popins,function(t,e){e.isOpen&&e.close()})},n(),t(window).resize(function(){n(),a(),t("html, body").css({width:s.windowWidth}),t.each(s.popins,function(t,e){1==e.isOpen&&e.positionPopin()})})),t(e).hide().appendTo(s.mask);var o=t.extend({triggers:void 0,position:"middle",closeSelector:".marypopin-close",speed:300,maskClick:!0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},i||{});this.settings=o,this.popin=t(e),this.isOpen=!1,function(){var e=t('<div id="marypopin-scrollbar-test"></div>');e.css({height:100,left:0,overflow:"scroll",position:"absolute",top:-9e3,width:100}).appendTo("body");var i=e.get(0);s.scrollbarWidth=i.offsetWidth-i.clientWidth,e.remove()}(),void 0!=this.settings.triggers&&t(this.settings.triggers).click(function(t){return function(e){e.preventDefault(),t.open(e.target)}}(this)),t(e).on("click",this.settings.closeSelector,function(t){return function(e){e.preventDefault(),t.close(e.target)}}(this))};o.prototype.positionPopin=function(){var t=this;setTimeout(function(){switch(t.settings.position){case"top":e=0;break;case"middle":var e;(e=Math.floor((s.windowHeight-t.popin.outerHeight(!1))/2))<0&&(e=0)}t.popin.css({position:"relative","margin-top":e+"px"})},0)},o.prototype.open=function(n){if(0!==t("#marypopin-mask").children(":visible").length){var o;t.each(s.popins,function(t,e){e.isOpen&&(o=e)}),i(o,void 0,function(t){return function(){e(t,n)}}(this))}else s.htmlOverflow=t("html").css("overflow"),s.bodyOverflow=t("body").css("overflow"),a(),setTimeout(function(){t("html, body").css({overflow:"hidden",width:s.windowWidth}),s.fixedElements.css("padding-right",s.scrollbarWidth),setTimeout(function(){s.mask.fadeIn(300)},0)},0),e(this,n)},o.prototype.close=function(e){s.mask.is(":visible")&&(setTimeout(function(){s.mask.fadeOut(300,function(){t("html").css({overflow:s.htmlOverflow,width:"auto"}),t("body").css({overflow:s.bodyOverflow,width:"auto"}),s.fixedElements.css({"padding-right":""})})},0),i(this,e))},t.fn.marypopin=function(e){return this.each(function(i,n){var a=t(n),s=a.data("marypopin");if(s&&s[e])return s[e].apply(s);if(s&&!s[e])!function(){window.console&&console.log&&console.log("[MaryPopin] "+Array.prototype.join.call(arguments," "))}("method not available");else{if("string"==typeof e||"object"==typeof e&&(e.jquery||e.tagName)){if(o.prototype[e])return(s=new o(this))[e].apply(s);s=new o(this,{triggers:e})}else s=new o(this,e);a.data("marypopin",s)}})}}(jQuery),function($){$.extend({tablesorter:new function(){function benchmark(t,e){log(t+","+((new Date).getTime()-e.getTime())+"ms")}function log(t){"undefined"!=typeof console&&void 0!==console.debug?console.log(t):alert(t)}function buildParserCache(t,e){if(t.config.debug)var i="";if(0!=t.tBodies.length){var n=t.tBodies[0].rows;if(n[0])for(var a=[],s=n[0].cells.length,o=0;o<s;o++){var r=!1;$.metadata&&$(e[o]).metadata()&&$(e[o]).metadata().sorter?r=getParserById($(e[o]).metadata().sorter):t.config.headers[o]&&t.config.headers[o].sorter&&(r=getParserById(t.config.headers[o].sorter)),r||(r=detectParserForColumn(t,n,-1,o)),t.config.debug&&(i+="column:"+o+" parser:"+r.id+"\n"),a.push(r)}return t.config.debug&&log(i),a}}function detectParserForColumn(t,e,i,n){for(var a=parsers.length,s=!1,o=!1,r=!0;""==o&&r;)e[++i]?(s=getNodeFromRowAndCellIndex(e,i,n),o=trimAndGetNodeText(t.config,s),t.config.debug&&log("Checking if value was empty on row:"+i)):r=!1;for(var l=1;l<a;l++)if(parsers[l].is(o,t,s))return parsers[l];return parsers[0]}function getNodeFromRowAndCellIndex(t,e,i){return t[e].cells[i]}function trimAndGetNodeText(t,e){return $.trim(getElementText(t,e))}function getParserById(t){for(var e=parsers.length,i=0;i<e;i++)if(parsers[i].id.toLowerCase()==t.toLowerCase())return parsers[i];return!1}function buildCache(t){if(t.config.debug)var e=new Date;if(0!=t.tBodies.length){for(var i=t.tBodies[0]&&t.tBodies[0].rows.length||0,n=t.tBodies[0].rows[0]&&t.tBodies[0].rows[0].cells.length||0,a=t.config.parsers,s={row:[],normalized:[]},o=0;o<i;++o){var r=$(t.tBodies[0].rows[o]),l=[];if(r.hasClass(t.config.cssChildRow))s.row[s.row.length-1]=s.row[s.row.length-1].add(r);else{s.row.push(r);for(var h=0;h<n;++h)l.push(a[h].format(getElementText(t.config,r[0].cells[h]),t,r[0].cells[h]));l.push(s.normalized.length),s.normalized.push(l),l=null}}return t.config.debug&&benchmark("Building cache for "+i+" rows:",e),s}}function getElementText(t,e){return e?(t.supportsTextContent||(t.supportsTextContent=e.textContent||!1),"simple"==t.textExtraction?t.supportsTextContent?e.textContent:e.childNodes[0]&&e.childNodes[0].hasChildNodes()?e.childNodes[0].innerHTML:e.innerHTML:"function"==typeof t.textExtraction?t.textExtraction(e):$(e).text()):""}function appendToTable(t,e){if(t.config.debug)var i=new Date;for(var n=e,a=n.row,s=n.normalized,o=s.length,r=s[0].length-1,l=$(t.tBodies[0]),h=[],c=0;c<o;c++){var d=s[c][r];if(h.push(a[d]),!t.config.appender)for(var u=a[d].length,p=0;p<u;p++)l[0].appendChild(a[d][p])}t.config.appender&&t.config.appender(t,h),h=null,t.config.debug&&benchmark("Rebuilt table:",i),applyWidget(t),setTimeout(function(){$(t).trigger("sortEnd")},0)}function buildHeaders(t){if(t.config.debug)var e=new Date;$.metadata;var i=computeTableHeaderCellIndexes(t);return $tableHeaders=$(t.config.selectorHeaders,t).each(function(e){if(this.column=i[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(t.config.sortInitialOrder),this.count=this.order,(checkHeaderMetadata(this)||checkHeaderOptions(t,e))&&(this.sortDisabled=!0),checkHeaderOptionsSortingLocked(t,e)&&(this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(t,e)),!this.sortDisabled){var n=$(this).addClass(t.config.cssHeader);t.config.onRenderHeader&&t.config.onRenderHeader.apply(n)}t.config.headerList[e]=this}),t.config.debug&&(benchmark("Built headers:",e),log($tableHeaders)),$tableHeaders}function computeTableHeaderCellIndexes(t){for(var e=[],i={},n=t.getElementsByTagName("THEAD")[0].getElementsByTagName("TR"),a=0;a<n.length;a++)for(var s=n[a].cells,o=0;o<s.length;o++){var r,l=s[o],h=l.parentNode.rowIndex,c=h+"-"+l.cellIndex,d=l.rowSpan||1,u=l.colSpan||1;void 0===e[h]&&(e[h]=[]);for(p=0;p<e[h].length+1;p++)if(void 0===e[h][p]){r=p;break}i[c]=r;for(var p=h;p<h+d;p++){void 0===e[p]&&(e[p]=[]);for(var f=e[p],m=r;m<r+u;m++)f[m]="x"}}return i}function checkCellColSpan(t,e,i){for(var n=[],a=t.tHead.rows,s=a[i].cells,o=0;o<s.length;o++){var r=s[o];r.colSpan>1?n=n.concat(checkCellColSpan(t,headerArr,i++)):(1==t.tHead.length||r.rowSpan>1||!a[i+1])&&n.push(r)}return n}function checkHeaderMetadata(t){return!(!$.metadata||!1!==$(t).metadata().sorter)}function checkHeaderOptions(t,e){return!(!t.config.headers[e]||!1!==t.config.headers[e].sorter)}function checkHeaderOptionsSortingLocked(t,e){return!(!t.config.headers[e]||!t.config.headers[e].lockedOrder)&&t.config.headers[e].lockedOrder}function applyWidget(t){for(var e=t.config.widgets,i=e.length,n=0;n<i;n++)getWidgetById(e[n]).format(t)}function getWidgetById(t){for(var e=widgets.length,i=0;i<e;i++)if(widgets[i].id.toLowerCase()==t.toLowerCase())return widgets[i]}function formatSortingOrder(t){return"Number"!=typeof t?"desc"==t.toLowerCase()?1:0:1==t?1:0}function isValueInArray(t,e){for(var i=e.length,n=0;n<i;n++)if(e[n][0]==t)return!0;return!1}function setHeadersCss(t,e,i,n){e.removeClass(n[0]).removeClass(n[1]);var a=[];e.each(function(t){this.sortDisabled||(a[this.column]=$(this))});for(var s=i.length,o=0;o<s;o++)a[i[o][0]].addClass(n[i[o][1]])}function fixColumnWidth(t,e){if(t.config.widthFixed){var i=$("<colgroup>");$("tr:first td",t.tBodies[0]).each(function(){i.append($("<col>").css("width",$(this).width()))}),$(t).prepend(i)}}function updateHeaderSortCount(t,e){for(var i=t.config,n=e.length,a=0;a<n;a++){var s=e[a],o=i.headerList[s[0]];o.count=s[1],o.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;for(var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length,i=0;i<l;i++){var c=sortList[i][0],order=sortList[i][1],s="text"==table.config.parsers[c].type?0==order?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):0==order?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c),e="e"+i;dynamicExp+="var "+e+" = "+s,dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++)dynamicExp+="}; ";return dynamicExp+="return 0; ",dynamicExp+="}; ",table.config.debug&&benchmark("Evaling expression:"+dynamicExp,new Date),eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime),cache}function makeSortFunction(t,e,i){var n="a["+i+"]",a="b["+i+"]";return"text"==t&&"asc"==e?"("+n+" == "+a+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : ("+n+" < "+a+") ? -1 : 1 )));":"text"==t&&"desc"==e?"("+n+" == "+a+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+n+") ? -1 : 1 )));":"numeric"==t&&"asc"==e?"("+n+" === null && "+a+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : "+n+" - "+a+"));":"numeric"==t&&"desc"==e?"("+n+" === null && "+a+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+n+"));":void 0}function makeSortText(t){return"((a["+t+"] < b["+t+"]) ? -1 : ((a["+t+"] > b["+t+"]) ? 1 : 0));"}function makeSortTextDesc(t){return"((b["+t+"] < a["+t+"]) ? -1 : ((b["+t+"] > a["+t+"]) ? 1 : 0));"}function makeSortNumeric(t){return"a["+t+"]-b["+t+"];"}function makeSortNumericDesc(t){return"b["+t+"]-a["+t+"];"}function sortText(t,e){return table.config.sortLocaleCompare?t.localeCompare(e):t<e?-1:t>e?1:0}function sortTextDesc(t,e){return table.config.sortLocaleCompare?e.localeCompare(t):e<t?-1:e>t?1:0}function sortNumeric(t,e){return t-e}function sortNumericDesc(t,e){return e-t}function getCachedSortType(t,e){return t[e].type}var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1},this.benchmark=benchmark,this.construct=function(t){return this.each(function(){if(this.tHead&&this.tBodies){var e,i,n,a;this.config={},a=$.extend(this.config,$.tablesorter.defaults,t),e=$(this),$.data(this,"tablesorter",a),i=buildHeaders(this),this.config.parsers=buildParserCache(this,i),n=buildCache(this);var s=[a.cssDesc,a.cssAsc];fixColumnWidth(this),i.click(function(t){var o=e[0].tBodies[0]&&e[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&o>0){e.trigger("sortStart");$(this);var r=this.column;if(this.order=this.count++%2,this.lockedOrder&&(this.order=this.lockedOrder),t[a.sortMultiSortKey])if(isValueInArray(r,a.sortList))for(d=0;d<a.sortList.length;d++){var l=a.sortList[d],h=a.headerList[l[0]];l[0]==r&&(h.count=l[1],h.count++,l[1]=h.count%2)}else a.sortList.push([r,this.order]);else{if(a.sortList=[],null!=a.sortForce)for(var c=a.sortForce,d=0;d<c.length;d++)c[d][0]!=r&&a.sortList.push(c[d]);a.sortList.push([r,this.order])}return setTimeout(function(){setHeadersCss(e[0],i,a.sortList,s),appendToTable(e[0],multisort(e[0],a.sortList,n))},1),!1}}).mousedown(function(){if(a.cancelSelection)return this.onselectstart=function(){return!1},!1}),e.bind("update",function(){var t=this;setTimeout(function(){t.config.parsers=buildParserCache(t,i),n=buildCache(t)},1)}).bind("updateCell",function(t,e){var i=this.config,a=[e.parentNode.rowIndex-1,e.cellIndex];n.normalized[a[0]][a[1]]=i.parsers[a[1]].format(getElementText(i,e),e)}).bind("sorton",function(t,e){$(this).trigger("sortStart"),a.sortList=e;var o=a.sortList;updateHeaderSortCount(this,o),setHeadersCss(0,i,o,s),appendToTable(this,multisort(this,o,n))}).bind("appendCache",function(){appendToTable(this,n)}).bind("applyWidgetId",function(t,e){getWidgetById(e).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(a.sortList=$(this).metadata().sortlist),a.sortList.length>0&&e.trigger("sorton",[a.sortList]),applyWidget(this)}})},this.addParser=function(t){for(var e=parsers.length,i=!0,n=0;n<e;n++)parsers[n].id.toLowerCase()==t.id.toLowerCase()&&(i=!1);i&&parsers.push(t)},this.addWidget=function(t){widgets.push(t)},this.formatFloat=function(t){var e=parseFloat(t);return isNaN(e)?0:e},this.formatInt=function(t){var e=parseInt(t);return isNaN(e)?0:e},this.isDigit=function(t,e){return/^[-+]?\d*$/.test($.trim(t.replace(/[,.']/g,"")))},this.clearTableBody=function(t){$.browser.msie?function(){for(;this.firstChild;)this.removeChild(this.firstChild)}.apply(t.tBodies[0]):t.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(t){return!0},format:function(t){return $.trim(t.toLocaleLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(t,e){var i=e.config;return $.tablesorter.isDigit(t,i)},format:function(t){return $.tablesorter.formatFloat(t)},type:"numeric"}),ts.addParser({id:"currency",is:function(t){return/^[£$€?.]/.test(t)},format:function(t){return $.tablesorter.formatFloat(t.replace(new RegExp(/[£$€]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(t){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(t)},format:function(t){for(var e=t.split("."),i="",n=e.length,a=0;a<n;a++){var s=e[a];2==s.length?i+="0"+s:i+=s}return $.tablesorter.formatFloat(i)},type:"numeric"}),ts.addParser({id:"url",is:function(t){return/^(https?|ftp|file):\/\/$/.test(t)},format:function(t){return jQuery.trim(t.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(t){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(t)},format:function(t){return $.tablesorter.formatFloat(""!=t?new Date(t.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(t){return/\%$/.test($.trim(t))},format:function(t){return $.tablesorter.formatFloat(t.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(t){return t.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(t){return $.tablesorter.formatFloat(new Date(t).getTime())},type:"numeric"}),ts.addParser({id:"shortDate",is:function(t){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(t)},format:function(t,e){var i=e.config;return t=t.replace(/\-/g,"/"),"us"==i.dateFormat?t=t.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2"):"uk"==i.dateFormat?t=t.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1"):"dd/mm/yy"!=i.dateFormat&&"dd-mm-yy"!=i.dateFormat||(t=t.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")),$.tablesorter.formatFloat(new Date(t).getTime())},type:"numeric"}),ts.addParser({id:"time",is:function(t){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(t)},format:function(t){return $.tablesorter.formatFloat(new Date("2000/01/01 "+t).getTime())},type:"numeric"}),ts.addParser({id:"metadata",is:function(t){return!1},format:function(t,e,i){var n=e.config,a=n.parserMetadataName?n.parserMetadataName:"sortValue";return $(i).metadata()[a]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(t){if(t.config.debug)var e=new Date;var i,n,a=-1;$("tr:visible",t.tBodies[0]).each(function(e){(i=$(this)).hasClass(t.config.cssChildRow)||a++,n=a%2==0,i.removeClass(t.config.widgetZebra.css[n?0:1]).addClass(t.config.widgetZebra.css[n?1:0])}),t.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",e)}})}(jQuery),function(t,e,i){"use strict";var n=e.Raven?function(){var t;return(t=e.Raven).captureException.apply(t,arguments)}:function(){},a="brsOrderFrame",s=!1,o=!1,r=!1,l=!1;t.fn[a]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments;return this.each(function(){if(t.data(this,"plugin_"+a))"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1));else{var n=t.extend({},t.fn[a].defaults,e);c(n.orderframeCSSPath,n.orderframeJSPath),t.data(this,"plugin_"+a,h(this,n))}})},t.fn[a].defaults={orderframeCSSPath:"",orderframeJSPath:"",config:{}};var h=function(e,i){var n=t.extend(!0,{},t.fn[a].defaults,i),s=void 0,o=t(e),r=void 0;return r={getApp:function(){return s}},p(function(){s=new BrsOrderFrame({elt:e,config:n.config}),setTimeout(function(){return o.trigger("brsOrderFrame:loaded",r)})}),r},c=function(n,h){var c=a+"-async-css";if(l||i.getElementById(c));else{if(!n)throw new Error("Invalid orderframeCSSPath: "+n);l=!0,d(c,n),s=!0,t("head").trigger(a+":cssLoaded")}void 0!==e.BrsOrderFrame&&(o=!0),o||r||(r=!0,u(h,function(e){if(e)throw e;o=!0,t("head").trigger(a+":jsLoaded")}))},d=function(t,e){var n=i.getElementsByTagName("head")[0],a=i.createElement("link");a.id=t,a.rel="stylesheet",a.type="text/css",a.href=e,a.media="all",n.appendChild(a)},u=function(e,i){t.ajax({cache:!0,url:e,dataType:"script",success:function(){return i()},error:function(t,e,a){return n("Error while loading orderframe with textStatus="+e+" and errorThrown="+a),i(new Error(a))}})},p=function(e){function i(t){o&&s&&(e(),n.off(a+":cssLoaded",i),n.off(a+":jsLoaded",i))}var n=t("head");n.on(a+":cssLoaded",i),n.on(a+":jsLoaded",i),i()}}(jQuery,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function a(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function s(i,n){return function(){return n!==e&&t.fn.datepicker.deprecated(n),this[i].apply(this,arguments)}}var o=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;i<n;i++)if(0<=this[i].valueOf()-e&&this[i].valueOf()-e<864e5)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new o;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),r=function(e,i){t.data(e,"datepicker",this),this._process_options(i),this.dates=new o,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=t(f.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};r.prototype={constructor:r,_resolveViewName:function(e){return t.each(f.viewModes,function(i,n){if(e===i||-1!==t.inArray(e,n.names))return e=i,!1}),e},_resolveDaysOfWeek:function(e){return t.isArray(e)||(e=e.split(/[,\s]*/)),t.map(e,Number)},_check_template:function(i){try{if(i===e||""===i)return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;return t(i).length>0}catch(t){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var a=this.o=t.extend({},this._o),s=a.language;p[s]||(s=s.split("-")[0],p[s]||(s=d.language)),a.language=s,a.startView=this._resolveViewName(a.startView),a.minViewMode=this._resolveViewName(a.minViewMode),a.maxViewMode=this._resolveViewName(a.maxViewMode),a.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,a.startView)),!0!==a.multidate&&(a.multidate=Number(a.multidate)||!1,!1!==a.multidate&&(a.multidate=Math.max(0,a.multidate))),a.multidateSeparator=String(a.multidateSeparator),a.weekStart%=7,a.weekEnd=(a.weekStart+6)%7;var o=f.parseFormat(a.format);a.startDate!==-1/0&&(a.startDate?a.startDate instanceof Date?a.startDate=this._local_to_utc(this._zero_time(a.startDate)):a.startDate=f.parseDate(a.startDate,o,a.language,a.assumeNearbyYear):a.startDate=-1/0),a.endDate!==1/0&&(a.endDate?a.endDate instanceof Date?a.endDate=this._local_to_utc(this._zero_time(a.endDate)):a.endDate=f.parseDate(a.endDate,o,a.language,a.assumeNearbyYear):a.endDate=1/0),a.daysOfWeekDisabled=this._resolveDaysOfWeek(a.daysOfWeekDisabled||[]),a.daysOfWeekHighlighted=this._resolveDaysOfWeek(a.daysOfWeekHighlighted||[]),a.datesDisabled=a.datesDisabled||[],t.isArray(a.datesDisabled)||(a.datesDisabled=a.datesDisabled.split(",")),a.datesDisabled=t.map(a.datesDisabled,function(t){return f.parseDate(t,o,a.language,a.assumeNearbyYear)});var r=String(a.orientation).toLowerCase().split(/\s+/g),l=a.orientation.toLowerCase();if(r=t.grep(r,function(t){return/^auto|left|right|top|bottom$/.test(t)}),a.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===r.length)switch(r[0]){case"top":case"bottom":a.orientation.y=r[0];break;case"left":case"right":a.orientation.x=r[0]}else l=t.grep(r,function(t){return/^left|right$/.test(t)}),a.orientation.x=l[0]||"auto",l=t.grep(r,function(t){return/^top|bottom$/.test(t)}),a.orientation.y=l[0]||"auto";else;if(a.defaultViewDate instanceof Date||"string"==typeof a.defaultViewDate)a.defaultViewDate=f.parseDate(a.defaultViewDate,o,a.language,a.assumeNearbyYear);else if(a.defaultViewDate){var h=a.defaultViewDate.year||(new Date).getFullYear(),c=a.defaultViewDate.month||0,u=a.defaultViewDate.day||1;a.defaultViewDate=i(h,c,u)}else a.defaultViewDate=n()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,n,a,s=0;s<t.length;s++)i=t[s][0],2===t[s].length?(n=e,a=t[s][1]):3===t[s].length&&(n=t[s][1],a=t[s][2]),i.on(a,n)},_unapplyEvents:function(t){for(var i,n,a,s=0;s<t.length;s++)i=t[s][0],2===t[s].length?(a=e,n=t[s][1]):3===t[s].length&&(a=t[s][1],n=t[s][2]),i.off(n,a)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:this._events=[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[this.picker,".prev, .next",{click:t.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:t.proxy(this.dayCellClick,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.dates.get(-1),a=this._utc_to_local(n);this.element.trigger({type:e,date:a,viewMode:this.viewMode,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return f.formatDate(i,e,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var i;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))i=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),e.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&i(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==e?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,t.map(e,this._utc_to_local)),this},setDate:s("setDates"),setUTCDate:s("setUTCDates"),remove:s("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(i){i===e&&(i=this.o.format);var n=this.o.language;return t.map(this.dates,function(t){return f.formatDate(t,i,n)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),i=this.picker.outerHeight(),n=t(this.o.container),a=n.width(),s="body"===this.o.container?t(document).scrollTop():n.scrollTop(),o=n.offset(),r=[0];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==Number(e)&&r.push(Number(e))});var l=Math.max.apply(Math,r)+this.o.zIndexOffset,h=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),u=h.left-o.left,p=h.top-o.top;"body"!==this.o.container&&(p+=s),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(u-=e-d)):h.left<0?(this.picker.addClass("datepicker-orient-left"),u-=h.left-10):u+e>a?(this.picker.addClass("datepicker-orient-right"),u+=d-e):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var f=this.o.orientation.y;if("auto"===f&&(f=-s+p-i<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+f),"top"===f?p-=i+parseInt(this.picker.css("padding-top")):p+=c,this.o.rtl){var m=a-(u+d);this.picker.css({top:p,right:m,zIndex:l})}else this.picker.css({top:p,left:u,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),i=[],n=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),n=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return f.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=t.grep(i,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(i),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),n?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&n&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,i="<tr>";for(this.o.calendarWeeks&&(i+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)i+='<th class="dow',-1!==t.inArray(e,this.o.daysOfWeekDisabled)&&(i+=" disabled"),i+='">'+p[this.o.language].daysMin[e++%7]+"</th>";i+="</tr>",this.picker.find(".datepicker-days thead").append(i)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",i=0;i<12;i++)e+='<span class="month'+(t&&t.getMonth()===i?" focused":"")+'">'+p[this.o.language].monthsShort[i]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],s=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),r=n();return e.getUTCFullYear()<s||e.getUTCFullYear()===s&&e.getUTCMonth()<o?i.push("old"):(e.getUTCFullYear()>s||e.getUTCFullYear()===s&&e.getUTCMonth()>o)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&a(e,r)&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),this.dateWithinRange(e)||i.push("disabled"),this.dateIsDisabled(e)&&i.push("disabled","disabled-date"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected"),e.valueOf()===this.range[0]&&i.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,n,a,s,o,r,l){for(var h,c,d,u="",p=a/10,f=this.picker.find(i),m=Math.floor(s/a)*a,g=m+9*p,v=Math.floor(this.viewDate.getFullYear()/p)*p,b=t.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/p)*p}),y=m-p;y<=g+p;y+=p)h=[n],c=null,y===m-p?h.push("old"):y===g+p&&h.push("new"),-1!==t.inArray(y,b)&&h.push("active"),(y<o||y>r)&&h.push("disabled"),y===v&&h.push("focused"),l!==t.noop&&((d=l(new Date(y,0,1)))===e?d={}:"boolean"==typeof d?d={enabled:d}:"string"==typeof d&&(d={classes:d}),!1===d.enabled&&h.push("disabled"),d.classes&&(h=h.concat(d.classes.split(/\s+/))),d.tooltip&&(c=d.tooltip)),u+='<span class="'+h.join(" ")+'"'+(c?' title="'+c+'"':"")+">"+y+"</span>";f.find(".datepicker-switch").text(m+"-"+g),f.find("td").html(u)},fill:function(){var n,a,s=new Date(this.viewDate),o=s.getUTCFullYear(),r=s.getUTCMonth(),l=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,h=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=p[this.o.language].today||p.en.today||"",m=p[this.o.language].clear||p.en.clear||"",g=p[this.o.language].titleFormat||p.en.titleFormat;if(!isNaN(o)&&!isNaN(r)){this.picker.find(".datepicker-days .datepicker-switch").text(f.formatDate(s,g,this.o.language)),this.picker.find("tfoot .today").text(u).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(m).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var v=i(o,r,0),b=v.getUTCDate();v.setUTCDate(b-(v.getUTCDay()-this.o.weekStart+7)%7);var y=new Date(v);v.getUTCFullYear()<100&&y.setUTCFullYear(v.getUTCFullYear()),y.setUTCDate(y.getUTCDate()+42),y=y.valueOf();for(var x,w,T=[];v.valueOf()<y;){if((x=v.getUTCDay())===this.o.weekStart&&(T.push("<tr>"),this.o.calendarWeeks)){var C=new Date(+v+(this.o.weekStart-x-7)%7*864e5),S=new Date(Number(C)+(11-C.getUTCDay())%7*864e5),M=new Date(Number(M=i(S.getUTCFullYear(),0,1))+(11-M.getUTCDay())%7*864e5),A=(S-M)/864e5/7+1;T.push('<td class="cw">'+A+"</td>")}(w=this.getClassNames(v)).push("day");var k=v.getUTCDate();this.o.beforeShowDay!==t.noop&&((a=this.o.beforeShowDay(this._utc_to_local(v)))===e?a={}:"boolean"==typeof a?a={enabled:a}:"string"==typeof a&&(a={classes:a}),!1===a.enabled&&w.push("disabled"),a.classes&&(w=w.concat(a.classes.split(/\s+/))),a.tooltip&&(n=a.tooltip),a.content&&(k=a.content)),w=t.isFunction(t.uniqueSort)?t.uniqueSort(w):t.unique(w),T.push('<td class="'+w.join(" ")+'"'+(n?' title="'+n+'"':"")+' data-date="'+v.getTime().toString()+'">'+k+"</td>"),n=null,x===this.o.weekEnd&&T.push("</tr>"),v.setUTCDate(v.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(T.join(""));var D=p[this.o.language].monthsTitle||p.en.monthsTitle||"Months",P=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?D:o).end().find("tbody span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===o&&P.eq(e.getUTCMonth()).addClass("active")}),(o<l||o>c)&&P.addClass("disabled"),o===l&&P.slice(0,h).addClass("disabled"),o===c&&P.slice(d+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var _=this;t.each(P,function(i,n){var a=new Date(o,i,1),s=_.o.beforeShowMonth(a);s===e?s={}:"boolean"==typeof s?s={enabled:s}:"string"==typeof s&&(s={classes:s}),!1!==s.enabled||t(n).hasClass("disabled")||t(n).addClass("disabled"),s.classes&&t(n).addClass(s.classes),s.tooltip&&t(n).prop("title",s.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,o,l,c,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,o,l,c,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,o,l,c,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,i=new Date(this.viewDate),n=i.getUTCFullYear(),a=i.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,r=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=1;switch(this.viewMode){case 0:t=n<=s&&a<=o,e=n>=r&&a>=l;break;case 4:h*=10;case 3:h*=10;case 2:h*=10;case 1:t=Math.floor(n/h)*h<=s,e=Math.floor(n/h)*h+h>=r}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(e){e.preventDefault(),e.stopPropagation();var a,s,o,r;(a=t(e.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),a.hasClass("today")&&!a.hasClass("day")&&(this.setViewMode(0),this._setDate(n(),"linked"===this.o.todayBtn?null:"view")),a.hasClass("clear")&&this.clearDates(),a.hasClass("disabled")||(a.hasClass("month")||a.hasClass("year")||a.hasClass("decade")||a.hasClass("century"))&&(this.viewDate.setUTCDate(1),s=1,1===this.viewMode?(r=a.parent().find("span").index(a),o=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r)):(r=0,o=Number(a.text()),this.viewDate.setUTCFullYear(o)),this._trigger(f.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(i(o,r,s)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){var i=t(e.currentTarget).data("date"),n=new Date(i);this.o.updateViewDate&&(n.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),n.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(n)},navArrowsClick:function(e){var i=t(e.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(i*=12*f.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,i),this._trigger(f.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var i=new Date(t);return i.setUTCDate(t.getUTCDate()+e),i},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!function(t){return t&&!isNaN(t.getTime())}(t))return this.o.defaultViewDate;if(!e)return t;var i,n,a=new Date(t.valueOf()),s=a.getUTCDate(),o=a.getUTCMonth(),r=Math.abs(e);if(e=e>0?1:-1,1===r)n=-1===e?function(){return a.getUTCMonth()===o}:function(){return a.getUTCMonth()!==i},i=o+e,a.setUTCMonth(i),i=(i+12)%12;else{for(var l=0;l<r;l++)a=this.moveMonth(a,e);i=a.getUTCMonth(),a.setUTCDate(s),n=function(){return i!==a.getUTCMonth()}}for(;n();)a.setUTCDate(--s),a.setUTCMonth(i);return a},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,i){do{if(t=this[i](t,e),!this.dateWithinRange(t))return!1;i="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return a(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,i,n=!1,a=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(i=this.moveAvailableDate(a,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(i=this.moveAvailableDate(a,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?i=this.moveAvailableDate(a,e,"moveDay"):this.weekOfDateIsDisabled(a)||(i=this.moveAvailableDate(a,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(a,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(a,e,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;a=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(a),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}n&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+f.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var l=function(e,i){t.data(e,"datepicker",this),this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,this.keepEmptyValues=i.keepEmptyValues,delete i.keepEmptyValues,c.call(t(this.inputs),i).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t.data(e,"datepicker")}),this.updateDates()};l.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(i){if(!this.updating){this.updating=!0;var n=t.data(i.target,"datepicker");if(n!==e){var a=n.getUTCDate(),s=this.keepEmptyValues,o=t.inArray(i.target,this.inputs),r=o-1,l=o+1,h=this.inputs.length;if(-1!==o){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e!==n&&s||e.setUTCDate(a)}),a<this.dates[r])for(;r>=0&&a<this.dates[r];)this.pickers[r--].setUTCDate(a);else if(a>this.dates[l])for(;l<h&&a>this.dates[l];)this.pickers[l++].setUTCDate(a);this.updateDates(),delete this.updating}}}},destroy:function(){t.map(this.pickers,function(t){t.destroy()}),t(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:s("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var h=t.fn.datepicker,c=function(i){var n=Array.apply(null,arguments);n.shift();var a;if(this.each(function(){var e=t(this),s=e.data("datepicker"),o="object"==typeof i&&i;if(!s){var h=function(e,i){function n(t,e){return e.toLowerCase()}var a=t(e).data(),s={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var r in a)i.test(r)&&(s[r.replace(o,n)]=a[r]);return s}(this,"date"),c=function(e){var i={};if(p[e]||(e=e.split("-")[0],p[e])){var n=p[e];return t.each(u,function(t,e){e in n&&(i[e]=n[e])}),i}}(t.extend({},d,h,o).language),f=t.extend({},d,c,h,o);e.hasClass("input-daterange")||f.inputs?(t.extend(f,{inputs:f.inputs||e.find("input").toArray()}),s=new l(this,f)):s=new r(this,f),e.data("datepicker",s)}"string"==typeof i&&"function"==typeof s[i]&&(a=s[i].apply(s,n))}),a===e||a instanceof r||a instanceof l)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return a};t.fn.datepicker=c;var d=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},u=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=r;var p=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},f={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(i,a,s,o){function l(){var t=this.slice(0,h[u].length),e=h[u].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!i)return e;if(i instanceof Date)return i;if("string"==typeof a&&(a=f.parseFormat(a)),a.toValue)return a.toValue(i,a,s);var h,c,d,u,m,g={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},v={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(i in v&&(i=v[i]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(i)){for(h=i.match(/([\-+]\d+)([dmwy])/gi),i=new Date,u=0;u<h.length;u++)c=h[u].match(/([\-+]\d+)([dmwy])/i),d=Number(c[1]),m=g[c[2].toLowerCase()],i=r.prototype[m](i,d);return r.prototype._zero_utc_time(i)}h=i&&i.match(this.nonpunctuation)||[];var b,y,x={},w=["yyyy","yy","M","MM","m","mm","d","dd"],T={yyyy:function(t,e){return t.setUTCFullYear(o?function(t,e){return!0===e&&(e=10),t<100&&(t+=2e3)>(new Date).getFullYear()+e&&(t-=100),t}(e,o):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};T.yy=T.yyyy,T.M=T.MM=T.mm=T.m,T.dd=T.d,i=n();var C=a.parts.slice();if(h.length!==C.length&&(C=t(C).filter(function(e,i){return-1!==t.inArray(i,w)}).toArray()),h.length===C.length){var S;for(u=0,S=C.length;u<S;u++){if(b=parseInt(h[u],10),c=C[u],isNaN(b))switch(c){case"MM":y=t(p[s].months).filter(l),b=t.inArray(y[0],p[s].months)+1;break;case"M":y=t(p[s].monthsShort).filter(l),b=t.inArray(y[0],p[s].monthsShort)+1}x[c]=b}var M,A;for(u=0;u<w.length;u++)(A=w[u])in x&&!isNaN(x[A])&&(M=new Date(i),T[A](M,x[A]),isNaN(M)||(i=M))}return i},formatDate:function(e,i,n){if(!e)return"";if("string"==typeof i&&(i=f.parseFormat(i)),i.toDisplay)return i.toDisplay(e,i,n);var a={d:e.getUTCDate(),D:p[n].daysShort[e.getUTCDay()],DD:p[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:p[n].monthsShort[e.getUTCMonth()],MM:p[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,e=[];for(var s=t.extend([],i.separators),o=0,r=i.parts.length;o<=r;o++)s.length&&e.push(s.shift()),e.push(a[i.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+d.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+d.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};f.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+f.headTemplate+"<tbody></tbody>"+f.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=f,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=h,this},t.fn.datepicker.version="1.7.1",t.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),c.call(i,"show"))}),t(function(){c.call(t('[data-provide="datepicker-inline"]'))})}),AmCharts.translations.fr={monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],shortMonthNames:["Janv.","Févr.","Mars","Avril","Mai","Juin","Juil.","Août","Sept.","Oct.","Nov.","Déc."],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],shortDayNames:["Dim.","Lun.","Mar.","Mer.","Jeu.","Ven.","Sam."],zoomOutText:"Voir tous"},function(t,e,i){"use strict";function n(e,i,n){this.element=t(e),this.options=o(i),this._name=a,this.init(n)}var a="amCharts",s=0;t.fn[a]=function(e,i){var s=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(s,1)):t.data(this,"plugin_"+a,new n(this,e,i))})};var o=function(e){var i={instanceId:s,gradientType:"linear",colors:["#2A4D80","#3860A5","#4678CF","#5591F9","#63A9FF","#71C2FF","#7FDAFF","#8EF3FF","#9CFFFF","#DCFFFF"],fontFamily:"ProximaNova",titleField:"category-",decimalSeparator:",",thousandsSeparator:" ",sequencedAnimation:!1,startDuration:0,allLabels:[],balloon:{},titles:[],dataProvider:[],brs:{otherCategoryThreshold:0,otherCategoryLabel:"Autres",categoryField:"name",valueField:"value"}},n={type:"serial",categoryField:"category-",valueAxes:[{title:"Axis title"}],graphs:[{fillAlphas:1,id:"AmGraph-1",title:"graph 1",type:"column",valueField:"value-"}]};e.type||(e.type="pie");var a={};switch(e.type){case"pie":return a=t.extend(!0,{},i,{type:"pie",angle:0,depth3D:0,balloonText:"[[title]]<br><b>[[value]]</b></span>",labelText:"[[percents]]%",startRadius:"0%",innerRadius:0,valueField:"value-",legend:{enabled:!0,align:"center",markerType:"circle"},brs:{otherCategoryThreshold:.5}},e),a.titleField+=s,a.valueField+=s,a;case"serial":if(!e.graphs){return console.error("A graphs configuration object is expected for serial diagrams but none was provided.\nEx: \n"+JSON.stringify({amChartConfig:{graphs:[{balloonText:"[[title]] of [[category]]:[[value]]",fillAlphas:1,title:"graph 1",type:"column",valueField:"column-1"}]}},null,2)),{}}return e.graphs.length>1||"line"==e.graphs[0].type?(n.graphs.length=0,(a=t.extend(!0,{},i,n,e)).categoryField=a.brs.commonField):1==e.graphs.length&&((a=t.extend(!0,{},i,n,e)).titleField+=s,a.categoryField+=s,a.graphs[0].valueField+=s),a;default:console.error("The chart type must be valid. Instead found: "+e.type)}},r=function(t,e){var i,n=[];i=e[t.graphs[0].id].length;for(var a in e)if(e[a].length!=i)return console.error("All the array must be the same length but '"+a+"' seems to be different.\nExpected size: "+i+"\nInstead found: "+e[a].length),[];for(var o in t.graphs)t.graphs[o].valueField=t.graphs[o].brsValueField+"-"+s+"-"+o;for(var r=0;r<i;r++){var l={};l[t.brs.commonField]=e[t.graphs[0].id][r][t.graphs[0].commonField];for(var h in t.graphs){var c=t.graphs[h];l[c.brsValueField+"-"+s+"-"+h]=e[c.id][r][c.brsValueField]}n.push(l)}return n};n.prototype.instance=function(){return this},n.prototype.init=function(e){this.element.trigger(a+":init"),this.options.dataProvider=function(e,i){var n,a,s=[];if(!i)return console.error("Error parsing datas"),s;switch(e.type){case"pie":n=e.titleField,a=e.valueField;break;case"serial":if(e.graphs.length>1||"line"==e.graphs[0].type)return r(e,i);n=e.titleField,a=e.graphs[0].valueField;break;default:n=e.titleField,a=e.valueField}var o={};o[n]=e.brs.otherCategoryLabel,o[a]=0;for(var l=0;l<i.length;l++){var h=i[l];if(e.brs.otherCategoryThreshold&&h[e.brs.valueField]<=e.brs.otherCategoryThreshold)o[a]+=h[e.brs.valueField];else{var c={};c[n]=h[e.brs.categoryField],c[a]=h[e.brs.valueField],delete h[e.brs.categoryField],delete h[e.brs.valueField],t.extend(!0,c,h),s.push(c)}}return o[e.valueField]&&s.push(o),s}(this.options,e);var i=this.element.get(0);AmCharts.makeChart(i,this.options);s++}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.$close=t(e).find("[data-alert-close]"),this.transitionsEnd="webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",this.isVisible=!1,this.options=t.extend({},t.fn[a].defaults,i),this._name=a,this.init()}var a="brsAlertEffect";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={propertyName:"value",otherOption:[]},n.prototype.instance=function(){return this},n.prototype.init=function(){this.hideAlertBoxOnClick(),this.$element.hasClass("is-hidden is-visuallyhidden")||this.showAlertBox()},n.prototype.showAlertBox=function(){var t=this;this.$element.off().removeClass("is-hidden"),setTimeout(function(){t.$element.removeClass("is-visuallyhidden"),t.isVisible=!0},20)},n.prototype.hideAlertBox=function(e){var i=this;this.$element.addClass("is-visuallyhidden"),this.isVisible&&this.$element.on(i.transitionsEnd,function(n){"opacity"==n.originalEvent.propertyName&&t(n.target).hasClass("is-visuallyhidden")&&(i.$element.addClass("is-hidden"),"function"==typeof e&&e(),i.isVisible=!1)})},n.prototype.hideAlertBoxOnClick=function(){var t=this;this.$close.on("click",function(e){t.hideAlertBox(),e.preventDefault()})}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,i),this._name=a,this._keydownTimeout=void 0,this.init()}var a="brsAutocomplete";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},n.prototype.instance=function(){return this},n.prototype.init=function(){var t=this;this._url=this.$element.data("autocomplete-url"),this._delay=300,this._minChars=this.$element.data("autocomplete-minchars"),this._asLink=this.$element.data("autocomplete-as-link"),this._isNullable=this.$element.data("autocomplete-nullable"),this._customSuggestions=this.$element.data("autocomplete-custom-suggestions"),this.$autocompleteInput=this.$element.find("[data-autocomplete-input]"),this.$autocompleteResults=this.$element.find("[data-autocomplete-results]"),this.$valueHiddenField=this.$element.find("[data-autocomplete-hidden-field-value]"),this.$labelHiddenField=this.$element.find("[data-autocomplete-hidden-field-label]"),this.$ajaxLoader=this.$element.find("[data-loader-circle]"),this.$autocompleteInput.on("keydown paste",function(e){void 0!=t._keydownTimeout&&clearTimeout(t._keydownTimeout),13==e.which&&e.preventDefault(),t._keydownTimeout=setTimeout(function(){var e=t.$autocompleteInput.val();if(e&&!(e.length<t._minChars))if(t._url)t.sendRequest(e);else{for(var i={value:"1rPLGE",label:"Société Générale"},n=[],a=0;a<15;a++)n.push(i);t.refreshResults(n,e)}},t._delay)}),this.$autocompleteInput.blur(function(e){t.closeResults(),t.$element.data("autocompleteValue")&&t.$element.data("autocompleteText")&&t.$element.data("autocompleteText")===t.$autocompleteInput.val()||(t._isNullable?t.setSelectedValue(null,null):t.$autocompleteInput.val(""))})},n.prototype.closeResults=function(){this.$autocompleteResults.html(""),this.$autocompleteResults.css("display","none")},n.prototype.sendRequest=function(e){var i=this;i.$ajaxLoader.show(),t.ajax({url:this._url,data:{q:e},cache:!0}).done(function(t){i.$ajaxLoader.hide(),t.results&&i.refreshResults(t.results,e)}).fail(function(){i.$ajaxLoader.hide()})},n.prototype.refreshResults=function(i,n){var a=this;this.closeResults();var s,o=[];i.forEach(function(i){(s=a._asLink?t("<a />",{href:i.link,mousedown:function(n){e.location=t(this).attr("href"),a.setSelectedValue(t(this).data("autocompleteItemValue"),i.label)}}):t("<div />",{mousedown:function(e){a.setSelectedValue(t(this).data("autocompleteItemValue"),i.label)}})).addClass("c-autocomplete__item").attr("data-autocomplete-item-value",i.value),a._customSuggestions&&"resultLabel"in i?t.each(i.resultLabel.rows,function(e,i){var n=t("<"+i.tag+" "+i.attributes+" ></"+i.tag+">");t.each(i.elements,function(e,i){var a=t("<"+i.tag+" "+i.attributes+" ></"+i.tag+">");a.text(i.content),n.append(a)}),s.append(n)}):s.text(i.label),o.push(s[0])}),a.$autocompleteResults.css("display","block"),a.$autocompleteResults.html(o)},n.prototype.setSelectedValue=function(t,e,i){i=void 0===i||i,this.$element.data("autocompleteValue",t),this.$element.data("autocompleteText",e),this.$autocompleteInput.val(e),i&&this.closeResults(),this.$valueHiddenField&&this.$valueHiddenField.val(t),this.$labelHiddenField&&this.$labelHiddenField.val(e),this.$element.trigger("plugin_"+a+":change",[t,e])}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.init()}var a="bookmark";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var i=this;this.urlList="/bookmark/_list",this.urlUpdate="/bookmark/_update",this.articleNumber=this.$element.data("bookmarkArticleNumber"),this.userHash=e.BRS_CONFIG.USER_HASH,this.modalError=t("[data-modal-id=generic-modal]"),this.needToDelete=this.$element.data("bookmarkDelete"),void 0!==this.needToDelete?this.$element.on("click",function(){i.deleteBookmark()}):(this.checkboxBookmark=t("#"+this.$element[0].id),i.checkIfBookmarkIsChecked(),this.$element.on("click",function(){i.changeStateBookmark()}))},n.prototype.changeStateBookmark=function(){this.$element.trigger(a+":changeStateBookmark");var e=this,n=this.checkboxBookmark.is(":checked"),s=n?"POST":"DELETE",o=n?"Erreur lors de l'enregistrement de l'article":"Erreur lors de la suppression de l'article";t.ajax({context:e.$element,url:e.urlUpdate,type:s,data:{articleNumber:this.articleNumber}}).done(function(n){n.error?(403!==n.error?(void 0!==n.code&&(o=1003===n.code?"Vous avez atteint votre nombre maximum d'actualités sauvegardées":o),e.displayError(o)):t(i).find('[data-off-canvas="off-canvas-member"]').trigger("brsOffCanvas:open",t("#login-member")),e.changeStateCheckbox()):localStorage.removeItem("bookmarks")}).fail(function(){e.displayError(o),e.changeStateCheckbox()})},n.prototype.checkIfBookmarkIsChecked=function(){var e=this;e.userHash&&(localStorage.getItem("bookmarks")&&void 0!==JSON.parse(localStorage.getItem("bookmarks"))[e.userHash]?-1!==JSON.parse(localStorage.getItem("bookmarks"))[e.userHash].indexOf(this.articleNumber)&&this.changeStateCheckbox():t.ajax({url:this.urlList}).done(function(t){var i={};i[e.userHash]=t,localStorage.setItem("bookmarks",JSON.stringify(i)),-1!==localStorage.bookmarks.indexOf(e.articleNumber)&&e.changeStateCheckbox()}))},n.prototype.changeStateCheckbox=function(){this.$element.trigger(a+":activeBookmark");var t=this.checkboxBookmark.is(":checked");this.checkboxBookmark.prop("checked",!t)},n.prototype.displayError=function(t){this.modalError.find(".c-alert__text").html(t),this.modalError.marypopin("open")},n.prototype.deleteBookmark=function(){t.ajax({context:this.$element,url:this.urlUpdate,type:"delete",data:{articleNumber:this.articleNumber}}).done(function(){localStorage.removeItem("bookmarks")})}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,t(e).data(),i),this.enabled=!0,this.$element.addClass("js-carousel"),this.element=this.$element[0],this.slides=this.$element.find("[data-carousel-slide]"),this.slideEffect=this.$element.data("carouselSlideEffect"),this.loop=this.$element.data("carouselLoop"),this.loopDelay=this.$element.data("carouselLoopDelay"),this.swipe=this.$element.data("carouselSwipe"),this.interval=null,this._name=a,this.mc=void 0,this.init()}var a="brsCarousel";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={carouselSlideSize:null,carouselPagination:!0,carouselNavigation:!0,currentSlide:null,currentPageLength:null,carouselSlideWidth:null,currentSlidePerPage:null},n.prototype.init=function(){function i(){n.checkMq(),n.refresh()}var n=this;t(e).smartresize(i),this.create(),i(),n.swipe&&(n.mc=new Hammer(n.element),n.mc.get("swipe"),n.mc.on("swipeleft",function(){n.enabled&&(n.next(),n.resetAutomaticLoop())}),n.mc.on("swiperight",function(){n.enabled&&(n.previous(),n.resetAutomaticLoop())})),n.loop&&n.loopDelay&&n.automaticLoop(n.loopDelay)},n.prototype.checkMq=function(){var t=this.$element.data("carouselMq"),i=this.$element.data("carouselEnableOn");if(i){var n=e.matchMedia(i).matches;n&&!this.enabled?(this.enabled=!0,this.element.classList.remove("c-carousel--disabled")):!n&&this.enabled&&(this.enabled=!1,this.element.classList.add("c-carousel--disabled"))}t&&(e.matchMedia(t).matches?(this.options.carouselNavigation=!0,this.options.carouselPagination=!1):(this.options.carouselNavigation=!1,this.options.carouselPagination=!0))},n.prototype.create=function(){this.container=t('<div class="js-carousel__container"></div>'),this.wrapper=t('<div class="js-carousel__wrapper"></div>'),this.pagination=t('<ul class="js-carousel__pagination"></ul>'),this.previousBtn=t('<div class="js-carousel__navigation-previous"><i class="c-icon c-icon--chevron / js-carousel__navigation-icon"></i></div>'),this.nextBtn=t('<div class="js-carousel__navigation-next"><i class="c-icon c-icon--chevron / js-carousel__navigation-icon"></i></div>'),this.container.appendTo(this.$element),this.wrapper.appendTo(this.container),this.pagination.insertAfter(this.container),this.previousBtn.appendTo(this.$element),this.nextBtn.appendTo(this.$element),this.createSlides()},n.prototype.createSlides=function(){var e=this;t.each(this.slides,function(){var i=t(this),n=t('<div class="js-carousel__item"></div>').appendTo(e.wrapper).append(i);t.isNumeric(e.options.carouselSlideWidth)&&n.css("minWidth",e.options.carouselSlideWidth)})},n.prototype.refresh=function(){this.options.currentPageLength=1,this.previousBtn.off("click").hide(),this.nextBtn.off("click").hide(),this.pagination.find("li").off("click"),this.pagination.empty().hide(),this.wrapper.find(".js-carousel__item").css("width","auto"),this.scroll(0),this.calculatePageLength(),this.drawSlide(Math.min(this.options.currentPageLength-1,this.options.currentSlide))},n.prototype.calculatePageLength=function(){this.options.carouselSlideWidth?this.calculateSlidePerPage():this.slidePerPage()},n.prototype.slidePerPage=function(){var t=this.slidesLength();this.addNavigation();var e=this.containerWidth();this.wrapper.find(".js-carousel__item").css("width",e),this.wrapper.css("minWidth",e*t),this.options.currentPageLength=t,this.options.currentSlidePerPage=1,this.addPagination()},n.prototype.calculateSlidePerPage=function(){var t=this.slidesLength(),e=this.containerWidth();if(e<this.options.carouselSlideWidth*t){this.addNavigation(),e=this.containerWidth();var i=Math.floor(e/this.options.carouselSlideWidth),n=Math.min(t,Math.ceil(t/i));n>1&&(e=this.containerWidth());var a=e/i;this.wrapper.find(".js-carousel__item").css("width",a),this.wrapper.css("minWidth",e*n),this.options.currentPageLength=n,this.options.currentSlidePerPage=i,this.addPagination()}},n.prototype.addPagination=function(){if(!this.options.carouselPagination||!this.enabled)return!1;for(var e=this,i=0;i<e.options.currentPageLength;i++)t('<li class="js-carousel__pagination-type"></li>').data("index",i).appendTo(e.pagination).on("click",function(){e.changeSlide(t(this).data("index"))});e.pagination.show()},n.prototype.refreshPagination=function(){if(!this.options.carouselPagination||!this.enabled)return!1;this.pagination.find(".js-carousel__pagination-type").removeClass("is-active"),this.pagination.find(".js-carousel__pagination-type:eq("+this.options.currentSlide+")").addClass("is-active")},n.prototype.addNavigation=function(){if(!this.options.carouselNavigation||!this.enabled)return!1;var t=this;this.previousBtn.show().on("click",function(){t.previous(),t.resetAutomaticLoop()}),this.nextBtn.show().on("click",function(){t.next(),t.resetAutomaticLoop()})},n.prototype.refreshNavigation=function(){this.options.carouselNavigation&&this.enabled&&(this.previousBtn.removeClass("is-disabled"),this.nextBtn.removeClass("is-disabled"),0==this.options.currentSlide&&this.previousBtn.addClass("is-disabled"),this.options.currentSlide==this.options.currentPageLength-1&&this.nextBtn.addClass("is-disabled"))},n.prototype.previous=function(){this.changeSlide(Math.max(0,this.options.currentSlide-1))},n.prototype.next=function(){this.changeSlide(Math.min(this.options.currentPageLength-1,this.options.currentSlide+1))},n.prototype.changeSlide=function(t){var e=this.options.currentSlide,i=this.slides.slice(e,e+this.options.currentSlidePerPage),n=this.slides.slice(t,t+this.options.currentSlidePerPage);this.$element.trigger("js-carousel:beforeChange",[i]),this.drawSlide(t),this.$element.trigger("js-carousel:afterChange",[n])},n.prototype.drawSlide=function(t){this.options.currentSlide=t,this.refreshPagination(),this.refreshNavigation(),"showHide"==this.slideEffect?this.showHide(t):this.scroll(this.containerWidth()*t)},n.prototype.scroll=function(t){this.container.animate({scrollLeft:t},200)},n.prototype.showHide=function(t){var e=this.wrapper.find(".js-carousel__item");e.eq(t-1).hide(),e.eq(t).show()},n.prototype.containerWidth=function(){return this.container.innerWidth()},n.prototype.slidesLength=function(){return t(this.slides).filter(function(){return"none"!==t(this).css("display")}).length},n.prototype.automaticLoop=function(t){var e=this,i=this.options.currentSlide;this.interval=setInterval(function(){++i==e.options.currentPageLength&&(i=0),e.changeSlide(i)},t)},n.prototype.resetAutomaticLoop=function(){if(!this.loop||!this.loopDelay)return!1;clearInterval(this.interval),this.automaticLoop(this.loopDelay)}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.$listSeparator=this.$element.find("[data-filter-separator]"),this.$selectedListWrapper=this.$element.find("[data-filter-category-selected]"),this.$disabledListWrapper=this.$element.find("[data-filter-category-disabled]"),this.$selectedList=this.$selectedListWrapper.find("[data-filter-list]"),this.$disabledList=this.$disabledListWrapper.find("[data-filter-list]"),this.transitionsEnd="webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",this.options=t.extend({},t.fn[a].defaults,i),this._name=a,this._attachedName=s,this.init()}var a="brsCategoryFilter",s="brsCustomScroll";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){this.refreshUrl=this.$element.data("refreshUrl"),this.$refreshTarget=null,this.refreshTargetSelector=this.$element.data("refreshTarget"),this.refreshTargetSelector&&(this.$refreshTarget=t("["+this.refreshTargetSelector+"]")),this.refreshVideoTimeout=null,this.showHideSeparator(),this.hideBoxOnClick(),this.getActivatedBoxDataIds(),t(e).smartresize(this.createScrolling.bind(this)),this.createScrolling()},n.prototype.createScrolling=function(){e.matchMedia("(max-width: 767px)").matches?(this.navViewport=parseInt(this.$disabledListWrapper.outerWidth(!0)),parseInt(this.getDisabledFilterWidth())>this.navViewport?(this.$disabledListWrapper.trigger(this._attachedName+":init"),this.$disabledListWrapper.trigger(this._attachedName+":reload"),this.$disabledListWrapper.on(this._attachedName+":move",function(t,e){this.$disabledList.css("marginLeft","0")}.bind(this))):(this.$disabledList.css("marginLeft","-5px"),this.$disabledListWrapper.trigger(this._attachedName+":destroy"))):(this.$disabledList.css("marginLeft","-5px"),this.$disabledListWrapper.trigger(this._attachedName+":destroy"))},n.prototype.getDisabledFilterWidth=function(){var e=0;return this.$disabledList.find("[data-filter]").each(function(){e+=t(this).outerWidth()}),Math.ceil(e)},n.prototype.hideBoxOnClick=function(){this.$element.on("click","[data-filter]",function(e){e.preventDefault(),this.hideBox(t(e.currentTarget))}.bind(this))},n.prototype.showBox=function(t){t.off().removeClass("is-hidden"),setTimeout(function(){t.removeClass("is-visuallyhidden")},20)},n.prototype.hideBox=function(e,i){e.addClass("is-visuallyhidden"),e.on(this.transitionsEnd,function(n){var a=void 0==n.originalEvent.pseudoElement||""==n.originalEvent.pseudoElement;"opacity"==n.originalEvent.propertyName&&a&&t(n.target).hasClass("is-visuallyhidden")&&(e.addClass("is-hidden"),this.computeDisplayBox(e),"function"==typeof i&&i())}.bind(this))},n.prototype.computeDisplayBox=function(t){t.parents("[data-filter-category-selected]").length?(t.removeClass("is-selected"),this.$disabledList.prepend(t)):t.parents("[data-filter-category-disabled]").length&&(t.addClass("is-selected"),this.$selectedList.append(t)),this.showBox(t),this.createScrolling(),this.showHideSeparator();var e=this.getActivatedBoxDataIds();this.refreshVideoTimeout&&clearTimeout(this.refreshVideoTimeout);var i=this;this.refreshVideoTimeout=setTimeout(function(){i.refreshVideos(e),i.refreshVideoTimeout=null},600)},n.prototype.showHideSeparator=function(){this.$selectedList.is(":empty")?this.$listSeparator.hide():this.$listSeparator.show()},n.prototype.getActivatedBoxDataIds=function(){var e=[];return this.$selectedList.find("[data-filter]").each(function(){e.push(t(this).data("filter-id"))}),e},n.prototype.refreshVideos=function(e){if(this.refreshUrl&&this.$refreshTarget){for(var i="",n="?",a=0;a<e.length;a++)i+=n+"feeds[]="+e[a],n="&";var s=this.refreshUrl+i,o=this.$refreshTarget;this.loaderInstance=t("[data-loader]").brsLoader(),this.loaderInstance.data("plugin_brsLoader").showLoader();var r=this;t.ajax({type:"GET",url:s}).done(function(e){if(e){this.loaderInstance.data("plugin_brsLoader").hideLoader();var i=t(e),n=i.find("["+r.refreshTargetSelector+"]");o.html(n.children()),o.find("[data-filter-category]").brsCategoryFilter(),dctThumb(o.get(0).querySelectorAll("[data-thumb-lazy]")),t("[data-brs-recent-videos]").get(0).setAttribute("data-load-more-target",i.data("loadMoreTarget")),o.find("[data-load-more]").loadMore()}}.bind(this))}}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,i),this._name=a,this.init()}var a="brsCheckboxFilter";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var e=this;this.refreshUrl=this.$element.data("refreshUrl"),this.$refreshTarget=null,this.refreshTargetSelector=this.$element.data("refreshTarget"),this.refreshTargetSelector&&(this.$refreshTarget=t("["+this.refreshTargetSelector+"]")),this.refreshVideoTimeout=null,this.$element.find("input[type=checkbox]").change(function(){e.refreshVideoTimeout&&clearTimeout(e.refreshVideoTimeout),e.refreshVideoTimeout=setTimeout(function(){e.refreshVideos(),e.refreshVideoTimeout=null},600)})},n.prototype.refreshVideos=function(){if(this.refreshUrl&&this.$refreshTarget){var e="",i="?",n=(this.$element.find("input[type=checkbox]").each(function(){t(this).prop("checked")&&(e+=i+"activeFilter[]="+t(this).prop("name"),i="&")}),this.refreshUrl+e),a=this.$refreshTarget;this.loaderInstance=t("[data-loader]").brsLoader(),this.loaderInstance.data("plugin_brsLoader").showLoader();var s=this;t.ajax({type:"GET",url:n}).done(function(e){if(e){s.loaderInstance.data("plugin_brsLoader").hideLoader();var i=t(e),n=t(e),o=i.find("["+s.refreshTargetSelector+"]");a.html(o.children()),dctThumb(a.get(0).querySelectorAll("[data-thumb-lazy]")),n.find("[data-load-more]").length?(t("[data-brs-replay-videos]").get(0).setAttribute("data-load-more-target",n.find("[data-load-more]").data("loadMore")),t("[data-brs-replay-videos] [data-load-more]").show(),a.find("[data-load-more]").loadMore()):t("[data-brs-replay-videos] [data-load-more]").hide()}})}}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.element=t(e),this.options=t.extend({},t.fn[a].defaults,t(e).data(),i),this.initialHeight=this.element.find("[data-initial-height]").length>0?this.element.find("[data-initial-height]"):this.options.initialHeight,this.maxHeight=this.element.find("[data-max-height]").length>0?this.element.find("[data-max-height]"):this.options.maxHeight,this._name=a,this.init()}var a="brsComment";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={initialHeight:"8rem",maxHeight:"16rem"},n.prototype.init=function(){t(this.element).on("focus",function(){t(this.element).animate({height:this.maxHeight},500)}.bind(this)),t(this.element).on("blur",function(){t(this.element).animate({height:this.initialHeight},500)}.bind(this))}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.method="GET",this.init()}var a="currenciesParity";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={refreshableLoader:!1},n.prototype.instance=function(){return this},n.prototype.init=function(){var e=this;e.$selectedCurrency="EUR",e.$selectedLetter="",e.$element.find("[data-currency-change]").change(function(){var i=t(this).val().split("#");e.$selectedCurrency=i[0],e.$selectedLetter=e.$element.find("[data-brs-custom-select-letter].is-selected").data("brsCustomSelectLetter"),e.refresh()}),e.$element.find("[data-brs-custom-select-letter]").click(function(){e.$selectedLetter=t(this).data("brsCustomSelectLetter"),e.$selectedCurrency=e.$element.find("[data-currency-change]").val().split("#")[0],e.refresh()})},n.prototype.refresh=function(){var e=this,n=e.$element.find("[data-currency-change]").data("urlCurrenciesParity");n+="/"+e.$selectedCurrency,n+=e.$selectedLetter?"/"+e.$selectedLetter:"";e.$element.find("[data-loader]").brsLoader().data("plugin_brsLoader").showLoader(),e.$element.load(n,function(n,a,s){if("error"==a){e.$element.find("[data-parity-table]").empty(),e.$element.find("[data-alert-parity]").find("[data-alert-text]").text("Aucune information disponible pour ces valeurs"),e.$element.find("[data-alert-parity]").data("plugin_brsAlertEffect").showAlertBox()}t(i).trigger("load",e.$element)})}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,t(e).data(),i),this._name=a,this.init()}var a="brsCustomScroll";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={sly:{horizontal:1,itemNav:"basic",smart:1,activateOn:"click",mouseDragging:1,touchDragging:1,startAt:0,scrollBar:"[data-custom-scrollbar]",scrollBy:1,scrollTrap:1,speed:300,elasticBounds:1,dragHandle:1,dynamicHandle:1,clickBar:1}},n.prototype.instance=function(){return this},n.prototype.init=function(){var i=new Sly(this.$element,this.options.sly);i.on("load",function(){var e=t(i.slidee).width();t(i.slidee).width(e+4),this.$element.trigger(this._name+":load",i)}.bind(this)),i.on("move",function(){this.$element.trigger(this._name+":move",i.pos)}.bind(this)),this.$element.on(this._name+":init",function(){i.init()}),this.$element.on(this._name+":reload",function(){i.reload()}),this.$element.on(this._name+":destroy",function(){i.destroy()}),this.$element.on(this._name+":toCenter",function(){i.toCenter()}),""!=this.$element.data("customScroll")?(this.checkSize(),t(e).smartresize(this.checkSize.bind(this))):this.$element.trigger(this._name+":init")},n.prototype.checkSize=function(){e.matchMedia(this.$element.data("customScroll")).matches?(this.$element.trigger(this._name+":init"),this.$element.trigger(this._name+":reload")):this.$element.trigger(this._name+":destroy")}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.element=t(e),this.options=t.extend(!0,{},t.fn[a].defaults,i),this._name=a,this.init()}var a="updateUnderlying";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={underlyingId:void 0,underlyingElem:void 0,ajaxUrl:"",defaultOptions:[]},n.prototype.instance=function(){return this},n.prototype.saveDefaultOptions=function(){var t=this.options.underlyingElem[0];for(var e in t)t.hasOwnProperty(e)&&this.options.defaultOptions.push(t[e])},n.prototype.restoreDefaultOptions=function(){this.clearSelect(),this.options.underlyingElem.append(this.options.defaultOptions),this.options.underlyingElem.siblings(".c-select").children(".c-select__listbox-container").children(".c-select__textbox").text("Tous les sous-jacents")},n.prototype.setOptions=function(e){var i=[];for(var n in e.underlying)""===n?i.push(t('<option value="'+n+'" selected>'+e.underlying[n]+"</option>")):i.push(t('<option value="'+n+'">'+e.underlying[n]+"</option>"));this.clearSelect(),this.options.underlyingElem.append(i),this.options.underlyingElem.siblings(".c-select").children(".c-select__listbox-container").children(".c-select__textbox").text(e.underlying[""])},n.prototype.clearSelect=function(){var t=this.options.underlyingElem.siblings(".c-select").children(".c-select__listbox-container");this.options.underlyingElem.empty(),t.children(".c-select__textbox").empty(),t.children(".c-select__listbox").empty()},n.prototype.updateUnderlyingElem=function(){this.options.underlyingElem=t(this.options.underlyingId)},n.prototype.init=function(){this.element.trigger(a+":init"),this.updateUnderlyingElem(),this.saveDefaultOptions();var e,i=this;this.element.on("change",function(){""!==(e=t(i.element).children("option:selected")).val()?t.ajax({url:i.options.ajaxUrl,method:"GET",data:{underlyingType:e.text()}}).done(function(t){i.setOptions(JSON.parse(t))}).catch(function(t){i.restoreDefaultOptions(),console.log(t)}):i.restoreDefaultOptions()})}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.$parameters=t(e).data("excludeParameters"),this.$separator=-1===t(e).attr("href").indexOf("?")?"?":"&",this.$element.attr("href",this.$element.attr("href")+this.$separator+t.param(this.$parameters)),this.options=t.extend({},t.fn[a].defaults,i),this._name=a,this.init()}var a="brsExcludeParameters";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){}}(jQuery,window,document),function(t){"use strict";function e(e,n){this.element=t(e),this.options=t.extend({},t.fn[i].defaults,n),this._name=i,this.init()}var i="brsFlashes";t.fn[i]=function(n){var a=arguments;return this.each(function(){t.data(this,"plugin_"+i)?"string"===t.type(n)&&t.data(this,"plugin_"+i)[n].apply(t.data(this,"plugin_"+i),Array.prototype.slice.call(a,1)):t.data(this,"plugin_"+i,new e(this,n))})},t.fn[i].defaults={cookie:"brs_flashes",showAlertsOn:null,template:'<div class="o-vertical-interval-bottom"><div class="c-alert"><i class="c-alert__icon-state / c-icon"></i><p class="c-alert__text"></p></div></div>'},e.prototype.init=function(){var e=t.cookie(this.options.cookie),i=this;if(t.removeCookie(this.options.cookie,{path:"/"}),e){if((e=t.parseJSON(e)).action){var n=e.action;setTimeout(function(){n.forEach(function(t){i.element.trigger("brs-flashes:new-action",t)})},1),delete e.action}i.options.showAlertsOn&&(i.options.showAlertsOn.children().remove(),t.each(e,function(e,n){t.each(n,function(n,a){var s=t(i.options.template);s.find(".c-alert").addClass("c-alert--"+e),s.find(".c-alert__text").text(a),s.find(".c-icon").addClass("c-icon--alert-"+e),i.options.showAlertsOn.append(s)})}))}}}(jQuery),function(t,e,i){"use strict";function n(e,i){this.element=t(e),this.$step=this.element.find("[data-gauge-step]"),this.$increment=this.element.find("[data-gauge-increment]"),this.$bar=this.element.find("[data-gauge-bar]"),this.$progress=this.element.find("[data-gauge-progress]"),this.options=t.extend({},t.fn[a].defaults,t(e).data(),i),this._name=a,this.displayGraph="graph"==this.options.gaugeDisplay,this.bidirectionaldisplayGraph="bidirectionalGraph"==this.options.gaugeDisplay,this.init()}var a="brsGauge";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){this.gaugeCurrentStep=this.options.gaugeCurrentStep,this.absGaugeCurrentStep=Math.abs(this.gaugeCurrentStep),this.gaugeSteps=this.options.gaugeSteps,this.isResized=!1,this.val=0,this.element.on("inviewport",function(){this.fillGauge()}.bind(this)),t(e).resize(function(){this.isResized=!0,this.fillGauge()}.bind(this))},n.prototype.decimalPlaces=function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,e[1]?e[1].length:0):0},n.prototype.fillGauge=function(){var t=this.$bar.width(),e=1e3*parseFloat(this.$progress.css("transition-duration").match(/\d+/g)),i=10,n=Math.pow(10,this.decimalPlaces(this.gaugeCurrentStep));if(this.displayGraph?t=this.element.width()-(this.$step.outerWidth(!0)+1):this.bidirectionaldisplayGraph?(this.gaugeCurrentStep<0?this.element.addClass("c-gauge--negative"):this.element.addClass("c-gauge--positive"),t=this.element.width()):(this.$progress.addClass("has-bkg-color-"+this.absGaugeCurrentStep),this.$step.addClass("has-color-"+this.absGaugeCurrentStep)),this.$progress.width(this.absGaugeCurrentStep*(t/this.gaugeSteps)+1),this.isResized)this.displayGraph&&this.$progress.addClass("c-gauge__progress--no-transition");else var a=setInterval(function(){this.val>=this.absGaugeCurrentStep&&(clearInterval(a),this.val=this.absGaugeCurrentStep),this.$increment.text(Math.round(n*this.val)/n),this.displayGraph?this.val+=this.absGaugeCurrentStep/(e/i):this.val++}.bind(this),this.displayGraph?i:10*i)}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.$search=this.$element.find("[data-list-search]"),this.$items=this.$element.find("[data-list-elements]"),this.$lines=this.$element.find("[data-lines]"),this.index=parseInt(this.$lines.data("lines")),this.prototype=this.$lines.data("prototype"),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.init()}var a="brsListLine";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){this.$search.on("click","[data-line-add]",function(e){e.preventDefault();var n=t(e.currentTarget),a=this.prototype.replace(/__name__/g,this.index),s=t(t.parseHTML(a));s.find("[data-line-link]").html(n.data("label")),s.find("[data-line-link]").attr("href",n.data("href")),s.find("[data-line-link]").attr("title",n.data("label")),s.find("[data-line-description]").html(n.data("isin")),s.find("[data-line-instrument-symbol]").val(n.data("symbol")),s.find("[data-line-instrument-label]").val(n.data("label")),s.find("[data-line-instrument-isin]").val(n.data("isin")),s.find("[data-line-instrument-mnemonic]").val(n.data("mnemonic")),this.index++,this.$lines.data("lines",this.index),this.$items.removeClass("u-hidden"),this.$lines.append(s),t(i).trigger("load",this.$lines)}.bind(this)),this.$lines.on("click","[data-line-remove]",function(e){e.stopPropagation(),e.preventDefault(),t(e.currentTarget).closest("[data-line]").remove(),this.index--,this.$lines.data("lines",this.index),0===this.index&&this.$items.addClass("u-hidden")}.bind(this))}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,n){this.$element=t(e),this.$loader=t(i).find("[data-loader-container]").first(),this.options=t.extend({},t.fn[a].defaults,n),this._name=a,this.init()}var a="brsLoader";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){this.$clonedLoader=this.$loader.clone(),0===this.$element.find("[data-loader-container]").length&&this.$element.append(this.$clonedLoader)},n.prototype.showLoader=function(){this.$element.addClass("is-loading")},n.prototype.hideLoader=function(){this.$element.removeClass("is-loading")}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.element=t(e),this.$step=this.element.find("[data-gauge-step]"),this.$increment=this.element.find("[data-gauge-increment]"),this.$bar=this.element.find("[data-gauge-bar]"),this.$progress=this.element.find("[data-gauge-progress]"),this.options=t.extend({},t.fn[a].defaults,t(e).data(),i),this._name=a,this.displayGraph="graph"==this.options.gaugeDisplay,this.init()}var a="brsNavigation";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){this.element.on("inviewport",function(){this.load()}.bind(this)),t(e).resize(function(){this.isResized=!0,this.load()}.bind(this)),this.load()},n.prototype.load=function(){t(e).width()>1022?(this.element.addClass("c-navigation__desktop").removeClass("c-navigation__mobile"),t("body").removeClass("has-navigation-open")):this.element.removeClass("c-navigation__desktop").addClass("c-navigation__mobile")}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.element=t(e),this.actionUrl=this.element.attr("action"),this.$alert=t("[data-alert-newsletter]"),this.$icon=this.$alert.find("i"),this.successMessage="Votre demande a bien été prise en compte.",this.fromType=this.toType="",this.options=t.extend({},t.fn[a].defaults,t(e).data(),i),this._name=a,this.init()}var a="brsNewsletterSubscription";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var e=this;t.fn.replaceClass=function(t,e){return this.removeClass(t).addClass(e)},this.element.on("submit",function(i){i.preventDefault();var n=t(this);t.ajax({method:"POST",url:e.actionUrl,data:n.serialize()}).done(function(t){t.response.error?(e.fromType="success",e.toType="warning",e.$alert.find("[data-alert-text]").html(t.response.error.join("<br />"))):(e.fromType="warning",e.toType="success",e.$alert.find("[data-alert-text]").text(e.successMessage))}).fail(function(){e.fromType="success",e.toType="warning",e.$alert.find("[data-alert-text]").text("Une erreur est survenue")}).always(function(){n.addClass("o-vertical-interval-bottom"),e.$icon.replaceClass("c-icon--alert-"+e.fromType,"c-icon--alert-"+e.toType),e.$alert.replaceClass("c-alert--"+e.fromType,"c-alert--"+e.toType),e.$alert.data("plugin_brsAlertEffect").showAlertBox()})})}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.$content=this.$element.find("[data-off-canvas-content]"),this.$menu=this.$element.find("[data-off-canvas-menu]"),this.$hideLink=this.$element.find("[data-off-canvas-hide-link]"),this.$headerArrow=this.$element.find("[data-off-canvas-header-arrow]"),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.init()}var a="brsOffCanvas";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={offCanvasBottom:!1,offCanvasSamePositionAsOffCanvasId:!1},n.prototype.instance=function(){return this},n.prototype.init=function(){this.$element.trigger(this._name+":init").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",this.onTransitionEnd.bind(this)).on(this._name+":toggle",this.toggleClassMenu.bind(this)).on(this._name+":open",this.open.bind(this)),this.$content.data("refreshable")&&this.$element.on(this._name+":opening",this.loadAjaxContent.bind(this)),this.$hideLink.click(function(t){this.$element.trigger(this._name+":toggle"),t.preventDefault()}.bind(this))},n.prototype.toggleClassMenu=function(t,e){this.$element.hasClass("is-visible")?this.close():this.open(t,e)},n.prototype.open=function(i,n){var a,s,o;if(!this.$element.hasClass("is-visible")){if(!0===this.options.offCanvasBottom)if(e.matchMedia("(min-width: 1000px)").matches)if(this.options.offCanvasSamePositionAsOffCanvasId){var r=t('[data-off-canvas="'+this.options.offCanvasSamePositionAsOffCanvasId+'"]');this.$menu.css("top",r.find("[data-off-canvas-menu]").css("top")),this.$headerArrow.css("left",r.find("[data-off-canvas-header-arrow]").css("left")),this.$element.css("right",r.css("right")),this.$element.css("left",r.css("left"))}else a=t(n),o=t(e).width()-a[0].getBoundingClientRect().right,s=a[0].getBoundingClientRect().top+a.outerHeight(!0),o>this.$element.width()&&(t(e).width()-o-this.$element.width()<0?(this.$element.css("right","auto"),this.$element.css("left",0)):(this.$element.css("right",o),this.$element.css("left","auto"))),this.$headerArrow.css("left",this.$element.width()-o-n.getBoundingClientRect().width/2-15+(t(e).width()-this.$element[0].getBoundingClientRect().right)),this.$menu.css("top",s);else this.$menu.css("top",0);this.$element.addClass("is-animatable"),this.$element.addClass("is-visible").trigger(this._name+":opening",n)}},n.prototype.close=function(){this.$element.hasClass("is-visible")&&(this.$element.addClass("is-animatable"),this.$element.removeClass("is-visible").trigger(this._name+":closing"))},n.prototype.onTransitionEnd=function(){this.$element.removeClass("is-animatable")},n.prototype.replaceHtmlContent=function(t){this.$element.trigger(this._name+":innerHtml"),this.$content.html(t)},n.prototype.loadAjaxContent=function(t,e){this.$element.trigger(this._name+":loadAjaxContent"),this.$content.data("plugin_refreshable").load(e)}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.videoSource=this.$element.data("brsPlayVideo"),this.options=t.extend({},t.fn[a].defaults,i),this._name=a,this.init()}var a="brsPlayVideo";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var i=this;this.$element.click(function(n){n.preventDefault();var a=t("[data-brs-refreshable-video-player]");a.find("iframe").prop("src",i.videoSource),a.find("h2").text(i.$element.find("h3").text()),a.find(".c-source__name ").text(i.$element.find(".c-source__name").text()),a.find(".c-source__time").text(i.$element.find(".c-source__time").text()),a.find(".c-event__subject").text(i.$element.find("[data-summary]").text());var s=a.offset().top;if(!e.matchMedia("(max-width: 999px)").matches){var o=t(".c-navigation");o.length>0&&(s-=2*o.height());var r=t(".c-top-info-banner");r.length>0&&(s-=r.height())}t("html, body").animate({scrollTop:s},1e3,function(){a.focus()})})}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.$search=this.$element.find("[data-instrument-search]"),this.$lines=this.$element.find("[data-lines]"),this.$summaryTitle=this.$element.find("[data-lines-summary-title]"),this.index=this.$lines.data("lines"),this.prototype=this.$lines.data("prototype"),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.init()}var a="brsPortfolioLine";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){this.$search.on("click","[data-line-add]",function(e){e.preventDefault();var n=t(e.currentTarget),a=this.prototype.replace(/__name__/g,this.index),s=t(t.parseHTML(a));s.find("[data-line-link]").html(n.data("label")),s.find("[data-line-link]").attr("href",n.data("href")),s.find("[data-line-link]").attr("title",n.data("label")),s.find("[data-line-description]").html(n.data("isin")+" "+n.data("mnemonic")),s.find("[data-line-instrument-symbol]").val(n.data("symbol")),s.find("[data-line-instrument-label]").val(n.data("label")),s.find("[data-line-instrument-isin]").val(n.data("isin")),s.find("[data-line-instrument-mnemonic]").val(n.data("mnemonic")),s.find("[data-line-instrument-price]").val(n.data("price")),s.find("[data-line-instrument-quantity]").val(n.data("quantity")),s.find("[data-line-instrument-date]").val(n.data("date")),this.index++,this.$lines.data("lines",this.index),this.$summaryTitle.removeClass("u-hidden"),this.$lines.append(s),t(i).trigger("load",this.$lines)}.bind(this)),this.$lines.on("click","[data-line-remove]",function(e){e.preventDefault(),t(e.currentTarget).closest("[data-line]").remove(),this.index--,this.$lines.data("lines",this.index),0===this.index&&this.$summaryTitle.addClass("u-hidden")}.bind(this))}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.element=t(e),this.options=t.extend({},t.fn[a].defaults,i),this._name=a,this.init(i)}var a="brsQuoteChart";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={elements:{pointerMenu:"[data-brs-quote-chart-pointer-menu]",periodMenu:"[data-brs-quote-chart-period-menu]",indicatorMenu:"[data-brs-quote-chart-indicator-menu]",styleMenu:"[data-brs-quote-chart-style-menu]",saveMenu:"[data-brs-quote-chart-save-menu]",shareMenu:"[data-brs-quote-chart-share-menu]",drawMenu:"[data-brs-quote-chart-draw-menu]",indicatorBtn:"[data-brs-quote-chart-indicator-btn]",periodBtn:"[data-brs-quote-chart-period-btn]",pointerBtn:"[data-brs-quote-chart-pointer-btn]",saveBtn:"[data-brs-quote-chart-save-btn]",shareBtn:"[data-brs-quote-chart-share-btn]",styleBtn:"[data-brs-quote-chart-style-btn]",drawBtn:"[data-brs-quote-chart-draw-btn]",drawListBtn:"[data-brs-quote-chart-draw-list-btn]",fullscreenBtn:"[data-brs-quote-chart-fullscreen-btn]",bigFullscreenBtn:"[data-brs-quote-chart-fullscreen-big-btn]",eodContainer:"[data-brs-quote-chart-eod-container]",durations:"[data-brs-quote-chart-durations]",commands:"[data-brs-quote-chart-commands]",compareTrigger:"[data-brs-quote-chart-compare-trigger]",settingsTrigger:"[data-brs-quote-chart-settings-trigger]",saveDrawingTrigger:"[data-brs-quote-chart-save-drawing-trigger]",indexCompareBtn:"[data-brs-quote-chart-index-compare]",symbolCompareBtn:"[data-brs-quote-chart-symbol-compare]",twoSymbolsCompareBtn:"[data-brs-quote-chart-two-symbols-compare]",compareFirstSymbol:"[data-brs-quote-chart-compare-first-symbol]",compareSecondSymbol:"[data-brs-quote-chart-compare-second-symbol]",sectorCompareBtn:"[data-brs-quote-chart-sector-compare]",orderBtn:"[data-brs-quote-chart-order-btn]",compareBtn:"[data-brs-quote-chart-compare-btn]",settingsBtn:"[data-brs-quote-chart-settings-btn]",captureBtn:"[data-brs-quote-chart-capture-btn]",saveImageAsBtn:"[data-brs-quote-chart-save-image-as-btn]",downloadBtn:"[data-brs-quote-chart-download-btn]",toggleOrderBtn:"[data-brs-quote-chart-order-toggle]",orderBtnGroup:"[data-brs-quote-chart-order-btn-group]",orderSendBtn:"[data-brs-quote-chart-order-send-btn]",orderQuantity:"[data-brs-quote-chart-order-quantity]",orderLevel:"[data-brs-quote-chart-order-level]",orderType:"[data-brs-quote-chart-order-type]",showVolumeLink:"[data-brs-quote-chart-show-volume]",showFiveDaysLink:"[data-brs-show-five-days]",hideFiveDaysLink:"[data-brs-hide-five-days]",fiveDaysHistory:"[data-brs-five-days-history]",fiveDaysBlock:"[data-brs-five-days-block]",templateSelect:"[data-brs-quote-chart-template]",templateForm:"[data-brs-quote-chart-template-form]",templateInputName:"[data-brs-quote-chart-template-input-name]",templateSaveBtn:"[data-brs-quote-chart-template-save]",templateSaveSuccess:"[data-brs-quote-chart-template-save-success]",templateSaveFailure:"[data-brs-quote-chart-template-save-failure]",templateDeleteBtn:"[data-brs-quote-chart-template-delete]",templateDeleteSuccess:"[data-brs-quote-chart-template-delete-success]",templateSaveListBtn:"[data-brs-quote-chart-template-list-save]",templateTable:"[data-brs-quote-chart-template-table]",defaultTemplateRadio:"[data-brs-quote-chart-default-template-radio]",noTemplateAlert:"[data-brs-quote-chart-no-template-alert]",drawingSelect:"[data-brs-quote-chart-drawing]",drawingForm:"[data-brs-quote-chart-drawing-form]",drawingInputName:"[data-brs-quote-chart-drawing-input-name]",openDrawingSaveBtn:"[data-brs-quote-chart-open-drawing-save]",drawingSaveBtn:"[data-brs-quote-chart-drawing-save]",drawingSaveSuccess:"[data-brs-quote-chart-drawing-save-success]",drawingSaveWarning:"[data-brs-quote-chart-drawing-save-warning]",drawingSaveFailure:"[data-brs-quote-chart-drawing-save-failure]",drawingDeleteBtn:"[data-brs-quote-chart-drawing-delete]",drawingDeleteSuccess:"[data-brs-quote-chart-drawing-delete-success]",drawingSaveListBtn:"[data-brs-quote-chart-drawing-list-save]",drawingTable:"[data-brs-quote-chart-drawing-table]",drawingExistsAlert:"[data-brs-quote-chart-drawing-exists-alert]"},stickyMarketValue:"[data-sticky-market-value]",stickyMarketValueBreakPoint:1e3,fullscreenBackground:"[data-fullscreen-background]",rchartMobileMaxWidth:767},n.prototype.instance=function(){return this},n.prototype.init=function(n){var a=this;this.VGP=n.VGP,Object.keys(this.options.elements).forEach(function(e){a["$"+e]=t(a.element).find(a.options.elements[e])}),this.$pointerMenuItem=this.$pointerMenu.find("[data-pointer]"),this.$periodMenuItem=this.$periodMenu.find("[data-period]"),this.$styleMenuItem=this.$styleMenu.find("[data-style]"),this.$mainIndicatorItem=this.$indicatorMenu.find("[data-main-indicator]"),this.$secondaryIndicatorItem=this.$indicatorMenu.find("[data-secondary-indicator]"),this.$detectIndicatorItem=this.$indicatorMenu.find("[data-detect-indicator]"),this.$stickyMarketValue=t(this.options.stickyMarketValue),this.stickyMarketValueBreakPoint=this.options.stickyMarketValueBreakPoint,this.$fullscreenBackground=t(this.options.fullscreenBackground),this.rchartMobileMaxWidth=this.options.rchartMobileMaxWidth,this.isFullscreen=!1,this.resizeChart=n.resizeChart||!0,this.defaultTemplate=n.defaultTemplate,this.candleTemplate=n.candleTemplate,this.lineTemplate=n.lineTemplate,this.barcolorTemplate=n.barcolorTemplate,this.userTemplates=[],this.userTemplatesToDelete=[],this.selectedDefaultTemplate=void 0,this.userDrawings=[],this.userDrawingsToDelete=[],this.currentUserTemplate="",this.currentUserDrawing=void 0,this.showDrawing=n.showDrawing,this.isCanvasSupported()&&(this.VGP.$graph=this.$eodContainer.RODGraph({symbol:this.VGP.symbol}),this.VGP.userID="42",n.enableRemoteSave?t.when(t.ajax(a.VGP.urlWS+"template"),t.ajax(a.VGP.urlWS+"drawing")).done(function(t,e){for(var i=t[0],n=0;n<i.length;n++){var s={Layers:i[n].Layers,Parametres:i[n].Parametres,isDefault:i[n].isDefault};a.userTemplates[i[n].configname]=s,i[n].isDefault&&(a.currentUserTemplate=s)}for(var o=e[0],n=0;n<o.length;n++){var r={name:o[n].name,symbol:o[n].symbol,instrumentName:o[n].instrumentName};VGP.drawings[o[n].symbol]=0,a.userDrawings.push(r),o[n].symbol===VGP.symbol&&(a.toggleDrawingExistsAlert(),a.currentUserDrawing={Symbol:VGP.symbol,Traces:o[n].content,Parametres:o[n].parameters,Layers:o[n].layers})}a.loadChart()}).fail(function(){a.loadChart()}):this.loadChart()),t("body").on("touchmove",function(){a.VGP.dragging=!0}),t("body").on("touchstart",function(){a.VGP.dragging=!1}),this.resizeChart&&t(e).on("resize",function(){a.isFullscreen?a.enterFullscreen():a.resize()}),this.$fullscreenBtn.bind(this.VGP.clickHandler,function(t){t.preventDefault(),a.isFullscreen?a.leaveFullscreen():a.enterFullscreen()}),this.$bigFullscreenBtn.bind(this.VGP.clickHandler,function(t){a.leaveFullscreen()}),t(".navig_trace li").bind(this.VGP.clickHandler,function(e){e.preventDefault(),e.stopPropagation();var i=t(this),n=i.data("drawingTool");if(!n)return!1;try{a.selectDrawingTool(n)}catch(e){console.error(e)}if("e"!=n){var s=i.data("icon");a.$drawBtn.removeClass().addClass("spg eod_b3 eodi_oblic tipt "+s+" c-quote-chart__menu-button")}a.closeMenus()}),this.$periodBtn.bind(this.VGP.clickHandler,function(t){a.openMenu(t,a.$periodMenu)}),this.$styleBtn.bind(this.VGP.clickHandler,function(t){a.openMenu(t,a.$styleMenu)}),this.$pointerBtn.bind(this.VGP.clickHandler,function(t){a.openMenu(t,a.$pointerMenu)}),this.$indicatorBtn.bind(this.VGP.clickHandler,function(t){a.openMenu(t,a.$indicatorMenu)}),this.$saveBtn.bind(this.VGP.clickHandler,function(t){a.openMenu(t,a.$saveMenu)}),this.$shareBtn.bind(this.VGP.clickHandler,function(t){a.openMenu(t,a.$shareMenu)}),this.$drawBtn.bind(this.VGP.clickHandler,function(e){if(a.endEraser(),e.preventDefault(),a.stopFunctions())return!1;a.closeToolsParams();try{a.selectDrawingTool(t(this).attr("name"))}catch(e){console.error(e)}}),this.$pointerMenuItem.bind(this.VGP.clickHandler,function(e){e.preventDefault(),e.stopPropagation();var i=t(this).data("pointer");if(i){var n=t(this).data("pointerIcon");try{0!=a.VGP.$graph.tools_menu(i)&&t(this).parent().parent().removeClass().addClass("spg eod_b2 tipt "+n+" c-quote-chart__menu-button")}catch(e){console.error(e)}a.closeMenus()}}),this.$periodMenuItem.bind(this.VGP.clickHandler,function(e){e.preventDefault(),e.stopPropagation();var i=t(this).data("period");if(void 0!=i){try{a.VGP.$graph.period_menu(i)}catch(e){console.error(e)}a.updateDownloadLink(i),a.closeMenus()}}),this.$styleMenuItem.bind(this.VGP.clickHandler,function(e){e.preventDefault(),e.stopPropagation();var i=t(this).data("style");if(i){"candle"===i?a.applyTemplate(a.candleTemplate):"line"===i?a.applyTemplate(a.lineTemplate):"barcolor"===i&&a.applyTemplate(a.barcolorTemplate),a.applyStyle(i);var n=t(this).data("styleIcon");t(this).parent().parent().removeClass().addClass("spg eod_b2 tipt "+n+" c-quote-chart__menu-button"),a.closeMenus()}}),this.$compareBtn.bind(this.VGP.clickHandler,function(t){a.endEraser(),t.preventDefault(),a.closeMenus();var i=a.getChartParameters();return a.closeToolsParams(),!a.stopFunctions()&&(!i||i.isIntraday||"perf"==i.mainChart.type?(e.DisplayAlert("Les comparaisons ne sont pas possibles en mode 'intraday' ou 'performance'"),!1):void a.$compareTrigger.click())}),this.$settingsBtn.bind(this.VGP.clickHandler,function(t){if(a.endEraser(),t.preventDefault(),a.closeMenus(),a.closeToolsParams(),a.stopFunctions())return!1;a.initSettingsPopin(),a.$settingsTrigger.click()}),this.$drawListBtn.bind(this.VGP.clickHandler,function(t){a.openMenu(t,a.$drawMenu)}),t(".eodi_zp").bind(this.VGP.clickHandler,function(t){t.preventDefault();try{a.VGP.$graph.zoom(!0)}catch(t){console.error(t)}}),t(".eodi_zm").bind(this.VGP.clickHandler,function(t){t.preventDefault();try{a.VGP.$graph.zoom(!1)}catch(t){console.error(t)}}),t("[data-brs-quote-chart-duration-length]").on("click",function(){a.selectDuration(t(this)),a.changeDuration(t(this).data("brs-quote-chart-duration-length"))}),this.$showVolumeLink.on("click",function(){try{a.VGP.$graph.indics_menu("volume")}catch(t){console.error(t)}}),this.$showFiveDaysLink.on("click",function(){a.$fiveDaysHistory.removeClass("u-hidden"),a.$showFiveDaysLink.addClass("u-hidden"),a.$hideFiveDaysLink.removeClass("u-hidden")}),this.$hideFiveDaysLink.on("click",function(){a.$fiveDaysHistory.addClass("u-hidden"),a.$showFiveDaysLink.removeClass("u-hidden"),a.$hideFiveDaysLink.addClass("u-hidden")}),this.$templateSaveBtn.on("click",function(){if(a.$templateInputName.get(0).checkValidity()){var t=a.$templateInputName.val().toUpperCase(),e=Object.keys(a.userTemplates).length;if(!a.userTemplates[t]&&e>=5)return a.$templateSaveFailure.removeClass("u-hidden"),void setTimeout(function(){a.$templateSaveFailure.addClass("u-hidden")},3e3);a.$templateSaveBtn.prop("disabled",!0);try{VGP.$graph.saveTemplate(t)}catch(t){console.error(t)}a.$noTemplateAlert.hide(),setTimeout(function(){a.$templateSaveBtn.prop("disabled",!1)},1e3),a.$templateSaveSuccess.removeClass("u-hidden"),setTimeout(function(){a.$templateSaveSuccess.addClass("u-hidden"),a.refreshTemplate(t)},3e3)}}),this.$templateDeleteBtn.on("click",function(){var e=String(t(this).data("templateName"));e&&a.prepareDeleteTemplate(e)}),this.$templateSaveListBtn.on("click",function(){a.$templateSaveListBtn.prop("disabled",!0);for(var t=0;t<a.userTemplatesToDelete.length;t++)a.deleteTemplate(a.userTemplatesToDelete[t]);a.userTemplatesToDelete=[],setTimeout(function(){a.$templateSaveListBtn.prop("disabled",!1),a.$templateDeleteSuccess.removeClass("u-hidden"),setTimeout(function(){a.$templateDeleteSuccess.addClass("u-hidden")},3e3),void 0!=a.selectedDefaultTemplate&&(a.changeDefaultTemplate(a.selectedDefaultTemplate,function(){location.reload()}),a.selectedDefaultTemplate=void 0)},1e3)}),this.$templateSelect.on("click",function(){a.selectTemplate(t(this).data("templateName"))}),this.$defaultTemplateRadio.on("change",function(){a.selectedDefaultTemplate=t(this).data("templateName")}),this.$openDrawingSaveBtn.on("click",function(){var t=a.getChartParameters();t&&!t.isIntraday?a.$saveDrawingTrigger.click():e.DisplayAlert("Les sauvegardes d'analyses techniques ne sont pas possibles en mode intraday (1 et 5 jours)")}),this.$drawingSelect.on("click",function(){a.selectDrawing(t(this).data("drawingName"))}),this.$drawingSaveBtn.on("click",function(){if(a.$drawingInputName.get(0).checkValidity()){for(var e=a.$drawingInputName.val().toUpperCase(),i=a.userDrawings.length,n=!1,s=0;s<i;s++)if(a.userDrawings[s].symbol===a.VGP.symbol){n=!0,a.userDrawings[s].name=e;break}if(!n&&i>=10)return a.$drawingSaveWarning.removeClass("u-hidden"),void setTimeout(function(){a.$drawingSaveWarning.addClass("u-hidden")},3e3);a.$drawingSaveBtn.prop("disabled",!0);try{var o=a.VGP.$graph.saveTraceFull()}catch(t){return console.error(t),a.$drawingSaveFailure.removeClass("u-hidden"),setTimeout(function(){a.$drawingSaveFailure.addClass("u-hidden")},3e3),void setTimeout(function(){a.$drawingSaveBtn.prop("disabled",!1)},1e3)}o.name=e,a.currentUserDrawing=o,t.ajax({type:"POST",url:a.VGP.urlWS+"drawing/"+escape(a.VGP.symbol),data:JSON.stringify(o),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){a.$drawingSaveSuccess.removeClass("u-hidden"),setTimeout(function(){if(a.closePopin(),a.$drawingSaveSuccess.addClass("u-hidden"),n){var t=a.$drawingTable.find("[data-drawing-symbol='"+a.VGP.symbol+"']").parent().parent().children();t.get(0).textContent=e,t.get(2).textContent=a.formatDate(new Date),a.$drawingSelect.data("drawingName",e),a.$drawingSelect.text(e)}else a.userDrawings.push({symbol:a.VGP.symbol,name:e}),a.refreshDrawing(e,a.VGP.symbol);a.$drawingSaveBtn.prop("disabled",!1)},3e3),setTimeout(function(){a.toggleDrawingExistsAlert()},4e3)},error:function(){a.$drawingSaveFailure.removeClass("u-hidden"),setTimeout(function(){a.$drawingSaveFailure.addClass("u-hidden")},3e3),setTimeout(function(){a.$drawingSaveBtn.prop("disabled",!1)},1e3)}})}}),this.$drawingDeleteBtn.on("click",function(){a.prepareDeleteDrawing(t(this).data("drawingSymbol"))}),this.$drawingSaveListBtn.on("click",function(){a.$drawingSaveListBtn.prop("disabled",!0);for(var t=0;t<a.userDrawingsToDelete.length;t++)a.deleteDrawing(a.userDrawingsToDelete[t]);a.userDrawingsToDelete=[],setTimeout(function(){a.$drawingSaveListBtn.prop("disabled",!1),a.$drawingDeleteSuccess.removeClass("u-hidden"),setTimeout(function(){a.$drawingDeleteSuccess.addClass("u-hidden")},3e3)},1e3)}),this.$mainIndicatorItem.bind(this.VGP.clickHandler,function(e){if(e.stopPropagation(),e.preventDefault(),!a.VGP.dragging){var i=t(this).data("mainIndicator");a.$indicatorMenu.hide();try{a.VGP.$graph.indic1_menu(i)}catch(e){console.error(e)}}}),this.$secondaryIndicatorItem.bind(this.VGP.clickHandler,function(e){if(e.stopPropagation(),e.preventDefault(),!a.VGP.dragging){var i=t(this).data("secondaryIndicator");a.$indicatorMenu.hide();try{a.VGP.$graph.indics_menu(i)}catch(e){console.error(e)}}}),this.$detectIndicatorItem.bind(this.VGP.clickHandler,function(e){if(e.stopPropagation(),e.preventDefault(),!a.VGP.dragging){var i=t(this);if(a.$indicatorMenu.hide(),i.hasClass("is-selected")){i.removeClass("is-selected");try{a.VGP.$graph.removeSearch()}catch(e){console.error(e)}}else{a.$detectIndicatorItem.removeClass("is-selected"),i.addClass("is-selected");try{a.VGP.$graph.addSearch(i.data("detectIndicator"))}catch(e){console.error(e)}}}}),this.$indexCompareBtn.on("click",function(){var e=t("div[name=select-comparable-index] select").val();a.compare(e)}),this.$sectorCompareBtn.on("click",function(){var e=t("div[name=select-sector] select").val();a.compare(e)}),this.$symbolCompareBtn.on("click",function(){var e=t("[data-autocomplete]").data("autocompleteValue");a.compare(e)}),this.$twoSymbolsCompareBtn.on("click",function(){var t=a.$compareFirstSymbol.val(),e=a.$compareSecondSymbol.val();a.VGP.symbol!=t?(a.VGP.symbol=t,a.VGP.$graph=a.$eodContainer.RODGraph({symbol:a.VGP.symbol}),a.defaultTemplate.isCompare=e,a.loadChart()):a.compare(e)}),this.$toggleOrderBtn.on("click",function(){a.$orderBtnGroup.is(":visible")?(a.$toggleOrderBtn.text("Passer un ordre"),a.$orderBtnGroup.slideUp()):(a.$toggleOrderBtn.text("Fermer"),a.$orderBtnGroup.slideDown())}),this.$orderBtn.bind(this.VGP.clickHandler,function(e){a.endEraser(),e.preventDefault(),a.closeMenus(),a.currentOrderSide="sell",t(this).hasClass("c-button--trading-buy")&&(a.currentOrderSide="buy"),t(".eod_order_left").removeClass().addClass("eod_order_left "+a.currentOrderSide+"_order_left"),t(".eod_order_right").removeClass().addClass("eod_order_right "+a.currentOrderSide+"_order_right"),t(".eod_order_middle").removeClass().addClass("eod_order_middle "+a.currentOrderSide+"_order_middle");try{a.VGP.$graph.order_level(a.currentOrderSide)}catch(e){console.error(e)}}),this.$orderSendBtn.bind(this.VGP.clickHandler,function(e){if(e.preventDefault(),a.$orderQuantity.val()){var i=t("#ordertype").attr("order"),n="";"limit"===i?n="LIM":"stop"===i&&(n="STP");var s=a.$orderLevel.val()?parseFloat(a.$orderLevel.val()):void 0;a.element.trigger("order",{order:{symbol:a.VGP.symbol,side:a.currentOrderSide,quantity:parseFloat(a.$orderQuantity.val()),limPx:"LIM"===n?s:void 0,stopPx:"STP"===n?s:void 0,orderType:n}})}}),this.$captureBtn.bind(this.VGP.clickHandler,function(i){a.endEraser(),i.preventDefault(),a.closeMenus(),a.closeToolsParams();var n=a.screenCapture();n&&t.ajax({type:"POST",url:a.VGP.urlWS+"SendCapture",data:'{"symbol":"'+a.VGP.tabCache.symbol+'", "image":"'+n+'"}',contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){t.url&&(e.location=t.url)},error:function(){}})}),this.$saveImageAsBtn.bind(this.VGP.clickHandler,function(n){a.endEraser(),n.preventDefault(),a.closeMenus(),a.closeToolsParams();var s=a.screenCapture();if(s){if("function"==typeof e.navigator.msSaveBlob){for(var o=atob(s),r=new Array(o.length),l=0;l<o.length;l++)r[l]=o.charCodeAt(l);var h=new Uint8Array(r),c=new Blob([h]);e.navigator.msSaveBlob(c,"analyse.png")}else{if(t("html").hasClass("lt-ie10"))return;var d=i.createElement("a"),u="data:image/png;base64,"+s;d.setAttribute("href",u),d.setAttribute("download","analyse.png"),d.style.display="none",i.body.appendChild(d),d.click(),i.body.removeChild(d)}}}),t("[data-brs-quote-chart-defaultSet]").bind(VGP.clickHandler,function(t){return t.preventDefault(),t.stopPropagation(),a.settingsReset(),a.closePopin(),!1}),t("[data-brs-quote-chart-rbaxisyleft]").change(function(){a.settingsSetAxis("left")}),t("[data-brs-quote-chart-rbaxisyright]").change(function(){a.settingsSetAxis("right")}),t("[data-brs-quote-chart-rbaxisylinear]").change(function(){a.settingsSetAxisLog(!1)}),t("[data-brs-quote-chart-rbaxisylog]").change(function(){a.settingsSetAxisLog(!0)}),t("[data-brs-quote-chart-chkSticky]").change(function(){a.settingsSetSticky(!t(this).prop("checked"))}),t("[data-brs-quote-chart-rbgridContinu]").change(function(){a.settingsSetGrid(t(this).prop("checked"))}),t("[data-brs-quote-chart-rbgridPoint]").change(function(){a.settingsSetGrid(!t(this).prop("checked"))}),t("[data-brs-quote-chart-colorBK]").change(function(){a.settingsSetBackColor(t(this).val())}),t("[data-brs-quote-chart-colorTRACE]").change(function(){a.settingsChangeTraceColor(t(this).val())}),t("[data-brs-quote-chart-colorGRID]").change(function(){a.settingsSetGridColor(t(this).val())}),t("[data-brs-quote-chart-colorCADRE]").change(function(){a.settingsSetCadreColor(t(this).val())}),t("[data-brs-quote-chart-colorTXT]").change(function(){a.settingsSetTextColor(t(this).val())}),t("[data-brs-quote-chart-colorRETIC]").change(function(){a.settingsSetReticuleColor(t(this).val())}),t("[data-brs-quote-chart-chkGridH]").change(function(){a.settingsSetGridH(t(this).prop("checked"))}),t("[data-brs-quote-chart-chkGridV]").change(function(){a.settingsSetGridV(t(this).prop("checked"))}),t("[data-brs-quote-chart-chkEncadre]").change(function(){a.settingsSetEncadre(t(this).prop("checked"))}),t("[data-brs-quote-chart-chkIndicValues]").change(function(){a.settingsSetIndicsValues(t(this).prop("checked"))}),this.updateDownloadLink(-2)},n.prototype.loadChart=function(){this.currentUserDrawing&&this.showDrawing?(this.loadTemplate(this.currentUserDrawing,!0),this.showDrawing=!1):this.currentUserTemplate?this.loadTemplate(this.currentUserTemplate):(this.VGP.$graph.loadDefautChart(this.defaultTemplate),this.refreshPeriodState(this.defaultTemplate.histoLength)),this.refreshParametersModal()},n.prototype.selectTemplate=function(t){var e=this.userTemplates[t];e&&e.Parametres&&e.Layers&&(this.currentUserTemplate=e,this.loadTemplate(e))},n.prototype.reloadWith=function(t){this.VGP.symbol=t,this.VGP.$graph=this.$eodContainer.RODGraph({symbol:this.VGP.symbol}),this.loadChart()},n.prototype.selectDrawing=function(){if(this.currentUserDrawing)if(this.currentUserDrawing.Parametres&&this.currentUserDrawing.Layers){var e=JSON.parse(this.currentUserDrawing.Parametres),i=t("[data-brs-quote-chart-duration-length="+e.histoLength+"]");i.length>0&&this.selectDuration(i);try{this.VGP.$graph.loadTemplate(this.currentUserDrawing),this.VGP.$graph.readTraceFull(this.currentUserDrawing)}catch(t){console.error(t)}}else try{this.VGP.$graph.readTrace(this.currentUserDrawing)}catch(t){console.error(t)}},n.prototype.loadTemplate=function(e,i){var n=JSON.parse(e.Parametres),a=t("[data-brs-quote-chart-duration-length="+n.histoLength+"]");if(a.length>0)this.selectDuration(a);else{var s=t("[data-brs-quote-chart-duration-length].is-selected").data("brsQuoteChartDurationLength");n.histoLength=s,e.Parametres=JSON.stringify(n),this.refreshPeriodState(s)}try{this.VGP.$graph.loadTemplate(e)}catch(t){console.error(t)}if(!0===i)try{this.VGP.$graph.readTraceFull(e)}catch(t){console.error(t)}},n.prototype.openMenu=function(t,e){this.endEraser(),t.stopPropagation(),t.preventDefault(),e.is(":visible")?e.hide():(this.closeToolsParams(),this.closeMenus(),e.show())},n.prototype.refreshTemplate=function(e){var n=this;t.ajax({type:"GET",url:this.VGP.urlWS+"template/"+escape(e),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){if(e){var a=!!n.userTemplates[e.configname],s=String(e.configname);if(n.userTemplates[s]={Layers:e.Layers,Parametres:e.Parametres},!a){var o=i.createElement("div");o.setAttribute("class","c-quote-chart__submenu-item"),o.setAttribute("data-brs-quote-chart-template",""),o.setAttribute("data-template-name",s),o.textContent=s,n.$saveMenu.find(".c-quote-chart__menu-title")[0].after(o),o.onclick=function(){n.selectTemplate(s)};var r=i.createElement("tr");r.setAttribute("class","c-table__row");var l=i.createElement("td");l.setAttribute("class","c-table__cell c-table__cell--dotted u-nopadding-left"),l.textContent=s;var h=n.$defaultTemplateRadio.parent().closest("td").get(0).cloneNode(!0),c=Math.floor(1e6*Math.random());h.childNodes[1].removeAttribute("checked"),h.childNodes[1].setAttribute("data-template-name",s),h.childNodes[1].setAttribute("id",c),h.childNodes[2].setAttribute("for",c),h.childNodes[2].setAttribute("title",s),h.onchange=function(){n.selectedDefaultTemplate=s};var d=i.createElement("td");d.setAttribute("class","c-table__cell c-table__cell--dotted u-nopadding-right");var u=i.createElement("i");u.setAttribute("class","c-table__icon c-table__icon--right u-cursor-pointer u-color-cerulean c-icon c-icon--cross"),u.setAttribute("data-brs-quote-chart-template-delete",""),u.setAttribute("data-template-name",s),u.onclick=function(){n.prepareDeleteTemplate(s)},d.appendChild(u),r.appendChild(l),r.appendChild(h),r.appendChild(d);var p=n.$templateTable.find("tr");t(p).get(p.length-1).after(r)}}}})},n.prototype.refreshDrawing=function(e,n){var a=this,s=i.createElement("tr");s.setAttribute("class","c-table__row");var o=i.createElement("td");o.setAttribute("class","c-table__cell c-table__cell--dotted u-nopadding-left"),o.textContent=e;var r=i.createElement("td");r.setAttribute("class","c-table__cell c-table__cell--dotted u-nopadding-left"),r.textContent=t(".c-faceplate__company-link").text();var l=i.createElement("td");l.setAttribute("class","c-table__cell c-table__cell--dotted u-nopadding-left"),l.textContent=a.formatDate(new Date);var h=i.createElement("td");h.setAttribute("class","c-table__cell c-table__cell--dotted u-nopadding-right");var c=i.createElement("i");c.setAttribute("class","c-table__icon c-table__icon--right u-cursor-pointer u-color-cerulean c-icon c-icon--cross"),c.setAttribute("data-brs-quote-chart-drawing-delete",""),c.setAttribute("data-drawing-name",e),c.setAttribute("data-drawing-symbol",n),c.onclick=function(){a.prepareDeleteDrawing(n)},h.appendChild(c),s.appendChild(o),s.appendChild(r),s.appendChild(l),s.appendChild(h);var d=this.$drawingTable.find("tr");t(d).get(d.length-1).after(s);var u=i.createElement("div");u.setAttribute("class","c-quote-chart__submenu-item"),u.setAttribute("data-brs-quote-chart-drawing",""),u.setAttribute("data-drawing-name",e),u.textContent=e,a.$saveMenu.find(".c-quote-chart__menu-title")[1].after(u),u.onclick=function(){a.selectDrawing(e)}},n.prototype.formatDate=function(t){var e=function(t){return t<10?"0"+t:t},i=e(t.getHours()),n=e(t.getMinutes());return"le "+e(t.getDate())+"/"+e(t.getMonth())+"/"+t.getFullYear()+" à "+i+"h"+n},n.prototype.prepareDeleteTemplate=function(t){delete this.userTemplates[t],this.userTemplatesToDelete.push(t),this.$templateTable.find("[data-template-name='"+t.replace("'","\\'")+"']").closest("tr").fadeOut()},n.prototype.deleteTemplate=function(e){var i=this;t.ajax({type:"DELETE",url:this.VGP.urlWS+"template/"+escape(e),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){i.$templateSelect.each(function(){t(this).data("templateName")===e&&t(this).remove()})}})},n.prototype.changeDefaultTemplate=function(e,i){var n="",a="";e?(n="template/"+escape(e),a="PUT"):(n="template/reset-default/",a="POST"),t.ajax({type:a,url:this.VGP.urlWS+n,contentType:"application/json; charset=utf-8",dataType:"json",success:i})},n.prototype.prepareDeleteDrawing=function(t){this.userDrawingsToDelete.push(t),this.$drawingTable.find("[data-drawing-symbol="+t+"]").closest("tr").fadeOut()},n.prototype.deleteDrawing=function(e){var i=this;t.ajax({type:"DELETE",url:this.VGP.urlWS+"drawing/"+escape(e),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){for(var n=0;n<i.userDrawings.length;n++)if(i.userDrawings[n].symbol===e){i.userDrawings.splice(n,1);break}i.toggleDrawingExistsAlert(),i.$drawingSelect.each(function(){t(this).remove()})}})},n.prototype.toggleDrawingExistsAlert=function(){for(var t=0;t<this.userDrawings.length;t++)if(this.userDrawings[t].symbol===this.VGP.symbol)return void this.$drawingExistsAlert.removeClass("u-hidden");this.$drawingExistsAlert.addClass("u-hidden")},n.prototype.isCanvasSupported=function(){var t=i.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},n.prototype.stopFunctions=function(t){try{var e=this.VGP.$graph.get_chartType()}catch(t){return console.error(t),!1}return(2!=t||"perf"!=e)&&("perf"==e||"renko"==e||"line break"==e||"kagi"==e)},n.prototype.closeMenus=function(){this.$pointerMenu.hide(),this.closeToolsParams(),this.$periodMenu.hide(),this.$styleMenu.hide(),this.$indicatorMenu.hide(),this.$saveMenu.hide(),this.$shareMenu.hide(),this.$drawMenu.hide()},n.prototype.selectDuration=function(e){e.hasClass("is-selected")||(t(".c-quote-chart__length.is-selected").removeClass("is-selected"),e.addClass("is-selected"),this.isFullscreen||(5==e.data("brsQuoteChartDurationLength")?(this.$fiveDaysHistory.removeClass("u-hidden"),this.$showFiveDaysLink.addClass("u-hidden"),this.$hideFiveDaysLink.removeClass("u-hidden")):(this.$fiveDaysHistory.addClass("u-hidden"),this.$showFiveDaysLink.removeClass("u-hidden"),this.$hideFiveDaysLink.addClass("u-hidden"))),this.refreshPeriodState(e.data("brsQuoteChartDurationLength")))},n.prototype.endEraser=function(){if(this.$pointerBtn.hasClass("eodi_gomme")){this.$pointerBtn.removeClass().addClass("spg eod_b2 tipt eodi_cross");try{this.VGP.$graph.stopGomme()}catch(t){console.error(t)}}},n.prototype.initSettingsPopin=function(){t(".colorPicker-palette").remove(),t(".colorPicker-picker").remove(),t("[data-brs-quote-chart-colorBK]").colorPicker({showHexField:!1}),t("[data-brs-quote-chart-colorTXT]").colorPicker({showHexField:!1}),t("[data-brs-quote-chart-colorGRID]").colorPicker({showHexField:!1}),t("[data-brs-quote-chart-colorRETIC]").colorPicker({showHexField:!1}),t("[data-brs-quote-chart-colorCADRE]").colorPicker({showHexField:!1}),t("[data-brs-quote-chart-colorTRACE]").colorPicker({showHexField:!1})},n.prototype.closePopin=function(){t("[data-modal-back]").click()},n.prototype.getChartRefresh=function(){var i=this;t.ajax({type:"GET",url:this.VGP.urlWS+"UpdateCharts",data:'{"tickers":"'+this.VGP.tabCache.symbol+'","periods":"'+this.VGP.tabCache.period+'"}',contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){if(null==t.d)return e.stopTimers(),!1;if(null!=t.d[0])if(i.VGP.tabCache.period<0)try{i.VGP.$graph.updateQuoteIntraRefresh(t.d[0])}catch(t){console.error(t)}else try{i.VGP.$graph.updateQuoteEODrefresh(t.d[0])}catch(t){console.error(t)}},error:function(){e.stopTimers()}})},n.prototype.enterFullscreen=function(){this.isFullscreen=!0,this.$fullscreenBackground.addClass("eod_fullscreen_background"),this.$bigFullscreenBtn.removeClass("u-hidden"),this.$fullscreenBtn.removeClass("eodi_fullscreen").addClass("eodi_fullscreenout"),this.$fullscreenBtn.attr("data-original-title","Sortie du plein-écran"),this.$fiveDaysBlock.hide();var i=this.$durations.outerHeight()+this.$commands.outerHeight();e.innerWidth>992&&(i+=this.$bigFullscreenBtn.outerHeight()),e.innerWidth<this.stickyMarketValueBreakPoint&&(i+=this.$stickyMarketValue.outerHeight());var n=e.innerHeight-i-20;this.$eodContainer.height(n+"px"),t("[data-brs-quote-chart]").addClass("eod_fullscreen_mode"),e.innerWidth<this.stickyMarketValueBreakPoint&&t("[data-brs-quote-chart]").css({bottom:this.$stickyMarketValue.outerHeight()}),this.resize()},n.prototype.leaveFullscreen=function(){this.isFullscreen=!1,this.$fullscreenBackground.removeClass(),this.$bigFullscreenBtn.addClass("u-hidden"),this.$fullscreenBtn.removeClass("eodi_fullscreenout").addClass("eodi_fullscreen"),this.$fullscreenBtn.attr("data-original-title","Graphique dynamique"),e.innerWidth<this.stickyMarketValueBreakPoint&&t("[data-brs-quote-chart]").css({bottom:"auto"}),this.$fiveDaysBlock.show(),this.$eodContainer.height(""),t("[data-brs-quote-chart]").removeClass("eod_fullscreen_mode"),this.resize()},n.prototype.resize=function(){try{this.VGP.$graph.set_screenSize()}catch(t){console.error(t)}},n.prototype.closeToolsParams=function(){try{this.VGP.$graph.closeToolsParams()}catch(t){console.error(t)}},n.prototype.selectDrawingTool=function(t){try{this.VGP.$graph.trace_menu(t)}catch(t){console.error(t)}},n.prototype.applyStyle=function(t){try{this.VGP.$graph.style_menu(t)}catch(t){console.error(t)}},n.prototype.applyTemplate=function(t){this.VGP.$graph.style_menu_template(t)},n.prototype.getChartParameters=function(){try{return this.VGP.$graph.get_parametres()}catch(t){console.error(t)}return null},n.prototype.screenCapture=function(){try{return this.VGP.$graph.screenCapture("brs")}catch(t){console.error(t)}return null},n.prototype.updateDownloadLink=function(e){var i=t(".c-quote-chart__length.is-selected").data("brs-quote-chart-duration-length"),n="";n=e||this.VGP.tabCache.period;var a=this.VGP.urlWS+"download?length="+i+"&period="+n+"&symbol="+this.VGP.symbol;this.$downloadBtn.attr("href",a)},n.prototype.changeDuration=function(i){this.VGP.$graph.duree_menu(i),this.updateDownloadLink(!1),t(".c-quote-chart__error").hide(),t(".eod_chart").show(),e.launchTimers()},n.prototype.compare=function(t){try{this.VGP.$graph.compare(t)}catch(t){console.error(t)}this.closePopin()},n.prototype.settingsReset=function(){try{this.VGP.$graph.settings_setdefaut()}catch(t){console.error(t)}this.refreshParametersModal()},n.prototype.refreshParametersModal=function(){this.VGP.CCparam=this.getChartParameters(),t("[data-brs-quote-chart-colorBK]").val(this.VGP.CCparam.set.bkcolor).change(),t("[data-brs-quote-chart-colorTXT]").val(this.VGP.CCparam.set.txtColor).change(),t("[data-brs-quote-chart-colorGRID]").val(this.VGP.CCparam.set.gridColor).change(),t("[data-brs-quote-chart-colorRETIC]").val(this.VGP.CCparam.set.reticColor).change(),t("[data-brs-quote-chart-colorCADRE]").val(this.VGP.CCparam.set.cadreColor).change(),t("[data-brs-quote-chart-colorTRACE]").val(this.settingsGetTraceColor()).change(),t("[data-brs-quote-chart-chkGridH]").prop("checked",this.VGP.CCparam.set.gridH),t("[data-brs-quote-chart-chkGridV]").prop("checked",this.VGP.CCparam.set.gridV),t("[data-brs-quote-chart-chkEncadre]").prop("checked",this.VGP.CCparam.set.isEncadre),t("[data-brs-quote-chart-chkIndicValues]").prop("checked",this.VGP.CCparam.set.indicValues),t("[data-brs-quote-chart-rbgridContinu]").prop("checked",this.VGP.CCparam.set.gridLine),t("[data-brs-quote-chart-rbgridPoint]").prop("checked",!this.VGP.CCparam.set.gridLine),t("[data-brs-quote-chart-rbaxisyright]").prop("checked",!this.VGP.CCparam.set.yaxis),t("[data-brs-quote-chart-rbaxisyleft]").prop("checked",this.VGP.CCparam.set.yaxis),t("[data-brs-quote-chart-rbaxisylinear]").prop("checked",!this.VGP.CCparam.set.semilog),t("[data-brs-quote-chart-rbaxisylog]").prop("checked",this.VGP.CCparam.set.semilog),t("[data-brs-quote-chart-chkSticky]").prop("checked",!this.VGP.CCparam.set.nosticky)},n.prototype.refreshPeriodState=function(e){e>5?this.$periodMenuItem.each(function(){t(this).data("period")<0&&t(this).addClass("is-disabled")}):this.$periodMenuItem.each(function(){t(this).data("period")<0&&t(this).removeClass("is-disabled")})},n.prototype.settingsSetAxis=function(t){try{this.VGP.$graph.settings_setAxis(t)}catch(t){console.error(t)}},n.prototype.settingsSetAxisLog=function(t){try{this.VGP.$graph.settings_setAxisLog(t)}catch(t){console.error(t)}},n.prototype.settingsSetSticky=function(t){try{this.VGP.$graph.settings_setSticky(t)}catch(t){console.error(t)}},n.prototype.settingsSetGrid=function(t){try{this.VGP.$graph.settings_setGridlineShow(t)}catch(t){console.error(t)}},n.prototype.settingsSetBackColor=function(t){try{this.VGP.$graph.settings_setBackColor(t)}catch(t){console.error(t)}},n.prototype.settingsSetGridColor=function(t){try{this.VGP.$graph.settings_setGridColor(t)}catch(t){console.error(t)}},n.prototype.settingsSetCadreColor=function(t){try{this.VGP.$graph.settings_setCadreColor(t)}catch(t){console.error(t)}},n.prototype.settingsSetTextColor=function(t){try{this.VGP.$graph.settings_setTextColor(t)}catch(t){console.error(t)}},n.prototype.settingsSetReticuleColor=function(t){try{this.VGP.$graph.settings_setReticuleColor(t)}catch(t){console.error(t)}},n.prototype.settingsChangeTraceColor=function(t){try{this.VGP.$graph.settings_setTraceColor(t)}catch(t){console.error(t)}},n.prototype.settingsGetTraceColor=function(){try{return this.VGP.$graph.settings_getTraceColor()}catch(t){console.error(t)}return""},n.prototype.settingsSetGridH=function(t){try{this.VGP.$graph.settings_setGridlineH(t)}catch(t){console.error(t)}},n.prototype.settingsSetGridV=function(t){try{this.VGP.$graph.settings_setGridlineV(t)}catch(t){console.error(t)}},n.prototype.settingsSetIndicsValues=function(t){try{this.VGP.$graph.settings_setIndicValues(t)}catch(t){console.error(t)}},n.prototype.settingsSetEncadre=function(t){try{this.VGP.$graph.settings_setEncadreShow(t)}catch(t){console.error(t)}}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.init()}var a="brsRadioRemovableCheck";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var t=this.$element;t.bind("click",function(){if("disabled"!==t.attr("disabled")){var e=t.parent("fieldset").find('input[name="'+t.attr("name")+'"]');e.removeAttr("checked"),e.removeProp("checked"),t.prop("checked",!0)}})}}(jQuery,window,document),function(t){"use strict";function e(e,n){this.element=t(e),this.options=t.extend({},t.fn[i].defaults,t(e).data(),n),this._name=i,this.init()}var i="brsSearchBar";t.fn[i]=function(n){return this.each(function(){t.data(this,"plugin_"+i,new e(this,n))})},t.fn[i].defaults={},e.prototype.init=function(){t(document).find("[data-search-bar-open]").on("click",this.open.bind(this)),this.element.find("[data-search-bar-close]").on("click",this.close.bind(this))},e.prototype.open=function(){this.element.show(),this.element.addClass("topbar-searchbar--opened"),this.element.parent().addClass("topbar--opened")},e.prototype.close=function(){this.element.hide(),this.element.removeClass("topbar-searchbar--opened"),this.element.parent().removeClass("topbar--opened")},t(document).find("[data-search-bar]").brsSearchBar()}(jQuery),function(t){"use strict";function e(e,n){this.element=t(e),this.container=t("[data-search-result]"),this.iconLoad=this.element.closest("form").find("[data-search-icon-load]"),this.options=t.extend({},t.fn[i].defaults,t(e).data(),n),this._name=i,this.init()}var i="brsSearch";t.fn[i]=function(n){return this.each(function(){t.data(this,"plugin_"+i,new e(this,n))})},t.fn[i].defaults={searchUrl:null,ajaxSearchUrl:null},e.prototype.init=function(){this.element.on("keyup change",this.search.bind(this)),this.element.closest("form").on("submit",function(t){t.preventDefault()}),t("[data-search-bar-open]").on("click",function(){this.element.focus()}.bind(this)),t("[data-search-bar-close]").on("click",function(){t("html").css("overflow",""),this.element.val(""),this.lastValue=null,this.reset(),this.xhr&&this.xhr.abort(),this.container.removeClass("is-open").html("")}.bind(this))},e.prototype.search=function(t){var e=this.element.val();if(t&&13===t.keyCode)return location.href=this.options.searchUrl+e,!1;this.reset(),e.length>=2&&e!==this.lastValue&&(this.timeout=setTimeout(function(){this.send(e)}.bind(this),250))},e.prototype.reset=function(){this.timeout&&clearTimeout(this.timeout)},e.prototype.send=function(e){this.container.find("hx\\:include").hinclude("stop").remove(),this.iconLoad.addClass("is-active"),this.lastValue=e,this.xhr=t.ajax(this.options.ajaxSearchUrl,{dataType:"html",method:"GET",data:{query:e},success:function(e){this.container.html(e).addClass("is-open"),t(document).trigger("load",this.container)}.bind(this),complete:function(){t("html").css("overflow","hidden"),this.iconLoad.removeClass("is-active")}.bind(this)})}}(jQuery),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.init(),this.$element.trigger("plugin_"+a+":ready",this)}var a="selectability",s=0;t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={KEY_ENTER:13,KEY_SPACE:32,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_ESCAPE:27,MAX_ITEM_COUNT_TO_SHOW:10},n.prototype.instance=function(){return this},n.prototype.init=function(){this.isInputSelect=void 0!==this.$element.attr("data-select-with-input"),this.cssElementClasses=this.$element.attr("class"),this.buildElements(),this.stealLabel(),this.synchronizeAttributes(),this.populateText(),this.registerHandlers(),this.$element.attr("tabindex",-1).removeClass(this.cssElementClasses).addClass("c-select__select")},n.prototype.idGen=function(){var e;do{e="selectability"+s++}while(t("#"+e).length);return e},n.prototype.buildElements=function(){this.buildCombobox(),this.$element.before(this.combobox)},n.prototype.stealLabel=function(){var e=this.$element.attr("id"),i=this.$element.attr("aria-label");if(i)this.combobox.attr("aria-label",i);else if(e){var n=this,a=[];t("label[for]").filter(function(){return t(this).attr("for")===e}).each(function(){var e=t(this),i=n.idGen();e.attr("id",i),a.push(i)}),this.combobox.attr("aria-labelledby",a.join(" "))}},n.prototype.populateText=function(t){if(!t||!t.selectability){var e=this.$element.find(":selected");e.length&&(this.isInputSelect?this.inputbox.value=e.attr("label")||e.text():this.textbox.text(e.attr("label")||e.text()))}},n.prototype.synchronizeAttributes=function(){if(this.$element.prop("multiple"))throw new Error("Can only bind to single selection widgets");this.disabled=!!this.$element.prop("disabled"),this.combobox.addClass(this.disabled?"is-disabled":""),this.combobox.addClass(this.$element.prop("required")?"c-select_required":"")},n.prototype.registerHandlers=function(){this.observeProperties(),this.registerEvents()},n.prototype.observeProperties=function(){var i=t.proxy(this.synchronizeAttributes,this),n=e.MutationObserver||e.MozMutationObserver||e.WebkitMutationObserver;n?(this.observer=new n(i),this.observer.observe(this.$element[0],{attributes:!0,attributeFilter:["multiple","disabled","required"]})):this.$element.on({"propertychange.selectability":i,"focus.selectability":i}),this.$element.on("change",t.proxy(this.populateText,this))},n.prototype.registerEvents=function(){var e=this;this.combobox.on({focusout:function(n){var a=this;setTimeout(function(){t.contains(a,i.activeElement)||e.closeCombobox()},0)},click:t.proxy(this.comboboxClick,this),keydown:t.proxy(this.comboboxKeydown,this)}),this.listbox.on({mouseover:t.proxy(this.listboxOver,this),click:t.proxy(this.listboxClick,this),keydown:t.proxy(this.listboxKeydown,this)}),this.isInputSelect&&this.inputbox.on({keyup:t.proxy(this.inputboxKeydown,this)}),this.$element.on({change:t.proxy(this.syncWithOriginalSelect,this),clear:t.proxy(this.clearListbox,this)})},n.prototype.comboboxClick=function(){this.disabled||this.toggleCombobox()},n.prototype.comboboxKeydown=function(t){if(!this.disabled)switch(t.which){case this.options.KEY_ENTER:case this.options.KEY_SPACE:if(this.combobox.hasClass("is-expanded"))return this.closeCombobox(),this.combobox.focus(),t.preventDefault(),!1;case this.options.KEY_UP:case this.options.KEY_DOWN:case this.options.KEY_LEFT:case this.options.KEY_RIGHT:return this.combobox.hasClass("is-expanded")||this.openCombobox(),null!=this.optionFocused&&(this.optionFocused.focus(),this.focusActiveOption()),t.preventDefault(),!1;case this.options.KEY_ESCAPE:return this.closeCombobox(),this.combobox.focus(),t.preventDefault(),!1}},n.prototype.listboxOver=function(e){var i=t(e.target);i.hasClass("c-select__option")&&(i.hasClass("is-disabled")||(this.optionFocused=i,this.focusActiveOption()))},n.prototype.listboxClick=function(e){var i=t(e.target);if(i.hasClass("c-select__option")&&!i.hasClass("is-disabled"))return this.select(t(e.target)),this.closeCombobox(),e.preventDefault(),!1},n.prototype.inputboxKeydown=function(t){0===this.inputbox.val().length&&(this.clearListbox(),this.populateListbox()),t.which>=48&&t.which<=90&&this.filterListbox(this.inputbox.val())},n.prototype.filterListbox=function(t){var e=this.$element.children().toArray().filter(function(e){var i=e.textContent.toLowerCase(),n=e.value.toLowerCase();return-1!==i.indexOf(t.toLowerCase())||-1!==n.indexOf(t.toLowerCase())});this.clearListbox(),this.populateListbox(e),this.listboxContainer.css("height",this.listboxContainer.parent().height()+"px")},n.prototype.syncWithOriginalSelect=function(){this.listbox.children().length<=0&&this.populateListbox(),this.isInputSelect&&(this.clearListbox(),this.populateListbox());var t=this.$element.val();if(t!==this.listbox.find(".is-selected").val()){var e=this.$element.find('option[value="'+t+'"]'),i="";i=e.length>1?e[0].label:e.text(),this.listbox.find(".is-selected").removeClass("is-selected");var n=this.listbox.find(".c-select__option:contains("+i+")").first();this.selected=n,this.optionFocused=n,this.optionFocused.addClass("is-selected"),this.focusActiveOption(),this.isInputSelect?this.inputbox.val(n.attr("label")||n.text()):this.textbox.text(n.attr("label")||n.text())}},n.prototype.clearListbox=function(){this.listbox.empty()},n.prototype.select=function(e){if(this.isInputSelect)n=this.$element.find('option:contains("'+t(e).text()+'")').val();else var i=this.listbox.find(".c-select__option").index(e),n=this.$element.find("option").eq(i).val();var a=this.$element.val(),s=t.Event("change",{val:n,selectability:!0});if(this.$element.val()!==n){this.$element.val(n);try{this.$element.trigger(s)}finally{s.isDefaultPrevented()?this.$element.val(a):(this.selected&&this.selected.removeClass("is-selected"),this.selected=e,this.optionFocused=e,this.optionFocused.addClass("is-selected"),this.focusActiveOption(),this.isInputSelect?this.inputbox.val(e.attr("label")||e.text()):this.textbox.text(e.attr("label")||e.text()))}}else this.isInputSelect&&this.inputbox.val(e.attr("label")||e.text())},n.prototype.listboxKeydown=function(e){switch(e.which){case this.options.KEY_ENTER:case this.options.KEY_SPACE:return this.select(t(e.target)),this.closeCombobox(),this.combobox.focus(),e.preventDefault(),!1;case this.options.KEY_LEFT:case this.options.KEY_UP:return e.preventDefault(),this.moveFocusUp(),!1;case this.options.KEY_RIGHT:case this.options.KEY_DOWN:return e.preventDefault(),this.moveFocusDown(),!1}},n.prototype.toggleCombobox=function(){this.isInputSelect?(this.combobox.hasClass("is-expanded")||(this.openCombobox(),this.optionFocused&&this.optionFocused.focus()),this.inputbox.focus()):this.combobox.hasClass("is-expanded")?this.closeCombobox():(this.openCombobox(),this.optionFocused&&this.optionFocused.focus())},n.prototype.closeCombobox=function(){this.textbox.removeClass("is-open"),this.combobox.removeClass("is-expanded"),this.listbox.removeClass("is-open"),this.listboxContainer.removeClass("is-shadowed"),this.listbox.css("max-height",0),this.listboxContainer.css("height",this.listboxContainer.parent().height()+"px")},n.prototype.focusActiveOption=function(){this.previousOptionFocused&&this.previousOptionFocused.removeClass("is-focused"),this.optionFocused&&this.optionFocused.addClass("is-focused"),this.previousOptionFocused=this.optionFocused},n.prototype.openCombobox=function(){this.listbox.children().length<=0&&this.populateListbox(),this.selected&&(this.optionFocused=this.selected),this.focusActiveOption(),this.textbox.addClass("is-open"),this.combobox.addClass("is-expanded"),this.listbox.addClass("is-open"),this.listboxContainer.addClass("is-shadowed");var t=this.listbox.children().outerHeight(!0);this.listbox.css("max-height",Math.min(this.options.MAX_ITEM_COUNT_TO_SHOW,this.listbox.children().length)*t+"px"),this.listboxContainer.css("height",Math.min(this.options.MAX_ITEM_COUNT_TO_SHOW,this.listbox.children().length)*t+this.listboxContainer.parent().outerHeight(!0)+"px"),this.listbox.children().length>this.options.MAX_ITEM_COUNT_TO_SHOW&&this.listbox.addClass("is-scrollable")},n.prototype.populateListbox=function(e){function i(e){var n=t("<div></div>"),a=0,s=this;return t.each(e,function(e,o){var r=t("<div></div>");if((o=t(o)).is("option"))r.text(o.attr("label")||o.text()).attr("tabindex",-1).addClass("c-select__option").addClass(o.prop("disabled")?"is-disabled":"is-selectable"),o.val()===s.$element.val()&&(r.addClass("is-selected"),s.selected=r,s.optionFocused=r),r.appendTo(n),o.prop("disabled")?r.removeAttr("tabindex"):o.val()===s.$element.val()&&(s.optionFocused=r);else if(o.is("optgroup")){var l=i.call(s,o.children());if(a++,l.children().length){a+=l.children().length;var h=t("<div></div>").text(o.attr("label")).addClass("c-select__heading");r.addClass("c-select__optgroup").append(l.prepend(h).children()).appendTo(n)}}}),a>this.options.MAX_ITEM_COUNT_TO_SHOW&&this.listbox.addClass("is-scrollable"),n}if(this.populateText(),void 0!==e)n=e;else var n=this.$element.children();var a=i.call(this,n).children();this.listbox.append(a)},n.prototype.moveFocusUp=function(){for(var e=this.listbox.find(".c-select__option"),i=e.index(this.optionFocused[0])-1;i>=0;i--){var n=t(e[i]);if(n.hasClass("is-selectable")){this.optionFocused=n,this.optionFocused.focus(),this.focusActiveOption();break}}},n.prototype.moveFocusDown=function(){for(var e=this.listbox.find(".c-select__option"),i=e.index(this.optionFocused[0])+1;i<e.length;i++){var n=t(e[i]);if(n.hasClass("is-selectable")){this.optionFocused=n,this.optionFocused.focus(),this.focusActiveOption();break}}},n.prototype.buildCombobox=function(){if(this.textbox=t("<div></div>").addClass("c-select__textbox").attr("tabindex",-1),this.isInputSelect){var e=this.$element.children(":selected")[0].textContent||"";this.inputbox=t('<input placeholder="'+e+'">').addClass("c-select__input"),this.textbox.append(this.inputbox)}this.listbox=t("<div></div>").addClass("c-select__listbox").attr("tabindex",-1).append(this.selector),this.combobox=t("<div></div>").addClass(this.cssElementClasses).attr("tabindex",0),this.listboxContainer=t("<div></div>").addClass("c-select__listbox-container").append(this.textbox).append(this.listbox),this.combobox.append(this.listboxContainer)},n.prototype.refresh=function(){this.buildCombobox(),this.$element.prev().replaceWith(this.combobox),this.stealLabel(),this.synchronizeAttributes(),this.populateText(),this.registerHandlers()}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.init()}var a="brsShadowOverflow";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){s.apply(this,arguments),this.$element.scroll(s.bind(this))};var s=function(){this.$element.toggleClass("has-shadow-left",0<this.$element[0].scrollLeft),this.$element.toggleClass("has-shadow-right",this.$element[0].scrollLeft+this.$element[0].offsetWidth+2<=this.$element[0].scrollWidth)}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,i),this._name=a,this.init()}var a="brsShowHideSelect";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){this.selectId=this.$element.attr("data-show-hide-select"),this.$sections=t('[data-show-hide-select-target="'+this.selectId+'"]'),this.$element.on("change",function(e){var i=t(e.target).val();this.$sections.addClass("u-hidden"),t('[data-show-hide-select-target="'+this.selectId+'"][data-show-hide-select-section="'+i+'"]').removeClass("u-hidden"),t('[data-show-hide-select-target="'+this.selectId+'"][data-show-hide-select-section-'+i.toLowerCase()+"]").removeClass("u-hidden")}.bind(this))}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.$showIcon=t(e).parent().find("[data-brs-showable-password-button]"),this.isVisible=!1,this.options=t.extend({},t.fn[a].defaults,t(e).data(),i),this._name=a,this.init()}var a="brsShowablePassword";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={propertyName:"value",otherOption:[]},n.prototype.instance=function(){return this},n.prototype.init=function(){this.$showIcon.click(this.togglePasswordVisibility.bind(this))},n.prototype.togglePasswordVisibility=function(){this.$element.attr("type",this.isVisible?"password":"text"),this.$showIcon.toggleClass("is-active"),this.isVisible=!this.isVisible}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,t(e).data(),i),this._name=a,this.init()}var a="brsSly";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={sly:{horizontal:1,itemNav:"centered",itemSelector:"li",smart:!0,mouseDragging:1,touchDragging:1,speed:600,elasticBounds:1,dragHandle:1,dynamicHandle:1}},n.prototype.instance=function(){return this},n.prototype.init=function(){var e=this.options.sly;this.$element.data("brsSlyPrev")&&(e.prev=this.$element.data("brsSlyPrev")),this.$element.data("brsSlyNext")&&(e.next=this.$element.data("brsSlyNext")),this.$element.data("brsSlyStartAt")&&(e.startAt=this.$element.data("brsSlyStartAt"));var n=new Sly(this.$element,e).init();if(this.$element.data("brsSlyReloadOnTabClick")){var a=this;t(i).find(this.$element.data("brsSlyReloadOnTabClick")).on("tab:click",function(){t(i).trigger("load",a.$element),n.reload()})}}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,t(e).data(),i),this._name=a,this.init()}var a="brsSortableColumn";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var t=this.$element.data("brsSortColumn");if(t){var i=this.$element.data("brsOrderAsc"),n=e.location.href,a=void 0!==this.$element.data("brsSortColumnParameterName")?this.$element.data("brsSortColumnParameterName"):"sortColumn",s=a+"="+t,o=void 0!==this.$element.data("brsOrderAscParameterName")?this.$element.data("brsOrderAscParameterName"):"orderAsc",r=o+"="+i;if(-1!==n.indexOf("?")){if(-1!==n.indexOf(a)){l=new RegExp(a+"=[\\w-]*");n=n.replace(l,s)}else n=n+"&"+s;if(-1!==n.indexOf(o)){var l=new RegExp(o+"=\\d");n=n.replace(l,r)}else n=n+"&"+r}else n=n+"?"+s+"&"+r;this.$element.click(function(){e.location=n})}}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.init()}var a="bindStickyKit";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={fixedNavbarHeight:170},n.prototype.instance=function(){return this},n.prototype.init=function(){var n=this;n.options.fixedNavbarHeight=parseInt(t("body").css("padding-top")),n.bindSticky(n.options.fixedNavbarHeight),t(i).on("load",function(){n.bindSticky(n.options.fixedNavbarHeight)}),t(e).resize(function(){n.bindSticky(n.options.fixedNavbarHeight)})},n.prototype.bindSticky=function(t){void 0!==this.$element.data("stickyKit")?e.matchMedia(this.$element.data("stickyKit")).matches?(this.$element.stick_in_parent({offset_top:t,parent:"[data-sticky-container]",spacer:"[data-sticky-spacer]"}),this.$element.trigger("sticky_kit:recalc")):this.$element.trigger("sticky_kit:detach"):(this.$element.stick_in_parent({offset_top:t,parent:"[data-sticky-container]",spacer:"[data-sticky-spacer]"}),this.$element.trigger("sticky_kit:recalc"))}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.element=t(e),this.options=t.extend({},t.fn[a].defaults,i),this._name=a,this.init()}var a="brsSubMenuBar";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={propertyName:"value",otherOption:[]},n.prototype.instance=function(){return this},n.prototype.init=function(){s.apply(this,arguments),t(e).resize(s.bind(this)),this.hideShow()};var s=function(){var t=this.calcWidth();this.positionedLine(t)};n.prototype.calcWidth=function(){var e=this.element,i=[],n=e.find("[data-submenubar-list]").children("li:not([data-submenubar-more])"),a=n.last(),s=e.find("[data-submenubar-subnav-list]"),o=e.find("[data-submenubar-more]"),r=0,l=o.outerWidth(!0),h=e.outerWidth(!0)-l;if(e.css("overflow","visible"),n.each(function(){r+=t(this).outerWidth(!0)}),r>h)a.attr("data-submenubar-more-width",a.outerWidth(!0)),a.prependTo(s),this.calcWidth();else{var c=s.find("li").first();r+c.data("submenubar-more-width")<h&&c.insertBefore(o)}return o.find("li").length?o.removeClass("is-hidden"):o.addClass("is-hidden"),i.push(e.find("[data-submenubar-list]").children("li:not([data-submenubar-more])"),e.find("[data-submenubar-list]").children("li:not([data-submenubar-more])[data-submenubar-item-current]")),i},n.prototype.hideShow=function(){this.element.find("[data-submenubar-more] > a").on("click",function(t){this.element.find("[data-submenubar-subnav]").toggleClass("is-visible"),t.preventDefault()}.bind(this))},n.prototype.positionedLine=function(e){var i,n,a,s=this.element,o=s.find("[data-submenubar-magic-line]"),r=s.find("[data-submenubar-more]"),l=s.find("[data-submenubar-subnav]"),h=e[1];if(h.length>0){var c=h.find("[data-submenubar-link]");o.show().width(h.width()).css("left",c.position().left).data("origLeft",o.position().left).data("origWidth",o.width()),e[0].each(function(){l.find("[data-submenubar-item]").off(),t(this).on({mouseover:function(){(i=t(this).find("[data-submenubar-link]")).position()&&(n=i.position().left,a=i.parent().width(),o.stop().animate({left:n,width:a},250))},mouseout:function(){o.stop().animate({left:o.data("origLeft"),width:o.data("origWidth")},250)}})}),r.removeClass("is-active")}else o.hide(),r.addClass("is-active")}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.switched=!1,this.$tableWrapper=!1,this.$tableScroller=!1,this.$pinnedArea=!1,this.rows=this.$element.find("tr").length,this.columns=this.$element.find("thead th").length,this.init()}var a="tableFixedColumn";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={dataAttribute:"data-table-fixed-column"},n.prototype.instance=function(){return this},n.prototype.init=function(){t.isNumeric(this.options.tableFixedColumn)?(this.$container=this.$element.parent(),this.watchParentWidth(),t(e).smartresize(this.watchParentWidth.bind(this))):(this.watchOverflow(),t(e).smartresize(this.watchOverflow.bind(this)))},n.prototype.watchParentWidth=function(){this.$container.width()<this.options.tableFixedColumn?this.switched||(this.fixColumn(),this.shapeTable()):this.switched&&(this.unfixColumn(),this.unshapeTable())},n.prototype.unshapeTable=function(){this.$element.find("td, th").removeAttr("style")},n.prototype.shapeTable=function(){var t,e,i;for(t=0;t<this.rows;t++){var n=this.$pinnedArea.find("tr:eq("+t+") > *:eq(0)").prop("scrollHeight");for(e=0;e<this.columns;e++)(i=this.$tableScroller.find("tr:eq("+t+") > *:eq("+e+")")).outerHeight()>n&&(n=i.outerHeight()),i.prop("scrollHeight")>i.outerHeight()&&i.prop("scrollHeight")>n&&(n=i.prop("scrollHeight"));for(this.$pinnedArea.find("tr:eq("+t+") > *:eq(0)").css("height",n),e=0;e<this.columns;e++)this.$tableScroller.find("tr:eq("+t+") > *:eq("+e+")").css("height",n)}},n.prototype.watchOverflow=function(){var t,e,i=this.$element[0],n=!1;if(this.switched?(this.currentWidth=this.$tableWrapper.width(),this.currentWidth>this.widthBreakpoint&&this.unshapeTable()):this.currentWidth=this.$element.width(),i.offsetWidth<i.scrollWidth)n=!0;else{e=(t=this.$element.find("*")).length;for(var a=0;a<e;a++)if(t[a].offsetWidth<t[a].scrollWidth){n=!0;break}}n?((!this.widthBreakpoint||this.$element.width()>this.widthBreakpoint)&&(this.widthBreakpoint=this.$element.width()),this.switched||(this.fixColumn(),this.shapeTable())):this.switched&&(this.unfixColumn(),this.unshapeTable(),this.watchOverflow())},n.prototype.fixColumn=function(){var t="small"==this.options.tableFixedColumnArea?" js-table-fixed-column__scrollable-area--small":"",e="small"==this.options.tableFixedColumnArea?" js-table-fixed-column__pinned-area--small":"",i=this.$element.clone();i.find("td:not(:first-child), th:not(:first-child)").css("display","none"),i.find("td:first-child:empty, th:first-child:empty").html("&nbsp;"),this.switched=!0,this.$element.addClass("js-table-fixed-column__table"),this.$element.wrap('<div class="js-table-fixed-column" />'),this.$tableWrapper=this.$element.closest(".js-table-fixed-column"),this.$tableWrapper.append(i),i.wrap('<div class="js-table-fixed-column__pinned-area'+e+'" />'),this.$pinnedArea=i.closest(".js-table-fixed-column__pinned-area"),this.$element.wrap('<div class="js-table-fixed-column__scrollable-area'+t+'" />'),this.$tableScroller=this.$element.closest(".js-table-fixed-column__scrollable-area"),this.attachScrollShadowEvent()},n.prototype.unfixColumn=function(){this.switched=!1,this.$element.removeClass("js-table-fixed-column__table"),this.$element.closest(".js-table-fixed-column").find(".js-table-fixed-column__pinned-area").remove(),this.$element.unwrap(".js-table-fixed-column__scrollable-area").unwrap(".js-table-fixed-column")},n.prototype.attachScrollShadowEvent=function(){s.apply(this,arguments),this.$tableScroller.scroll(s.bind(this))};var s=function(){0<this.$tableScroller[0].scrollLeft?this.$tableScroller.addClass("has-shadow-left"):this.$tableScroller.removeClass("has-shadow-left"),this.$tableScroller[0].scrollLeft+this.$tableScroller[0].offsetWidth+2<=this.$tableScroller[0].scrollWidth?(this.$tableScroller.addClass("has-shadow-right"),this.$pinnedArea.addClass("show-border")):(this.$tableScroller.removeClass("has-shadow-right"),this.$pinnedArea.removeClass("show-border"))}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.columns=this.$element.find("tr").length,this.rows=this.$element.find("thead th").length,this.switched=!1,this.$container=this.$element.parent(),this.$tableScroller=this.$element.find("tbody"),this.$pinnedArea=this.$element.find("thead"),this.init()}var a="tableFlip";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){t.isNumeric(this.options.tableFlip)?(this.watchParentWidth(),t(e).smartresize(this.watchParentWidth.bind(this))):(this.watchOverflow(),t(e).smartresize(this.watchOverflow.bind(this)))},n.prototype.unshapeTable=function(){this.switched=!1,this.$element.removeClass("js-table-flip").find("td, th").removeAttr("style")},n.prototype.shapeTable=function(){var t,e,i;for(this.$element.addClass("js-table-flip"),t=0;t<this.rows;t++){var n=this.$element.find("thead th:eq("+t+")").outerHeight();for(e=0;e<this.columns;e++)(i=this.$element.find("tbody tr:eq("+e+") > *:eq("+t+")")).outerHeight()>n&&(n=i.outerHeight()),i.prop("scrollHeight")>i.outerHeight()&&(n=i.prop("scrollHeight"));for(e=0;e<this.columns;e++)this.$element.find("tbody tr:eq("+e+") > *:eq("+t+")").css("height",n),this.$element.find("thead th:eq("+t+")").css("height",n)}this.switched=!0,this.attachScrollShadowEvent()},n.prototype.watchParentWidth=function(){this.$container.width()<this.options.tableFlip?this.switched||this.shapeTable():this.switched&&this.unshapeTable()},n.prototype.watchOverflow=function(){var t,e,i=this.$element[0],n=!1;if(this.switched?(this.currentWidth=this.$container.width(),this.currentWidth>this.widthBreakpoint&&this.unshapeTable()):this.currentWidth=this.$element.width(),i.offsetWidth<i.scrollWidth)n=!0;else{e=(t=this.$element.find("*")).length;for(var a=0;a<e;a++)if(t[a].offsetWidth<t[a].scrollWidth){n=!0;break}}n?((!this.widthBreakpoint||this.$element.width()>this.widthBreakpoint)&&(this.widthBreakpoint=this.$element.width()),this.shapeTable()):this.switched&&(this.unshapeTable(),this.watchOverflow())},n.prototype.attachScrollShadowEvent=function(){s.apply(this,arguments),this.$tableScroller.scroll(s.bind(this))};var s=function(){0<this.$tableScroller[0].scrollLeft?(this.$element.addClass("has-shadow-left"),this.$pinnedArea.removeClass("show-border")):(this.$element.removeClass("has-shadow-left"),this.$pinnedArea.addClass("show-border")),this.$tableScroller[0].scrollLeft+this.$tableScroller[0].offsetWidth+2<=this.$tableScroller[0].scrollWidth?this.$element.addClass("has-shadow-right"):this.$element.removeClass("has-shadow-right")}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.element=t(e),this.tabs=this.element.find("[data-tabs]"),this.options=t.extend({},t.fn[a].defaults,i),this._name=a,this.init()}var a="brsTabsChart";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){this.tabs.find("[data-tabs-link]").on("click",function(i){i.preventDefault(),t(t(i.currentTarget).attr("href")).css("min-height","20rem"),t(i.currentTarget).addClass("is-active"),t(t(i.currentTarget).attr("href")).addClass("is-active");var n=t(t(i.currentTarget)).attr("href"),a=t(n).find("div[id^=eod_container]")[0],s={symbol:t(a).data("brsQuoteChartSymbol"),$graph:[],urlWS:"/bourse/action/graph/ws/",saveTrace:!1,drawings:[],noCommand:!0,callType:"GET",chartSimple:!1};e.VGP=s;var o={resizeChart:!1,VGP:s,defaultTemplate:{histoLength:365,paddingTop:0,paddingLeft:0,paddingBottom:20,paddingRight:45,mainChart:{type:"line",typedef:{color2:"rgba(53,170,227,1)",color3:"rgba(51,99,160,1)",v1:!0}},indicators:[],set:{nohighlow:!0,veilleColor:"#f94aa6",veilleWidth:2,bkcolor:"rgba(0,0,0,0)",txtColor:"#000000",gridV:!1,gridH:!1,gridLine:!0,gridColor:"#263c53",cadreColor:"transparent",nosticky:!0}}};t(a).brsQuoteChart(o)}.bind(this))}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.element=t(e),this.$scroll=this.element.find("[data-custom-scroll]"),this.$scrollbar=this.element.find("[data-custom-scrollbar]"),this.$panels=this.element.find("[data-tabs-panel]"),this.$items=this.element.find("[data-tabs-link]"),this.options=t.extend({},t.fn[a].defaults,i),this._name=a,this._attachedName=s,this.init()}var a="brsTabs",s="brsCustomScroll";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={shadow:!1},n.prototype.instance=function(){return this},n.prototype.init=function(){this.$scroll.on(this._attachedName+":load",function(t,e){this.checkScrolling(e.pos)}.bind(this)),this.createScrolling(),t(e).smartresize(this.createScrolling.bind(this)),this.$items.on("click",function(e){e.preventDefault(),t(t(e.currentTarget).attr("href")).css("min-height","20rem"),this.$items.removeClass("is-active"),this.$panels.removeClass("is-active"),t(e.currentTarget).addClass("is-active"),t(t(e.currentTarget).attr("href")).addClass("is-active"),t(t(e.currentTarget)).trigger("tab:click")}.bind(this))},n.prototype.createScrolling=function(){this.navViewport=parseInt(this.$scroll.width()),parseInt(this.getTabsWidth())>=this.navViewport?(this.$scroll.trigger(this._attachedName+":init"),this.$scrollbar.on({mouseenter:function(){this.element.addClass("is-visible")}.bind(this),mouseleave:function(){this.element.removeClass("is-visible")}.bind(this)}),this.options.shadow&&this.$scroll.off(this._attachedName+":move").on(this._attachedName+":move",function(t,e){this.checkScrolling(e)}.bind(this))):(this.element.removeClass("is-visible is-scrollable"),this.$scroll.trigger(this._attachedName+":destroy"),this.$scrollbar.off())},n.prototype.getTabsWidth=function(){var e=0;return this.$items.each(function(){e+=t(this).outerWidth(!0)}),Math.ceil(e)},n.prototype.checkScrolling=function(t){t.cur==t.end?this.element.removeClass("is-scrollable"):this.element.addClass("is-scrollable")}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.$submitButton=this.$element.find("[data-brs-video-theme-filter-submit]"),this.$sortSelect=t("[data-brs-theme-sort]"),this.options=t.extend({},t.fn[a].defaults,i),this._name=a,this.init()}var a="brsVideoThemeFilter";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var e=this;this.refreshUrl=this.$element.data("refreshUrl"),this.refreshTargetSelector=this.$element.data("refreshTarget"),this.$refreshTarget=null,this.refreshTargetSelector&&(this.$refreshTarget=t("["+this.refreshTargetSelector+"]")),this.$sortSelect=t("[data-brs-theme-sort]"),this.$circleLoader=this.$element.find("[data-loader-circle]"),this.$submitButton.on("click",function(){return e.refreshVideos(),!1}),this.$sortSelect.on("change",function(){e.refreshVideos()})},n.prototype.buildRefreshUrl=function(){var t="?videoDuration="+this.$element.find("input[name=videoDuration]:checked").val()+"&minDate="+this.$element.find("input[name=theme-filter-min-date]").val()+"&maxDate="+this.$element.find("input[name=theme-filter-max-date]").val()+"&sortBy="+this.$sortSelect.val();return this.refreshUrl+t},n.prototype.refreshVideos=function(){if(this.$refreshTarget){var e=this.buildRefreshUrl(),n=this;this.$submitButton.hide(),this.$circleLoader.show(),this.$refreshTarget.fadeTo("slow",.1),this.$refreshTarget.css("pointer-events","none"),t.ajax({type:"GET",url:e}).done(function(e){if(n.$submitButton.show(),n.$circleLoader.hide(),n.$refreshTarget.animate({opacity:1}),n.$refreshTarget.css("pointer-events","auto"),e){var a=t(e),s=t(e),o=a.find("["+n.refreshTargetSelector+"]");n.$refreshTarget.html(o.children()),dctThumb(n.$refreshTarget.get(0).querySelectorAll("[data-thumb-lazy]")),s.find("[data-load-more]").length?(t("[data-brs-theme-videos]").get(0).setAttribute("data-load-more-target",s.find("[data-load-more]").data("loadMore")),n.$refreshTarget.find("[data-load-more]").show(),n.$refreshTarget.find("[data-load-more]").loadMore()):n.$refreshTarget.find("[data-load-more]").hide(),t(i).trigger("load",this.target)}})}}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.init()}var a="ellipsisShowMore";t.fn[a]=function(e){return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(args,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.init=function(){this.showMoreContent()},n.prototype.showMoreContent=function(){var e=this;this.$element.on("click",function(){var n=t(this).attr("data-show-more");t(i).find('[data-target="'+n+'"]').removeClass(function(t,e){return(e.match(/\bo-ellipsis\S*/g)||[]).join(" ")}),e.$element.addClass("u-hidden")})}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.element=t(e),this.options=t.extend({},t.fn[s].defaults,t(e).data(),i),this._name=s,this.src=this.element.attr("src"),this.init()}function a(i){var n,a,s,o;if(!(i=t(i)[0]))throw"invalid element";for(n=i.offsetTop,a=i.offsetLeft,s=i.offsetWidth,o=i.offsetHeight;i.offsetParent;)n+=(i=i.offsetParent).offsetTop,a+=i.offsetLeft;return n<e.pageYOffset+e.innerHeight&&a<e.pageXOffset+e.innerWidth&&n+o>e.pageYOffset&&a+s>e.pageXOffset}var s="hinclude",o=[];t(e).scroll(function(){var t=null;o.length&&(t&&clearTimeout(t),t=setTimeout(function(){o.forEach(function(t,e){a(t.element)&&(t.update(t.element,t.src),o.splice(e,1))})},250))}),t.fn[s]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+s)?"string"===t.type(e)&&t.data(this,"plugin_"+s)[e].apply(t.data(this,"plugin_"+s),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+s,new n(this,e))})},t.fn[s].defaults={autoload:!0},n.prototype.init=function(){var e=this.element;this.element.trigger(s+":init"),this.options.loadOnReveal&&(this.options.autoload=!1,this.loadOnReveal()),this.options.autoload&&this.update(this.element,this.src),this.element.on("submit click","form, a",function(i){var n=t(i.currentTarget),a=HTMLAnchorElement.prototype.isPrototypeOf(i.currentTarget),s=HTMLFormElement.prototype.isPrototypeOf(i.currentTarget);void 0===n.attr("data-sealed")&&void 0===e.attr("data-sealed")||(a?(i.preventDefault(),i.stopPropagation(),this.update(e,n.attr("data-href")?n.attr("data-href"):n.attr("href"))):s&&"submit"===i.type&&(i.preventDefault(),i.stopPropagation(),this.update(e,n.attr("action"),n.serializeArray(),n.attr("method"))))}.bind(this))},n.prototype.reload=function(){this.update(this.element,this.element.attr("src"))},n.prototype.update=function(e,n,a,s){var o=this;"POST"!==(s=void 0!==s?s.toUpperCase():"GET")&&"GET"!==s&&(s="GET");var r={"X-HInclude":1};this.element.attr("data-cache-key")&&(r["X-HInclude-Cache-Key"]=this.element.attr("data-cache-key")),this.element.attr("data-cache-duration")&&(r["X-HInclude-Cache-Duration"]=this.element.attr("data-cache-duration")),this.element.attr("data-cache-public")&&(r["X-HInclude-Cache-Public"]=1),a=void 0!==a?a:{},this.xhr=t.ajax(n,{dataType:"html",method:s,data:t.extend(a,{_hinclude:"1"}),headers:r,statusCode:{401:function(){0!==i.location.pathname.indexOf("/connexion")&&(i.location="/connexion?org="+i.location.pathname)}},success:function(n,a){o.checkHincludeContent(n,a)&&(t(e).html(n),t(i).trigger("load",t(e)))},error:function(t){},complete:function(){t(e).trigger("complete")}})},n.prototype.checkHincludeContent=function(t,e){return!(t.indexOf("</body>")>-1||t.indexOf("</html>")>-1)},n.prototype.stop=function(){this.xhr&&this.xhr.abort()},n.prototype.loadOnReveal=function(){a(this.element)?this.update(this.element,this.src):o.push(this)}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.init()}var a="loadMore";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var e=this;this.id=this.$element.data("loadMore"),this.target=t("[data-load-more-target="+this.id+"]"),this.url=this.$element.data("loadMoreUrl"),this.limit=this.$element.data("loadMoreLimit"),this.offset={},this.offset.default=this.$element.data("loadMoreOffset"),this.offset.current=this.$element.data("loadMoreOffset"),this.offset.max=this.$element.data("loadMoreOffsetMax"),this.$element.on("click",function(){e.load()}),this.target.find("[data-refreshable-trigger]").each(function(){t(this).on("change click",function(){e.offset.current=e.offset.default,e.$element.removeClass("u-hidden")})})},n.prototype.load=function(){this.$element.trigger(a+":load");var e=this.target.brsLoader(),n={};if(n.limit=this.limit,n.offset=this.offset.current,this.target.find("[data-load-more-parameter]").each(function(){var e=t(this).val().split("=");n[e[0]]=e[1]}),!this.$element.data("loadMoreUrl")&&this.target.find("[data-tabs-panel].is-active [data-refreshable]")){var s=this.target.find("[data-tabs-panel].is-active [data-refreshable]");this.url=s.data("refreshable")}var o=this.$element.next("[data-loader-circle]");o.length>0?o.show():e.data("plugin_brsLoader").showLoader(),this.$element.addClass("u-hidden"),t.ajax({type:"GET",context:this.$element,url:this.url,data:n}).done(function(n){var a=t(n).find("[data-load-more-content]").children();if(this.$element.data("loadMoreUrl")){this.target.find("[data-load-more-content]").append(a.hide().fadeIn(800));var s=this.target.find("[data-load-more-content]:first [data-thumb-lazy]");s&&dctThumb(s)}else this.target.find("[data-tabs-panel].is-active [data-load-more-content]")&&this.target.find("[data-tabs-panel].is-active [data-load-more-content]").append(a.hide().fadeIn(800));t(i).trigger("load",this.target),this.offset.current+=this.limit,o.length>0?o.hide():e.data("plugin_brsLoader").hideLoader(),a.length>=this.limit&&this.$element.removeClass("u-hidden"),this.offset.max&&this.offset.current>=this.offset.max&&this.$element.addClass("u-hidden")}.bind(this))}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.init()}var a="radioFilter";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.instance=function(){return this},n.prototype.init=function(){var e=this;this.targetId=this.$element.data("radioFilterTargetId"),this.$target=t("[data-radio-filter-target-content="+this.targetId+"]"),this.$element.find("[data-radio-filter-url]").each(function(){t(this).on("change",function(){e.remoteLoad(t(this).data("radioFilterUrl"))})}),this.$element.find("[data-radio-filter-target]").each(function(){t(this).on("change",function(){e.localLoad(t(this).data("radioFilterTarget"))})})},n.prototype.remoteLoad=function(e){var i=this;e&&t.ajax({type:"GET",url:e}).done(function(e){var n=t(t.parseHTML(e)),a=i.$target.find("[data-load-more]"),s="";a&&(s=a.data("loadMore"),n.find("[data-load-more]").get(0).setAttribute("data-load-more",s));var o=n.find("[data-radio-filter-target-content]").children();i.$target.html(o.hide().fadeIn(800)),s&&i.$target.find("[data-load-more]").loadMore();var r=i.$target.get(0).querySelectorAll("[data-thumb-lazy]");r&&dctThumb(r)})},n.prototype.localLoad=function(e){e&&(this.$element.find("[data-radio-filter-target]").each(function(){t("["+t(this).data("radioFilterTarget")+"]").addClass("u-hidden")}),t("["+e+"]").removeClass("u-hidden"))}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.method="GET",this.init()}var a="refreshable";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={refreshableLoader:!1},n.prototype.instance=function(){return this},n.prototype.init=function(){this.$element.trigger(a+":init"),this.setUrl(this.$element.data("refreshable"))},n.prototype.setUrl=function(t){return this.$element.trigger(a+":setUrl"),this.url=t,this},n.prototype.setMethod=function(t){return this.$element.trigger(a+":setMethod"),this.method=t,this},n.prototype.load=function(n){this.$element.trigger(a+":load");var s=this,o=this.options;o.refreshableLoader&&this.$element.parent().addClass("is-loading"),t.ajax({type:this.method,context:this.$element,url:this.url,data:n}).done(function(n){if(n.redirect)e.location.href=n.redirect;else{var a,r=t(t.parseHTML(n,!0)),l='[data-refreshable="'+this.data("refreshable")+'"]',h=this.data("refreshableSelector");a=h?r.filter(h).length>0?r.filter(h):r.find(h):r.attr("data-refreshable")&&r.attr("data-refreshable")===this.data("refreshable")?r.children():r.find(l).length>0?r.find(l).children():r,this.html(a).fadeIn(),o.refreshableLoader&&this.parent().removeClass("is-loading"),t(i).trigger("load",s.$element),s.$element.find("[data-thumb-lazy]").length>0&&dctThumb(s.$element.find("[data-thumb-lazy]").toArray())}})}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.init()}var a="showHideDataTarget";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.init=function(){this.$dataShow=t(this.$element.find("[data-show]")),this.$dataHide=t(this.$element.find("[data-hide]"));var e=this;t.each(this.$dataShow,function(i,n){var a=t(n).attr("data-show");t(n).is("[data-show-on-load]")?e.$element.find('[data-show="'+a+'"]').addClass("u-hidden"):(t(n).attr("data-show-sibling")?t('[data-target="'+a+'"]').addClass("u-hidden"+this.getTargetBreakpoint(t(n))).find("input, select").prop("disabled",!0):this.$element.find('[data-target="'+a+'"]').addClass("u-hidden"+this.getTargetBreakpoint(t(n))).find("input, select").prop("disabled",!0),e.$element.find('[data-hide="'+a+'"]').addClass("u-hidden"))}.bind(this)),this.showElements(),this.hideElements()},n.prototype.showElements=function(){var e=this;this.$dataShow.on("click",function(n){var a=t(this).attr("data-show");t(this).attr("data-show-sibling")?t('[data-target="'+a+'"]').removeClass("u-hidden"+e.getTargetBreakpoint(t(this))).find("input, select").prop("disabled",!1):e.$element.find('[data-target="'+a+'"]').removeClass("u-hidden"+e.getTargetBreakpoint(t(this))).find("input, select").prop("disabled",!1),e.$element.find('[data-show="'+a+'"]').addClass("u-hidden"),e.$element.find('[data-hide="'+a+'"]').removeClass("u-hidden"),t(i).trigger("showPortholeEvent",[e.$element.find('[data-target="'+a+'"]')]),n.preventDefault()})},n.prototype.hideElements=function(){var e=this;this.$dataHide.on("click",function(i){var n=t(this).attr("data-hide");t(this).attr("data-show-sibling")?t('[data-target="'+n+'"]').addClass("u-hidden"+e.getTargetBreakpoint(t(this))).find("input, select").prop("disabled",!0):e.$element.find('[data-target="'+n+'"]').addClass("u-hidden"+e.getTargetBreakpoint(t(this))).find("input, select").prop("disabled",!0),e.$element.find('[data-show="'+n+'"]').removeClass("u-hidden"),e.$element.find('[data-hide="'+n+'"]').addClass("u-hidden"),i.preventDefault()})},n.prototype.getParentBreakpoint=function(t){return t.parent().data("hideTargetBreakpoint")},n.prototype.getTargetBreakpoint=function(t){var e=this.getParentBreakpoint(t);return e?"@"+e:""}}(jQuery,window,document),function(t,e,i){"use strict";function n(e,i){this.$element=t(e),this.options=t.extend({},t.fn[a].defaults,this.$element.data(),i),this._name=a,this.init()}var a="showHideTable";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.init=function(){this.$dataShow=t(this.$element.find("[data-show-table]")),this.$dataHide=t(this.$element.find("[data-hide-table]")),t.each(this.$dataShow,function(e,i){this.$element.find('[data-target-table="'+t(i).attr("data-show-table")+'"]').addClass("c-table--show-hide--active"+this.getTargetBreakpoint(t(i))).find("input, select").prop("disabled",!0)}.bind(this)),this.$dataHide.addClass("u-hidden"),this.showElements(),this.hideElements()},n.prototype.showElements=function(){var e=this;this.$dataShow.on("click",function(i){var n=t(this).attr("data-show-table");e.$element.find('[data-target-table="'+n+'"]').removeClass("c-table--show-hide--active"+e.getTargetBreakpoint(t(this))).find("input, select").prop("disabled",!1),e.$element.find('[data-show-table="'+n+'"]').addClass("u-hidden"),e.$element.find('[data-hide-table="'+n+'"]').removeClass("u-hidden"),i.preventDefault()})},n.prototype.hideElements=function(){var e=this;this.$dataHide.on("click",function(i){var n=t(this).attr("data-hide-table");e.$element.find('[data-target-table="'+n+'"]').addClass("c-table--show-hide--active"+e.getTargetBreakpoint(t(this))).find("input, select").prop("disabled",!0),e.$element.find('[data-show-table="'+n+'"]').removeClass("u-hidden"),e.$element.find('[data-hide-table="'+n+'"]').addClass("u-hidden"),i.preventDefault()})},n.prototype.getParentBreakpoint=function(t){return t.parent().data("hideTargetBreakpoint")},n.prototype.getTargetBreakpoint=function(t){var e=this.getParentBreakpoint(t);return e?"@"+e:""}}(jQuery,window,document),function(t,e){jQuery.fn[e]=function(t){return t?this.bind("resize",function(t,e,i){var n;return function(){var a=this,s=arguments;n?clearTimeout(n):i&&t.apply(a,s),n=setTimeout(function(){i||t.apply(a,s),n=null},e||100)}}(t)):this.trigger(e)}}(jQuery,"smartresize"),function(t,e,i,n){"use strict";function a(e,i){this.$element=t(e),this.element=this.$element[0],this.settings=t.extend({},o,i),this._defaults=o,this._name=s,this.init()}var s="tableCompare",o={targetBreakpoint:500,currentVisibleColumn:1,nextButtonText:"Comparer Suivant"};t.extend(a.prototype,{init:function(){this.allCells=this.$element.find("th, td"),this.rowHeaders=this.$element.find("tbody th"),this.columnHeaders=this.$element.find("thead th:not(:empty)"),this.nextButton=i.createElement("button"),this.nextButton.className="c-button o-vertical-interval",this.currentVisibleColumn=this.settings.currentVisibleColumn,this.createButtons(),this.updateTable(),e.addEventListener("resize",this.updateTable.bind(this))},showCurrentlyVisible:function(){for(var t=this.$element.find("thead th:not(:empty):nth-of-type( "+this.currentVisibleColumn+")"),e=this.$element.find("tbody td:nth-of-type("+this.currentVisibleColumn+")"),i=0;i<this.allCells.length;i++)this.allCells[i].style.display="none";for(t.show(),i=0;i<e.length;i++)e[i].style.display="block";for(i=0;i<this.rowHeaders.length;i++)this.rowHeaders[i].style.display="block"},createButtons:function(){this.nextButton.textContent=this.settings.nextButtonText,this.nextButton.style.display="none",this.element.parentNode.insertBefore(this.nextButton,this.element.nextSibling),this.nextButton.addEventListener("click",function(){this.currentVisibleColumn=this.currentVisibleColumn+1>this.columnHeaders.length?1:this.currentVisibleColumn+1,this.showCurrentlyVisible()}.bind(this))},updateTable:function(){var t=this.element.getBoundingClientRect().width;if(t>e.innerWidth||t<this.settings.targetBreakpoint)"active"!=this.element.getAttribute("data-comparing")&&(this.element.setAttribute("data-comparing","active"),this.nextButton.style.display="block",this.showCurrentlyVisible());else if("active"==this.element.getAttribute("data-comparing")){this.element.setAttribute("data-comparing",""),this.nextButton.style.display="none";for(var i=0;i<this.allCells.length;i++)this.allCells[i].style.display="";for(i=0;i<this.rowHeaders.length;i++)this.rowHeaders[i].style.display=""}}}),t.fn[s]=function(e){return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new a(this,e))})}}(jQuery,window,document),function(t){t.fn.stackcolumns=function(e){var i=t.extend({},{},e);return this.each(function(){var e=t(this),n="accordion"==e.data("tableStack"),a=0;if(e.find("tr").eq(0).find("td,th").each(function(){var e=t(this).attr("colspan");e?a+=parseInt(e,10):a++}),!(a<3)){var s=e.find("thead tr").length,o=0,r=t('<table class="o-table-stack--small-only '+e.attr("class")+'"></table>');void 0!==i.myClass&&r.addClass(i.myClass),e.addClass("o-table-stack--large-only");var l=t("<tbody></tbody>");l.addClass(t(this).find("tbody").attr("class"));for(var h=1,c=null,d=[],u=[];h<a;)e.find("tr").each(function(e){var i=t(this).closest("tfoot").length>0,r=t(this).closest("thead").length>0,p=t("<tr></tr>");p.addClass(t(this).attr("class")),r&&(p.addClass("o-table-stack__head-row"),o=o<s?o+1:1);var f=t(this).find("td,th").eq(0).clone().addClass("o-table-stack__key-cell"),m=h;if(t(this).find("*[colspan]").length){var g=0;t(this).find("td,th").each(function(){var e=t(this).attr("colspan");if(e?(e=parseInt(e,10),m-=e-1,g+e>h&&(m+=g+e-h-1),g+=e):g++,g>h)return!1})}var v=t(this).find("td,th").eq(m).clone().addClass("o-table-stack__value-cell").removeAttr("colspan");if(v.attr("rowspan"))if(r)d.push(m);else{var b=m,y=t.grep(u,function(t){return t.col<m&&e<=parseInt(t.rowspan,10)+parseInt(t.line,10)-1}).length;b=y>0?b+y:b,u.push({line:e,col:b,rowspan:v.attr("rowspan")})}if(r&&o>1)-1===t.inArray(m,d)&&(t.each(d,function(t,e){m>e&&--m}),v=t(this).find("td,th").eq(m).clone().addClass("o-table-stack__value-cell").removeAttr("colspan"),l.find("tr").last().find("th").addClass(v.attr("class")).append(" : "+v.text()));else{if(v.attr("rowspan")&&v.removeAttr("rowspan"),!r&&!i&&t(this).find("td,th").length<a){b=m,y=t.grep(u,function(t){return t.col<m&&e<=parseInt(t.rowspan,10)+parseInt(t.line,10)-1}).length,b=y>0?b+y:b;var x=t.grep(u,function(t){return t.col===b}),w=x.length>0,T=t.grep(u,function(t){return t.col<h&&e<=parseInt(t.rowspan,10)+parseInt(t.line,10)-1}).length>0;if(!w||T)T&&--m,v=t(this).find("td,th").eq(m).clone().addClass("o-table-stack__value-cell").removeAttr("colspan").removeAttr("rowspan");else if(w&&e<=parseInt(x[0].rowspan,10)+parseInt(x[0].line,10)-1){for(var C=t(this).prev(),S=(y=t.grep(u,function(t){return t.col<h&&C[0].rowIndex<=parseInt(t.rowspan,10)+parseInt(t.line,10)-1}).length)>0?b-y:b;C.length>0&&!C.find("th,td").eq(S).attr("rowspan");)S=(y=t.grep(u,function(t){return t.col<h&&C[0].rowIndex<=parseInt(t.rowspan,10)+parseInt(t.line,10)-1}).length)>0?b-y:b,C=C.prev();v=C.find("td,th").eq(S).clone().addClass("o-table-stack__value-cell").removeAttr("colspan").removeAttr("rowspan")}}if(t(this).find("td,th").eq(0).is(":empty")?(v.attr("colspan",2),p.append(v)):i&&!c?(v.attr("colspan",2),p.append(v),c=p):i||p.append(f,v),r&&n&&p.click(function(){t(this).nextUntil(".o-table-stack__spacing-row").toggle(),t(this).find(".o-table-stack__value-cell").toggleClass("is-open")}),1!==h&&1===o&&r){var M=t('<tr class="o-table-stack__spacing-row"><th colspan="2"></th></tr>');l.append(M)}i||l.append(p)}}),++h;if(c){var p=t('<tr class="o-table-stack__spacing-row"><th colspan="2"></th></tr>');l.append(p),c.addClass("c-table__footer"),l.append(c)}r.append(t(l)),n&&r.find(".o-table-stack__head-row .o-table-stack__value-cell:not(.is-open)").parent().nextUntil(".o-table-stack__spacing-row").hide(),e.before(r)}})}}(jQuery),function(t,e,i){"use strict";function n(e,i){this.element=t(e),this.options=t.extend({},t.fn[a].defaults,t(e).data(),i),this._name=a,this.zoneId=t(e).data("zoneId"),this.targetId=t(e).data("targetId"),this.desktopId=t(e).data("desktopId"),this.mobileId=t(e).data("mobileId"),this.async=!0,this.init()}var a="ultimediaVideoPlayer";t.fn[a]=function(e){var i=arguments;return this.each(function(){t.data(this,"plugin_"+a)?"string"===t.type(e)&&t.data(this,"plugin_"+a)[e].apply(t.data(this,"plugin_"+a),Array.prototype.slice.call(i,1)):t.data(this,"plugin_"+a,new n(this,e))})},t.fn[a].defaults={},n.prototype.init=function(){if(e.ULTIMEDIA_zone=this.zoneId,e.ULTIMEDIA_target=this.targetId,e.ULTIMEDIA_async=this.async,e.ULTIMEDIA_mdtk=this.desktopId,"function"==typeof MobileDetect){var i=new MobileDetect(e.navigator.userAgent);(i.mobile()||i.tablet()||e.navigator.userAgent.match(/BRSAPP\-IOS/)||e.navigator.userAgent.match(/BRSAPP\-ANDROID/))&&(e.ULTIMEDIA_mdtk=this.mobileId)}else console.warn("MobileDetect is not loaded");t.getScript("https://www.ultimedia.com/js/common/smart.js")}}(jQuery,window,document),$(function(){$.pjax.defaults||($.pjax.defaults={}),$.pjax.defaults.timeout=5e3,$.pjax.defaults.id=0,$.pjax.refreshContent=function(t,e){e=$.extend({push:!1,fragment:t,scrollTo:0},e),$(t).html($('[data-template="content-spinner"]').html()),$.pjax.reload(t,e)},$(document).on("pjax:beforeSend",function(t,e,i){i.fragment&&e.setRequestHeader("X-PJAX-Fragment",!0)})}),$(document).on("load",function(t,e){var i,n=$(e).find("[data-pjax-container]");i=function(t,e,i){var n=$.extend({},i);return n.container||($(e).data("pjax")&&$(e).data("pjax").length?n.container=$($(e).data("pjax")):n.container=$(e).closest("[data-pjax-container]")),n.container.length||(n.container=$("#content")),Object.keys($(e).data()).forEach(function(t){var i=$(e).data()[t];0===t.indexOf("pjax")&&"pjax"!==t&&(t=(t=t.replace("pjax","")).substr(0,1).toLowerCase()+t.substr(1),n[t]=i)}),n.container.attr("id")||n.container.attr("id","pjax-container-uid-"+$.pjax.defaults.id++),n.container.data("pjaxContainer").length&&(n.container.selector='[data-pjax-container="'+n.container.data("pjaxContainer")+'"]'),n},n.on("pjax:beforeSend",function(t,e,i){i.container.length&&e.setRequestHeader("X-PJAX-Container","#"+i.container.attr("id"))}),n.on("pjax:end",function(t,e,i){$(this);$(this).data("pjax:xhr",null),$(this).data("pjax:xhr:options",null),$(this).loadingBar&&$(this).loadingBar("end")}),n.on("pjax:success",function(t){$(document).trigger("load",$(this))}),n.on("pjax:popstate",function(){n.one("pjax:end",function(t){$(document).trigger("load",$(this))})}),$(e).find("a[data-pjax]").on("click",function(t){var e=i(0,$(this));t.currentTarget.href;console.log("pjax:click",t,e),""==t.currentTarget.hostname&&(t.currentTarget.hostname=location.hostname,t.currentTarget.protocol=location.protocol),t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||$.pjax.click(t,e)}),n.on("pjax:start",function(t){$(this)}),n.on("pjax:beforeReplace",function(t){}),$(e).find("select[data-pjax]").on("change",function(t){var e=$(this).find("option:selected").data("href"),n=i(0,$(this));e&&(n.url=e,$.pjax(n))}),$(e).find("form[data-pjax]").on("submit",function(t){var e,n,a=$(document.activeElement);t.currentTarget.action;if($(this).data("activeButtonNoValidate")||!$(this).data("validator")||$(this).data("validator").checkValidity()){if(!1===a.data("pjax"))return!0;if(e=i(0,$(this)),n=$.Event("pjax:submit",{options:e,activeElement:a&&a.length?a[0]:null,form:this}),$(this).trigger(n),n.isDefaultPrevented())return!0;$(this).trigger("pre-submit");try{$.pjax.submit(t,e)}catch(t){console.error(t)}}}).find('button[type="submit"]').on("click",function(){$(this).closest("form").data("activeButtonNoValidate",$(this).attr("formnovalidate"))})}),window.lang={l_cross:"RETICULE",l_pointer:"POINTEUR",l_eraser:"GOMME",l_1d:"1 JOUR",l_2d:"2 JOURS",l_5d:"5 JOURS",l_10d:"10 JOURS",l_15d:"15 JOURS",l_3m:"3 MOIS",l_6m:"6 MOIS",l_1y:"1 AN",l_2y:"2 ANS",l_5y:"5 ANS",l_10y:"10 ANS",l_15y:"15 ANS",l_20y:"20 ANS",l_25y:"25 ANS",l_1min:"1 MINUTE",l_2min:"2 MINUTES",l_5min:"5 MINUTES",l_10min:"10 MINUTES",l_15min:"15 MINUTES",l_30min:"30 MINUTES",l_1h:"1 HEURE",l_2h:"2 HEURES",l_4h:"4 HEURES",l_day:"JOUR",l_week:"HEBDO",l_month:"MENSUEL",l_area:"AIRE",l_bcc:"BAR CHART COLORÉS",l_candle:"BOUGIES",l_line:"LIGNE",l_season:"SAISONNALITÉ",l_mainind:"INDICATEURS PRINCIPAUX",l_boll:"BANDES DE BOLLINGER",l_keltner:"BANDES DE KELTNER",l_donchian:"CANAL DE DONCHIAN",l_regcurve:"COURBE REGRESSION LINEAIRE",l_regline:"DROITE REGRESSION LINEAIRE",l_envmm:"ENVELOPPE MOYENNE MOBILE",l_fievt:"EVENEMENTS FINANCIERS",l_actus:"ACTUALITES",l_mm:"MOYENNE MOBILE",l_mme:"MOYENNE MOBILE EXPO.",l_mmp:"MOYENNE MOBILE PONDEREE",l_mmt:"MOYENNE TRIANGULAIRE",l_sar:"PARABOLIQUE SAR",l_pivots:"POINTS PIVOTS",l_secind:"INDICATEURS SECONDAIRES",l_coppock:"COURBE DE COPPOCK",l_macdh:"MACD HISTOGRAMME",l_linearo:"OSCILL. REGRESSION LINEAIRE",l_moonphase:"PHASES DE LUNE",l_stoch:"STOCHASTIQUE",l_stochm:"STOCHASTIQUE MOMENTUM",l_stochr:"STOCHASTIQUE RSI",t_volume:"VOLUMES",l_fiboa:"ARCS DE FIBONACCI",l_fiboc:"CYCLES DE FIBONACCI",l_fibof:"FANIONS DE FIBONACCI",l_fiboe:"EXTENSIONS FIBONACCI",l_fibor:"RETRACEMENTS FIBONACCI",l_figures:"FIGURES",l_circle:"ELLIPSE - CERCLE",l_arrup:"FLECHE ACHAT",l_arrdw:"FLECHE VENTE",l_arrrt:"FLECHE DROITE",l_arrlt:"FLECHE GAUCHE",l_icones:"ICONES",l_arrow:"FLECHE",l_pitchf:"FOURCHETTE D'ANDREWS",l_ganng:"GRILLE DE GANN",l_ganna:"ANGLES DE GANN",l_horiz:"HORIZONTALE",l_verti:"VERTICALE",l_mesure:"MESURE",l_mesurev:"MESURE VERTICALE",l_mesureh:"MESURE HORIZONTALE",l_oblic:"OBLIQUE",l_para:"PARALLELES",l_eraseall:"TOUT EFFACER",l_detect:"DETECTIONS",l_marteau:"MARTEAUX",l_pendu:"PENDUS",l_pinces:"PINCES",l_maru:"MARUBOZU",l_soldiers:"3 SOLDATS",l_englob:"ENGLOBANTES",l_compare:"COMPARER",l_thclair:"THEME CLAIR",l_thfonce:"THEME FONCE",l_1g:"1 GRAPHIQUE",l_2g:"2 GRAPHIQUES",l_3g:"3 GRAPHIQUES",l_4g:"4 GRAPHIQUES",l_save:"Enregistrer",l_savenew:"Nouveau...",l_gerer:"Gérer",l_modeles:"Vos modèles de graphiques",l_interface:"Vos interfaces",l_modify:"Modifier",l_infos:"INFOS",l_btnlog:"Connectez-vous pour sauver vos personnalisations",l_mode:"Mode",l_duree:"Durée",l_period:"Période",l_style:"Style des cours",l_indics:"Indicateurs",l_tracet:"Outils de tracés",l_patterns:"Recherche de figures techniques",l_comparer:"Comparer avec une autre valeur",l_capture:"Capturer l'écran et partager",l_reglages:"Réglages",l_dispo:"Disposition de l'écran",l_help:"Aide en ligne",l_backt:"Stratégies",l_alert:"Alertes SMS",l_fullscreen:"Plein écran",l_save2:"Mise à jour du modèle en cours",l_savenew2:"Enregistre un nouveau modèle",l_gerer2:"Gérer vos modèles",l_save3:"Mise à jour de l'interface en cours",l_savenew3:"Enregistre une nouvelle interface",l_gerer3:"Gérer vos interfaces",l_searchsym:"Recherche valeur",l_msg1:"Vous pouvez mettre 4 indicateurs au maximum sous le graphique",l_msg2:"Vous pouvez mettre 6 indicateurs au maximum sous le graphique",l_msg3:"Graphique indisponible",l_msg4:"Graphique indisponible",l_ptpivot:"Points Pivots",l_fievents:"EVENEMENTS",l_mm2:"MM",l_mmt2:"MM Triang.",l_mmp2:"MM Pondérée",l_regcurve2:"LINEAR REG",l_regline2:"DROITE Reg. Lin.",l_mme2:"MM Expo",l_envmm2:"ENVELOPPE MM",l_seasonleg:"Pourcentage et performance des mois haussiers et baissiers des 10 dernières années",l_months:["Janv.","Févr.","Mars","Avril","Mai","Juin","Juill.","Août","Sept.","Oct.","Nov.","Déc."],l_up:"Hausse",l_down:"Baisse",l_moy:"Moy.",l_cours:"COURS",l_b:"B",l_m:"M",l_p:"P",l_s:"S",l_varperiod:"VARIATION PERIODE",l_automatic:"Automatique",l_upperb:"Seuil haut",l_lowerb:"Seuil bas",l_zone:"Zone",l_traitfi:"Trait fin",l_traitep:"Trait épais",l_moymob:"Moyenne mobile",l_datasource:'<div class="clearfix pad5">Source de données <select id="datasource"><option value="c">Clôture</option><option value="o">Ouverture</option><option value="h">Plus haut</option><option value="l">Plus bas</option><option value="m">(Haut + Bas)/2</option><option value="m2">(Haut + Bas + Clôt)/3</option><option value="m3">(Ouv + Haut + Bas + Clôt)/4</option></select></div>',l_suppindic:"Supprimer cet indicateur",l_resultat:"Résultat ",l_chifaff:"Chiffre d'affaires ",l_dividend:"Détachement dividende</b></br>Montant: ",l_split:"Division du nominal</b></br>Division par: ",l_supprimer:"Supprimer",l_dupliquer:"Dupliquer",l_createalert:"Créer une alerte",l_barres:" barres",l_jours:" jours",l_prd:"Période",l_ec:"Ecart-type",l_trace:"Tracé",l_remplis:"Remplissage",l_droitereg:"Droite régression",l_barrep:"Barre (%)",l_hausses:"Hausses",l_baisses:"Baisses",l_moyenne:"Moyenne",l_moymobile:"Moyenne mobile",l_variation:"Variation (%)",l_moymobp:"Moyenne mob. P",l_moymobe:"Moyenne mob. E",l_moymobt:"Moyenne mob. T",l_ecart:"Ecart(%)",l_coeff:"Coefficient",l_ecart2:"Ecart",l_atrperiod:"Période ATR",l_ombres:"Ombres",l_tboite:"Taille boite",l_border:"Encadrés",l_lines:"Lignes",l_histogram:"Histogramme",l_ascend:"Ascendant",l_descend:"Descendant",l_acheteur:"Acheteur",l_vendeur:"Vendeur",l_neutre:"Neutre",l_stok:"Lissage %K",l_stod:"Lissage %D",l_lissage:"Lissage",l_stochastic:"Stochastique",l_accel:"Accélération",l_lineareg:"Regression linéaire",l_nomvaleur:"Nom de valeur",l_comparewith:"Comparer cette valeur",l_indice:"Avec un indice ",l_aucun:"Aucun",l_titresect:"Avec un titre du secteur ",l_autrevaleur:"Avec une autre valeur "},window.VGP={$graph:[],clickHandler:"click",urlWS:"/bourse/action/graph/ws/",drawings:[],tabCache:[],callType:"GET",noCommand:!1},window.launchTimers=function(t,e,i){window.stopTimers(),VGP.tabCache={symbol:i,period:e},VGP.timer1=setInterval(function(){$("[data-brs-quote-chart]").brsQuoteChart("getChartRefresh",{})},3e4)},window.stopTimers=function(){clearInterval(VGP.timer1)},window.DisplayAlert=function(t,e){if($("[data-brs-quote-chart-error] .c-alert__text").text(t),3===e||4===e){var i=function(t){var e=$(t);if(e&&e[0]){e[0].getContext("2d").clearRect(0,0,e.width(),e.height())}};i("#main-eod_container1"),i("#overlay-eod_container1"),i("#trace-eod_container1"),i("#rodgraph-eod_container1"),$(".eod_mainchartinfos").empty(),$(".eod_topinfo").empty(),$(".c-quote-chart__error").show(),$(".eod_chart").hide(),window.stopTimers()}else $(".c-quote-chart__error").fadeIn(500).delay(3e3).fadeOut(500)},$(function(){if(window.quoteChartTemplates){window.VGP.symbol=quoteChartTemplates.symbol,window.VGP.noAutoSaveTrace=!0,window.VGP.noAutoReadTrace=!0;var t={VGP:VGP,showDrawing:!!quoteChartTemplates.showDrawing,defaultTemplate:quoteChartTemplates.default,enableRemoteSave:quoteChartTemplates.enableRemoteSave,lineTemplate:quoteChartTemplates.line,candleTemplate:quoteChartTemplates.candle,barcolorTemplate:quoteChartTemplates.barcolor};$("[data-brs-quote-chart]").brsQuoteChart(t)}}),$(function(){$("[data-track-search-engine]").submit(function(t){function e(t){return s.find("[name='"+t+"'] option:selected").text()}function i(t){return s.find("[name='"+t+"']").prop("checked")?"1":"0"}function n(t){return s.find("#"+t).prop("checked")?"1":"0"}function a(t){return s.find("[name='"+t+"']").val()}if(!tc_vars||!tc_vars.full_page_id||!tc_vars.user_level)return!0;var s=$(this),o={};switch(s.data("trackSearchEngine")){case"quotation_az_filter":o={market:e("quotation_az_filter[market]"),peaEligibility:i("quotation_az_filter[peaEligibility]"),peaPmeEligibility:i("quotation_az_filter[peaPmeEligibility]")};break;case"international_quotation_az_filter":o={country:e("international_quotation_az_filter[country]"),market:e("international_quotation_az_filter[market]")};break;case"france_filter":o={market:e("france_filter[market]"),sector:e("france_filter[sector]"),variation:e("france_filter[variation]"),period:e("france_filter[period]"),peaEligibility:i("france_filter[peaEligibility]"),peaPmeEligibility:i("france_filter[peaPmeEligibility]")};break;case"international_filter":o={country:e("international_filter[country]"),indexTrading:e("international_filter[indexTrading]"),variation:e("international_filter[variation]")};break;case"fundSearch":o={code:a("fundSearch[code]"),branding:e("fundSearch[branding]"),classe:e("fundSearch[classe]"),critgen:e("fundSearch[critgen]"),souscritgen:e("fundSearch[souscritgen]"),partners:i("fundSearch[partners]"),saving:i("fundSearch[saving]"),lifeInsurance:i("fundSearch[lifeInsurance]"),taxation:i("fundSearch[taxation]"),taxationPEAPME:i("fundSearch[taxationPEAPME]")};break;case"turbos_filter":o={nature:e("turbos_filter[nature]"),underlyingType:e("turbos_filter[underlyingType]"),underlyingName:e("turbos_filter[underlyingName]"),strikePriceMin:a("turbos_filter[strikePriceMin]"),strikePriceMax:a("turbos_filter[strikePriceMax]"),maturity:e("turbos_filter[maturity]"),issuer:e("turbos_filter[issuer]")};break;case"warrant_filter":o={nature:e("warrant_filter[nature]"),underlyingType:e("warrant_filter[underlyingType]"),underlyingName:e("warrant_filter[underlyingName]"),maturity:e("warrant_filter[maturity]"),deltaMin:a("warrant_filter[deltaMin]"),deltaMax:a("warrant_filter[deltaMax]"),issuer:e("warrant_filter[issuer]")};break;case"leverage_filter":o={leverageType:e("leverage_filter[leverageType]"),underlyingType:e("leverage_filter[underlyingType]"),underlyingName:e("leverage_filter[underlyingName]"),minLever:a("leverage_filter[minLever]"),maxLever:a("leverage_filter[maxLever]"),issuer:e("leverage_filter[issuer]")};break;case"other_leverage_filter":o={cappedAndFloored:n("other_leverage_filter_nature_0"),stabilityWarrants:n("other_leverage_filter_nature_1"),underlyingType:e("other_leverage_filter[underlyingType]"),underlyingName:e("other_leverage_filter[underlyingName]"),lowLimit:a("other_leverage_filter[lowLimit]"),highLimit:a("other_leverage_filter[highLimit]"),maturity:e("other_leverage_filter[maturity]"),issuer:e("other_leverage_filter[issuer]")};break;case"bonus_filter":o={nature:e("bonus_filter[nature]"),underlyingType:e("bonus_filter[underlyingType]"),underlyingName:e("bonus_filter[underlyingName]"),maturity:e("bonus_filter[maturity]"),issuer:e("bonus_filter[issuer]")};break;case"hundred_percent_filter":var r=e("hundred_percent_filter[nature]");r&&(r=r.replace("%","-pourcent")),o={nature:r,underlyingType:e("hundred_percent_filter[underlyingType]"),underlyingName:e("hundred_percent_filter[underlyingName]"),changeWarranty:e("hundred_percent_filter[changeWarranty]"),issuer:e("hundred_percent_filter[issuer]")};break;case"other_investment_products_filter":o={discounts:n("other_investment_products_filter_nature_0"),others:n("other_investment_products_filter_nature_1"),underlyingType:e("other_investment_products_filter[underlyingType]"),underlyingName:e("other_investment_products_filter[underlyingName]"),maturity:e("other_investment_products_filter[maturity]"),issuer:e("other_investment_products_filter[issuer]")};break;default:return!0}var l={fullPageId:tc_vars.full_page_id+"/search",userLevel:tc_vars.user_level,searchFilter:o,searchKeywords:"",searchPageNumber:""};return $.fn.tagCommander.trackVirtualPage(l),!0})}),function(t,e){var i=t.onerror;t.onerror=function(t,n,a,s,o){if("function"==typeof ga){var r=t;void 0!==o&&void 0!==o.message&&(r=o.message);var l={exDescription:r+=" @ "+n+":"+a+":"+s+" -> "+navigator.userAgent,exFatal:!1,errorType:"plain-js"};void 0!==e&&(void 0!==e.applicationName&&(l.appName=e.applicationName),void 0!==e.applicationVersion&&(l.appVersion=e.applicationVersion)),ga("send","exception",l),ga("send","event","JavaScript Error",t,r,0,!0)}return"function"==typeof i&&i(t,n,a,s,o)},t.jQuery&&"function"==typeof ga&&($(document).ajaxError(function(t,i,n,a){var s="ajaxError requesting URL : "+n.url+" error : "+a+" with : "+JSON.stringify({result:t.result,status:i.status,statusText:i.statusText,crossDomain:n.crossDomain,dataType:n.dataType,thrownError:a,userAgent:navigator.userAgent}),o={exDescription:s,exFatal:!1,appName:e.applicationName,errorType:"ajax",appVersion:e.applicationVersion};ga("send","exception",o),ga("send","event","jQuery Ajax Error",n.url,s,0,!0)}),jQuery.error=function(t){ga("send","event","jQuery Error",t,navigator.userAgent,0,!0)})}(window,{applicationName:"B20Portail",applicationVersion:window.BRS_APP_VERSION?window.BRS_APP_VERSION:""}),function(t){if(!(t.document.documentElement.className.indexOf("has-fonts-loaded")>-1)){var e=new t.FontFaceObserver("ProximaNova",{weight:100}),i=new t.FontFaceObserver("ProximaNova",{weight:400}),n=new t.FontFaceObserver("ProximaNova",{weight:500}),a=new t.FontFaceObserver("ProximaNova",{weight:700});t.Promise.all([e.load(),i.load(),n.load(),a.load()]).then(function(){t.document.documentElement.className+=" has-fonts-loaded",sessionStorage.hasFontLoaded=!0}).catch(function(){sessionStorage.hasFontLoaded=!1})}}(this),function(t){var e,i,n={transport:null},a=!!sessionStorage.getItem("feedStreaming:debug"),s={login:null,password:null,bufferedRenderingLoopDelay:500,uri:(document.location+"").replace(/^http/,"ws").split("/").slice(0,3).join("/"),highlightDelay:500,restartDelay:3e3,restartLimit:10,highlightClass:"js-feed-streaming-highlight",idleThreshold:18e5,idleInBackgroundThreshold:1e4},o=!1,r={},l={},h={},c={},d=[],u=!1,p=0,f=!1,m={symbols:{}},g={},v=["ask-quantity","ask-price","ask-size","bid-quantity","bid-price","bid-size"],b=["volume","last","variation","instant-variation","currency","high","low","last-trade-datetime","last-transactions","orderbook"],y=function(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})};n.computeLive=function(e,i){var a=r[e],s={};return void 0!==i.last&&i.last!==a.last&&(void 0===i.factor||isNaN(parseFloat(i.factor))||(i.last*=i.factor),a.variation=(i.last-a.prevClose)/a.prevClose,a.instantVariation+=(i.last-a.last)/a.last,s.variation=a.variation,s.instantVariation=a.instantVariation,s.last=a.last=i.last,i.last>a.high&&(a.high=s.high=i.last),i.last<a.low&&(a.low=s.low=i.last)),void 0!==i.volume&&i.volume!==a.volume&&(a.volume=i.volume,s.volume=i.volume),i.tradeTime&&(a.lastTradeDatetime=i.tradeTime,s.lastTradeDatetime=moment(moment().format("YYYY-MM-DD ")+i.tradeTime).toDate()),i.tradeVolume&&i.tradeTime&&i.last&&(s.transactions=s.transactions||[],lTransac={tradeVolume:i.tradeVolume,lastTradeDatetime:i.tradeTime,last:i.last},s.transactions.push(lTransac),moment(a.lastTradeDatetime).format("YYYY-MM-DD HH:mm:ss")<moment().format("YYYY-MM-DD ")+i.tradeTime&&(a.lastTradeDatetime=s.lastTradeDatetime=moment(moment().format("YYYY-MM-DD ")+i.tradeTime).toDate()),t(document).trigger("feedstreaming:newtransaction",Object.assign({symbol:e},lTransac))),n.computeIntraday(e,i),s},n.computeBook=function(e,i){var n=r[e],a={},s=parseInt(i.bookRow,10);return delete i.bookRow,n.orderbook.lines[s]=t.extend({},n.orderbook.lines[s],i),a.orderbook=[],a.orderbook[s]=n.orderbook.lines[s],-2==a.orderbook[s].askPrice&&(a.orderbook[s].askPrice="MX"),-2==a.orderbook[s].bidPrice&&(a.orderbook[s].bidPrice="MX"),isNaN(a.orderbook[s].askPrice)&&"MX"!==a.orderbook[s].askPrice&&delete a.orderbook[s].askPrice,isNaN(a.orderbook[s].askQuantity)&&delete a.orderbook[s].askQuantity,isNaN(a.orderbook[s].bidPrice)&&"MX"!==a.orderbook[s].bidPrice&&delete a.orderbook[s].bidPrice,isNaN(a.orderbook[s].bidQuantity)&&delete a.orderbook[s].bidQuantity,a},n.computeIntraday=function(t,e){var i,n=r[t];e.tradeTime&&(g[t]=g[t]?g[t]:{volume:0,openingLast:n.last,last:n.last,high:n.last,low:n.last,closeLast:n.last,prevClose:n.prevClose,lastTradeDatetime:null},(i=g[t]).closeLast=e.last,i.high=Math.max(i.last,i.high),i.low=Math.min(i.last,i.low),i.volume+=parseInt(e.tradeVolume,10),i.timestamp=moment(e.tradeTime,"HH:mm:ss").format())},n.intradayRenderingLoop=function(){Object.keys(g).forEach(function(e){var i=g[e];delete g[e],t(document).trigger("feedstreaming:intraday",{symbol:e,intraday:i})})},n.bufferedRendering=function(e,i){var a;return m.symbols[e]||(m.symbols[e]={transactions:[],orderbook:[]}),a=m.symbols[e],i.orderbook&&(t.extend(a.orderbook,i.orderbook),delete i.orderbook),t.extend(a,i),i.transaction&&(a.transactions.push(i.transaction),delete i.transaction,delete a.transaction),!m.isRunning&&(m.isRunning=!0,m.timeoutId=setTimeout(function(){Object.keys(m.symbols).forEach(function(t){n.render(t,m.symbols[t]),delete m.symbols[t]}),m.isRunning=!1},s.bufferedRenderingLoopDelay),!0)},n.isConnected=function(){return!!n.socket},n.render=function(e,i){var s,o,l,h,c=r[e],d=r[e].elements;if(!c)return a&&console.error("streaming.render","Invalid data for symbol "+e),!1;if(h="0,0."+Array(c.decimals+1).join("0"),t(document.body).trigger("feedstreaming:render",{symbol:e,changes:i,feedData:r[e]}),s=r[e].elements,a&&console.log("instrument.render",e,i),void 0!==i.volume&&n.highlight(s.volume,i.volume,"0,0"),void 0!==i.tradeTime&&n.highlight(s.lastTradeDatetime,i.lastTradeDatetime,"0,0"),void 0!==i.last&&(n.highlight(s.last,i.last,h,{way:i.instantVariation}),i.variation<0?s.variation.addClass("u-color-stream-down").removeClass("u-color-stream-up"):i.variation>0?s.variation.addClass("u-color-stream-up").removeClass("u-color-stream-down"):s.variation.removeClass("u-color-stream-up").removeClass("u-color-stream-down"),n.highlight(s.variation,i.variation,"+0.00%",{way:i.instantVariation})),void 0!==i.high&&n.highlight(s.high,i.high,h),void 0!==i.low&&n.highlight(s.low,i.low,h),i.transactions.length){if(!s.lastTransactions)return;var u,p=s.lastTransactions.find("div.data-instrument-currency-symbol"),f=i.transactions.slice(0);for(p=void 0===p?"€":p.text();o=f.shift();)a&&console.log("streaming.add_transaction",o),(u=(l=s.lastTransactions.find("tbody")).find("[data-ist-transaction]:first").clone()).find("[data-ist-transaction-date]").html(o.lastTradeDatetime),u.find("[data-ist-transaction-volume]").html(numeral(o.tradeVolume).format()),u.find("[data-ist-transaction-value]").html(numeral(o.last).format(h)),l.prepend(u),u.length&&t(document).trigger("load",u);t(document).trigger("feedstreaming:addtransactions",i.transactions),t(s.lastTransactions).trigger("feedstreaming:update",i.transactions)}return i.orderbook&&i.orderbook.length&&(n.computeSumForOrderbook(e),d.orderbook.each(function(){var e=t(this);v.forEach(function(t){var a=y(t),s=t.match(/price/i)?h:"0,0";Object.keys(i.orderbook).forEach(function(i){var o=e.find("[data-ist-orderbook-lines] tr:eq("+i+"), [data-ist-orderbook-line]:eq("+i+")");"MX"!=c.orderbook.lines[i][a]&&c.orderbook.lines[i][a]||(s=!1),n.highlight(o.find("[data-ist-"+t+"]"),c.orderbook.lines[i][a],s)}),n.highlight(e.find("[data-ist-summary-"+t+"]"),c.orderbook.summary[a],s)})}),t(document).trigger("feedstreaming:updateorderbook",c.orderbook),t(d.orderbook).trigger("feedstreaming:update",c.orderbook)),i.lastTradeDatetime&&n.highlight(s.lastTradeDatetime,moment(i.lastTradeDatetime).format("DD/MM/YYYY HH:mm:ss")),!0},n.highlight=function(e,i,n,a){var o,r=s.highlightClass;return(a=a||{}).way>0?(r+="-up",o="buy"):a.way<0?(r+="-down",o="sell"):o="neutral",n&&(i=numeral(i).format(n)),a.suffix&&(i+=""+suffix),e.previousValue!=i&&(e.previousValue=i,t([]).add(document).add(e).trigger("feedstreaming:highlight",{elements:t(e),value:i,format:n,infos:a,changeSide:o}),e.addClass(r),window.setTimeout(function(){e.removeClass(r)},400),e.html(i),!0)},n.stop=function(e){return"ACCESS_DENIED"===e?(i=t.Deferred(),n.isConnected()&&(o=!0,n.socket.close(),i.resolve("stop")),n.cleanup(),t(document).trigger("streaming:access_denied"),i):(console.info("streaming.stop"),i=t.Deferred(),n.isConnected()?(o=!0,n.socket.close(),i.resolve("stop")):i.resolve("connected"),n.cleanup(),i)},n.cleanup=function(){e=t.Deferred(),l={},d.forEach(function(t){t&&window.clearInterval(t)})},n.send=function(t,e){if(!o)return a&&console.log("streaming.send",{channel:t,data:e}),n.start(!0).then(function(i,n){i.send(JSON.stringify({channel:t,user:e.connection,data:e}))})},n.getBookChannelId=function(t){return"#book"+t.exchangeCode+"-"+t.symbol},n.getLiveChannelId=function(t){return"#live"+t.exchangeCode+"-"+t.symbol},n.joinChannel=function(t){return!l[t]&&(l[t]=!0,n.send("feed.streaming.join",{connection:n.getToken(),feed:t}),!0)},n.computeSumForOrderbook=function(t){var e=r[t].orderbook.summary,i=r[t].orderbook.lines;return Object.keys(e).forEach(function(t){e[t]=0}),i.forEach(function(t,i){Object.keys(t).forEach(function(i){e[i]+=t[i]})}),e},n.registerInstrument=function(e,i){if(i=i||{},e&&"string"==typeof e){if(r[e]=r[e]||{instantVariation:0,lastTradeDatetime:0,orderbook:{lines:[],summary:{askPrice:0,askQuantity:0,askSize:0,bidSize:0,bidQuantity:0,bidPrice:0}},transactions:[],isStreamingLive:!1,isStreamingBook:!1},r[e].elements||(r[e].elements=b.reduce(function(e,i){return e[y(i)]=t([]),e},{})),t(document).trigger("feedstreaming:registerinstrument",i),t.each({previousClose:"prevClose",totalVolume:"volume",tradeDate:"lastTradeDatetime"},function(t,e){i[e]=void 0!==i[t]?i[t]:i[e]}),i.symbol=e,i.exchangeCode=""+i.exchangeCode,!i.exchangeCode)throw new Error("Invalid exhangeCode",i);i.prevClose=parseFloat(i.prevClose),i.last=parseFloat(i.last),i.high=parseFloat(i.high),i.low=parseFloat(i.low),i.variation=parseFloat(i.variation),i.factor=parseFloat(i.factor),i.decimals=parseInt(i.decimals,10),i.orderbook=i.orderbook||{lines:[]};var s=function(t){v.forEach(function(e){var i=y(e);t[i]=parseFloat(t[i])})};i.orderbook.lines.forEach(function(t){s(t)}),i.orderbook.summary&&s(i.orderbook.summary),i.orderbook=Object.assign(r[e].orderbook,i.orderbook),i.transactions=Object.assign(r[e].transactions,i.transactions),t.extend(r[e],i),n.computeSumForOrderbook(e),a&&console.log("streaming.register",e,r[e])}else console.error("streaming","invalid symbol")},n.register=function(i,s){console.log("streaming.register",i||document.body,s),$doc=t(i?i:document.body),(s=s||[]).forEach||(s=Object.keys(s).map(function(t){return s[t].symbol=t,s[t]})),s.forEach(function(t){n.registerInstrument(t.symbol,t)}),a&&console.log("streaming.register",Object.keys(r),"in element",i||document.body),Object.keys(r).forEach(function(t){n.findListeners($doc,t)}),Object.keys(r).forEach(function(t){var i=r[t];i.isStreamingLive||e.then(function(){a&&console.log("streaming.channel","start live streaming",n.getLiveChannelId(i)),i.isStreamingLive=!0,n.joinChannel(n.getLiveChannelId(i))}),!i.isStreamingBook&&i.elements.orderbook&&i.elements.orderbook.length&&e.then(function(){a&&console.log("streaming.channel","start book streaming",n.getLiveChannelId(i)),i.isStreamingBook=!0,n.joinChannel(n.getBookChannelId(i))})})},n.escapeSymbol=function(t){return t.replace(/[^a-z0-9A-Z]/g,"_")},n.findListeners=function(e,i){var a=r[i].elements;$doc.data("feed-streaming:listeners:"+i)||($doc.data("feed-streaming:listeners:"+i,!0),e=t(e),symb=n.escapeSymbol(i),b.forEach(function(i){var n=y(i);a[n]=t.merge(t(a[n]),e.find([".ist__"+i+".ist__"+symb,'[data-ist="'+symb+'"] [data-ist-'+i+"]",'[data-ist="'+symb+'"][data-ist-'+i+"]"].join(", ")))}))},n.getToken=function(){return{login:s.login,password:s.password}},n.isListeningTo=function(t){return!!r[t]},n.getOptions=function(){return s},n.onMessage=function(e,i){if(t(document.body).trigger("feedstreaming:message",{channel:e,message:i}),"feed.streaming.access_denied"===e&&this.stop("ACCESS_DENIED"),"feed.streaming.error"===e&&t(document).trigger("feedstreaming:connection_timeout"),"feed.streaming.message"==e)if(n.isListeningTo(i.symbol)){if(a&&console.log("streaming.instrument.onmessage",i.symbol,i.type,i.data),"live"==i.type){s=n.computeLive(i.symbol,i.data);n.bufferedRendering(i.symbol,s)}if("book"==i.type){var s=n.computeBook(i.symbol,i.data);n.bufferedRendering(i.symbol,s)}}else a&&console.log("streaming.message.notListenedSymbol",e,":",i);else a&&console.log("streaming.message",e,":",i)},n.sendMessageToRoom=function(t,e){n.start(!0).then(function(){n.send("streaming.amq.message",{route:t,message:e})})},n.joinRoom=function(t){h[t]=!0,n.send("streaming.amq.join",{route:t})},n.setUserIdle=function(t){(t=!!t)!==f&&(f=!!t,t&&n.isConnected()?(console.log("streaming.sleep"),n.stop()):t||n.isConnected()||(console.log("streaming.wakeup"),n.start()))},n.restart=function(){return console.info("streaming.restart"),n.stop().then(function(){return n.start()}).then(function(){n.register()})},n.start=function(l){var c;return c=s.uri,n.isConnected()?e:Object.keys(r).length||Object.keys(h).length||l?(console.info("streaming.start",c,s),d.push(window.setInterval(function(){n.intradayRenderingLoop()},6e4)),n.socket=n.transport=new WebSocket(c,"echo-protocol"),i=t.Deferred(),s.login||s.password||(s.bufferedRenderingLoopDelay=1e3*(a?10:45)),n.socket.onopen=function(){console.info("streaming.connected"),t.each(r,function(t,e){e.isStreamingBook=e.isStreamingLive=!1}),Object.keys(h).forEach(function(t){n.joinRoom(t)}),o=!1,n.socket&&(n.socket.onmessage=function(t){var i;n.debug&&console.log(t.data);try{i=JSON.parse(t.data)}catch(t){return void console.error(t)}"function"!=typeof i.forEach&&(i=[i]),i.forEach(function(t){"streaming.infos.welcome"===t.channel&&e.resolve(n.socket,t.data),n.onMessage(t.channel,t.data||t.body)})})},n.socket.onclose=function(){console.info("streaming.disconnected"),n.socket=null,o||setTimeout(function(){n.restart()},s.restartDelay),n.cleanup(),i.resolve("closed"),t.each(r,function(t,e){e.isStreamingLive=e.isStreamingBook=!1})},e.then(function(){n.register()}),e):(a&&console.log("streaming","no feeds to listen to, delay start"),setTimeout(function(){n.start()},s.restartDelay),e)},n.feeds=r,n.setupIdleWatchers=function(){var t;u||(t=function(t){p=0,f&&n.setUserIdle(!1)},u=setInterval(function(){p+=1e3,(document.hidden&&p>=s.idleInBackgroundThreshold||p>=s.idleThreshold)&&n.setUserIdle(!0)},1e3),["touchstart","touchmove","mousemove","keypress"].forEach(function(e){document.addEventListener(e,t)}),document.addEventListener("visibilitychange",function(){document.hidden?p=0:t()},!1))},t.feedStreaming=function(i){var o=Array.prototype.slice.call(arguments,1);switch("object"==typeof i&&(s=t.extend(s,i)),n.setupIdleWatchers(),e||(e=t.Deferred()),i){case"register":n.register.apply(null,o);break;case"feeds":return r;case"listeners":return c;case"debug":return void 0===o[0]?a:(a=!!o[0],sessionStorage.setItem("feedStreaming:debug",0+a),n);case"stop":return n.stop(),n}return n}}(jQuery),$(function(){var t=function(){},e=BRS_CONFIG.debug?console:{info:t,warn:t,log:t,trace:t,error:t},i="feedStreaming:disabled",n=!!sessionStorage.getItem(i),a=$(document).find(".c-faceplate__actions--streaming .c-switch__checkbox");if(window.WebSocket){n?a.removeAttr("checked"):a.attr("checked","checked");var s=function(){a.length?a.is(":checked")?($.feedStreaming().start(),sessionStorage.removeItem(i)):($.feedStreaming().stop(),sessionStorage.setItem(i,1)):n?$.feedStreaming().stop():$.feedStreaming().start()};$(document).on("feedstreaming:connection_timeout",function(){$.feedStreaming().stop().then(function(){setTimeout(function(){$.feedStreaming().start()},5e3)})}),$(document).on("streaming:access_denied",function(){$.feedStreaming().stop().then(function(){$.ajax({url:"/streaming/bootstrap",context:document.body,success:function(t){$.feedStreaming(t.config),setTimeout(function(){$.feedStreaming().start()},5e3)}})})}),$(document).on("load",function(t,e){$.ajax({url:"/streaming/bootstrap",context:document.body,success:function(t){$.feedStreaming(t.config),setTimeout(function(){var t=$(e).find("[data-feed-streaming-registry]:last").data("feedStreamingRegistry")||{};$(e).find("[data-ist-init]").each(function(e,i){data=$(i).data("istInit"),t[data.symbol]=$.extend({},t[data.symbol],data)}),$.feedStreaming("register",e,t),a.on("change",s),s()},t.config.startOffset)}})})}else e.warn("feed.streaming","WebSocket not available, streaming require WebSocket, stop")}),$(document).on("load",function(t,e){function i(){$(e).find("[data-ellipsis-multiline]").each(function(){void 0!==$(this).data("jqueryTruncate")&&($(this).truncate("expand"),$(this).removeData("jqueryTruncate"));var t=$(this),e=Math.ceil(parseFloat(t.data("ellipsis-multiline"))*parseFloat(t.css("line-height")));$(this).truncate({maxHeight:e})})}if($(e).find("[data-custom-scroll]").brsCustomScroll(),$(e).find("[data-ultimedia-video-player]").ultimediaVideoPlayer(),$(e).find("[data-alert]").brsAlertEffect(),$(e).find("[data-filter-category]").brsCategoryFilter(),$(e).find("[data-brs-checkbox-filter]").brsCheckboxFilter(),$(e).find("[data-brs-video-theme-filter]").brsVideoThemeFilter(),$(e).find("[data-brs-play-video]").brsPlayVideo(),$(e).find("[data-autocomplete]").brsAutocomplete(),$(e).find("[data-portfolio-edit]").brsPortfolioLine(),$(e).find("[data-lists-edit]").brsListLine(),$(e).find("[data-carousel]").brsCarousel(),$(e).find("[data-brs-sly]").brsSly(),$(e).find("[data-table-compare]").tableCompare(),$(e).find("[data-table-stack]").stackcolumns(),$(e).find("[data-off-canvas]").brsOffCanvas(),$(e).brsFlashes({showAlertsOn:$(e).find("[data-flash-messages]")}),$(e).find("[data-exclude-parameters]").each(function(){$(this).brsExcludeParameters()}),$(e).find("[data-off-canvas-trigger]").click(function(t){$(e).find('[data-off-canvas="'+$(this).data("offCanvasTrigger")+'"]').trigger("brsOffCanvas:toggle",this),t.preventDefault()}),$(e).find('[data-porthole="complete"]').porthole(),$(e).find("[data-select]").selectability(),$(e).find(".js-shadow-overflow").brsShadowOverflow(),$(e).find("[data-show-hide-select]").brsShowHideSelect(),$(e).find("[data-toggle-display]").click(function(){$(e).find("#"+$(this).data("toggleDisplay")).toggleClass("u-hidden")}),$(e).find("[data-submenubar]").brsSubMenuBar(),$(e).find("[data-table-fixed-column]").tableFixedColumn(),$(e).find("[data-table-flip]").tableFlip(),$(e).find("[data-tabs]").brsTabs({shadow:!0}),$(e).find('[data-toggle="tooltip"]').tooltip(),$(e).find("[data-brs-letter]").click(function(){var t=$(e).find($(this).data("brsLetterInputSelector"));t.val($(this).data("brsLetter")),t.closest("form").submit()}),$(e).find("[data-parity]").currenciesParity(),$(e).find("[data-brs-profile]").click(function(){var t=$(this).data("brsProfile");window.location="/espace-membres/profil/"+t}),$(e).find("[data-brs-sort-column]").brsSortableColumn(),$(e).find("[data-show-more]").ellipsisShowMore(),$(e).find("[data-radio-removable-check]").brsRadioRemovableCheck(),$(e).find("[data-load-more]").each(function(){$(this).loadMore()}),$(e).find("[data-radio-filter]").each(function(){$(this).radioFilter()}),$(e).find("[data-refreshable]").refreshable(),$(e).find("[data-refreshable-trigger]").each(function(){var t=$(this).data("refreshableTrigger"),e=$(this).data("refreshableUrl"),i=$(this).data("refreshableMethod"),n=$(this).data("refreshableSerializeTarget"),a='[data-refreshable-id="'+$(this).data("refreshableTarget")+'"]';$(this).on(t,function(s){if("click"!==t&&"submit"!==t||s.preventDefault(),void 0!==e&&$(a).data("plugin_refreshable").setUrl(e),void 0!==i&&$(a).data("plugin_refreshable").setMethod(i),"submit"===t)return $(a).data("plugin_refreshable").setUrl($(this).attr("action")).setMethod($(this).attr("method")).load($(this).serialize()),!1;var o=void 0!==n?$(n).serialize():$(this).val();$(a).data("plugin_refreshable").load(o)})}),$(e).find("[data-search-bar]").brsSearchBar(),$(e).find("[data-search-input]").brsSearch({ajaxSearchUrl:"/recherche/ajax",searchUrl:"/recherche/"}),$(e).find("[data-brs-comment]").brsComment(),$(e).find("[data-brs-tabs-chart]").brsTabsChart(),$(e).find("[data-brs-home-chart-tabs]").on("click",function(t){var e=$(this).data("brsHomeChartTabs"),i=$("[data-homepage-chart]"),n=$('[data-homepage-chart="'+e+'"]');i.css("opacity",0),n.css("opacity",1),$("[data-brs-home-chart-tabs]").removeClass("is-active"),$(this).addClass("is-active")}),$(e).find("[data-editable]").editable(),$(e).find("[data-editable-toggle-target]").click(function(t){t.stopPropagation(),$($(this).data("editableToggleTarget")).editable("toggle")}),$(e).find("[data-bookmark]").each(function(){$(this).bookmark()}),$(e).find("[data-select-sortable]").select2Sortable(),$.extend($.fn.select2.defaults,$.fn.select2.locales.fr),$(e).find("[data-porthole='partial']").length>0){$(e).find("tr:not('[data-target]')").find("[data-gauge]").porthole().brsGauge(),$(e).on("showPortholeEvent",function(t,e){$(window).trigger("scroll"),e.find("[data-gauge]").porthole().brsGauge()})}else $(e).find("[data-gauge]").brsGauge(),$(window).trigger("scroll");$(e).scrollTop($("[data-scroll-onload]").offset().top),$(e).find("[data-table-sorter]").tablesorter({cssHeader:"c-table--sorted",cssDesc:"c-table--sorted-desc",cssAsc:"c-table--sorted-asc",textExtraction:function(t){var e=$(t).data("sortValue");return void 0!==e&&""!==e?$(t).data("sortValue"):$(t).text()}}),$(e).find("[data-partners-newsletter-form]").brsNewsletterSubscription(),$.fn.brsOrderFrame.defaults=$.extend(!0,{},$.fn.brsOrderFrame.defaults,{config:{apiEnv:window.BRS_CONFIG.API_ENV,apiHost:window.BRS_CONFIG.API_HOST,apiPath:window.BRS_CONFIG.API_PATH,enableProfiler:window.BRS_CONFIG.ENABLE_PROFILER,portalHost:window.location.host,env:window.BRS_CONFIG.DEBUG?"development":"production",customerWebsiteHost:window.BRS_CONFIG.app_customer_website_host,logLvl:window.BRS_CONFIG.DEBUG?"trace":"error",crashReport:window.BRS_CONFIG.CRASH_REPORT_AGENT},orderframeJSPath:window.BRS_CONFIG.orderframeJSPath,orderframeCSSPath:window.BRS_CONFIG.orderframeCSSPath}),$(e).find("[data-brs-order-frame-auto-app]").brsOrderFrame({config:{}}).on("brsOrderFrame:loaded",function(t,e){e.getApp().on("exit:app",function(){$('[data-off-canvas="off-canvas-orderframe"]').data("plugin_brsOffCanvas").close()}),$("[data-order-frame-trigger]").each(function(){var t=$(this).data("orderFrameTriggerApp"),e=$(this).data("orderFrameTrigger"),i=$("[data-brs-order-frame-app-id='"+t+"']").data("plugin_brsOrderFrame");switch(e){case"order":$(this).click(function(){var t=$(this).data("orderFrameTriggerOrderWay"),e=$(this).data("orderFrameTriggerOrderSymbol");i.getApp().goToOrder({symbol:e,side:t})})}})}),$(e).find("[data-brs-quote-chart]").on("order",function(t,i){var n=$(e).find("[data-brs-order-frame-auto-app]").data("plugin_brsOrderFrame").getApp();$(e).find('[data-off-canvas="off-canvas-orderframe"]').data("plugin_brsOffCanvas").open(),n.goToOrder(i.order)}),i(),$(window).smartresize(i),$.fn.datepicker.dates.fr={days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],daysMin:["D","L","M","M","J","V","S"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan","Fev","Mar","Avr","Mai","Jun","Jui","Aoû","Sep","Oct","Nov","Dec"],today:"Aujourd'hui",clear:"Effacer",format:"dd/mm/yyyy",titleFormat:"MM yyyy",weekStart:1},$(e).find("[data-brs-datepicker]").datepicker({language:"fr",orientation:"bottom",maxViewMode:0,autoclose:!0,container:"[data-datepicker-portal-container]",templates:{leftArrow:'<i class="c-icon c-icon--bold-arrow-left / datepicker-icon"></i>',rightArrow:'<i class="c-icon c-icon--bold-arrow-right / datepicker-icon"></i>'}}),$(e).find("[data-crop-image]").cropper({crop:function(t){var e=$(this).closest("[data-crop-container]");e.find("[data-crop='x']").val(Math.round(t.x)),e.find("[data-crop='y']").val(Math.round(t.y)),e.find("[data-crop='w']").val(Math.round(t.width)),e.find("[data-crop='h']").val(Math.round(t.height))},viewMode:1,aspectRatio:1,dragMode:"move",restore:!1,background:!1,guides:!1,highlight:!1,rotatable:!1,checkCrossOrigin:!1});$("[data-show], [data-hide]")!=[]&&$(e).showHideDataTarget(),$(e).find("[data-sticky-kit]").bindStickyKit(),$(e).find("[data-brs-showable-password]").brsShowablePassword(),$(e).find("[data-hide-on-click]").bind("click",function(){$(e).find($(this).data("hideOnClick")).fadeOut("fast")})}),$(function(){function t(){function t(){var t=a.scrollTop(),i=t>o?"down":t===o?"none":"up";o=t,n<=t?"down"===i||0===n&&0===t&&"none"===i?e.addClass("is-shown"):"up"==i&&e.removeClass("is-shown"):e.removeClass("is-shown")}if(window.matchMedia("(max-width: 1000px)").matches){var o=a.scrollTop();s.addClass("js-sticky-market-value-spacing"),i.length>0&&(n=i.offset().top+i.height()),t(),a.on("scroll.sticky-market-value",t)}else s.removeClass("js-sticky-market-value-spacing"),e.removeClass("is-shown"),a.off("scroll.sticky-market-value")}$("[data-show-table], [data-hide-table]")!=[]&&$(document).showHideTable();var e=$("[data-sticky-market-value]"),i=$("[data-faceplate]"),n=0,a=$(document),s=$("body");e.length>0&&(t(),$(window).smartresize(t)),$("[data-modal]").each(function(){var t=$(this),e=$("[data-modal-background]"),i=$(this).data("modal-id")+"-modal-trigger";t.marypopin({beforeOpen:function(){t.trigger("modal-opened"),e.show(),setTimeout(function(){e.addClass("is-visible")},0)},beforeClose:function(){e.removeClass("is-visible"),setTimeout(function(){e.hide()},1e3)},afterClose:function(){"is-ajax"==$("[data-modal-behavior = "+i+"]").data("modal-type")&&t.find("[data-modal-ajax-content]").empty()},closeSelector:"[data-modal-close]",position:"top"}),$(document).on("click","[data-modal-behavior="+i+"]",function(i){i.preventDefault(),e.children().css({left:i.clientX,top:i.clientY}),"is-ajax"==$(this).data("modal-type")?$.get($(this).data("modal-url"),function(e){e.redirect?window.location.href=e.redirect:(html=$($.parseHTML(e)),modalSelector=$(this).data("modal-selector"),void 0!==modalSelector&&(html=html.filter(modalSelector)),t.find("[data-modal-ajax-content]").html(html),$(document).trigger("load",t),t.marypopin("open"))}.bind(this)):t.marypopin("open")}),void 0!==t.data("modalOpenByDefault")&&t.marypopin("open")}),$("[data-modal-back]").click(function(t){t.preventDefault(),url=$(this).data("modalBack"),"undefined"!==url&&""!==url&&(window.location.href=url)}),$("[data-redirect]").on("click",function(){window.location.href=$(this).attr("data-redirect")}),$("[data-redirect-new-tab]").on("click",function(){window.open($(this).attr("data-redirect-new-tab"),"_blank")}),$(document).find("[data-tabs-link]").on("tab:click",function(t){t.preventDefault();var e=$($(t.currentTarget).attr("href")).find("[data-table-flip]");if(e.length>0){var i=e.data("plugin_tableFlip");void 0!==i&&(i.unshapeTable(),i.init())}}),window.testSentryErrors=function(t){throw t}});
//# sourceMappingURL=foot_c935c505e2feae182fb6eb97ca41ab2b.js.map
